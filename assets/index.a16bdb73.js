(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))f(T);new MutationObserver(T=>{for(const E of T)if(E.type==="childList")for(const n of E.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&f(n)}).observe(document,{childList:!0,subtree:!0});function s(T){const E={};return T.integrity&&(E.integrity=T.integrity),T.referrerpolicy&&(E.referrerPolicy=T.referrerpolicy),T.crossorigin==="use-credentials"?E.credentials="include":T.crossorigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function f(T){if(T.ep)return;T.ep=!0;const E=s(T);fetch(T.href,E)}})();var Fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Up={exports:{}};(function(i,t){(function(f,T){i.exports=T()})(Fx,()=>(()=>{var s={50792:n=>{var C=Object.prototype.hasOwnProperty,e="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(e=!1));function x(r,l,v){this.fn=r,this.context=l,this.once=v||!1}function d(r,l,v,h,c){if(typeof v!="function")throw new TypeError("The listener must be a function");var p=new x(v,h||r,c),g=e?e+l:l;return r._events[g]?r._events[g].fn?r._events[g]=[r._events[g],p]:r._events[g].push(p):(r._events[g]=p,r._eventsCount++),r}function o(r,l){--r._eventsCount===0?r._events=new u:delete r._events[l]}function a(){this._events=new u,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],v,h;if(this._eventsCount===0)return l;for(h in v=this._events)C.call(v,h)&&l.push(e?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(v)):l},a.prototype.listeners=function(l){var v=e?e+l:l,h=this._events[v];if(!h)return[];if(h.fn)return[h.fn];for(var c=0,p=h.length,g=new Array(p);c<p;c++)g[c]=h[c].fn;return g},a.prototype.listenerCount=function(l){var v=e?e+l:l,h=this._events[v];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,v,h,c,p,g){var m=e?e+l:l;if(!this._events[m])return!1;var y=this._events[m],S=arguments.length,M,P;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),S){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,v),!0;case 3:return y.fn.call(y.context,v,h),!0;case 4:return y.fn.call(y.context,v,h,c),!0;case 5:return y.fn.call(y.context,v,h,c,p),!0;case 6:return y.fn.call(y.context,v,h,c,p,g),!0}for(P=1,M=new Array(S-1);P<S;P++)M[P-1]=arguments[P];y.fn.apply(y.context,M)}else{var w=y.length,R;for(P=0;P<w;P++)switch(y[P].once&&this.removeListener(l,y[P].fn,void 0,!0),S){case 1:y[P].fn.call(y[P].context);break;case 2:y[P].fn.call(y[P].context,v);break;case 3:y[P].fn.call(y[P].context,v,h);break;case 4:y[P].fn.call(y[P].context,v,h,c);break;default:if(!M)for(R=1,M=new Array(S-1);R<S;R++)M[R-1]=arguments[R];y[P].fn.apply(y[P].context,M)}}return!0},a.prototype.on=function(l,v,h){return d(this,l,v,h,!1)},a.prototype.once=function(l,v,h){return d(this,l,v,h,!0)},a.prototype.removeListener=function(l,v,h,c){var p=e?e+l:l;if(!this._events[p])return this;if(!v)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===v&&(!c||g.once)&&(!h||g.context===h)&&o(this,p);else{for(var m=0,y=[],S=g.length;m<S;m++)(g[m].fn!==v||c&&!g[m].once||h&&g[m].context!==h)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(l){var v;return l?(v=e?e+l:l,this._events[v]&&o(this,v)):(this._events=new u,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a},11517:(n,C,e)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(38829),x=function(d,o,a,r){for(var l=d[0],v=1;v<d.length;v++){var h=d[v];u(h,l,o,a,r),l=h}return d};n.exports=x},80318:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),x=function(d,o,a,r,l){return u(d,"angle",o,a,r,l)};n.exports=x},60757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){for(var d=0;d<e.length;d++){var o=e[d];u.call(x,o)}return e};n.exports=C},69927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){x===void 0&&(x=0);for(var d=x;d<e.length;d++){var o=e[d],a=!0;for(var r in u)o[r]!==u[r]&&(a=!1);if(a)return o}return null};n.exports=C},32265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){x===void 0&&(x=0);for(var d=e.length-1;d>=x;d--){var o=e[d],a=!0;for(var r in u)o[r]!==u[r]&&(a=!1);if(a)return o}return null};n.exports=C},94420:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(11879),x=e(60461),d=e(95540),o=e(29747),a=e(41481),r=new a({sys:{queueDepthSort:o,events:{once:o}}},0,0,1,1).setOrigin(0,0),l=function(v,h){h===void 0&&(h={});var c=h.hasOwnProperty("width"),p=h.hasOwnProperty("height"),g=d(h,"width",-1),m=d(h,"height",-1),y=d(h,"cellWidth",1),S=d(h,"cellHeight",y),M=d(h,"position",x.TOP_LEFT),P=d(h,"x",0),w=d(h,"y",0),R=0,A=0,L=g*y,F=m*S;r.setPosition(P,w),r.setSize(y,S);for(var O=0;O<v.length;O++)if(u(v[O],r,M),c&&g===-1)r.x+=y;else if(p&&m===-1)r.y+=S;else if(p&&!c){if(A+=S,r.y+=S,A===F&&(A=0,R+=y,r.y=w,r.x+=y,R===L))break}else if(R+=y,r.x+=y,R===L&&(R=0,A+=S,r.x=P,r.y+=S,A===F))break;return v};n.exports=l},41721:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),x=function(d,o,a,r,l){return u(d,"alpha",o,a,r,l)};n.exports=x},67285:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),x=function(d,o,a,r,l){return u(d,"x",o,a,r,l)};n.exports=x},9074:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),x=function(d,o,a,r,l,v,h){return a==null&&(a=o),u(d,"x",o,r,v,h),u(d,"y",a,l,v,h)};n.exports=x},75222:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),x=function(d,o,a,r,l){return u(d,"y",o,a,r,l)};n.exports=x},22983:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var o=x,a=(d-x)/e.length,r=u.x,l=u.y,v=u.radius,h=0;h<e.length;h++)e[h].x=r+v*Math.cos(o),e[h].y=l+v*Math.sin(o),o+=a;return e};n.exports=C},95253:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var o=x,a=(d-x)/e.length,r=u.width/2,l=u.height/2,v=0;v<e.length;v++)e[v].x=u.x+r*Math.cos(o),e[v].y=u.y+l*Math.sin(o),o+=a;return e};n.exports=C},88505:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15258),x=e(26708),d=function(o,a,r){var l;r?l=x(a,r,o.length):l=u(a,o.length);for(var v=0;v<o.length;v++){var h=o[v],c=l[v];h.x=c.x,h.y=c.y}return o};n.exports=d},41346:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14649),x=e(86003),d=e(49498),o=function(a,r,l){l===void 0&&(l=0);var v=u(r,!1,a.length);l>0?x(v,l):l<0&&d(v,Math.abs(l));for(var h=0;h<a.length;h++)a[h].x=v[h].x,a[h].y=v[h].y;return a};n.exports=o},11575:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84993),x=function(d,o,a){var r=u({x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},a),l=u({x1:o.x2,y1:o.y2,x2:o.x3,y2:o.y3},a),v=u({x1:o.x3,y1:o.y3,x2:o.x1,y2:o.y1},a);r.pop(),l.pop(),v.pop(),r=r.concat(l,v);for(var h=r.length/d.length,c=0,p=0;p<d.length;p++){var g=d[p],m=r[Math.floor(c)];g.x=m.x,g.y=m.y,c+=h}return d};n.exports=x},29953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){for(var d=0;d<e.length;d++){var o=e[d];o.anims&&o.anims.play(u,x)}return e};n.exports=C},66979:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o,a){d===void 0&&(d=0),o===void 0&&(o=0),a===void 0&&(a=1);var r,l=0,v=e.length;if(a===1)for(r=o;r<v;r++)e[r][u]+=x+l*d,l++;else for(r=o;r>=0;r--)e[r][u]+=x+l*d,l++;return e};n.exports=C},43967:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o,a){d===void 0&&(d=0),o===void 0&&(o=0),a===void 0&&(a=1);var r,l=0,v=e.length;if(a===1)for(r=o;r<v;r++)e[r][u]=x+l*d,l++;else for(r=o;r>=0;r--)e[r][u]=x+l*d,l++;return e};n.exports=C},88926:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28176),x=function(d,o){for(var a=0;a<d.length;a++)u(o,d[a]);return d};n.exports=x},33286:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(24820),x=function(d,o){for(var a=0;a<d.length;a++)u(o,d[a]);return d};n.exports=x},96e3:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65822),x=function(d,o){for(var a=0;a<d.length;a++)u(o,d[a]);return d};n.exports=x},28789:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26597),x=function(d,o){for(var a=0;a<d.length;a++)u(o,d[a]);return d};n.exports=x},97154:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90260),x=function(d,o){for(var a=0;a<d.length;a++)u(o,d[a]);return d};n.exports=x},20510:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),x=function(d,o,a,r,l){return u(d,"rotation",o,a,r,l)};n.exports=x},91051:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1163),x=e(20339),d=function(o,a,r){for(var l=a.x,v=a.y,h=0;h<o.length;h++){var c=o[h];u(c,l,v,r,Math.max(1,x(c.x,c.y,l,v)))}return o};n.exports=d},76332:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1163),x=function(d,o,a,r){var l=o.x,v=o.y;if(r===0)return d;for(var h=0;h<d.length;h++)u(d[h],l,v,a,r);return d};n.exports=x},61619:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),x=function(d,o,a,r,l){return u(d,"scaleX",o,a,r,l)};n.exports=x},94868:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),x=function(d,o,a,r,l,v,h){return a==null&&(a=o),u(d,"scaleX",o,r,v,h),u(d,"scaleY",a,l,v,h)};n.exports=x},95532:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66979),x=function(d,o,a,r,l){return u(d,"scaleY",o,a,r,l)};n.exports=x},8689:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l){return u(d,"alpha",o,a,r,l)};n.exports=x},2645:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r){return u(d,"blendMode",o,0,a,r)};n.exports=x},32372:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l){return u(d,"depth",o,a,r,l)};n.exports=x},85373:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){for(var d=0;d<e.length;d++)e[d].setInteractive(u,x);return e};n.exports=C},81583:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l,v,h){return a==null&&(a=o),u(d,"originX",o,r,v,h),u(d,"originY",a,l,v,h),d.forEach(function(c){c.updateDisplayOrigin()}),d};n.exports=x},79939:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l){return u(d,"rotation",o,a,r,l)};n.exports=x},2699:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l,v,h){return a==null&&(a=o),u(d,"scaleX",o,r,v,h),u(d,"scaleY",a,l,v,h)};n.exports=x},98739:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l){return u(d,"scaleX",o,a,r,l)};n.exports=x},98476:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l){return u(d,"scaleY",o,a,r,l)};n.exports=x},6207:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l,v,h){return a==null&&(a=o),u(d,"scrollFactorX",o,r,v,h),u(d,"scrollFactorY",a,l,v,h)};n.exports=x},6607:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l){return u(d,"scrollFactorX",o,a,r,l)};n.exports=x},72248:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l){return u(d,"scrollFactorY",o,a,r,l)};n.exports=x},14036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o){for(var a=0;a<e.length;a++)e[a].setTint(u,x,d,o);return e};n.exports=C},50159:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r){return u(d,"visible",o,0,a,r)};n.exports=x},77597:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l){return u(d,"x",o,a,r,l)};n.exports=x},83194:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l,v,h){return a==null&&(a=o),u(d,"x",o,r,v,h),u(d,"y",a,l,v,h)};n.exports=x},67678:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43967),x=function(d,o,a,r,l){return u(d,"y",o,a,r,l)};n.exports=x},35850:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r,l){r===void 0&&(r=0),l===void 0&&(l=new u);var v,h,c=d.length;if(c===1)v=d[0].x,h=d[0].y,d[0].x=o,d[0].y=a;else{var p=1,g=0;r===0&&(g=c-1,p=c-2),v=d[g].x,h=d[g].y,d[g].x=o,d[g].y=a;for(var m=0;m<c;m++)if(!(p>=c||p===-1)){var y=d[p],S=y.x,M=y.y;y.x=v,y.y=h,v=S,h=M,r===0?p--:p++}}return l.x=v,l.y=h,l};n.exports=x},8628:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33680),x=function(d){return u(d)};n.exports=x},21837:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7602),x=function(d,o,a,r,l){l===void 0&&(l=!1);var v=Math.abs(r-a)/d.length,h;if(l)for(h=0;h<d.length;h++)d[h][o]+=u(h*v,a,r);else for(h=0;h<d.length;h++)d[h][o]=u(h*v,a,r);return d};n.exports=x},21910:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54261),x=function(d,o,a,r,l){l===void 0&&(l=!1);var v=Math.abs(r-a)/d.length,h;if(l)for(h=0;h<d.length;h++)d[h][o]+=u(h*v,a,r);else for(h=0;h<d.length;h++)d[h][o]=u(h*v,a,r);return d};n.exports=x},62054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o){if(o===void 0&&(o=!1),e.length===0)return e;if(e.length===1)return o?e[0][u]+=(d+x)/2:e[0][u]=(d+x)/2,e;var a=Math.abs(d-x)/(e.length-1),r;if(o)for(r=0;r<e.length;r++)e[r][u]+=r*a+x;else for(r=0;r<e.length;r++)e[r][u]=r*a+x;return e};n.exports=C},79815:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){for(var u=0;u<e.length;u++)e[u].visible=!e[u].visible;return e};n.exports=C},39665:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15994),x=function(d,o,a){a===void 0&&(a=0);for(var r=0;r<d.length;r++){var l=d[r];l.x=u(l.x,o.left-a,o.right+a),l.y=u(l.y,o.top-a,o.bottom+a)}return d};n.exports=x},61061:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:e(11517),Angle:e(80318),Call:e(60757),GetFirst:e(69927),GetLast:e(32265),GridAlign:e(94420),IncAlpha:e(41721),IncX:e(67285),IncXY:e(9074),IncY:e(75222),PlaceOnCircle:e(22983),PlaceOnEllipse:e(95253),PlaceOnLine:e(88505),PlaceOnRectangle:e(41346),PlaceOnTriangle:e(11575),PlayAnimation:e(29953),PropertyValueInc:e(66979),PropertyValueSet:e(43967),RandomCircle:e(88926),RandomEllipse:e(33286),RandomLine:e(96e3),RandomRectangle:e(28789),RandomTriangle:e(97154),Rotate:e(20510),RotateAround:e(91051),RotateAroundDistance:e(76332),ScaleX:e(61619),ScaleXY:e(94868),ScaleY:e(95532),SetAlpha:e(8689),SetBlendMode:e(2645),SetDepth:e(32372),SetHitArea:e(85373),SetOrigin:e(81583),SetRotation:e(79939),SetScale:e(2699),SetScaleX:e(98739),SetScaleY:e(98476),SetScrollFactor:e(6207),SetScrollFactorX:e(6607),SetScrollFactorY:e(72248),SetTint:e(14036),SetVisible:e(50159),SetX:e(77597),SetXY:e(83194),SetY:e(67678),ShiftPosition:e(35850),Shuffle:e(8628),SmootherStep:e(21910),SmoothStep:e(21837),Spread:e(62054),ToggleVisible:e(79815),WrapInRectangle:e(39665)}},42099:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(74943),o=e(81957),a=e(41138),r=e(35154),l=e(90126),v=new x({initialize:function(c,p,g){this.manager=c,this.key=p,this.type="frame",this.frames=this.getFrames(c.textureManager,r(g,"frames",[]),r(g,"defaultTextureKey",null),r(g,"sortFrames",!0)),this.frameRate=r(g,"frameRate",null),this.duration=r(g,"duration",null),this.msPerFrame,this.skipMissedFrames=r(g,"skipMissedFrames",!0),this.delay=r(g,"delay",0),this.repeat=r(g,"repeat",0),this.repeatDelay=r(g,"repeatDelay",0),this.yoyo=r(g,"yoyo",!1),this.showBeforeDelay=r(g,"showBeforeDelay",!1),this.showOnStart=r(g,"showOnStart",!1),this.hideOnComplete=r(g,"hideOnComplete",!1),this.randomFrame=r(g,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(d.PAUSE_ALL,this.pause,this),this.manager.on(d.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(h,c,p,g){p===null&&g===null?(h.frameRate=24,h.duration=24/c*1e3):p&&g===null?(h.duration=p,h.frameRate=c/(p/1e3)):(h.frameRate=g,h.duration=c/g*1e3),h.msPerFrame=1e3/h.frameRate},addFrame:function(h){return this.addFrameAt(this.frames.length,h)},addFrameAt:function(h,c){var p=this.getFrames(this.manager.textureManager,c);if(p.length>0){if(h===0)this.frames=p.concat(this.frames);else if(h===this.frames.length)this.frames=this.frames.concat(p);else{var g=this.frames.slice(0,h),m=this.frames.slice(h);this.frames=g.concat(p,m)}this.updateFrameSequence()}return this},checkFrame:function(h){return h>=0&&h<this.frames.length},getFirstTick:function(h){h.accumulator=0,h.nextTick=h.currentFrame.duration?h.currentFrame.duration:h.msPerFrame},getFrameAt:function(h){return this.frames[h]},getFrames:function(h,c,p,g){g===void 0&&(g=!0);var m=[],y,S,M=1,P,w;if(typeof c=="string"){if(w=c,!h.exists(w))return console.warn('Texture "%s" not found',w),m;var R=h.get(w),A=R.getFrameNames();g&&l(A),c=[],A.forEach(function(I){c.push({key:w,frame:I})})}if(!Array.isArray(c)||c.length===0)return m;for(P=0;P<c.length;P++){var L=c[P],F=r(L,"key",p);if(!!F){var O=r(L,"frame",0),b=h.getFrame(F,O);if(!b){console.warn('Texture "%s" not found',F);continue}S=new a(F,O,M,b),S.duration=r(L,"duration",0),S.isFirst=!y,y&&(y.nextFrame=S,S.prevFrame=y),m.push(S),y=S,M++}}if(m.length>0){S.isLast=!0,S.nextFrame=m[0],m[0].prevFrame=S;var B=1/(m.length-1);for(P=0;P<m.length;P++)m[P].progress=P*B}return m},getNextTick:function(h){h.accumulator-=h.nextTick,h.nextTick=h.currentFrame.duration?h.currentFrame.duration:h.msPerFrame},getFrameByProgress:function(h){return h=u(h,0,1),o(h,this.frames,"progress")},nextFrame:function(h){var c=h.currentFrame;c.isLast?h.yoyo?this.handleYoyoFrame(h,!1):h.repeatCounter>0?h.inReverse&&h.forward?h.forward=!1:this.repeatAnimation(h):h.complete():this.updateAndGetNextTick(h,c.nextFrame)},handleYoyoFrame:function(h,c){if(c||(c=!1),h.inReverse===!c&&h.repeatCounter>0){(h.repeatDelay===0||h.pendingRepeat)&&(h.forward=c),this.repeatAnimation(h);return}if(h.inReverse!==c&&h.repeatCounter===0){h.complete();return}h.forward=c;var p=c?h.currentFrame.nextFrame:h.currentFrame.prevFrame;this.updateAndGetNextTick(h,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(h){var c=h.currentFrame;c.isFirst?h.yoyo?this.handleYoyoFrame(h,!0):h.repeatCounter>0?h.inReverse&&!h.forward?this.repeatAnimation(h):(h.forward=!0,this.repeatAnimation(h)):h.complete():this.updateAndGetNextTick(h,c.prevFrame)},updateAndGetNextTick:function(h,c){h.setCurrentFrame(c),this.getNextTick(h)},removeFrame:function(h){var c=this.frames.indexOf(h);return c!==-1&&this.removeFrameAt(c),this},removeFrameAt:function(h){return this.frames.splice(h,1),this.updateFrameSequence(),this},repeatAnimation:function(h){if(h._pendingStop===2){if(h._pendingStopValue===0)return h.stop();h._pendingStopValue--}h.repeatDelay>0&&!h.pendingRepeat?(h.pendingRepeat=!0,h.accumulator-=h.nextTick,h.nextTick+=h.repeatDelay):(h.repeatCounter--,h.forward?h.setCurrentFrame(h.currentFrame.nextFrame):h.setCurrentFrame(h.currentFrame.prevFrame),h.isPlaying&&(this.getNextTick(h),h.handleRepeat()))},toJSON:function(){var h={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(c){h.frames.push(c.toJSON())}),h},updateFrameSequence:function(){for(var h=this.frames.length,c=1/(h-1),p,g=0;g<h;g++)p=this.frames[g],p.index=g+1,p.isFirst=!1,p.isLast=!1,p.progress=g*c,g===0?(p.isFirst=!0,h===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[h-1],p.nextFrame=this.frames[g+1])):g===h-1&&h>1?(p.isLast=!0,p.prevFrame=this.frames[h-2],p.nextFrame=this.frames[0]):h>1&&(p.prevFrame=this.frames[g-1],p.nextFrame=this.frames[g+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(d.PAUSE_ALL,this.pause,this),this.manager.off(d.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var h=0;h<this.frames.length;h++)this.frames[h].destroy();this.frames=[],this.manager=null}});n.exports=v},41138:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r,l,v){v===void 0&&(v=!1),this.textureKey=o,this.textureFrame=a,this.index=r,this.frame=l,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});n.exports=x},60848:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42099),x=e(83419),d=e(90330),o=e(50792),a=e(74943),r=e(8443),l=e(95540),v=e(35154),h=e(36383),c=e(20283),p=e(41836),g=new x({Extends:o,initialize:function(y){o.call(this),this.game=y,this.textureManager=null,this.globalTimeScale=1,this.anims=new d,this.mixes=new d,this.paused=!1,this.name="AnimationManager",y.events.once(r.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(r.DESTROY,this.destroy,this)},addMix:function(m,y,S){var M=this.anims,P=this.mixes,w=typeof m=="string"?m:m.key,R=typeof y=="string"?y:y.key;if(M.has(w)&&M.has(R)){var A=P.get(w);A||(A={}),A[R]=S,P.set(w,A)}return this},removeMix:function(m,y){var S=this.mixes,M=typeof m=="string"?m:m.key,P=S.get(M);if(P)if(y){var w=typeof y=="string"?y:y.key;P.hasOwnProperty(w)&&delete P[w]}else y||S.delete(M);return this},getMix:function(m,y){var S=this.mixes,M=typeof m=="string"?m:m.key,P=typeof y=="string"?y:y.key,w=S.get(M);return w&&w.hasOwnProperty(P)?w[P]:0},add:function(m,y){return this.anims.has(m)?(console.warn("Animation key exists: "+m),this):(y.key=m,this.anims.set(m,y),this.emit(a.ADD_ANIMATION,m,y),this)},exists:function(m){return this.anims.has(m)},createFromAseprite:function(m,y,S){var M=[],P=this.game.cache.json.get(m);if(!P)return console.warn("No Aseprite data found for: "+m),M;var w=this,R=v(P,"meta",null),A=v(P,"frames",null);if(R&&A){var L=v(R,"frameTags",[]);L.forEach(function(F){var O=[],b=l(F,"name",null),B=l(F,"from",0),I=l(F,"to",0),N=l(F,"direction","forward");if(!!b&&(!y||y&&y.indexOf(b)>-1)){for(var X=0,k=B;k<=I;k++){var H=k.toString(),V=A[H];if(V){var W=l(V,"duration",h.MAX_SAFE_INTEGER);O.push({key:m,frame:H,duration:W}),X+=W}}N==="reverse"&&(O=O.reverse());var D={key:b,frames:O,duration:X,yoyo:N==="pingpong"},G;S?S.anims&&(G=S.anims.create(D)):G=w.create(D),G&&M.push(G)}})}return M},create:function(m){var y=m.key,S=!1;return y&&(S=this.get(y),S?console.warn("AnimationManager key already exists: "+y):(S=new u(this,y,m),this.anims.set(y,S),this.emit(a.ADD_ANIMATION,y,S))),S},fromJSON:function(m,y){y===void 0&&(y=!1),y&&this.anims.clear(),typeof m=="string"&&(m=JSON.parse(m));var S=[];if(m.hasOwnProperty("anims")&&Array.isArray(m.anims)){for(var M=0;M<m.anims.length;M++)S.push(this.create(m.anims[M]));m.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=m.globalTimeScale)}else m.hasOwnProperty("key")&&m.type==="frame"&&S.push(this.create(m));return S},generateFrameNames:function(m,y){var S=v(y,"prefix",""),M=v(y,"start",0),P=v(y,"end",0),w=v(y,"suffix",""),R=v(y,"zeroPad",0),A=v(y,"outputArray",[]),L=v(y,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),A;var F=this.textureManager.get(m);if(!F)return A;var O;if(y)for(L||(L=c(M,P)),O=0;O<L.length;O++){var b=S+p(L[O],R,"0",1)+w;F.has(b)?A.push({key:m,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,m)}else for(L=F.getFrameNames(),O=0;O<L.length;O++)A.push({key:m,frame:L[O]});return A},generateFrameNumbers:function(m,y){var S=v(y,"start",0),M=v(y,"end",-1),P=v(y,"first",!1),w=v(y,"outputArray",[]),R=v(y,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),w;var A=this.textureManager.get(m);if(!A)return w;P&&A.has(P)&&w.push({key:m,frame:P}),R||(M===-1&&(M=A.frameTotal-2),R=c(S,M));for(var L=0;L<R.length;L++){var F=R[L];A.has(F)?w.push({key:m,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,m)}return w},get:function(m){return this.anims.get(m)},getAnimsFromTexture:function(m){for(var y=this.textureManager.get(m),S=y.key,M=this.anims.getArray(),P=[],w=0;w<M.length;w++)for(var R=M[w],A=R.frames,L=0;L<A.length;L++)if(A[L].textureKey===S){P.push(R.key);break}return P},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(m,y){Array.isArray(y)||(y=[y]);for(var S=0;S<y.length;S++)y[S].anims.play(m);return this},staggerPlay:function(m,y,S,M){S===void 0&&(S=0),M===void 0&&(M=!0),Array.isArray(y)||(y=[y]);var P=y.length;M||P--;for(var w=0;w<y.length;w++){var R=S<0?Math.abs(S)*(P-w):S*w;y[w].anims.playAfterDelay(m,R)}return this},remove:function(m){var y=this.get(m);return y&&(this.emit(a.REMOVE_ANIMATION,m,y),this.anims.delete(m),this.removeMix(m)),y},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},toJSON:function(m){var y={anims:[],globalTimeScale:this.globalTimeScale};return m!==void 0&&m!==""?y.anims.push(this.anims.get(m).toJSON()):this.anims.each(function(S,M){y.anims.push(M.toJSON())}),y},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});n.exports=g},9674:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42099),x=e(30976),d=e(83419),o=e(90330),a=e(74943),r=e(95540),l=new d({initialize:function(h){this.parent=h,this.animationManager=h.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(v){var h=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,h;Array.isArray(v)||(v=[v]);for(var c=0;c<v.length;c++){var p=v[c];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(v){this.isPlaying&&this.stop();var h=this.animationManager,c=typeof v=="string"?v:r(v,"key",null),p=this.exists(c)?this.get(c):h.get(c);if(!p)console.warn("Missing animation: "+c);else{this.currentAnim=p;var g=p.getTotalFrames(),m=r(v,"frameRate",p.frameRate),y=r(v,"duration",p.duration);p.calculateDuration(this,g,y,m),this.delay=r(v,"delay",p.delay),this.repeat=r(v,"repeat",p.repeat),this.repeatDelay=r(v,"repeatDelay",p.repeatDelay),this.yoyo=r(v,"yoyo",p.yoyo),this.showBeforeDelay=r(v,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=r(v,"showOnStart",p.showOnStart),this.hideOnComplete=r(v,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=r(v,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=r(v,"randomFrame",p.randomFrame),this.timeScale=r(v,"timeScale",this.timeScale);var S=r(v,"startFrame",0);S>g&&(S=0),this.randomFrame&&(S=x(0,g-1));var M=p.frames[S];S===0&&!this.forward&&(M=p.getLastFrame()),this.currentFrame=M}return this.parent},pause:function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},resume:function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},playAfterDelay:function(v,h){if(!this.isPlaying)this.delayCounter=h,this.play(v,!0);else{var c=this.nextAnim,p=this.nextAnimsQueue;c&&p.unshift(c),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=h}return this.parent},playAfterRepeat:function(v,h){if(h===void 0&&(h=1),!this.isPlaying)this.play(v);else{var c=this.nextAnim,p=this.nextAnimsQueue;c&&p.unshift(c),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=h}return this.parent},play:function(v,h){h===void 0&&(h=!1);var c=this.currentAnim,p=this.parent,g=typeof v=="string"?v:v.key;if(h&&this.isPlaying&&c.key===g)return p;if(c&&this.isPlaying){var m=this.animationManager.getMix(c.key,v);if(m>0)return this.playAfterDelay(v,m)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},playReverse:function(v,h){h===void 0&&(h=!1);var c=typeof v=="string"?v:v.key;return h&&this.isPlaying&&this.currentAnim.key===c?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},startAnimation:function(v){this.load(v);var h=this.currentAnim,c=this.parent;return h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,h.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),c},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(v,h){var c=this.currentAnim;if(c){var p=this.currentFrame,g=this.parent,m=p.textureFrame;g.emit(v,c,p,g,m),h&&g.emit(h+c.key,c,p,g,m)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var v=this.currentFrame;if(!v)return 0;var h=v.progress;return this.inReverse&&(h*=-1),h},setProgress:function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},setRepeat:function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},globalRemove:function(v,h){h===void 0&&(h=this.currentAnim),this.isPlaying&&h.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(v,h){v===void 0&&(v=!1),h===void 0&&(h=!1);var c=this.currentAnim,p=this.parent;return c?(h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),c.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(c.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},stopAfterDelay:function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},stopAfterRepeat:function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},stopOnFrame:function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(v,h){var c=this.currentAnim;if(!(!this.isPlaying||!c||c.paused)){if(this.accumulator+=h*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=h,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?c.nextFrame(this):c.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do this.forward?c.nextFrame(this):c.previousFrame(this),p++;while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}},setCurrentFrame:function(v){var h=this.parent;return this.currentFrame=v,h.texture=v.frame.texture,h.frame=v.frame,h.isCropped&&h.frame.updateCropUVs(h._crop,h.flipX,h.flipY),v.setAlpha&&(h.alpha=v.alpha),h.setSizeToFrame(),h._originComponent&&(v.frame.customPivot?h.setOrigin(v.frame.pivotX,v.frame.pivotY):h.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),h},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(v){return this.anims?this.anims.get(v):null},exists:function(v){return this.anims?this.anims.has(v):!1},create:function(v){var h=v.key,c=!1;return h&&(c=this.get(h),c?console.warn("Animation key already exists: "+h):(c=new u(this,h,v),this.anims||(this.anims=new o),this.anims.set(h,c))),c},createFromAseprite:function(v,h){return this.animationManager.createFromAseprite(v,h,this.parent)},generateFrameNames:function(v,h){return this.animationManager.generateFrameNames(v,h)},generateFrameNumbers:function(v,h){return this.animationManager.generateFrameNumbers(v,h)},remove:function(v){var h=this.get(v);return h&&(this.currentAnim===h&&this.stop(),this.anims.delete(v)),h},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});n.exports=l},57090:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},25312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"},89580:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"},52860:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"},63850:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"},99085:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"},28087:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"},1794:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"},52562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},57953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},68339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},74943:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:e(57090),ANIMATION_COMPLETE:e(25312),ANIMATION_COMPLETE_KEY:e(89580),ANIMATION_REPEAT:e(52860),ANIMATION_RESTART:e(63850),ANIMATION_START:e(99085),ANIMATION_STOP:e(28087),ANIMATION_UPDATE:e(1794),PAUSE_ALL:e(52562),REMOVE_ANIMATION:e(57953),RESUME_ALL:e(68339)}},60421:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:e(42099),AnimationFrame:e(41138),AnimationManager:e(60848),AnimationState:e(9674),Events:e(74943)}},2161:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(90330),d=e(50792),o=e(24736),a=new u({initialize:function(){this.entries=new x,this.events=new d},add:function(r,l){return this.entries.set(r,l),this.events.emit(o.ADD,this,r,l),this},has:function(r){return this.entries.has(r)},exists:function(r){return this.entries.has(r)},get:function(r){return this.entries.get(r)},remove:function(r){var l=this.get(r);return l&&(this.entries.delete(r),this.events.emit(o.REMOVE,this,r,l.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});n.exports=a},24047:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2161),x=e(83419),d=e(8443),o=new x({initialize:function(r){this.game=r,this.binary=new u,this.bitmapFont=new u,this.json=new u,this.physics=new u,this.shader=new u,this.audio=new u,this.video=new u,this.text=new u,this.html=new u,this.obj=new u,this.tilemap=new u,this.xml=new u,this.custom={},this.game.events.once(d.DESTROY,this.destroy,this)},addCustom:function(a){return this.custom.hasOwnProperty(a)||(this.custom[a]=new u),this.custom[a]},destroy:function(){for(var a=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],r=0;r<a.length;r++)this[a[r]].destroy(),this[a[r]]=null;for(var l in this.custom)this.custom[l].destroy();this.custom=null,this.game=null}});n.exports=o},51464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},59261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},24736:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:e(51464),REMOVE:e(59261)}},83388:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:e(2161),CacheManager:e(24047),Events:e(24736)}},71911:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(39506),o=e(50792),a=e(19715),r=e(87841),l=e(61340),v=e(80333),h=e(26099),c=new u({Extends:o,Mixins:[x.AlphaSingle,x.Visible],initialize:function(g,m,y,S){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=0),o.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new r,this.dirty=!0,this._x=g,this._y=m,this._width=y,this._height=S,this._bounds=new r,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new l,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new h(y/2,S/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,g){return p===void 0&&(p=.5),g===void 0&&(g=p),this.originX=p,this.originY=g,this},getScroll:function(p,g,m){m===void 0&&(m=new h);var y=this.width*.5,S=this.height*.5;return m.x=p-y,m.y=g-S,this.useBounds&&(m.x=this.clampX(m.x),m.y=this.clampY(m.y)),m},centerOnX:function(p){var g=this.width*.5;return this.midPoint.x=p,this.scrollX=p-g,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var g=this.height*.5;return this.midPoint.y=p,this.scrollY=p-g,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,g){return this.centerOnX(p),this.centerOnY(g),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,g=this.width*.5,m=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-g,this.scrollY=p.centerY-m}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var g=this.matrix.matrix,m=g[0],y=g[1],S=g[2],M=g[3],P=m*M-y*S;if(!P)return p;var w=g[4],R=g[5],A=this.scrollX,L=this.scrollY,F=this.width,O=this.height,b=this.y,B=b+O,I=this.x,N=I+F,X=this.culledObjects,k=p.length;P=1/P,X.length=0;for(var H=0;H<k;++H){var V=p[H];if(!V.hasOwnProperty("width")||V.parentContainer){X.push(V);continue}var W=V.width,D=V.height,G=V.x-A*V.scrollFactorX-W*V.originX,z=V.y-L*V.scrollFactorY-D*V.originY,U=G*m+z*S+w,Y=G*y+z*M+R,$=(G+W)*m+(z+D)*S+w,K=(G+W)*y+(z+D)*M+R;$>I&&U<N&&K>b&&Y<B&&X.push(V)}return X},getWorldPoint:function(p,g,m){m===void 0&&(m=new h);var y=this.matrix.matrix,S=y[0],M=y[1],P=y[2],w=y[3],R=y[4],A=y[5],L=S*w-M*P;if(!L)return m.x=p,m.y=g,m;L=1/L;var F=w*L,O=-M*L,b=-P*L,B=S*L,I=(P*A-w*R)*L,N=(M*R-S*A)*L,X=Math.cos(this.rotation),k=Math.sin(this.rotation),H=this.zoomX,V=this.zoomY,W=this.scrollX,D=this.scrollY,G=p+(W*X-D*k)*H,z=g+(W*k+D*X)*V;return m.x=G*F+z*b+I,m.y=G*O+z*B+N,m},ignore:function(p){var g=this.id;Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var y=p[m];Array.isArray(y)?this.ignore(y):y.isParent?this.ignore(y.getChildren()):y.cameraFilter|=g}return this},preRender:function(){this.renderList.length=0;var p=this.width,g=this.height,m=p*.5,y=g*.5,S=this.zoomX,M=this.zoomY,P=this.matrix,w=p*this.originX,R=g*this.originY,A=this.scrollX,L=this.scrollY;this.useBounds&&(A=this.clampX(A),L=this.clampY(L)),this.scrollX=A,this.scrollY=L;var F=A+m,O=L+y;this.midPoint.set(F,O);var b=p/S,B=g/M;this.worldView.setTo(F-b/2,O-B/2,b,B),P.applyITRS(this.x+w,this.y+R,this.rotation,S,M),P.translate(-w,-R)},clampX:function(p){var g=this._bounds,m=this.displayWidth,y=g.x+(m-this.width)/2,S=Math.max(y,y+g.width-m);return p<y?p=y:p>S&&(p=S),p},clampY:function(p){var g=this._bounds,m=this.displayHeight,y=g.y+(m-this.height)/2,S=Math.max(y,y+g.height-m);return p<y?p=y:p>S&&(p=S),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=d(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=v(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,g,m,y,S){return S===void 0&&(S=!1),this._bounds.setTo(p,g,m,y),this.dirty=!0,this.useBounds=!0,S?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new r);var g=this._bounds;return p.setTo(g.x,g.y,g.width,g.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,g){return g===void 0&&(g=p),this.x=p,this.y=g,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,g){g===void 0&&(g=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=g;var m=p.sys;return this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras,this.updateSystem(),this},setScroll:function(p,g){return g===void 0&&(g=p),this.scrollX=p,this.scrollY=g,this},setSize:function(p,g){return g===void 0&&(g=p),this.width=p,this.height=g,this},setViewport:function(p,g,m,y){return this.x=p,this.y=g,this.width=m,this.height=y,this},setZoom:function(p,g){return p===void 0&&(p=1),g===void 0&&(g=p),p===0&&(p=.001),g===0&&(g=.001),this.zoomX=p,this.zoomY=g,this},setMask:function(p,g){return g===void 0&&(g=!0),this.mask=p,this._maskCamera=g?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,g=this.sceneManager;p&&!this._customViewport?g.customViewports++:!p&&this._customViewport&&g.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});n.exports=c},38058:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71911),x=e(67502),d=e(45319),o=e(83419),a=e(31401),r=e(20052),l=e(19715),v=e(28915),h=e(87841),c=e(26099),p=new o({Extends:u,Mixins:[a.PostPipeline],initialize:function(m,y,S,M){u.call(this,m,y,S,M),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new r.Fade(this),this.flashEffect=new r.Flash(this),this.shakeEffect=new r.Shake(this),this.panEffect=new r.Pan(this),this.rotateToEffect=new r.RotateTo(this),this.zoomEffect=new r.Zoom(this),this.lerp=new c(1,1),this.followOffset=new c,this.deadzone=null,this._follow=null},setDeadzone:function(g,m){if(g===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=g,this.deadzone.height=m):this.deadzone=new h(0,0,g,m),this._follow){var y=this.width/2,S=this.height/2,M=this._follow.x-this.followOffset.x,P=this._follow.y-this.followOffset.y;this.midPoint.set(M,P),this.scrollX=M-y,this.scrollY=P-S}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(g,m,y,S,M,P){return this.fadeEffect.start(!1,g,m,y,S,!0,M,P)},fadeOut:function(g,m,y,S,M,P){return this.fadeEffect.start(!0,g,m,y,S,!0,M,P)},fadeFrom:function(g,m,y,S,M,P,w){return this.fadeEffect.start(!1,g,m,y,S,M,P,w)},fade:function(g,m,y,S,M,P,w){return this.fadeEffect.start(!0,g,m,y,S,M,P,w)},flash:function(g,m,y,S,M,P,w){return this.flashEffect.start(g,m,y,S,M,P,w)},shake:function(g,m,y,S,M){return this.shakeEffect.start(g,m,y,S,M)},pan:function(g,m,y,S,M,P,w){return this.panEffect.start(g,m,y,S,M,P,w)},rotateTo:function(g,m,y,S,M,P,w){return this.rotateToEffect.start(g,m,y,S,M,P,w)},zoomTo:function(g,m,y,S,M,P){return this.zoomEffect.start(g,m,y,S,M,P)},preRender:function(){this.renderList.length=0;var g=this.width,m=this.height,y=g*.5,S=m*.5,M=this.zoom,P=this.matrix,w=g*this.originX,R=m*this.originY,A=this._follow,L=this.deadzone,F=this.scrollX,O=this.scrollY;L&&x(L,this.midPoint.x,this.midPoint.y);var b=!1;if(A&&!this.panEffect.isRunning){var B=this.lerp,I=A.x-this.followOffset.x,N=A.y-this.followOffset.y;L?(I<L.x?F=v(F,F-(L.x-I),B.x):I>L.right&&(F=v(F,F+(I-L.right),B.x)),N<L.y?O=v(O,O-(L.y-N),B.y):N>L.bottom&&(O=v(O,O+(N-L.bottom),B.y))):(F=v(F,I-w,B.x),O=v(O,N-R,B.y)),b=!0}this.useBounds&&(F=this.clampX(F),O=this.clampY(O)),this.scrollX=F,this.scrollY=O;var X=F+y,k=O+S;this.midPoint.set(X,k);var H=g/M,V=m/M,W=Math.floor(X-H/2),D=Math.floor(k-V/2);this.worldView.setTo(W,D,H,V),P.applyITRS(Math.floor(this.x+w),Math.floor(this.y+R),this.rotation,M,M),P.translate(-w,-R),this.shakeEffect.preRender(),b&&this.emit(l.FOLLOW_UPDATE,this,A)},setLerp:function(g,m){return g===void 0&&(g=1),m===void 0&&(m=g),this.lerp.set(g,m),this},setFollowOffset:function(g,m){return g===void 0&&(g=0),m===void 0&&(m=0),this.followOffset.set(g,m),this},startFollow:function(g,m,y,S,M,P){m===void 0&&(m=!1),y===void 0&&(y=1),S===void 0&&(S=y),M===void 0&&(M=0),P===void 0&&(P=M),this._follow=g,this.roundPixels=m,y=d(y,0,1),S=d(S,0,1),this.lerp.set(y,S),this.followOffset.set(M,P);var w=this.width/2,R=this.height/2,A=g.x-M,L=g.y-P;return this.midPoint.set(A,L),this.scrollX=A-w,this.scrollY=L-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(g,m){this.visible&&(this.rotateToEffect.update(g,m),this.panEffect.update(g,m),this.zoomEffect.update(g,m),this.shakeEffect.update(g,m),this.flashEffect.update(g,m),this.fadeEffect.update(g,m))},destroy:function(){this.resetFX(),u.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});n.exports=p},32743:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(38058),x=e(83419),d=e(95540),o=e(37277),a=e(37303),r=e(97480),l=e(44594),v=new x({initialize:function(c){this.scene=c,this.systems=c.sys,this.roundPixels=c.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,c.sys.events.once(l.BOOT,this.boot,this),c.sys.events.on(l.START,this.start,this)},boot:function(){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new u(0,0,h.scale.width,h.scale.height).setScene(this.scene),h.game.scale.on(r.RESIZE,this.onResize,this),this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){if(!this.main){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0]}var c=this.systems.events;c.on(l.UPDATE,this.update,this),c.once(l.SHUTDOWN,this.shutdown,this)},add:function(h,c,p,g,m,y){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),m===void 0&&(m=!1),y===void 0&&(y="");var S=new u(h,c,p,g);return S.setName(y),S.setScene(this.scene),S.setRoundPixels(this.roundPixels),S.id=this.getNextID(),this.cameras.push(S),m&&(this.main=S),S},addExisting:function(h,c){c===void 0&&(c=!1);var p=this.cameras.indexOf(h);return p===-1?(h.id=this.getNextID(),h.setRoundPixels(this.roundPixels),this.cameras.push(h),c&&(this.main=h),h):null},getNextID:function(){for(var h=this.cameras,c=1,p=0;p<32;p++){for(var g=!1,m=0;m<h.length;m++){var y=h[m];if(y&&y.id===c){g=!0;continue}}if(g)c=c<<1;else return c}return 0},getTotal:function(h){h===void 0&&(h=!1);for(var c=0,p=this.cameras,g=0;g<p.length;g++){var m=p[g];(!h||h&&m.visible)&&c++}return c},fromJSON:function(h){Array.isArray(h)||(h=[h]);for(var c=this.scene.sys.scale.width,p=this.scene.sys.scale.height,g=0;g<h.length;g++){var m=h[g],y=d(m,"x",0),S=d(m,"y",0),M=d(m,"width",c),P=d(m,"height",p),w=this.add(y,S,M,P);w.name=d(m,"name",""),w.zoom=d(m,"zoom",1),w.rotation=d(m,"rotation",0),w.scrollX=d(m,"scrollX",0),w.scrollY=d(m,"scrollY",0),w.roundPixels=d(m,"roundPixels",!1),w.visible=d(m,"visible",!0);var R=d(m,"backgroundColor",!1);R&&w.setBackgroundColor(R);var A=d(m,"bounds",null);if(A){var L=d(A,"x",0),F=d(A,"y",0),O=d(A,"width",c),b=d(A,"height",p);w.setBounds(L,F,O,b)}}return this},getCamera:function(h){for(var c=this.cameras,p=0;p<c.length;p++)if(c[p].name===h)return c[p];return null},getCamerasBelowPointer:function(h){for(var c=this.cameras,p=h.x,g=h.y,m=[],y=0;y<c.length;y++){var S=c[y];S.visible&&S.inputEnabled&&a(S,p,g)&&m.unshift(S)}return m},remove:function(h,c){c===void 0&&(c=!0),Array.isArray(h)||(h=[h]);for(var p=0,g=this.cameras,m=0;m<h.length;m++){var y=g.indexOf(h[m]);y!==-1&&(c?g[y].destroy():g[y].renderList=[],g.splice(y,1),p++)}return!this.main&&g[0]&&(this.main=g[0]),p},render:function(h,c){for(var p=this.scene,g=this.cameras,m=0;m<g.length;m++){var y=g[m];if(y.visible&&y.alpha>0){y.preRender();var S=this.getVisibleChildren(c.getChildren(),y);h.render(p,S,y)}}},getVisibleChildren:function(h,c){return h.filter(function(p){return p.willRender(c)})},resetAll:function(){for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(h,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(h,c)},onResize:function(h,c,p,g,m){for(var y=0;y<this.cameras.length;y++){var S=this.cameras[y];S._x===0&&S._y===0&&S._width===g&&S._height===m&&S.setSize(c.width,c.height)}},resize:function(h,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(h,c)},shutdown:function(){this.main=void 0;for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();this.cameras=[];var c=this.systems.events;c.off(l.UPDATE,this.update,this),c.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(l.START,this.start,this),this.systems.events.off(l.DESTROY,this.destroy,this),this.systems.game.scale.off(r.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});o.register("CameraManager",v,"cameras"),n.exports=v},5020:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(19715),o=new x({initialize:function(r){this.camera=r,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,r,l,v,h,c,p,g){if(a===void 0&&(a=!0),r===void 0&&(r=1e3),l===void 0&&(l=0),v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!c&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=r,this.direction=a,this.progress=0,this.red=l,this.green=v,this.blue=h,this.alpha=a?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g;var m=a?d.FADE_OUT_START:d.FADE_IN_START;return this.camera.emit(m,this.camera,this,r,l,v,h),this.camera},update:function(a,r){!this.isRunning||(this._elapsed+=r,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(a){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(r.x,r.y,r.width,r.height),!0},postRenderWebGL:function(a,r){if(!this.isRunning&&!this.isComplete)return!1;var l=this.camera,v=this.red/255,h=this.green/255,c=this.blue/255;return a.drawFillRect(l.x,l.y,l.width,l.height,r(c,h,v,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var a=this.direction?d.FADE_OUT_COMPLETE:d.FADE_IN_COMPLETE;this.camera.emit(a,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=o},10662:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(19715),o=new x({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(a,r,l,v,h,c,p){return a===void 0&&(a=250),r===void 0&&(r=255),l===void 0&&(l=255),v===void 0&&(v=255),h===void 0&&(h=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,this.red=r,this.green=l,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(d.FLASH_START,this.camera,this,a,r,l,v),this.camera)},update:function(a,r){!this.isRunning||(this._elapsed+=r,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(a){if(!this.isRunning)return!1;var r=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(r.x,r.y,r.width,r.height),!0},postRenderWebGL:function(a,r){if(!this.isRunning)return!1;var l=this.camera,v=this.red/255,h=this.green/255,c=this.blue/255;return a.drawFillRect(l.x,l.y,l.width,l.height,r(c,h,v,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=o},20359:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(62640),o=e(19715),a=e(26099),r=new x({initialize:function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,v,h,c,p,g,m){h===void 0&&(h=1e3),c===void 0&&(c=d.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene);var y=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.source.set(y.scrollX,y.scrollY),this.destination.set(l,v),y.getScroll(l,v,this.current),typeof c=="string"&&d.hasOwnProperty(c)?this.ease=d[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.camera.emit(o.PAN_START,this.camera,this,h,l,v)),y},update:function(l,v){if(!!this.isRunning){this._elapsed+=v;var h=u(this._elapsed/this.duration,0,1);this.progress=h;var c=this.camera;if(this._elapsed<this.duration){var p=this.ease(h);c.getScroll(this.destination.x,this.destination.y,this.current);var g=this.source.x+(this.current.x-this.source.x)*p,m=this.source.y+(this.current.y-this.source.y)*p;c.setScroll(g,m),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,h,g,m)}else c.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,h,c.scrollX,c.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=r},34208:(n,C,e)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var u=e(45319),x=e(83419),d=e(19715),o=e(62640),a=new x({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(r,l,v,h,c,p,g){v===void 0&&(v=1e3),h===void 0&&(h=o.Linear),c===void 0&&(c=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),l===void 0&&(l=!1),this.shortestPath=l;var m=r;r<0?(m=-1*r,this.clockwise=!1):this.clockwise=!0;var y=360*Math.PI/180;m=m-Math.floor(m/y)*y;var S=this.camera;if(!c&&this.isRunning)return S;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=S.rotation,this.destination=m,typeof h=="string"&&o.hasOwnProperty(h)?this.ease=o[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.shortestPath){var M=0,P=0;this.destination>this.source?M=Math.abs(this.destination-this.source):M=Math.abs(this.destination+y)-this.source,this.source>this.destination?P=Math.abs(this.source-this.destination):P=Math.abs(this.source+y)-this.destination,M<P?this.clockwise=!0:M>P&&(this.clockwise=!1)}return this.camera.emit(d.ROTATE_START,this.camera,this,v,m),S},update:function(r,l){if(!!this.isRunning){this._elapsed+=l;var v=u(this._elapsed/this.duration,0,1);this.progress=v;var h=this.camera;if(this._elapsed<this.duration){var c=this.ease(v);this.current=h.rotation;var p=0,g=360*Math.PI/180,m=this.destination,y=this.current;this.clockwise===!1&&(m=this.current,y=this.destination),m>=y?p=Math.abs(m-y):p=Math.abs(m+g)-y;var S=0;this.clockwise?S=h.rotation+p*c:S=h.rotation-p*c,h.rotation=S,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,v,S)}else h.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,v,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=a},30330:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(19715),o=e(26099),a=new x({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.intensity=new o,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(r,l,v,h,c){return r===void 0&&(r=100),l===void 0&&(l=.05),v===void 0&&(v=!1),h===void 0&&(h=null),c===void 0&&(c=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,typeof l=="number"?this.intensity.set(l):this.intensity.set(l.x,l.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=h,this._onUpdateScope=c,this.camera.emit(d.SHAKE_START,this.camera,this,r,l),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(r,l){if(!!this.isRunning)if(this._elapsed+=l,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,h=this.camera.width,c=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*v.x*h*2-v.x*h)*p,this._offsetY=(Math.random()*v.y*c*2-v.y*c)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});n.exports=a},45641:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(62640),o=e(19715),a=new x({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,l,v,h,c,p){l===void 0&&(l=1e3),v===void 0&&(v=d.Linear),h===void 0&&(h=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene);var g=this.camera;return!h&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,this.source=g.zoom,this.destination=r,typeof v=="string"&&d.hasOwnProperty(v)?this.ease=d[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(o.ZOOM_START,this.camera,this,l,r)),g},update:function(r,l){!this.isRunning||(this._elapsed+=l,this.progress=u(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=a},20052:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:e(5020),Flash:e(10662),Pan:e(20359),Shake:e(30330),RotateTo:e(34208),Zoom:e(45641)}},16438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"},32726:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"},87807:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"},45917:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"},95666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"},47056:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"},91261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"},45047:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"},81927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"},74264:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"},54419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},79330:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},93183:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"},80112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"},62252:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"},86017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"},539:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"},51892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"},19715:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:e(16438),FADE_IN_COMPLETE:e(32726),FADE_IN_START:e(87807),FADE_OUT_COMPLETE:e(45917),FADE_OUT_START:e(95666),FLASH_COMPLETE:e(47056),FLASH_START:e(91261),FOLLOW_UPDATE:e(45047),PAN_COMPLETE:e(81927),PAN_START:e(74264),POST_RENDER:e(54419),PRE_RENDER:e(79330),ROTATE_COMPLETE:e(93183),ROTATE_START:e(80112),SHAKE_COMPLETE:e(62252),SHAKE_START:e(86017),ZOOM_COMPLETE:e(539),ZOOM_START:e(51892)}},87969:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:e(38058),BaseCamera:e(71911),CameraManager:e(32743),Effects:e(20052),Events:e(19715)}},63091:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(35154),d=new u({initialize:function(a){this.camera=x(a,"camera",null),this.left=x(a,"left",null),this.right=x(a,"right",null),this.up=x(a,"up",null),this.down=x(a,"down",null),this.zoomIn=x(a,"zoomIn",null),this.zoomOut=x(a,"zoomOut",null),this.zoomSpeed=x(a,"zoomSpeed",.01),this.minZoom=x(a,"minZoom",.001),this.maxZoom=x(a,"maxZoom",1e3),this.speedX=0,this.speedY=0;var r=x(a,"speed",null);typeof r=="number"?(this.speedX=r,this.speedY=r):(this.speedX=x(a,"speed.x",0),this.speedY=x(a,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(o){return this.camera=o,this},update:function(o){if(!!this.active){o===void 0&&(o=1);var a=this.camera;this.up&&this.up.isDown?a.scrollY-=this.speedY*o|0:this.down&&this.down.isDown&&(a.scrollY+=this.speedY*o|0),this.left&&this.left.isDown?a.scrollX-=this.speedX*o|0:this.right&&this.right.isDown&&(a.scrollX+=this.speedX*o|0),this.zoomIn&&this.zoomIn.isDown?(a.zoom-=this.zoomSpeed,a.zoom<this.minZoom&&(a.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(a.zoom+=this.zoomSpeed,a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d},58818:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(35154),d=new u({initialize:function(a){this.camera=x(a,"camera",null),this.left=x(a,"left",null),this.right=x(a,"right",null),this.up=x(a,"up",null),this.down=x(a,"down",null),this.zoomIn=x(a,"zoomIn",null),this.zoomOut=x(a,"zoomOut",null),this.zoomSpeed=x(a,"zoomSpeed",.01),this.minZoom=x(a,"minZoom",.001),this.maxZoom=x(a,"maxZoom",1e3),this.accelX=0,this.accelY=0;var r=x(a,"acceleration",null);typeof r=="number"?(this.accelX=r,this.accelY=r):(this.accelX=x(a,"acceleration.x",0),this.accelY=x(a,"acceleration.y",0)),this.dragX=0,this.dragY=0;var l=x(a,"drag",null);typeof l=="number"?(this.dragX=l,this.dragY=l):(this.dragX=x(a,"drag.x",0),this.dragY=x(a,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=x(a,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=x(a,"maxSpeed.x",0),this.maxSpeedY=x(a,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(o){return this.camera=o,this},update:function(o){if(!!this.active){o===void 0&&(o=1);var a=this.camera;this._speedX>0?(this._speedX-=this.dragX*o,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*o,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*o,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*o,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(a.scrollX-=this._speedX*o|0),this._speedY!==0&&(a.scrollY-=this._speedY*o|0),this._zoom!==0&&(a.zoom+=this._zoom,a.zoom<this.minZoom?a.zoom=this.minZoom:a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d},38865:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:e(63091),SmoothedKeyControl:e(58818)}},26638:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:e(38865),Scene2D:e(87969)}},8054:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={VERSION:"3.80.1",BlendModes:e(10312),ScaleModes:e(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=u},69547:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(8054),d=e(42363),o=e(82264),a=e(95540),r=e(35154),l=e(41212),v=e(29747),h=e(75508),c=e(36060),p=e(80333),g=new u({initialize:function(y){y===void 0&&(y={});var S=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],M="#ffffff",P=r(y,"scale",null);this.width=r(P,"width",1024,y),this.height=r(P,"height",768,y),this.zoom=r(P,"zoom",1,y),this.parent=r(P,"parent",void 0,y),this.scaleMode=r(P,P?"mode":"scaleMode",0,y),this.expandParent=r(P,"expandParent",!0,y),this.autoRound=r(P,"autoRound",!1,y),this.autoCenter=r(P,"autoCenter",0,y),this.resizeInterval=r(P,"resizeInterval",500,y),this.fullscreenTarget=r(P,"fullscreenTarget",null,y),this.minWidth=r(P,"min.width",0,y),this.maxWidth=r(P,"max.width",0,y),this.minHeight=r(P,"min.height",0,y),this.maxHeight=r(P,"max.height",0,y),this.snapWidth=r(P,"snap.width",0,y),this.snapHeight=r(P,"snap.height",0,y),this.renderType=r(y,"type",x.AUTO),this.canvas=r(y,"canvas",null),this.context=r(y,"context",null),this.canvasStyle=r(y,"canvasStyle",null),this.customEnvironment=r(y,"customEnvironment",!1),this.sceneConfig=r(y,"scene",null),this.seed=r(y,"seed",[(Date.now()*Math.random()).toString()]),h.RND=new h.RandomDataGenerator(this.seed),this.gameTitle=r(y,"title",""),this.gameURL=r(y,"url","https://phaser.io"),this.gameVersion=r(y,"version",""),this.autoFocus=r(y,"autoFocus",!0),this.stableSort=r(y,"stableSort",-1),this.stableSort===-1&&(this.stableSort=o.browser.es2019?1:0),o.features.stableSort=this.stableSort,this.domCreateContainer=r(y,"dom.createContainer",!1),this.domPointerEvents=r(y,"dom.pointerEvents","none"),this.inputKeyboard=r(y,"input.keyboard",!0),this.inputKeyboardEventTarget=r(y,"input.keyboard.target",window),this.inputKeyboardCapture=r(y,"input.keyboard.capture",[]),this.inputMouse=r(y,"input.mouse",!0),this.inputMouseEventTarget=r(y,"input.mouse.target",null),this.inputMousePreventDefaultDown=r(y,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=r(y,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=r(y,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=r(y,"input.mouse.preventDefaultWheel",!0),this.inputTouch=r(y,"input.touch",o.input.touch),this.inputTouchEventTarget=r(y,"input.touch.target",null),this.inputTouchCapture=r(y,"input.touch.capture",!0),this.inputActivePointers=r(y,"input.activePointers",1),this.inputSmoothFactor=r(y,"input.smoothFactor",0),this.inputWindowEvents=r(y,"input.windowEvents",!0),this.inputGamepad=r(y,"input.gamepad",!1),this.inputGamepadEventTarget=r(y,"input.gamepad.target",window),this.disableContextMenu=r(y,"disableContextMenu",!1),this.audio=r(y,"audio",{}),this.hideBanner=r(y,"banner",null)===!1,this.hidePhaser=r(y,"banner.hidePhaser",!1),this.bannerTextColor=r(y,"banner.text",M),this.bannerBackgroundColor=r(y,"banner.background",S),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=r(y,"fps",null),this.disablePreFX=r(y,"disablePreFX",!1),this.disablePostFX=r(y,"disablePostFX",!1);var w=r(y,"render",null);this.pipeline=r(w,"pipeline",null,y),this.autoMobilePipeline=r(w,"autoMobilePipeline",!0,y),this.defaultPipeline=r(w,"defaultPipeline",c.MULTI_PIPELINE,y),this.antialias=r(w,"antialias",!0,y),this.antialiasGL=r(w,"antialiasGL",!0,y),this.mipmapFilter=r(w,"mipmapFilter","",y),this.desynchronized=r(w,"desynchronized",!1,y),this.roundPixels=r(w,"roundPixels",!0,y),this.pixelArt=r(w,"pixelArt",this.zoom!==1,y),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=r(w,"transparent",!1,y),this.clearBeforeRender=r(w,"clearBeforeRender",!0,y),this.preserveDrawingBuffer=r(w,"preserveDrawingBuffer",!1,y),this.premultipliedAlpha=r(w,"premultipliedAlpha",!0,y),this.failIfMajorPerformanceCaveat=r(w,"failIfMajorPerformanceCaveat",!1,y),this.powerPreference=r(w,"powerPreference","default",y),this.batchSize=r(w,"batchSize",4096,y),this.maxTextures=r(w,"maxTextures",-1,y),this.maxLights=r(w,"maxLights",10,y);var R=r(y,"backgroundColor",0);this.backgroundColor=p(R),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=r(y,"callbacks.preBoot",v),this.postBoot=r(y,"callbacks.postBoot",v),this.physics=r(y,"physics",{}),this.defaultPhysicsSystem=r(this.physics,"default",!1),this.loaderBaseURL=r(y,"loader.baseURL",""),this.loaderPath=r(y,"loader.path",""),this.loaderMaxParallelDownloads=r(y,"loader.maxParallelDownloads",o.os.android?6:32),this.loaderCrossOrigin=r(y,"loader.crossOrigin",void 0),this.loaderResponseType=r(y,"loader.responseType",""),this.loaderAsync=r(y,"loader.async",!0),this.loaderUser=r(y,"loader.user",""),this.loaderPassword=r(y,"loader.password",""),this.loaderTimeout=r(y,"loader.timeout",0),this.loaderWithCredentials=r(y,"loader.withCredentials",!1),this.loaderImageLoadType=r(y,"loader.imageLoadType","XHR"),this.loaderLocalScheme=r(y,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=r(y,"fx.glow.quality",.1),this.glowFXDistance=r(y,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=r(y,"plugins",null),L=d.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:l(A)&&(this.installGlobalPlugins=a(A,"global",[]),this.installScenePlugins=a(A,"scene",[]),Array.isArray(A.default)?L=A.default:Array.isArray(A.defaultMerge)&&(L=L.concat(A.defaultMerge)))),this.defaultPlugins=L;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=r(y,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=r(y,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=r(y,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});n.exports=g},86054:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20623),x=e(27919),d=e(8054),o=e(89357),a=function(r){var l=r.config;if((l.customEnvironment||l.canvas)&&l.renderType===d.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!l.customEnvironment&&!l.canvas&&l.renderType!==d.HEADLESS)if(l.renderType===d.AUTO&&(l.renderType=o.webGL?d.WEBGL:d.CANVAS),l.renderType===d.WEBGL){if(!o.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(l.renderType===d.CANVAS){if(!o.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+l.renderType);l.antialias||x.disableSmoothing();var v=r.scale.baseSize,h=v.width,c=v.height;if(l.canvas?(r.canvas=l.canvas,r.canvas.width=h,r.canvas.height=c):r.canvas=x.create(r,h,c,l.renderType),l.canvasStyle&&(r.canvas.style=l.canvasStyle),l.antialias||u.setCrisp(r.canvas),l.renderType!==d.HEADLESS){var p,g;p=e(68627),g=e(74797),l.renderType===d.WEBGL?r.renderer=new g(r):(r.renderer=new p(r),r.context=r.renderer.gameContext)}};n.exports=a},96391:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8054),x=function(d){var o=d.config;if(!o.hideBanner){var a="WebGL";o.renderType===u.CANVAS?a="Canvas":o.renderType===u.HEADLESS&&(a="Headless");var r=o.audio,l=d.device.audio,v;if(l.webAudio&&!r.disableWebAudio?v="Web Audio":r.noAudio||!l.webAudio&&!l.audioData?v="No Audio":v="HTML5 Audio",d.device.browser.ie)window.console&&console.log("Phaser v"+u.VERSION+" / https://phaser.io");else{var h="",c=[h];if(Array.isArray(o.bannerBackgroundColor)){var p;o.bannerBackgroundColor.forEach(function(m){h=h.concat("%c "),c.push("background: "+m),p=m}),c[c.length-1]="color: "+o.bannerTextColor+"; background: "+p}else h=h.concat("%c "),c.push("color: "+o.bannerTextColor+"; background: "+o.bannerBackgroundColor);c.push("background: transparent"),o.gameTitle&&(h=h.concat(o.gameTitle),o.gameVersion&&(h=h.concat(" v"+o.gameVersion)),o.hidePhaser||(h=h.concat(" / ")));var g="";o.hidePhaser||(h=h.concat("Phaser v"+u.VERSION+g+" ("+a+" | "+v+")")),h=h.concat(" %c "+o.gameURL),c[0]=h,console.log.apply(console,c)}}};n.exports=x},50127:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40366),x=e(60848),d=e(24047),o=e(27919),a=e(83419),r=e(69547),l=e(83719),v=e(86054),h=e(45893),c=e(96391),p=e(82264),g=e(57264),m=e(50792),y=e(8443),S=e(7003),M=e(37277),P=e(77332),w=e(76531),R=e(60903),A=e(69442),L=e(17130),F=e(65898),O=e(51085),b=e(14747),B=new a({initialize:function(N){this.config=new r(N),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new x(this),this.textures=new L(this),this.cache=new d(this),this.registry=new h(this,new m),this.input=new S(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=p,this.scale=new w(this,this.config),this.sound=null,this.sound=b.create(this),this.loop=new F(this,this.config.fps),this.plugins=new P(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,g(this.boot.bind(this))},boot:function(){if(!M.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),l(this),c(this),u(this.canvas,this.config.parent),this.textures.once(A.READY,this.texturesReady,this),this.events.emit(y.BOOT)},texturesReady:function(){this.events.emit(y.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),O(this);var I=this.events;I.on(y.HIDDEN,this.onHidden,this),I.on(y.VISIBLE,this.onVisible,this),I.on(y.BLUR,this.onBlur,this),I.on(y.FOCUS,this.onFocus,this)},step:function(I,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(y.PRE_STEP,I,N),X.emit(y.STEP,I,N),this.scene.update(I,N),X.emit(y.POST_STEP,I,N);var k=this.renderer;k.preRender(),X.emit(y.PRE_RENDER,k,I,N),this.scene.render(k),k.postRender(),X.emit(y.POST_RENDER,k,I,N)}},headlessStep:function(I,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(y.PRE_STEP,I,N),X.emit(y.STEP,I,N),this.scene.update(I,N),X.emit(y.POST_STEP,I,N),this.scene.isProcessing=!1,X.emit(y.PRE_RENDER,null,I,N),X.emit(y.POST_RENDER,null,I,N)}},onHidden:function(){this.loop.pause(),this.events.emit(y.PAUSE)},pause:function(){var I=this.isPaused;this.isPaused=!0,I||this.events.emit(y.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(y.RESUME)},resume:function(){var I=this.isPaused;this.isPaused=!1,I&&this.events.emit(y.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,N){N===void 0&&(N=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=N},runDestroy:function(){this.scene.destroy(),this.events.emit(y.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(o.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});n.exports=B},65898:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(35154),d=e(29747),o=e(43092),a=new u({initialize:function(l,v){this.game=l,this.raf=new o,this.started=!1,this.running=!1,this.minFps=x(v,"min",5),this.targetFps=x(v,"target",60),this.fpsLimit=x(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=d,this.forceSetTimeOut=x(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(v,"deltaHistory",10),this.panicMax=x(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(v,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var r=window.performance.now();this.time=r,this.lastTime=r,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0;for(var l=0;l<this.deltaSmoothingMax;l++)this.deltaHistory[l]=Math.min(this._target,this.deltaHistory[l]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(r){if(this.started)return this;this.started=!0,this.running=!0;for(var l=0;l<this.deltaSmoothingMax;l++)this.deltaHistory[l]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=r;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},smoothDelta:function(r){var l=this.deltaIndex,v=this.deltaHistory,h=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,r=Math.min(r,this._target)),r>this._min&&(r=v[l],r=Math.min(r,this._min)),v[l]=r,this.deltaIndex++,this.deltaIndex>=h&&(this.deltaIndex=0);for(var c=0,p=0;p<h;p++)c+=v[p];return c/=h,c},updateFPS:function(r){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0},stepLimitFPS:function(r){this.now=r;var l=Math.max(0,r-this.lastTime);this.rawDelta=l,this.time+=this.rawDelta,this.smoothStep&&(l=this.smoothDelta(l)),this.delta+=l,r>=this.nextFpsUpdate&&this.updateFPS(r),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(r,this.delta),this.delta=0),this.lastTime=r,this.frame++},step:function(r){this.now=r;var l=Math.max(0,r-this.lastTime);this.rawDelta=l,this.time+=this.rawDelta,this.smoothStep&&(l=this.smoothDelta(l)),this.delta=l,r>=this.nextFpsUpdate&&this.updateFPS(r),this.framesThisSecond++,this.callback(r,l),this.lastTime=r,this.frame++},tick:function(){var r=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(r):this.step(r)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(r){r===void 0&&(r=!1);var l=window.performance.now();if(!this.running){r&&(this.startTime+=-this.lastTime+(this.lastTime+l));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});n.exports=a},51085:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8443),x=function(d){var o,a=d.events;if(document.hidden!==void 0)o="visibilitychange";else{var r=["webkit","moz","ms"];r.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},o=v+"visibilitychange")})}var l=function(v){document.hidden||v.type==="pause"?a.emit(u.HIDDEN):a.emit(u.VISIBLE)};o&&document.addEventListener(o,l,!1),window.onblur=function(){a.emit(u.BLUR)},window.onfocus=function(){a.emit(u.FOCUS)},window.focus&&d.config.autoFocus&&window.focus()};n.exports=x},97217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"},47548:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},19814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"},68446:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},41700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"},25432:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"},65942:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},59211:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},47789:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"},39066:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},460:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"},16175:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},42331:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},11966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"},32969:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"},94830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"},8443:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:e(97217),BOOT:e(47548),CONTEXT_LOST:e(19814),DESTROY:e(68446),FOCUS:e(41700),HIDDEN:e(25432),PAUSE:e(65942),POST_RENDER:e(59211),POST_STEP:e(47789),PRE_RENDER:e(39066),PRE_STEP:e(460),READY:e(16175),RESUME:e(42331),STEP:e(11966),SYSTEM_READY:e(32969),VISIBLE:e(94830)}},42857:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:e(69547),CreateRenderer:e(86054),DebugHeader:e(96391),Events:e(8443),TimeStep:e(65898),VisibilityHandler:e(51085)}},99584:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(5290),x=e(27919),d=e(35154),o=function(a){var r=d(a,"data",[]),l=d(a,"canvas",null),v=d(a,"palette",u),h=d(a,"pixelWidth",1),c=d(a,"pixelHeight",h),p=d(a,"resizeCanvas",!0),g=d(a,"clearCanvas",!0),m=d(a,"preRender",null),y=d(a,"postRender",null),S=Math.floor(Math.abs(r[0].length*h)),M=Math.floor(Math.abs(r.length*c));l||(l=x.create2D(this,S,M),p=!1,g=!1),p&&(l.width=S,l.height=M);var P=l.getContext("2d",{willReadFrequently:!0});g&&P.clearRect(0,0,S,M),m&&m(l,P);for(var w=0;w<r.length;w++)for(var R=r[w],A=0;A<R.length;A++){var L=R[A];L!=="."&&L!==" "&&(P.fillStyle=v[L],P.fillRect(A*h,w*c,h,c))}return y&&y(l,P),l};n.exports=o},15822:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:e(99584),Palettes:e(57763)}},5290:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:e(5290),C64:e(23816),CGA:e(9866),JMP:e(77552),MSX:e(92259)}},46728:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(36316),d=e(80021),o=e(26099),a=new u({Extends:d,initialize:function(l,v,h,c){d.call(this,"CubicBezierCurve"),Array.isArray(l)&&(c=new o(l[6],l[7]),h=new o(l[4],l[5]),v=new o(l[2],l[3]),l=new o(l[0],l[1])),this.p0=l,this.p1=v,this.p2=h,this.p3=c},getStartPoint:function(r){return r===void 0&&(r=new o),r.copy(this.p0)},getResolution:function(r){return r},getPoint:function(r,l){l===void 0&&(l=new o);var v=this.p0,h=this.p1,c=this.p2,p=this.p3;return l.set(x(r,v.x,h.x,c.x,p.x),x(r,v.y,h.y,c.y,p.y))},draw:function(r,l){l===void 0&&(l=32);var v=this.getPoints(l);r.beginPath(),r.moveTo(this.p0.x,this.p0.y);for(var h=1;h<v.length;h++)r.lineTo(v[h].x,v[h].y);return r.strokePath(),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(r){var l=r.points,v=new o(l[0],l[1]),h=new o(l[2],l[3]),c=new o(l[4],l[5]),p=new o(l[6],l[7]);return new a(v,h,c,p)},n.exports=a},80021:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(19217),d=e(87841),o=e(26099),a=new u({initialize:function(l){this.type=l,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new o,this._tmpVec2B=new o},draw:function(r,l){return l===void 0&&(l=32),r.strokePoints(this.getPoints(l))},getBounds:function(r,l){r||(r=new d),l===void 0&&(l=16);var v=this.getLength();l>v&&(l=v/2);var h=Math.max(1,Math.round(v/l));return x(this.getSpacedPoints(h),r)},getDistancePoints:function(r){var l=this.getLength(),v=Math.max(1,l/r);return this.getSpacedPoints(v)},getEndPoint:function(r){return r===void 0&&(r=new o),this.getPointAt(1,r)},getLength:function(){var r=this.getLengths();return r[r.length-1]},getLengths:function(r){if(r===void 0&&(r=this.arcLengthDivisions),this.cacheArcLengths.length===r+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var l=[],v,h=this.getPoint(0,this._tmpVec2A),c=0;l.push(0);for(var p=1;p<=r;p++)v=this.getPoint(p/r,this._tmpVec2B),c+=v.distance(h),l.push(c),h.copy(v);return this.cacheArcLengths=l,l},getPointAt:function(r,l){var v=this.getUtoTmapping(r);return this.getPoint(v,l)},getPoints:function(r,l,v){v===void 0&&(v=[]),r||(l?r=this.getLength()/l:r=this.defaultDivisions);for(var h=0;h<=r;h++)v.push(this.getPoint(h/r));return v},getRandomPoint:function(r){return r===void 0&&(r=new o),this.getPoint(Math.random(),r)},getSpacedPoints:function(r,l,v){v===void 0&&(v=[]),r||(l?r=this.getLength()/l:r=this.defaultDivisions);for(var h=0;h<=r;h++){var c=this.getUtoTmapping(h/r,null,r);v.push(this.getPoint(c))}return v},getStartPoint:function(r){return r===void 0&&(r=new o),this.getPointAt(0,r)},getTangent:function(r,l){l===void 0&&(l=new o);var v=1e-4,h=r-v,c=r+v;return h<0&&(h=0),c>1&&(c=1),this.getPoint(h,this._tmpVec2A),this.getPoint(c,l),l.subtract(this._tmpVec2A).normalize()},getTangentAt:function(r,l){var v=this.getUtoTmapping(r);return this.getTangent(v,l)},getTFromDistance:function(r,l){return r<=0?0:this.getUtoTmapping(0,r,l)},getUtoTmapping:function(r,l,v){var h=this.getLengths(v),c=0,p=h.length,g;l?g=Math.min(l,h[p-1]):g=r*h[p-1];for(var m=0,y=p-1,S;m<=y;)if(c=Math.floor(m+(y-m)/2),S=h[c]-g,S<0)m=c+1;else if(S>0)y=c-1;else{y=c;break}if(c=y,h[c]===g)return c/(p-1);var M=h[c],P=h[c+1],w=P-M,R=(g-M)/w;return(c+R)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});n.exports=a},73825:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(80021),d=e(39506),o=e(35154),a=e(43396),r=e(26099),l=new u({Extends:x,initialize:function(h,c,p,g,m,y,S,M){if(typeof h=="object"){var P=h;h=o(P,"x",0),c=o(P,"y",0),p=o(P,"xRadius",0),g=o(P,"yRadius",p),m=o(P,"startAngle",0),y=o(P,"endAngle",360),S=o(P,"clockwise",!1),M=o(P,"rotation",0)}else g===void 0&&(g=p),m===void 0&&(m=0),y===void 0&&(y=360),S===void 0&&(S=!1),M===void 0&&(M=0);x.call(this,"EllipseCurve"),this.p0=new r(h,c),this._xRadius=p,this._yRadius=g,this._startAngle=d(m),this._endAngle=d(y),this._clockwise=S,this._rotation=d(M)},getStartPoint:function(v){return v===void 0&&(v=new r),this.getPoint(0,v)},getResolution:function(v){return v*2},getPoint:function(v,h){h===void 0&&(h=new r);for(var c=Math.PI*2,p=this._endAngle-this._startAngle,g=Math.abs(p)<Number.EPSILON;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(g?p=0:p=c),this._clockwise&&!g&&(p===c?p=-c:p=p-c);var m=this._startAngle+v*p,y=this.p0.x+this._xRadius*Math.cos(m),S=this.p0.y+this._yRadius*Math.sin(m);if(this._rotation!==0){var M=Math.cos(this._rotation),P=Math.sin(this._rotation),w=y-this.p0.x,R=S-this.p0.y;y=w*M-R*P+this.p0.x,S=w*P+R*M+this.p0.y}return h.set(y,S)},setXRadius:function(v){return this.xRadius=v,this},setYRadius:function(v){return this.yRadius=v,this},setWidth:function(v){return this.xRadius=v/2,this},setHeight:function(v){return this.yRadius=v/2,this},setStartAngle:function(v){return this.startAngle=v,this},setEndAngle:function(v){return this.endAngle=v,this},setClockwise:function(v){return this.clockwise=v,this},setRotation:function(v){return this.rotation=v,this},x:{get:function(){return this.p0.x},set:function(v){this.p0.x=v}},y:{get:function(){return this.p0.y},set:function(v){this.p0.y=v}},xRadius:{get:function(){return this._xRadius},set:function(v){this._xRadius=v}},yRadius:{get:function(){return this._yRadius},set:function(v){this._yRadius=v}},startAngle:{get:function(){return a(this._startAngle)},set:function(v){this._startAngle=d(v)}},endAngle:{get:function(){return a(this._endAngle)},set:function(v){this._endAngle=d(v)}},clockwise:{get:function(){return this._clockwise},set:function(v){this._clockwise=v}},angle:{get:function(){return a(this._rotation)},set:function(v){this._rotation=d(v)}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});l.fromJSON=function(v){return new l(v)},n.exports=l},33951:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(80021),d=e(19217),o=e(87841),a=e(26099),r=new u({Extends:x,initialize:function(v,h){x.call(this,"LineCurve"),Array.isArray(v)&&(h=new a(v[2],v[3]),v=new a(v[0],v[1])),this.p0=v,this.p1=h,this.arcLengthDivisions=1},getBounds:function(l){return l===void 0&&(l=new o),d([this.p0,this.p1],l)},getStartPoint:function(l){return l===void 0&&(l=new a),l.copy(this.p0)},getResolution:function(l){return l===void 0&&(l=1),l},getPoint:function(l,v){return v===void 0&&(v=new a),l===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(l).add(this.p0),v)},getPointAt:function(l,v){return this.getPoint(l,v)},getTangent:function(l,v){return v===void 0&&(v=new a),v.copy(this.p1).subtract(this.p0).normalize(),v},getUtoTmapping:function(l,v,h){var c;if(v){var p=this.getLengths(h),g=p[p.length-1],m=Math.min(v,g);c=m/g}else c=l;return c},draw:function(l){return l.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});r.fromJSON=function(l){var v=l.points,h=new a(v[0],v[1]),c=new a(v[2],v[3]);return new r(h,c)},n.exports=r},14744:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(80021),d=e(32112),o=e(26099),a=new u({Extends:x,initialize:function(l,v,h){x.call(this,"QuadraticBezierCurve"),Array.isArray(l)&&(h=new o(l[4],l[5]),v=new o(l[2],l[3]),l=new o(l[0],l[1])),this.p0=l,this.p1=v,this.p2=h},getStartPoint:function(r){return r===void 0&&(r=new o),r.copy(this.p0)},getResolution:function(r){return r},getPoint:function(r,l){l===void 0&&(l=new o);var v=this.p0,h=this.p1,c=this.p2;return l.set(d(r,v.x,h.x,c.x),d(r,v.y,h.y,c.y))},draw:function(r,l){l===void 0&&(l=32);var v=this.getPoints(l);r.beginPath(),r.moveTo(this.p0.x,this.p0.y);for(var h=1;h<v.length;h++)r.lineTo(v[h].x,v[h].y);return r.strokePath(),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(r){var l=r.points,v=new o(l[0],l[1]),h=new o(l[2],l[3]),c=new o(l[4],l[5]);return new a(v,h,c)},n.exports=a},42534:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87842),x=e(83419),d=e(80021),o=e(26099),a=new x({Extends:d,initialize:function(l){l===void 0&&(l=[]),d.call(this,"SplineCurve"),this.points=[],this.addPoints(l)},addPoints:function(r){for(var l=0;l<r.length;l++){var v=new o;typeof r[l]=="number"?(v.x=r[l],v.y=r[l+1],l++):Array.isArray(r[l])?(v.x=r[l][0],v.y=r[l][1]):(v.x=r[l].x,v.y=r[l].y),this.points.push(v)}return this},addPoint:function(r,l){var v=new o(r,l);return this.points.push(v),v},getStartPoint:function(r){return r===void 0&&(r=new o),r.copy(this.points[0])},getResolution:function(r){return r*this.points.length},getPoint:function(r,l){l===void 0&&(l=new o);var v=this.points,h=(v.length-1)*r,c=Math.floor(h),p=h-c,g=v[c===0?c:c-1],m=v[c],y=v[c>v.length-2?v.length-1:c+1],S=v[c>v.length-3?v.length-1:c+2];return l.set(u(p,g.x,m.x,y.x,S.x),u(p,g.y,m.y,y.y,S.y))},toJSON:function(){for(var r=[],l=0;l<this.points.length;l++)r.push(this.points[l].x),r.push(this.points[l].y);return{type:this.type,points:r}}});a.fromJSON=function(r){return new a(r.points)},n.exports=a},25410:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:e(46669),MoveTo:e(68618),CubicBezier:e(46728),Curve:e(80021),Ellipse:e(73825),Line:e(33951),QuadraticBezier:e(14744),Spline:e(42534)}},68618:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(26099),d=new u({initialize:function(a,r){this.active=!1,this.p0=new x(a,r)},getPoint:function(o,a){return a===void 0&&(a=new x),a.copy(this.p0)},getPointAt:function(o,a){return this.getPoint(o,a)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});n.exports=d},46669:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(46728),d=e(73825),o=e(39429),a=e(33951),r=e(68618),l=e(14744),v=e(87841),h=e(42534),c=e(26099),p=e(36383),g=new u({initialize:function(y,S){y===void 0&&(y=0),S===void 0&&(S=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,typeof y=="object"?this.fromJSON(y):this.startPoint.set(y,S)},add:function(m){return this.curves.push(m),this},circleTo:function(m,y,S){return y===void 0&&(y=!1),this.ellipseTo(m,m,0,360,y,S)},closePath:function(){var m=this.curves[0].getPoint(0),y=this.curves[this.curves.length-1].getPoint(1);return m.equals(y)||this.curves.push(new a(y,m)),this},cubicBezierTo:function(m,y,S,M,P,w){var R=this.getEndPoint(),A,L,F;return m instanceof c?(A=m,L=y,F=S):(A=new c(S,M),L=new c(P,w),F=new c(m,y)),this.add(new x(R,A,L,F))},quadraticBezierTo:function(m,y,S,M){var P=this.getEndPoint(),w,R;return m instanceof c?(w=m,R=y):(w=new c(S,M),R=new c(m,y)),this.add(new l(P,w,R))},draw:function(m,y){for(var S=0;S<this.curves.length;S++){var M=this.curves[S];!M.active||M.draw(m,y)}return m},ellipseTo:function(m,y,S,M,P,w){var R=new d(0,0,m,y,S,M,P,w),A=this.getEndPoint(this._tmpVec2A),L=R.getStartPoint(this._tmpVec2B);return A.subtract(L),R.x=A.x,R.y=A.y,this.add(R)},fromJSON:function(m){this.curves=[],this.cacheLengths=[],this.startPoint.set(m.x,m.y),this.autoClose=m.autoClose;for(var y=0;y<m.curves.length;y++){var S=m.curves[y];switch(S.type){case"LineCurve":this.add(a.fromJSON(S));break;case"EllipseCurve":this.add(d.fromJSON(S));break;case"SplineCurve":this.add(h.fromJSON(S));break;case"CubicBezierCurve":this.add(x.fromJSON(S));break;case"QuadraticBezierCurve":this.add(l.fromJSON(S));break}}return this},getBounds:function(m,y){m===void 0&&(m=new v),y===void 0&&(y=16),m.x=Number.MAX_VALUE,m.y=Number.MAX_VALUE;for(var S=new v,M=p.MIN_SAFE_INTEGER,P=p.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var R=this.curves[w];!R.active||(R.getBounds(S,y),m.x=Math.min(m.x,S.x),m.y=Math.min(m.y,S.y),M=Math.max(M,S.right),P=Math.max(P,S.bottom))}return m.right=M,m.bottom=P,m},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var m=[],y=0,S=0;S<this.curves.length;S++)y+=this.curves[S].getLength(),m.push(y);return this.cacheLengths=m,m},getCurveAt:function(m){for(var y=m*this.getLength(),S=this.getCurveLengths(),M=0;M<S.length;){if(S[M]>=y)return this.curves[M];M++}return null},getEndPoint:function(m){return m===void 0&&(m=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,m):m.copy(this.startPoint),m},getLength:function(){var m=this.getCurveLengths();return m[m.length-1]},getPoint:function(m,y){y===void 0&&(y=new c);for(var S=m*this.getLength(),M=this.getCurveLengths(),P=0;P<M.length;){if(M[P]>=S){var w=M[P]-S,R=this.curves[P],A=R.getLength(),L=A===0?0:1-w/A;return R.getPointAt(L,y)}P++}return null},getPoints:function(m,y){!m&&!y&&(m=this.defaultDivisions);for(var S=[],M,P=0;P<this.curves.length;P++){var w=this.curves[P];if(!!w.active)for(var R=w.getResolution(m),A=w.getPoints(R,y),L=0;L<A.length;L++){var F=A[L];M&&M.equals(F)||(S.push(F),M=F)}}return this.autoClose&&S.length>1&&!S[S.length-1].equals(S[0])&&S.push(S[0]),S},getRandomPoint:function(m){return m===void 0&&(m=new c),this.getPoint(Math.random(),m)},getSpacedPoints:function(m){m===void 0&&(m=40);for(var y=[],S=0;S<=m;S++)y.push(this.getPoint(S/m));return this.autoClose&&y.push(y[0]),y},getStartPoint:function(m){return m===void 0&&(m=new c),m.copy(this.startPoint)},getTangent:function(m,y){y===void 0&&(y=new c);for(var S=m*this.getLength(),M=this.getCurveLengths(),P=0;P<M.length;){if(M[P]>=S){var w=M[P]-S,R=this.curves[P],A=R.getLength(),L=A===0?0:1-w/A;return R.getTangentAt(L,y)}P++}return null},lineTo:function(m,y){m instanceof c?this._tmpVec2B.copy(m):typeof m=="object"?this._tmpVec2B.setFromObject(m):this._tmpVec2B.set(m,y);var S=this.getEndPoint(this._tmpVec2A);return this.add(new a([S.x,S.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(m){return m.unshift(this.getEndPoint()),this.add(new h(m))},moveTo:function(m,y){return m instanceof c?this.add(new r(m.x,m.y)):this.add(new r(m,y))},toJSON:function(){for(var m=[],y=0;y<this.curves.length;y++)m.push(this.curves[y].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:m}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});o.register("path",function(m,y){return new g(m,y)}),n.exports=g},45893:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(24882),d=new u({initialize:function(a,r){this.parent=a,this.events=r,r||(this.events=a.events?a.events:a),this.list={},this.values={},this._frozen=!1,!a.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(o){var a=this.list;if(Array.isArray(o)){for(var r=[],l=0;l<o.length;l++)r.push(a[o[l]]);return r}else return a[o]},getAll:function(){var o={};for(var a in this.list)this.list.hasOwnProperty(a)&&(o[a]=this.list[a]);return o},query:function(o){var a={};for(var r in this.list)this.list.hasOwnProperty(r)&&r.match(o)&&(a[r]=this.list[r]);return a},set:function(o,a){if(this._frozen)return this;if(typeof o=="string")return this.setValue(o,a);for(var r in o)this.setValue(r,o[r]);return this},inc:function(o,a){if(this._frozen)return this;a===void 0&&(a=1);var r=this.get(o);return r===void 0&&(r=0),this.set(o,r+a),this},toggle:function(o){return this._frozen?this:(this.set(o,!this.get(o)),this)},setValue:function(o,a){if(this._frozen)return this;if(this.has(o))this.values[o]=a;else{var r=this,l=this.list,v=this.events,h=this.parent;Object.defineProperty(this.values,o,{enumerable:!0,configurable:!0,get:function(){return l[o]},set:function(c){if(!r._frozen){var p=l[o];l[o]=c,v.emit(x.CHANGE_DATA,h,o,c,p),v.emit(x.CHANGE_DATA_KEY+o,h,c,p)}}}),l[o]=a,v.emit(x.SET_DATA,h,o,a)}return this},each:function(o,a){for(var r=[this.parent,null,void 0],l=1;l<arguments.length;l++)r.push(arguments[l]);for(var v in this.list)r[1]=v,r[2]=this.list[v],o.apply(a,r);return this},merge:function(o,a){a===void 0&&(a=!0);for(var r in o)o.hasOwnProperty(r)&&(a||!a&&!this.has(r))&&this.setValue(r,o[r]);return this},remove:function(o){if(this._frozen)return this;if(Array.isArray(o))for(var a=0;a<o.length;a++)this.removeValue(o[a]);else return this.removeValue(o);return this},removeValue:function(o){if(this.has(o)){var a=this.list[o];delete this.list[o],delete this.values[o],this.events.emit(x.REMOVE_DATA,this.parent,o,a)}return this},pop:function(o){var a=void 0;return!this._frozen&&this.has(o)&&(a=this.list[o],delete this.list[o],delete this.values[o],this.events.emit(x.REMOVE_DATA,this.parent,o,a)),a},has:function(o){return this.list.hasOwnProperty(o)},setFreeze:function(o){return this._frozen=o,this},reset:function(){for(var o in this.list)delete this.list[o],delete this.values[o];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(o){this._frozen=!!o}},count:{get:function(){var o=0;for(var a in this.list)this.list[a]!==void 0&&o++;return o}}});n.exports=d},63646:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(45893),d=e(37277),o=e(44594),a=new u({Extends:x,initialize:function(l){x.call(this,l,l.sys.events),this.scene=l,this.systems=l.sys,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});d.register("DataManagerPlugin",a,"data"),n.exports=a},10700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"},93608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"},60883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},69780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"},22166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"},24882:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:e(10700),CHANGE_DATA_KEY:e(93608),DESTROY:e(60883),REMOVE_DATA:e(69780),SET_DATA:e(22166)}},44965:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:e(45893),DataManagerPlugin:e(63646),Events:e(24882)}},7098:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84148),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function d(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var o=document.createElement("audio"),a=!!o.canPlayType;try{if(a){var r=function(h,c){var p=o.canPlayType("audio/"+h).replace(/^no$/,"");return Boolean(c?p||o.canPlayType("audio/"+c).replace(/^no$/,""):p)};if(x.ogg=r('ogg; codecs="vorbis"'),x.opus=r('ogg; codecs="opus"',"opus"),x.mp3=r("mpeg"),x.wav=r("wav"),x.m4a=r("x-m4a"),x.aac=r("aac"),x.flac=r("flac","x-flac"),x.webm=r('webm; codecs="vorbis"'),o.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(u.edge)x.dolby=!0;else if(u.safari&&u.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var l=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(l===10&&v>=11||l>10)&&(x.dolby=!0)}}}}catch{}return x}n.exports=d()},84148:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25892),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function d(){var o=navigator.userAgent;return/Edg\/\d+/.test(o)?(x.edge=!0,x.es2019=!0):/OPR/.test(o)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(o)&&!u.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(o)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(o)&&u.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(o)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(o)&&!u.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(o)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(o)&&(x.silk=!0),x}n.exports=d()},89289:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function d(){var r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",l="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var h=new Image;h.onload=function(){var c=u.create2D(h,6),p=c.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(v,0,0),p.drawImage(h,2,0),!p.getImageData(2,0,1,1))return!1;var g=p.getImageData(2,0,1,1).data;u.remove(h),x.supportNewBlendModes=g[0]===255&&g[1]===0&&g[2]===0},h.src=r+"/wCKxvRF"+l},v.src=r+"AP804Oa6"+l,!1}function o(){var r=u.create2D(this,2),l=r.getContext("2d",{willReadFrequently:!0});l.fillStyle="rgba(10, 20, 30, 0.5)",l.fillRect(0,0,1,1);var v=l.getImageData(0,0,1,1);if(v===null)return!1;l.putImageData(v,1,0);var h=l.getImageData(1,0,1,1),c=h.data[0]===v.data[0]&&h.data[1]===v.data[1]&&h.data[2]===v.data[2]&&h.data[3]===v.data[3];return u.remove(this),c}function a(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=d(),x.supportInverseAlpha=o()),x}n.exports=a()},89357:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25892),x=e(84148),d=e(27919),o={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function a(){var l=new ArrayBuffer(4),v=new Uint8Array(l),h=new Uint32Array(l);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,h[0]===3569595041?!0:h[0]===2712847316?!1:null}function r(){if(typeof importScripts=="function")return o;o.canvas=!!window.CanvasRenderingContext2D;try{o.localStorage=!!localStorage.getItem}catch{o.localStorage=!1}o.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,o.fileSystem=!!window.requestFileSystem;var l=!1,v=function(){if(window.WebGLRenderingContext)try{var h=d.createWebGL(this),c=h.getContext("webgl")||h.getContext("experimental-webgl"),p=d.create2D(this),g=p.getContext("2d",{willReadFrequently:!0}),m=g.createImageData(1,1);return l=m.data instanceof Uint8ClampedArray,d.remove(h),d.remove(p),!!c}catch{return!1}return!1};return o.webGL=v(),o.worker=!!window.Worker,o.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,o.getUserMedia=o.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(o.getUserMedia=!1),!u.iOS&&(x.ie||x.firefox||x.chrome)&&(o.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(o.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(o.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(o.littleEndian=a()),o.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&o.littleEndian!==null&&l,o}n.exports=r()},91639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return C;var u,x="Fullscreen",d="FullScreen",o=["request"+x,"request"+d,"webkitRequest"+x,"webkitRequest"+d,"msRequest"+x,"msRequest"+d,"mozRequest"+d,"mozRequest"+x];for(u=0;u<o.length;u++)if(document.documentElement[o[u]]){C.available=!0,C.request=o[u];break}var a=["cancel"+d,"exit"+x,"webkitCancel"+d,"webkitExit"+x,"msCancel"+d,"msExit"+x,"mozCancel"+d,"mozExit"+x];if(C.available){for(u=0;u<a.length;u++)if(document[a[u]]){C.cancel=a[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(C.keyboard=!0),Object.defineProperty(C,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),C}n.exports=e()},31784:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84148),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function d(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||u.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":u.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}n.exports=d()},25892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function e(){if(typeof importScripts=="function")return C;var u=navigator.userAgent;/Windows/.test(u)?C.windows=!0:/Mac OS/.test(u)&&!/like Mac OS/.test(u)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(C.iOS=!0,C.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),C.iOSVersion=parseInt(RegExp.$1,10)):C.macOS=!0:/Android/.test(u)?C.android=!0:/Linux/.test(u)?C.linux=!0:/iP[ao]d|iPhone/i.test(u)?(C.iOS=!0,navigator.appVersion.match(/OS (\d+)/),C.iOSVersion=parseInt(RegExp.$1,10),C.iPhone=u.toLowerCase().indexOf("iphone")!==-1,C.iPad=u.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(u)||/\bKF[A-Z][A-Z]+/.test(u)||/Silk.*Mobile Safari/.test(u)?C.kindle=!0:/CrOS/.test(u)&&(C.chromeOS=!0),(/Windows Phone/i.test(u)||/IEMobile/i.test(u))&&(C.android=!1,C.iOS=!1,C.macOS=!1,C.windows=!0,C.windowsPhone=!0);var x=/Silk/.test(u);return(C.windows||C.macOS||C.linux&&!x||C.chromeOS)&&(C.desktop=!0),(C.windowsPhone||/Windows NT/i.test(u)&&/Touch/i.test(u))&&(C.desktop=!1),navigator.standalone&&(C.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(C.cordova=!0),window.ejecta!==void 0&&(C.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(C.node=!0),C.node&&typeof process.versions=="object"&&(C.nodeWebkit=!!process.versions["node-webkit"],C.electron=!!process.versions.electron),/Crosswalk/.test(u)&&(C.crosswalk=!0),C.pixelRatio=window.devicePixelRatio||1,C}n.exports=e()},43267:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function d(){if(typeof importScripts=="function")return x;var o=document.createElement("video"),a=!!o.canPlayType,r=/^no$/;try{a&&(o.canPlayType('video/ogg; codecs="theora"').replace(r,"")&&(x.ogg=!0),o.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(r,"")&&(x.h264=!0,x.mp4=!0),o.canPlayType("video/x-m4v").replace(r,"")&&(x.m4v=!0),o.canPlayType('video/webm; codecs="vp8, vorbis"').replace(r,"")&&(x.webm=!0),o.canPlayType('video/webm; codecs="vp9"').replace(r,"")&&(x.vp9=!0),o.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(r,"")&&(x.hls=!0))}catch{}return o.parentNode&&o.parentNode.removeChild(o),x.getVideoURL=function(l){Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++){var h=u(l[v],"url",l[v]);if(h.indexOf("blob:")===0)return{url:h,type:""};var c;if(h.indexOf("data:")===0?c=h.split(",")[0].match(/\/(.*?);/):c=h.match(/\.([a-zA-Z0-9]+)($|\?)/),c=u(l[v],"type",c?c[1]:"").toLowerCase(),x[c])return{url:h,type:c}}return null},x}n.exports=d()},82264:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:e(25892),browser:e(84148),features:e(89357),input:e(31784),audio:e(7098),video:e(43267),fullscreen:e(91639),canvasFeatures:e(89289)}},89422:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new Float32Array(20),d=new u({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(o){return this._matrix.set(o),this._dirty=!0,this},reset:function(){var o=this._matrix;return o.fill(0),o[0]=1,o[6]=1,o[12]=1,o[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var o=this._data;return this._dirty&&(o.set(this._matrix),o[4]/=255,o[9]/=255,o[14]/=255,o[19]/=255,this._dirty=!1),o},brightness:function(o,a){o===void 0&&(o=0),a===void 0&&(a=!1);var r=o;return this.multiply([r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0],a)},saturate:function(o,a){o===void 0&&(o=0),a===void 0&&(a=!1);var r=o*2/3+1,l=(r-1)*-.5;return this.multiply([r,l,l,0,0,l,r,l,0,0,l,l,r,0,0,0,0,0,1,0],a)},desaturate:function(o){return o===void 0&&(o=!1),this.saturate(-1,o)},hue:function(o,a){o===void 0&&(o=0),a===void 0&&(a=!1),o=o/180*Math.PI;var r=Math.cos(o),l=Math.sin(o),v=.213,h=.715,c=.072;return this.multiply([v+r*(1-v)+l*-v,h+r*-h+l*-h,c+r*-c+l*(1-c),0,0,v+r*-v+l*.143,h+r*(1-h)+l*.14,c+r*-c+l*-.283,0,0,v+r*-v+l*-(1-v),h+r*-h+l*h,c+r*(1-c)+l*c,0,0,0,0,0,1,0],a)},grayscale:function(o,a){return o===void 0&&(o=1),a===void 0&&(a=!1),this.saturate(-o,a)},blackWhite:function(o){return o===void 0&&(o=!1),this.multiply(d.BLACK_WHITE,o)},contrast:function(o,a){o===void 0&&(o=0),a===void 0&&(a=!1);var r=o+1,l=-.5*(r-1);return this.multiply([r,0,0,0,l,0,r,0,0,l,0,0,r,0,l,0,0,0,1,0],a)},negative:function(o){return o===void 0&&(o=!1),this.multiply(d.NEGATIVE,o)},desaturateLuminance:function(o){return o===void 0&&(o=!1),this.multiply(d.DESATURATE_LUMINANCE,o)},sepia:function(o){return o===void 0&&(o=!1),this.multiply(d.SEPIA,o)},night:function(o,a){return o===void 0&&(o=.1),a===void 0&&(a=!1),this.multiply([o*-2,-o,0,0,0,-o,0,o,0,0,0,o,o*2,0,0,0,0,0,1,0],a)},lsd:function(o){return o===void 0&&(o=!1),this.multiply(d.LSD,o)},brown:function(o){return o===void 0&&(o=!1),this.multiply(d.BROWN,o)},vintagePinhole:function(o){return o===void 0&&(o=!1),this.multiply(d.VINTAGE,o)},kodachrome:function(o){return o===void 0&&(o=!1),this.multiply(d.KODACHROME,o)},technicolor:function(o){return o===void 0&&(o=!1),this.multiply(d.TECHNICOLOR,o)},polaroid:function(o){return o===void 0&&(o=!1),this.multiply(d.POLAROID,o)},shiftToBGR:function(o){return o===void 0&&(o=!1),this.multiply(d.SHIFT_BGR,o)},multiply:function(o,a){a===void 0&&(a=!1),a||this.reset();var r=this._matrix,l=x;return l.set(r),r.set([l[0]*o[0]+l[1]*o[5]+l[2]*o[10]+l[3]*o[15],l[0]*o[1]+l[1]*o[6]+l[2]*o[11]+l[3]*o[16],l[0]*o[2]+l[1]*o[7]+l[2]*o[12]+l[3]*o[17],l[0]*o[3]+l[1]*o[8]+l[2]*o[13]+l[3]*o[18],l[0]*o[4]+l[1]*o[9]+l[2]*o[14]+l[3]*o[19]+l[4],l[5]*o[0]+l[6]*o[5]+l[7]*o[10]+l[8]*o[15],l[5]*o[1]+l[6]*o[6]+l[7]*o[11]+l[8]*o[16],l[5]*o[2]+l[6]*o[7]+l[7]*o[12]+l[8]*o[17],l[5]*o[3]+l[6]*o[8]+l[7]*o[13]+l[8]*o[18],l[5]*o[4]+l[6]*o[9]+l[7]*o[14]+l[8]*o[19]+l[9],l[10]*o[0]+l[11]*o[5]+l[12]*o[10]+l[13]*o[15],l[10]*o[1]+l[11]*o[6]+l[12]*o[11]+l[13]*o[16],l[10]*o[2]+l[11]*o[7]+l[12]*o[12]+l[13]*o[17],l[10]*o[3]+l[11]*o[8]+l[12]*o[13]+l[13]*o[18],l[10]*o[4]+l[11]*o[9]+l[12]*o[14]+l[13]*o[19]+l[14],l[15]*o[0]+l[16]*o[5]+l[17]*o[10]+l[18]*o[15],l[15]*o[1]+l[16]*o[6]+l[17]*o[11]+l[18]*o[16],l[15]*o[2]+l[16]*o[7]+l[17]*o[12]+l[18]*o[17],l[15]*o[3]+l[16]*o[8]+l[17]*o[13]+l[18]*o[18],l[15]*o[4]+l[16]*o[9]+l[17]*o[14]+l[18]*o[19]+l[19]]),this._dirty=!0,this}});d.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],d.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],d.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],d.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],d.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],d.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],d.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],d.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],d.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],d.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],d.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=d},51767:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(29747),d=new u({initialize:function(a,r,l){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(a,r,l)},set:function(o,a,r){return o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=0),this._rgb=[o,a,r],this.onChange(),this},equals:function(o,a,r){var l=this._rgb;return l[0]===o&&l[1]===a&&l[2]===r},onChange:function(){this.dirty=!0;var o=this._rgb;this.onChangeCallback.call(this,o[0],o[1],o[2])},r:{get:function(){return this._rgb[0]},set:function(o){this._rgb[0]=o,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(o){this._rgb[1]=o,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(o){this._rgb[2]=o,this.onChange()}},destroy:function(){this.onChangeCallback=null}});n.exports=d},60461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=C},54312:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),x=e(35893),d=e(86327),o=e(88417),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,x(l)+v),d(r,u(l)+h),r};n.exports=a},46768:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),x=e(26541),d=e(86327),o=e(385),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,x(l)-v),d(r,u(l)+h),r};n.exports=a},35827:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),x=e(54380),d=e(86327),o=e(40136),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,x(l)+v),d(r,u(l)+h),r};n.exports=a},46871:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66786),x=e(35893),d=e(7702),o=function(a,r,l,v){return l===void 0&&(l=0),v===void 0&&(v=0),u(a,x(r)+l,d(r)+v),a};n.exports=o},5198:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7702),x=e(26541),d=e(20786),o=e(385),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,x(l)-v),d(r,u(l)+h),r};n.exports=a},11879:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60461),x=[];x[u.BOTTOM_CENTER]=e(54312),x[u.BOTTOM_LEFT]=e(46768),x[u.BOTTOM_RIGHT]=e(35827),x[u.CENTER]=e(46871),x[u.LEFT_CENTER]=e(5198),x[u.RIGHT_CENTER]=e(80503),x[u.TOP_CENTER]=e(89698),x[u.TOP_LEFT]=e(922),x[u.TOP_RIGHT]=e(21373),x[u.LEFT_BOTTOM]=x[u.BOTTOM_LEFT],x[u.LEFT_TOP]=x[u.TOP_LEFT],x[u.RIGHT_BOTTOM]=x[u.BOTTOM_RIGHT],x[u.RIGHT_TOP]=x[u.TOP_RIGHT];var d=function(o,a,r,l,v){return x[r](o,a,l,v)};n.exports=d},80503:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7702),x=e(54380),d=e(20786),o=e(40136),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,x(l)+v),d(r,u(l)+h),r};n.exports=a},89698:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35893),x=e(17717),d=e(88417),o=e(66737),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),d(r,u(l)+v),o(r,x(l)-h),r};n.exports=a},922:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26541),x=e(17717),d=e(385),o=e(66737),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),d(r,u(l)-v),o(r,x(l)-h),r};n.exports=a},21373:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54380),x=e(17717),d=e(40136),o=e(66737),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),d(r,u(l)+v),o(r,x(l)-h),r};n.exports=a},91660:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:e(54312),BottomLeft:e(46768),BottomRight:e(35827),Center:e(46871),LeftCenter:e(5198),QuickSet:e(11879),RightCenter:e(80503),TopCenter:e(89698),TopLeft:e(922),TopRight:e(21373)}},71926:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60461),x=e(79291),d={In:e(91660),To:e(16694)};d=x(!1,d,u),n.exports=d},21578:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),x=e(35893),d=e(88417),o=e(66737),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),d(r,x(l)+v),o(r,u(l)+h),r};n.exports=a},10210:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),x=e(26541),d=e(385),o=e(66737),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),d(r,x(l)-v),o(r,u(l)+h),r};n.exports=a},82341:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),x=e(54380),d=e(40136),o=e(66737),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),d(r,x(l)+v),o(r,u(l)+h),r};n.exports=a},87958:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),x=e(26541),d=e(86327),o=e(40136),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,x(l)-v),d(r,u(l)+h),r};n.exports=a},40080:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7702),x=e(26541),d=e(20786),o=e(40136),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,x(l)-v),d(r,u(l)+h),r};n.exports=a},88466:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26541),x=e(17717),d=e(40136),o=e(66737),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),d(r,u(l)-v),o(r,x(l)-h),r};n.exports=a},38829:(n,C,e)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60461),x=[];x[u.BOTTOM_CENTER]=e(21578),x[u.BOTTOM_LEFT]=e(10210),x[u.BOTTOM_RIGHT]=e(82341),x[u.LEFT_BOTTOM]=e(87958),x[u.LEFT_CENTER]=e(40080),x[u.LEFT_TOP]=e(88466),x[u.RIGHT_BOTTOM]=e(19211),x[u.RIGHT_CENTER]=e(34609),x[u.RIGHT_TOP]=e(48741),x[u.TOP_CENTER]=e(49440),x[u.TOP_LEFT]=e(81288),x[u.TOP_RIGHT]=e(61323);var d=function(o,a,r,l,v){return x[r](o,a,l,v)};n.exports=d},19211:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),x=e(54380),d=e(86327),o=e(385),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,x(l)+v),d(r,u(l)+h),r};n.exports=a},34609:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7702),x=e(54380),d=e(20786),o=e(385),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,x(l)+v),d(r,u(l)+h),r};n.exports=a},48741:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54380),x=e(17717),d=e(385),o=e(66737),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),d(r,u(l)+v),o(r,x(l)-h),r};n.exports=a},49440:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35893),x=e(17717),d=e(86327),o=e(88417),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,u(l)+v),d(r,x(l)-h),r};n.exports=a},81288:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26541),x=e(17717),d=e(86327),o=e(385),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,u(l)-v),d(r,x(l)-h),r};n.exports=a},61323:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54380),x=e(17717),d=e(86327),o=e(40136),a=function(r,l,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),o(r,u(l)+v),d(r,x(l)-h),r};n.exports=a},16694:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:e(21578),BottomLeft:e(10210),BottomRight:e(82341),LeftBottom:e(87958),LeftCenter:e(40080),LeftTop:e(88466),QuickSet:e(38829),RightBottom:e(19211),RightCenter:e(34609),RightTop:e(48741),TopCenter:e(49440),TopLeft:e(81288),TopRight:e(61323)}},66786:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88417),x=e(20786),d=function(o,a,r){return u(o,a),x(o,r)};n.exports=d},62235:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.y+e.height-e.height*e.originY};n.exports=C},72873:(n,C,e)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62235),x=e(26541),d=e(54380),o=e(17717),a=e(87841),r=function(l,v){v===void 0&&(v=new a);var h=x(l),c=o(l);return v.x=h,v.y=c,v.width=d(l)-h,v.height=u(l)-c,v};n.exports=r},35893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.x-e.width*e.originX+e.width*.5};n.exports=C},7702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.y-e.height*e.originY+e.height*.5};n.exports=C},26541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.x-e.width*e.originX};n.exports=C},87431:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.width*e.originX};n.exports=C},46928:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.height*e.originY};n.exports=C},54380:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.x+e.width-e.width*e.originX};n.exports=C},17717:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.y-e.height*e.originY};n.exports=C},86327:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.y=u-e.height+e.height*e.originY,e};n.exports=C},88417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.width*e.originX;return e.x=u+x-e.width*.5,e};n.exports=C},20786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.height*e.originY;return e.y=u+x-e.height*.5,e};n.exports=C},385:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x=u+e.width*e.originX,e};n.exports=C},40136:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x=u-e.width+e.width*e.originX,e};n.exports=C},66737:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.y=u+e.height*e.originY,e};n.exports=C},58724:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:e(66786),GetBottom:e(62235),GetBounds:e(72873),GetCenterX:e(35893),GetCenterY:e(7702),GetLeft:e(26541),GetOffsetX:e(87431),GetOffsetY:e(46928),GetRight:e(54380),GetTop:e(17717),SetBottom:e(86327),SetCenterX:e(88417),SetCenterY:e(20786),SetLeft:e(385),SetRight:e(40136),SetTop:e(66737)}},20623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCrisp:function(e){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(x){e.style["image-rendering"]=x}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};n.exports=C},27919:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8054),x=e(68703),d=[],o=!1,a=function(){var r=function(S,M,P,w,R){M===void 0&&(M=1),P===void 0&&(P=1),w===void 0&&(w=u.CANVAS),R===void 0&&(R=!1);var A,L=h(w);return L===null?(L={parent:S,canvas:document.createElement("canvas"),type:w},w===u.CANVAS&&d.push(L),A=L.canvas):(L.parent=S,A=L.canvas),R&&(L.parent=A),A.width=M,A.height=P,o&&w===u.CANVAS&&x.disable(A.getContext("2d",{willReadFrequently:!1})),A},l=function(S,M,P){return r(S,M,P,u.CANVAS)},v=function(S,M,P){return r(S,M,P,u.WEBGL)},h=function(S){if(S===void 0&&(S=u.CANVAS),S===u.WEBGL)return null;for(var M=0;M<d.length;M++){var P=d[M];if(!P.parent&&P.type===S)return P}return null},c=function(S){var M=S instanceof HTMLCanvasElement;d.forEach(function(P){(M&&P.canvas===S||!M&&P.parent===S)&&(P.parent=null,P.canvas.width=1,P.canvas.height=1)})},p=function(){var S=0;return d.forEach(function(M){M.parent&&S++}),S},g=function(){return d.length-p()},m=function(){o=!0},y=function(){o=!1};return{create2D:l,create:r,createWebGL:v,disableSmoothing:m,enableSmoothing:y,first:h,free:g,pool:d,remove:c,total:p}};n.exports=a()},68703:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="",e=function(){var u=function(a){for(var r=["i","webkitI","msI","mozI","oI"],l=0;l<r.length;l++){var v=r[l]+"mageSmoothingEnabled";if(v in a)return v}return null},x=function(a){return C===""&&(C=u(a)),C&&(a[C]=!0),a},d=function(a){return C===""&&(C=u(a)),C&&(a[C]=!1),a},o=function(a){return C!==null?a[C]:null};return{disable:d,enable:x,getPrefix:u,isEnabled:o}};n.exports=e()},65208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u="none"),e.style.msTouchAction=u,e.style["ms-touch-action"]=u,e.style["touch-action"]=u,e};n.exports=C},91610:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(d){e.style[d+"user-select"]=u}),e.style["-webkit-touch-callout"]=u,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};n.exports=C},26253:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:e(20623),CanvasPool:e(27919),Smoothing:e(68703),TouchAction:e(65208),UserSelect:e(91610)}},40987:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(37589),d=e(1e3),o=e(7537),a=e(87837),r=new u({initialize:function(v,h,c,p){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,h,c,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(l,v,h,c,p){return c===void 0&&(c=255),p===void 0&&(p=!0),this._locked=!0,this.red=l,this.green=v,this.blue=h,this.alpha=c,this._locked=!1,this.update(p)},setGLTo:function(l,v,h,c){return c===void 0&&(c=1),this._locked=!0,this.redGL=l,this.greenGL=v,this.blueGL=h,this.alphaGL=c,this._locked=!1,this.update(!0)},setFromRGB:function(l){return this._locked=!0,this.red=l.r,this.green=l.g,this.blue=l.b,l.hasOwnProperty("a")&&(this.alpha=l.a),this._locked=!1,this.update(!0)},setFromHSV:function(l,v,h){return o(l,v,h,this)},update:function(l){if(l===void 0&&(l=!1),this._locked)return this;var v=this.r,h=this.g,c=this.b,p=this.a;return this._color=x(v,h,c),this._color32=d(v,h,c,p),this._rgba="rgba("+v+","+h+","+c+","+p/255+")",l&&a(v,h,c,this),this},updateHSV:function(){var l=this.r,v=this.g,h=this.b;return a(l,v,h,this),this},clone:function(){return new r(this.r,this.g,this.b,this.a)},gray:function(l){return this.setTo(l,l,l)},random:function(l,v){l===void 0&&(l=0),v===void 0&&(v=255);var h=Math.floor(l+Math.random()*(v-l)),c=Math.floor(l+Math.random()*(v-l)),p=Math.floor(l+Math.random()*(v-l));return this.setTo(h,c,p)},randomGray:function(l,v){l===void 0&&(l=0),v===void 0&&(v=255);var h=Math.floor(l+Math.random()*(v-l));return this.setTo(h,h,h)},saturate:function(l){return this.s+=l/100,this},desaturate:function(l){return this.s-=l/100,this},lighten:function(l){return this.v+=l/100,this},darken:function(l){return this.v-=l/100,this},brighten:function(l){var v=this.r,h=this.g,c=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(l/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(l/100)))),c=Math.max(0,Math.min(255,c-Math.round(255*-(l/100)))),this.setTo(v,h,c)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(l){this.gl[0]=Math.min(Math.abs(l),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(l){this.gl[1]=Math.min(Math.abs(l),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(l){this.gl[2]=Math.min(Math.abs(l),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(l){this.gl[3]=Math.min(Math.abs(l),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(l){l=Math.floor(Math.abs(l)),this.r=Math.min(l,255),this.gl[0]=l/255,this.update(!0)}},green:{get:function(){return this.g},set:function(l){l=Math.floor(Math.abs(l)),this.g=Math.min(l,255),this.gl[1]=l/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(l){l=Math.floor(Math.abs(l)),this.b=Math.min(l,255),this.gl[2]=l/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(l){l=Math.floor(Math.abs(l)),this.a=Math.min(l,255),this.gl[3]=l/255,this.update()}},h:{get:function(){return this._h},set:function(l){this._h=l,o(l,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(l){this._s=l,o(this._h,l,this._v,this)}},v:{get:function(){return this._v},set:function(l){this._v=l,o(this._h,this._s,l,this)}}});n.exports=r},92728:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37589),x=function(d){d===void 0&&(d=1024);var o=[],a=255,r,l=255,v=0,h=0;for(r=0;r<=a;r++)o.push({r:l,g:r,b:h,color:u(l,r,h)});for(v=255,r=a;r>=0;r--)o.push({r,g:v,b:h,color:u(r,v,h)});for(l=0,r=0;r<=a;r++,v--)o.push({r:l,g:v,b:r,color:u(l,v,r)});for(v=0,h=255,r=0;r<=a;r++,h--,l++)o.push({r:l,g:v,b:h,color:u(l,v,h)});if(d===1024)return o;var c=[],p=0,g=1024/d;for(r=0;r<d;r++)c.push(o[Math.floor(p)]),p+=g;return c};n.exports=x},91588:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(u.a=e>>>24),u};n.exports=C},62957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u=e.toString(16);return u.length===1?"0"+u:u};n.exports=C},37589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e<<16|u<<8|x};n.exports=C},1e3:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){return d<<24|e<<16|u<<8|x};n.exports=C},62183:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),x=e(89528),d=function(o,a,r){var l=r,v=r,h=r;if(a!==0){var c=r<.5?r*(1+a):r+a-r*a,p=2*r-c;l=x(p,c,o+1/3),v=x(p,c,o),h=x(p,c,o-1/3)}var g=new u;return g.setGLTo(l,v,h,1)};n.exports=d},27939:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7537),x=function(d,o){d===void 0&&(d=1),o===void 0&&(o=1);for(var a=[],r=0;r<=359;r++)a.push(u(r/359,d,o));return a};n.exports=x},7537:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37589);function x(o,a,r,l){var v=(o+a*6)%6,h=Math.min(v,4-v,1);return Math.round(255*(l-l*r*Math.max(0,h)))}var d=function(o,a,r,l){a===void 0&&(a=1),r===void 0&&(r=1);var v=x(5,o,a,r),h=x(3,o,a,r),c=x(1,o,a,r);return l?l.setTo?l.setTo(v,h,c,l.alpha,!0):(l.r=v,l.g=h,l.b=c,l.color=u(v,h,c),l):{r:v,g:h,b:c,color:u(v,h,c)}};n.exports=d},70238:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),x=function(d){var o=new u;d=d.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(h,c,p,g){return c+c+p+p+g+g});var a=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d);if(a){var r=parseInt(a[1],16),l=parseInt(a[2],16),v=parseInt(a[3],16);o.setTo(r,l,v)}return o};n.exports=x},89528:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?e+(u-e)*6*x:x<.5?u:x<.6666666666666666?e+(u-e)*(.6666666666666666-x)*6:e};n.exports=C},30100:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),x=e(90664),d=function(o){var a=x(o);return new u(a.r,a.g,a.b,a.a)};n.exports=d},90664:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};n.exports=C},13699:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28915),x=function(a,r,l,v,h,c,p,g){p===void 0&&(p=100),g===void 0&&(g=0);var m=g/p;return{r:u(a,v,m),g:u(r,h,m),b:u(l,c,m)}},d=function(a,r,l,v){return l===void 0&&(l=100),v===void 0&&(v=0),x(a.r,a.g,a.b,r.r,r.g,r.b,l,v)},o=function(a,r,l,v,h,c){return h===void 0&&(h=100),c===void 0&&(c=0),x(a.r,a.g,a.b,r,l,v,h,c)};n.exports={RGBWithRGB:x,ColorWithRGB:o,ColorWithColor:d}},68957:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),x=function(d){return new u(d.r,d.g,d.b,d.a)};n.exports=x},87388:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987),x=function(d){var o=new u,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(d.toLowerCase());if(a){var r=parseInt(a[1],10),l=parseInt(a[2],10),v=parseInt(a[3],10),h=a[4]!==void 0?parseFloat(a[4]):1;o.setTo(r,l,v,h*255)}return o};n.exports=x},87837:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){d===void 0&&(d={h:0,s:0,v:0}),e/=255,u/=255,x/=255;var o=Math.min(e,u,x),a=Math.max(e,u,x),r=a-o,l=0,v=a===0?0:r/a,h=a;return a!==o&&(a===e?l=(u-x)/r+(u<x?6:0):a===u?l=(x-e)/r+2:a===x&&(l=(e-u)/r+4),l/=6),d.hasOwnProperty("_h")?(d._h=l,d._s=v,d._v=h):(d.h=l,d.s=v,d.v=h),d};n.exports=C},75723:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62957),x=function(d,o,a,r,l){return r===void 0&&(r=255),l===void 0&&(l="#"),l==="#"?"#"+((1<<24)+(d<<16)+(o<<8)+a).toString(16).slice(1,7):"0x"+u(r)+u(d)+u(o)+u(a)};n.exports=x},85386:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30976),x=e(40987),d=function(o,a){return o===void 0&&(o=0),a===void 0&&(a=255),new x(u(o,a),u(o,a),u(o,a))};n.exports=d},80333:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70238),x=e(30100),d=e(68957),o=e(87388),a=function(r){var l=typeof r;switch(l){case"string":return r.substr(0,3).toLowerCase()==="rgb"?o(r):u(r);case"number":return x(r);case"object":return d(r)}};n.exports=a},3956:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40987);u.ColorSpectrum=e(92728),u.ColorToRGBA=e(91588),u.ComponentToHex=e(62957),u.GetColor=e(37589),u.GetColor32=e(1e3),u.HexStringToColor=e(70238),u.HSLToColor=e(62183),u.HSVColorWheel=e(27939),u.HSVToRGB=e(7537),u.HueToComponent=e(89528),u.IntegerToColor=e(30100),u.IntegerToRGB=e(90664),u.Interpolate=e(13699),u.ObjectToColor=e(68957),u.RandomRGB=e(85386),u.RGBStringToColor=e(87388),u.RGBToHSV=e(87837),u.RGBToString=e(75723),u.ValueToColor=e(80333),n.exports=u},27460:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:e(71926),BaseShader:e(73894),Bounds:e(58724),Canvas:e(26253),Color:e(3956),ColorMatrix:e(89422),Masks:e(69781),RGB:e(51767)}},6858:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(39429),d=new u({initialize:function(a,r,l,v,h,c){r||(r=a.sys.make.image({x:l,y:v,key:h,frame:c,add:!1})),this.bitmapMask=r,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(o){this.bitmapMask=o},preRenderWebGL:function(o,a,r){o.pipelines.BITMAPMASK_PIPELINE.beginMask(this,a,r)},postRenderWebGL:function(o,a,r){o.pipelines.BITMAPMASK_PIPELINE.endMask(this,a,r)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(o,a,r,l,v){return new d(this.scene,o,a,r,l,v)}),n.exports=d},80661:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a){this.geometryMask=a,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(d){return this.geometryMask=d,this},setInvertAlpha:function(d){return d===void 0&&(d=!0),this.invertAlpha=d,this},preRenderWebGL:function(d,o,a){var r=d.gl;d.flush(),d.maskStack.length===0&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),d.maskCount=0),d.currentCameraMask.mask!==this&&(d.currentMask.mask=this),d.maskStack.push({mask:this,camera:a}),this.applyStencil(d,a,!0),d.maskCount++},applyStencil:function(d,o,a){var r=d.gl,l=this.geometryMask,v=d.maskCount,h=255;r.colorMask(!1,!1,!1,!1),a?(r.stencilFunc(r.EQUAL,v,h),r.stencilOp(r.KEEP,r.KEEP,r.INCR),v++):(r.stencilFunc(r.EQUAL,v+1,h),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),this.level=v,l.renderWebGL(d,l,o),d.flush(),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),this.invertAlpha?r.stencilFunc(r.NOTEQUAL,v,h):r.stencilFunc(r.EQUAL,v,h)},postRenderWebGL:function(d){var o=d.gl;d.maskStack.pop(),d.maskCount--,d.flush();var a=d.currentMask;if(d.maskStack.length===0)a.mask=null,o.disable(o.STENCIL_TEST);else{var r=d.maskStack[d.maskStack.length-1];r.mask.applyStencil(d,r.camera,!1),d.currentCameraMask.mask!==r.mask?(a.mask=r.mask,a.camera=r.camera):a.mask=null}},preRenderCanvas:function(d,o,a){var r=this.geometryMask;d.currentContext.save(),r.renderCanvas(d,r,a,null,null,!0),d.currentContext.clip()},postRenderCanvas:function(d){d.currentContext.restore()},destroy:function(){this.geometryMask=null}});n.exports=x},69781:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:e(6858),GeometryMask:e(80661)}},73894:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r,l){(!a||a==="")&&(a=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!r||r==="")&&(r=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),l===void 0&&(l=null),this.key=o,this.fragmentSrc=a,this.vertexSrc=r,this.uniforms=l}});n.exports=x},40366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x;if(u)typeof u=="string"?x=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(x=u);else if(e.parentElement||u===null)return e;return x||(x=document.body),x.appendChild(e),e};n.exports=C},83719:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40366),x=function(d){var o=d.config;if(!(!o.parent||!o.domCreateContainer)){var a=document.createElement("div");a.style.cssText=["display: block;","width: "+d.scale.width+"px;","height: "+d.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+o.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),d.domContainer=a,u(a,o.parent)}};n.exports=x},57264:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25892),x=function(d){if(document.readyState==="complete"||document.readyState==="interactive"){d();return}var o=function(){document.removeEventListener("deviceready",o,!0),document.removeEventListener("DOMContentLoaded",o,!0),window.removeEventListener("load",o,!0),d()};document.body?u.cordova?document.addEventListener("deviceready",o,!1):(document.addEventListener("DOMContentLoaded",o,!0),window.addEventListener("load",o,!0)):window.setTimeout(o,20)};n.exports=x},57811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){if(!e)return window.innerHeight;var u=Math.abs(window.orientation),x={w:0,h:0},d=document.createElement("div");return d.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(d),x.w=u===90?d.offsetHeight:window.innerWidth,x.h=u===90?window.innerWidth:d.offsetHeight,document.documentElement.removeChild(d),d=null,Math.abs(window.orientation)!==90?x.h:x.w};n.exports=C},45818:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13560),x=function(d,o){var a=window.screen,r=a?a.orientation||a.mozOrientation||a.msOrientation:!1;if(r&&typeof r.type=="string")return r.type;if(typeof r=="string")return r;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return u.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return u.ORIENTATION.LANDSCAPE}else return o>d?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE};n.exports=x},74403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u;return e!==""&&(typeof e=="string"?u=document.getElementById(e):e&&e.nodeType===1&&(u=e)),u||(u=document.body),u};n.exports=C},56836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u="";try{if(window.DOMParser){var x=new DOMParser;u=x.parseFromString(e,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(e)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};n.exports=C},35846:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){e.parentNode&&e.parentNode.removeChild(e)};n.exports=C},43092:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(29747),d=new u({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var a=this;this.step=function r(l){a.callback(l),a.isRunning&&(a.timeOutID=window.requestAnimationFrame(r))},this.stepTimeout=function r(){a.isRunning&&(a.timeOutID=window.setTimeout(r,a.delay)),a.callback(window.performance.now())}},start:function(o,a,r){this.isRunning||(this.callback=o,this.isSetTimeOut=a,this.delay=r,this.isRunning=!0,this.timeOutID=a?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});n.exports=d},84902:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={AddToDOM:e(40366),DOMContentLoaded:e(57264),GetInnerHeight:e(57811),GetScreenOrientation:e(45818),GetTarget:e(74403),ParseXML:e(56836),RemoveFromDOM:e(35846),RequestAnimationFrame:e(43092)};n.exports=u},47565:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50792),d=e(37277),o=new u({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});d.register("EventEmitter",o,"events"),n.exports=o},93055:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:e(47565)}},20122:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l){l===void 0&&(l=1),x.call(this,d.BARREL,r),this.amount=l}});n.exports=o},32251:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c,p,g){v===void 0&&(v=1),h===void 0&&(h=1),c===void 0&&(c=1),p===void 0&&(p=1),g===void 0&&(g=4),x.call(this,d.BLOOM,r),this.steps=g,this.offsetX=v,this.offsetY=h,this.blurStrength=c,this.strength=p,this.glcolor=[1,1,1],l!=null&&(this.color=l)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var r=this.glcolor;r[0]=(a>>16&255)/255,r[1]=(a>>8&255)/255,r[2]=(a&255)/255}}});n.exports=o},9047:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c,p,g){l===void 0&&(l=0),v===void 0&&(v=2),h===void 0&&(h=2),c===void 0&&(c=1),g===void 0&&(g=4),x.call(this,d.BLUR,r),this.quality=l,this.x=v,this.y=h,this.steps=g,this.strength=c,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var r=this.glcolor;r[0]=(a>>16&255)/255,r[1]=(a>>8&255)/255,r[2]=(a&255)/255}}});n.exports=o},27885:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c,p,g,m){l===void 0&&(l=.5),v===void 0&&(v=1),h===void 0&&(h=.2),c===void 0&&(c=!1),p===void 0&&(p=1),g===void 0&&(g=1),m===void 0&&(m=1),x.call(this,d.BOKEH,r),this.radius=l,this.amount=v,this.contrast=h,this.isTiltShift=c,this.strength=m,this.blurX=p,this.blurY=g}});n.exports=o},12578:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c,p){l===void 0&&(l=8),c===void 0&&(c=1),p===void 0&&(p=.005),x.call(this,d.CIRCLE,r),this.scale=c,this.feather=p,this.thickness=l,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),h!=null&&(this.backgroundColor=h)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var r=this.glcolor;r[0]=(a>>16&255)/255,r[1]=(a>>8&255)/255,r[2]=(a&255)/255}},backgroundColor:{get:function(){var a=this.glcolor2;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var r=this.glcolor2;r[0]=(a>>16&255)/255,r[1]=(a>>8&255)/255,r[2]=(a&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(a){this.glcolor2[3]=a}}});n.exports=o},15802:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(89422),d=e(14811),o=new u({Extends:x,initialize:function(r){x.call(this),this.type=d.COLOR_MATRIX,this.gameObject=r,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});n.exports=o},72898:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a){this.type=o,this.gameObject=a,this.active=!0},setActive:function(d){return this.active=d,this},destroy:function(){this.gameObject=null,this.active=!1}});n.exports=x},44553:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h){l===void 0&&(l="__WHITE"),v===void 0&&(v=.005),h===void 0&&(h=.005),x.call(this,d.DISPLACEMENT,r),this.x=v,this.y=h,this.glTexture,this.setTexture(l)},setTexture:function(a){var r=this.gameObject.scene.sys.textures.getFrame(a);return r&&(this.glTexture=r.glTexture),this}});n.exports=o},68531:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c){v===void 0&&(v=4),h===void 0&&(h=0),c===void 0&&(c=!1),x.call(this,d.GLOW,r),this.outerStrength=v,this.innerStrength=h,this.knockout=c,this.glcolor=[1,1,1,1],l!==void 0&&(this.color=l)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var r=this.glcolor;r[0]=(a>>16&255)/255,r[1]=(a>>8&255)/255,r[2]=(a&255)/255}}});n.exports=o},37102:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c,p,g,m,y){h===void 0&&(h=.2),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=1),y===void 0&&(y=0),x.call(this,d.GRADIENT,r),this.alpha=h,this.size=y,this.fromX=c,this.fromY=p,this.toX=g,this.toY=m,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],l!=null&&(this.color1=l),v!=null&&(this.color2=v)},color1:{get:function(){var a=this.glcolor1;return(a[0]<<16)+(a[1]<<8)+(a[2]|0)},set:function(a){var r=this.glcolor1;r[0]=a>>16&255,r[1]=a>>8&255,r[2]=a&255}},color2:{get:function(){var a=this.glcolor2;return(a[0]<<16)+(a[1]<<8)+(a[2]|0)},set:function(a){var r=this.glcolor2;r[0]=a>>16&255,r[1]=a>>8&255,r[2]=a&255}}});n.exports=o},86886:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l){l===void 0&&(l=1),x.call(this,d.PIXELATE,r),this.amount=l}});n.exports=o},92322:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c,p,g,m){l===void 0&&(l=0),v===void 0&&(v=0),h===void 0&&(h=.1),c===void 0&&(c=1),g===void 0&&(g=6),m===void 0&&(m=1),x.call(this,d.SHADOW,r),this.x=l,this.y=v,this.decay=h,this.power=c,this.glcolor=[0,0,0,1],this.samples=g,this.intensity=m,p!==void 0&&(this.color=p)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var r=this.glcolor;r[0]=(a>>16&255)/255,r[1]=(a>>8&255)/255,r[2]=(a&255)/255}}});n.exports=o},39563:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c){l===void 0&&(l=.5),v===void 0&&(v=.5),h===void 0&&(h=3),c===void 0&&(c=!1),x.call(this,d.SHINE,r),this.speed=l,this.lineWidth=v,this.gradient=h,this.reveal=c}});n.exports=o},56448:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c){l===void 0&&(l=.5),v===void 0&&(v=.5),h===void 0&&(h=.5),c===void 0&&(c=.5),x.call(this,d.VIGNETTE,r),this.x=l,this.y=v,this.radius=h,this.strength=c}});n.exports=o},38433:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72898),d=e(14811),o=new u({Extends:x,initialize:function(r,l,v,h,c){l===void 0&&(l=.1),v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=!1),x.call(this,d.WIPE,r),this.progress=0,this.wipeWidth=l,this.direction=v,this.axis=h,this.reveal=c}});n.exports=o},14811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=C},66064:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),x=e(14811),d={Barrel:e(20122),Controller:e(72898),Bloom:e(32251),Blur:e(9047),Bokeh:e(27885),Circle:e(12578),ColorMatrix:e(15802),Displacement:e(44553),Glow:e(68531),Gradient:e(37102),Pixelate:e(86886),Shadow:e(92322),Shine:e(39563),Vignette:e(56448),Wipe:e(38433)};d=u(!1,d,x),n.exports=d},25305:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),x=e(23568),d=function(o,a,r){a.x=x(r,"x",0),a.y=x(r,"y",0),a.depth=x(r,"depth",0),a.flipX=x(r,"flipX",!1),a.flipY=x(r,"flipY",!1);var l=x(r,"scale",null);typeof l=="number"?a.setScale(l):l!==null&&(a.scaleX=x(l,"x",1),a.scaleY=x(l,"y",1));var v=x(r,"scrollFactor",null);typeof v=="number"?a.setScrollFactor(v):v!==null&&(a.scrollFactorX=x(v,"x",1),a.scrollFactorY=x(v,"y",1)),a.rotation=x(r,"rotation",0);var h=x(r,"angle",null);h!==null&&(a.angle=h),a.alpha=x(r,"alpha",1);var c=x(r,"origin",null);if(typeof c=="number")a.setOrigin(c);else if(c!==null){var p=x(c,"x",.5),g=x(c,"y",.5);a.setOrigin(p,g)}a.blendMode=x(r,"blendMode",u.NORMAL),a.visible=x(r,"visible",!0);var m=x(r,"add",!0);return m&&o.sys.displayList.add(a),a.preUpdate&&o.sys.updateList.add(a),a};n.exports=d},13059:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23568),x=function(d,o){var a=u(o,"anims",null);if(a===null)return d;if(typeof a=="string")d.anims.play(a);else if(typeof a=="object"){var r=d.anims,l=u(a,"key",void 0);if(l){var v=u(a,"startFrame",void 0),h=u(a,"delay",0),c=u(a,"repeat",0),p=u(a,"repeatDelay",0),g=u(a,"yoyo",!1),m=u(a,"play",!1),y=u(a,"delayedPlay",0),S={key:l,delay:h,repeat:c,repeatDelay:p,yoyo:g,startFrame:v};m?r.play(S):y>0?r.playAfterDelay(S,y):r.load(S)}}return d};n.exports=x},8050:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(73162),d=e(37277),o=e(51708),a=e(44594),r=e(19186),l=new u({Extends:x,initialize:function(h){x.call(this,h),this.sortChildrenFlag=!1,this.scene=h,this.systems=h.sys,this.events=h.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(o.ADDED_TO_SCENE,v,this.scene),this.events.emit(a.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(o.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,v,this.scene)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(r(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,h){return v._depth-h._depth},getChildren:function(){return this.list},shutdown:function(){for(var v=this.list;v.length;)v[0].destroy(!0);this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});d.register("DisplayList",l,"displayList"),n.exports=l},95643:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(53774),d=e(45893),o=e(50792),a=e(51708),r=e(44594),l=new u({Extends:o,initialize:function(h,c){o.call(this),this.scene=h,this.displayList=null,this.type=c,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this),h.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new d(this)),this},setData:function(v,h){return this.data||(this.data=new d(this)),this.data.set(v,h),this},incData:function(v,h){return this.data||(this.data=new d(this)),this.data.inc(v,h),this},toggleData:function(v){return this.data||(this.data=new d(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new d(this)),this.data.get(v)},setInteractive:function(v,h,c){return this.scene.sys.input.enable(this,v,h,c),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(v){var h=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!h||l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,h=this.parentContainer,c=[];h&&(c.unshift(h.getIndex(v)),v=h,h.parentContainer);)h=h.parentContainer;return this.displayList?c.unshift(this.displayList.getIndex(v)):c.unshift(this.scene.sys.displayList.getIndex(v)),c},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),v.events.emit(r.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(r.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});l.RENDER_MASK=15,n.exports=l},44603:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(37277),d=e(44594),o=new u({initialize:function(r){this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(a,r){o.prototype.hasOwnProperty(a)||(o.prototype[a]=r)},o.remove=function(a){o.prototype.hasOwnProperty(a)&&delete o.prototype[a]},x.register("GameObjectCreator",o,"make"),n.exports=o},39429:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(37277),d=e(44594),o=new u({initialize:function(r){this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},existing:function(a){return(a.renderCanvas||a.renderWebGL)&&this.displayList.add(a),a.preUpdate&&this.updateList.add(a),a},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(a,r){o.prototype.hasOwnProperty(a)||(o.prototype[a]=r)},o.remove=function(a){o.prototype.hasOwnProperty(a)&&delete o.prototype[a]},x.register("GameObjectFactory",o,"add"),n.exports=o},91296:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61340),x=new u,d=new u,o=new u,a={camera:x,sprite:d,calc:o},r=function(l,v,h){var c=x,p=d,g=o;return p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),c.copyFrom(v.matrix),h?(c.multiplyWithOffset(h,-v.scrollX*l.scrollFactorX,-v.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y):(p.e-=v.scrollX*l.scrollFactorX,p.f-=v.scrollY*l.scrollFactorY),c.multiply(p,g),a};n.exports=r},45027:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(25774),d=e(37277),o=e(44594),a=new u({Extends:x,initialize:function(l){x.call(this),this.checkQueue=!0,this.scene=l,this.systems=l.sys,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var r=this.systems.events;r.on(o.PRE_UPDATE,this.update,this),r.on(o.UPDATE,this.sceneUpdate,this),r.once(o.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(r,l){for(var v=this._active,h=v.length,c=0;c<h;c++){var p=v[c];p.active&&p.preUpdate.call(p,r,l)}},shutdown:function(){for(var r=this._active.length;r--;)this._active[r].destroy(!0);for(r=this._pending.length;r--;)this._pending[r].destroy(!0);for(r=this._destroy.length;r--;)this._destroy[r].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var l=this.systems.events;l.off(o.PRE_UPDATE,this.update,this),l.off(o.UPDATE,this.sceneUpdate,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});d.register("UpdateList",a,"updateList"),n.exports=a},3217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o,a,r,l,v,h,c,p,g,m,y){var S=x.x-u.displayOriginX+o,M=x.y-u.displayOriginY+a,P=S+x.w,w=M+x.h,R=r.getXRound(S,M,l),A=r.getYRound(S,M,l),L=r.getXRound(S,w,l),F=r.getYRound(S,w,l),O=r.getXRound(P,w,l),b=r.getYRound(P,w,l),B=r.getXRound(P,M,l),I=r.getYRound(P,M,l);e.batchQuad(u,R,A,L,F,O,b,B,I,d.u0,d.v0,d.u1,d.v1,v,h,c,p,g,m,y)};n.exports=C},53048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){if(x===void 0&&(x=!1),d===void 0)return d={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},d;var o=e.text,a=o.length,r=e.maxWidth,l=e.wordWrapCharCode,v=Number.MAX_VALUE,h=Number.MAX_VALUE,c=0,p=0,g=e.fontData.chars,m=e.fontData.lineHeight,y=e.letterSpacing,S=e.lineSpacing,M=0,P=0,w=0,R=null,A=e._align,L=0,F=0,O=e.fontSize/e.fontData.size,b=O*e.scaleX,B=O*e.scaleY,I=null,N=0,X=[],k=Number.MAX_VALUE,H=0,V=0,W=0,D,G=[],z=[],U=null;if(r>0){for(D=0;D<a;D++){if(w=o.charCodeAt(D),w===10){U!==null&&(G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B,cr:!0}),U=null),M=0,P+=m+S,I=null;continue}if(R=g[w],!!R){if(I!==null)var Y=R.kerning[N];w===l?U!==null&&(G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B,cr:!1}),U=null):(U===null&&(U={word:"",i:D,x:M,y:P,w:0,h:m,cr:!1}),U.word=U.word.concat(o[D]),U.w+=R.xOffset+R.xAdvance+(Y!==void 0?Y:0)),M+=R.xAdvance+y,I=R,N=w}}U!==null&&G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B,cr:!1}),M=0,P=0,I=null,N=0;var $,K=0,Z=[];for(D=0;D<G.length;D++){var J=G[D],Q=J.x,j=J.x+J.w;if($){var _=Q-($.x+$.w);K=Q-(_+$.w),$=null}var q=Q-K,it=j-K;q>r||it>r?(Z.push(J.i-1),J.cr?(Z.push(J.i+J.word.length),K=0,$=null):$=J):J.cr&&(Z.push(J.i+J.word.length),K=0,$=null)}var at=function(Lt,jt,se){return Lt.substr(0,jt)+se+Lt.substr(jt+1)};for(D=Z.length-1;D>=0;D--)o=at(o,Z[D],`
`);d.wrappedText=o,a=o.length,G=[],U=null}var ot=0;for(D=0;D<a;D++){if(w=o.charCodeAt(D),w===10){U!==null&&(G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B}),U=null),M=0,P+=m+S,I=null,X[V]=W,W>H&&(H=W),W<k&&(k=W),V++,W=0;continue}if(R=g[w],!!R){if(L=M,F=P,I!==null){var ht=R.kerning[N];L+=ht!==void 0?ht:0}v>L&&(v=L),h>F&&(h=F);var tt=L+R.xAdvance,nt=F+m;c<tt&&(c=tt),p<nt&&(p=nt);var rt=R.xOffset+R.xAdvance+(ht!==void 0?ht:0);w===l?U!==null&&(G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B}),U=null):(U===null&&(U={word:"",i:ot,x:M,y:P,w:0,h:m}),U.word=U.word.concat(o[D]),U.w+=rt),z.push({i:ot,idx:D,char:o[D],code:w,x:(R.xOffset+L)*O,y:(R.yOffset+P)*O,w:R.width*O,h:R.height*O,t:P*O,r:tt*O,b:m*O,line:V,glyph:R}),M+=R.xAdvance+y+(ht!==void 0?ht:0),I=R,N=w,W=tt*O,ot++}}if(U!==null&&G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B}),X[V]=W,W>H&&(H=W),W<k&&(k=W),A>0)for(var vt=0;vt<z.length;vt++){var ct=z[vt];if(A===1){var bt=(H-X[ct.line])/2;ct.x+=bt,ct.r+=bt}else if(A===2){var Ot=H-X[ct.line];ct.x+=Ot,ct.r+=Ot}}var yt=d.local,mt=d.global,Xt=d.lines;return yt.x=v*O,yt.y=h*O,yt.width=c*O,yt.height=p*O,mt.x=e.x-e._displayOriginX+v*b,mt.y=e.y-e._displayOriginY+h*B,mt.width=c*b,mt.height=p*B,Xt.shortest=k,Xt.longest=H,Xt.lengths=X,u&&(yt.x=Math.ceil(yt.x),yt.y=Math.ceil(yt.y),yt.width=Math.ceil(yt.width),yt.height=Math.ceil(yt.height),mt.x=Math.ceil(mt.x),mt.y=Math.ceil(mt.y),mt.width=Math.ceil(mt.width),mt.height=Math.ceil(mt.height),Xt.shortest=Math.ceil(k),Xt.longest=Math.ceil(H)),x&&(e._displayOriginX=e.originX*yt.width,e._displayOriginY=e.originY*yt.height,mt.x=e.x-e._displayOriginX*e.scaleX,mt.y=e.y-e._displayOriginY*e.scaleY,u&&(mt.x=Math.ceil(mt.x),mt.y=Math.ceil(mt.y))),d.words=G,d.characters=z,d.lines.height=m,d.scale=O,d.scaleX=e.scaleX,d.scaleY=e.scaleY,d};n.exports=C},61327:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21859),x=function(d,o,a,r,l,v,h){var c=d.sys.textures.get(a),p=c.get(r),g=d.sys.cache.xml.get(l);if(p&&g){var m=u(g,p,v,h,c);return d.sys.cache.bitmapFont.add(o,{data:m,texture:a,frame:r,fromAtlas:!0}),!0}else return!1};n.exports=x},6925:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),x=function(d,o){var a=o.width,r=o.height,l=Math.floor(a/2),v=Math.floor(r/2),h=u(o,"chars","");if(h!==""){var c=u(o,"image",""),p=d.sys.textures.getFrame(c),g=p.cutX,m=p.cutY,y=p.source.width,S=p.source.height,M=u(o,"offset.x",0),P=u(o,"offset.y",0),w=u(o,"spacing.x",0),R=u(o,"spacing.y",0),A=u(o,"lineSpacing",0),L=u(o,"charsPerRow",null);L===null&&(L=y/a,L>h.length&&(L=h.length));for(var F=M,O=P,b={retroFont:!0,font:c,size:a,lineHeight:r+A,chars:{}},B=0,I=0;I<h.length;I++){var N=h.charCodeAt(I),X=(g+F)/y,k=(m+O)/S,H=(g+F+a)/y,V=(m+O+r)/S;b.chars[N]={x:F,y:O,width:a,height:r,centerX:l,centerY:v,xOffset:0,yOffset:0,xAdvance:a,data:{},kerning:{},u0:X,v0:k,u1:H,v1:V},B++,B===L?(B=0,F=M,O+=r+R):F+=a+w}var W={data:b,frame:null,texture:c};return W}};n.exports=x},21859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(u,x){return parseInt(u.getAttribute(x),10)}var e=function(u,x,d,o,a){d===void 0&&(d=0),o===void 0&&(o=0);var r=x.cutX,l=x.cutY,v=x.source.width,h=x.source.height,c=x.sourceIndex,p={},g=u.getElementsByTagName("info")[0],m=u.getElementsByTagName("common")[0];p.font=g.getAttribute("face"),p.size=C(g,"size"),p.lineHeight=C(m,"lineHeight")+o,p.chars={};var y=u.getElementsByTagName("char"),S=x!==void 0&&x.trimmed;if(S)var M=x.height,P=x.width;for(var w=0;w<y.length;w++){var R=y[w],A=C(R,"id"),L=String.fromCharCode(A),F=C(R,"x"),O=C(R,"y"),b=C(R,"width"),B=C(R,"height");S&&(F<P&&(P=F),O<M&&(M=O)),S&&M!==0&&P!==0&&(F-=x.x,O-=x.y);var I=(r+F)/v,N=(l+O)/h,X=(r+F+b)/v,k=(l+O+B)/h;if(p.chars[A]={x:F,y:O,width:b,height:B,centerX:Math.floor(b/2),centerY:Math.floor(B/2),xOffset:C(R,"xoffset"),yOffset:C(R,"yoffset"),xAdvance:C(R,"xadvance")+d,data:{},kerning:{},u0:I,v0:N,u1:X,v1:k},a&&b!==0&&B!==0){var H=a.add(L,c,F,O,b,B);H&&H.setUVs(b,B,I,N,X,k)}}var V=u.getElementsByTagName("kerning");for(w=0;w<V.length;w++){var W=V[w],D=C(W,"first"),G=C(W,"second"),z=C(W,"amount");p.chars[G].kerning[D]=z}return p};n.exports=e},196:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87662),x=e(79291),d={Parse:e(6925)};d=x(!1,d,u),n.exports=d},87662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=C},2638:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22186),x=e(83419),d=e(12310),o=new x({Extends:u,Mixins:[d],initialize:function(r,l,v,h,c,p,g){u.call(this,r,l,v,h,c,p,g),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(a,r){return this.cropWidth=a,this.cropHeight=r,this},setDisplayCallback:function(a){return this.displayCallback=a,this},setScrollX:function(a){return this.scrollX=a,this},setScrollY:function(a){return this.scrollY=a,this}});n.exports=o},86741:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20926),x=function(d,o,a,r){var l=o._text,v=l.length,h=d.currentContext;if(!(v===0||!u(d,h,o,a,r))){a.addToRenderList(o);var c=o.fromAtlas?o.frame:o.texture.frames.__BASE,p=o.displayCallback,g=o.callbackData,m=o.fontData.chars,y=o.fontData.lineHeight,S=o._letterSpacing,M=0,P=0,w=0,R=null,A=0,L=0,F=0,O=0,b=0,B=0,I=null,N=0,X=o.frame.source.image,k=c.cutX,H=c.cutY,V=0,W=0,D=o._fontSize/o.fontData.size,G=o._align,z=0,U=0;o.getTextBounds(!1);var Y=o._bounds.lines;G===1?U=(Y.longest-Y.lengths[0])/2:G===2&&(U=Y.longest-Y.lengths[0]),h.translate(-o.displayOriginX,-o.displayOriginY);var $=a.roundPixels;o.cropWidth>0&&o.cropHeight>0&&(h.beginPath(),h.rect(0,0,o.cropWidth,o.cropHeight),h.clip());for(var K=0;K<v;K++){if(W=D,V=0,w=l.charCodeAt(K),w===10){z++,G===1?U=(Y.longest-Y.lengths[z])/2:G===2&&(U=Y.longest-Y.lengths[z]),M=0,P+=y,I=null;continue}if(R=m[w],!!R){if(A=k+R.x,L=H+R.y,F=R.width,O=R.height,b=R.xOffset+M-o.scrollX,B=R.yOffset+P-o.scrollY,I!==null){var Z=R.kerning[N];b+=Z!==void 0?Z:0}if(p){g.index=K,g.charCode=w,g.x=b,g.y=B,g.scale=W,g.rotation=V,g.data=R.data;var J=p(g);b=J.x,B=J.y,W=J.scale,V=J.rotation}b*=W,B*=W,b+=U,M+=R.xAdvance+S+(Z!==void 0?Z:0),I=R,N=w,!(F===0||O===0||w===32)&&($&&(b=Math.round(b),B=Math.round(B)),h.save(),h.translate(b,B),h.rotate(V),h.scale(W,W),h.drawImage(X,A,L,F,O,0,0,F,O),h.restore())}}h.restore()}};n.exports=x},11164:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2638),x=e(25305),d=e(44603),o=e(23568);d.register("dynamicBitmapText",function(a,r){a===void 0&&(a={});var l=o(a,"font",""),v=o(a,"text",""),h=o(a,"size",!1),c=new u(this.scene,0,0,l,v,h);return r!==void 0&&(a.add=r),x(this.scene,c,a),c})},72566:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2638),x=e(39429);x.register("dynamicBitmapText",function(d,o,a,r,l){return this.displayList.add(new u(this.scene,d,o,a,r,l))})},12310:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(73482),d=e(86741),n.exports={renderWebGL:x,renderCanvas:d}},73482:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(61340),d=e(70554),o=new x,a=function(r,l,v,h){var c=l.text,p=c.length;if(p!==0){v.addToRenderList(l);var g=r.pipelines.set(l.pipeline,l),m=u(l,v,h);r.pipelines.preBatch(l);var y=m.sprite,S=m.calc,M=o,P=l.cropWidth>0||l.cropHeight>0;P&&(g.flush(),r.pushScissor(S.tx,S.ty,l.cropWidth*S.scaleX,l.cropHeight*S.scaleY));var w=l.frame,R=w.glTexture,A=l.tintFill,L=d.getTintAppendFloatAlpha(l.tintTopLeft,v.alpha*l._alphaTL),F=d.getTintAppendFloatAlpha(l.tintTopRight,v.alpha*l._alphaTR),O=d.getTintAppendFloatAlpha(l.tintBottomLeft,v.alpha*l._alphaBL),b=d.getTintAppendFloatAlpha(l.tintBottomRight,v.alpha*l._alphaBR),B=g.setGameObject(l),I=0,N=0,X=0,k=0,H=l.letterSpacing,V,W=0,D=0,G,z=l.scrollX,U=l.scrollY,Y=l.fontData,$=Y.chars,K=Y.lineHeight,Z=l.fontSize/Y.size,J=0,Q=l._align,j=0,_=0,q=l.getTextBounds(!1);l.maxWidth>0&&(c=q.wrappedText,p=c.length);var it=l._bounds.lines;Q===1?_=(it.longest-it.lengths[0])/2:Q===2&&(_=it.longest-it.lengths[0]);for(var at=v.roundPixels,ot=l.displayCallback,ht=l.callbackData,tt=0;tt<p;tt++){if(X=c.charCodeAt(tt),X===10){j++,Q===1?_=(it.longest-it.lengths[j])/2:Q===2&&(_=it.longest-it.lengths[j]),I=0,N+=K,G=null;continue}if(V=$[X],!!V){W=V.width,D=V.height;var nt=V.xOffset+I-z,rt=V.yOffset+N-U;if(G!==null){var vt=V.kerning[k];nt+=vt!==void 0?vt:0}if(I+=V.xAdvance+H,G=V,k=X,!(W===0||D===0||X===32)){if(Z=l.fontSize/l.fontData.size,J=0,ot){ht.color=0,ht.tint.topLeft=L,ht.tint.topRight=F,ht.tint.bottomLeft=O,ht.tint.bottomRight=b,ht.index=tt,ht.charCode=X,ht.x=nt,ht.y=rt,ht.scale=Z,ht.rotation=J,ht.data=V.data;var ct=ot(ht);nt=ct.x,rt=ct.y,Z=ct.scale,J=ct.rotation,ct.color?(L=ct.color,F=ct.color,O=ct.color,b=ct.color):(L=ct.tint.topLeft,F=ct.tint.topRight,O=ct.tint.bottomLeft,b=ct.tint.bottomRight),L=d.getTintAppendFloatAlpha(L,v.alpha*l._alphaTL),F=d.getTintAppendFloatAlpha(F,v.alpha*l._alphaTR),O=d.getTintAppendFloatAlpha(O,v.alpha*l._alphaBL),b=d.getTintAppendFloatAlpha(b,v.alpha*l._alphaBR)}nt*=Z,rt*=Z,nt-=l.displayOriginX,rt-=l.displayOriginY,nt+=_,M.applyITRS(nt,rt,J,Z,Z),S.multiply(M,y);var bt=V.u0,Ot=V.v0,yt=V.u1,mt=V.v1,Xt=W,Lt=D,jt=y.e,se=y.f,Se=Lt*y.c+y.e,vs=Lt*y.d+y.f,cs=Xt*y.a+Lt*y.c+y.e,ps=Xt*y.b+Lt*y.d+y.f,gs=Xt*y.a+y.e,ms=Xt*y.b+y.f;at&&(jt=Math.round(jt),se=Math.round(se),Se=Math.round(Se),vs=Math.round(vs),cs=Math.round(cs),ps=Math.round(ps),gs=Math.round(gs),ms=Math.round(ms)),g.shouldFlush(6)&&(g.flush(),B=g.setGameObject(l)),g.batchQuad(l,jt,se,Se,vs,cs,ps,gs,ms,bt,Ot,yt,mt,L,F,O,b,A,R,B)}}}P&&(g.flush(),r.popScissor()),r.pipelines.postBatch(l)}};n.exports=a},22186:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(45319),d=e(31401),o=e(95643),a=e(53048),r=e(61327),l=e(21859),v=e(87841),h=e(18658),c=new u({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Texture,d.Tint,d.Transform,d.Visible,h],initialize:function(g,m,y,S,M,P,w){M===void 0&&(M=""),w===void 0&&(w=0),o.call(this,g,"BitmapText"),this.font=S;var R=this.scene.sys.cache.bitmapFont.get(S);R||console.warn("Invalid BitmapText key: "+S),this.fontData=R.data,this._text="",this._fontSize=P||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=w,this._bounds=a(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(m,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(M)},setLeftAlign:function(){return this._align=c.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=c.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=c.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,g,m,y){return p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=.5),this.dropShadowX=p,this.dropShadowY=g,this.dropShadowColor=m,this.dropShadowAlpha=y,this},setCharacterTint:function(p,g,m,y,S,M,P){p===void 0&&(p=0),g===void 0&&(g=1),m===void 0&&(m=!1),y===void 0&&(y=-1),S===void 0&&(S=y,M=y,P=y);var w=this.text.length;g===-1&&(g=w),p<0&&(p=w+p),p=x(p,0,w-1);for(var R=x(p+g,p,w),A=this.charColors,L=p;L<R;L++){var F=A[L];if(y===-1)A[L]=null;else{var O=m?1:0;F?(F.tintEffect=O,F.tintTL=y,F.tintTR=S,F.tintBL=M,F.tintBR=P):A[L]={tintEffect:O,tintTL:y,tintTR:S,tintBL:M,tintBR:P}}}return this},setWordTint:function(p,g,m,y,S,M,P){g===void 0&&(g=1);for(var w=this.getTextBounds(),R=w.words,A=typeof p=="number",L=0,F=0;F<R.length;F++){var O=R[F];if((A&&F===p||!A&&O.word===p)&&(this.setCharacterTint(O.i,O.word.length,m,y,S,M,P),L++,L===g))return this}return this},getTextBounds:function(p){var g=this._bounds;return(this._dirty||p||this.scaleX!==g.scaleX||this.scaleY!==g.scaleY)&&(a(this,p,!0,g),this._dirty=!1),g},getCharacterAt:function(p,g,m){for(var y=this.getLocalPoint(p,g,null,m),S=this.getTextBounds(),M=S.characters,P=new v,w=0;w<M.length;w++){var R=M[w];if(P.setTo(R.x,R.t,R.r-R.x,R.b),P.contains(y.x,y.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,g,m){g===void 0&&(g=this._fontSize),m===void 0&&(m=this._align);var y=this.scene.sys.cache.bitmapFont.get(p);return y&&(this.font=p,this.fontData=y.data,this._fontSize=g,this._align=m,this.fromAtlas=y.fromAtlas===!0,this.setTexture(y.texture,y.frame),a(this,!1,!0,this._bounds)),this},setMaxWidth:function(p,g){return this._maxWidth=p,this._dirty=!0,g!==void 0&&(this.wordWrapCharCode=g),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=d.ToJSON(this),g={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=g,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});c.ALIGN_LEFT=0,c.ALIGN_CENTER=1,c.ALIGN_RIGHT=2,c.ParseFromAtlas=r,c.ParseXMLBitmapFont=l,n.exports=c},37289:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20926),x=function(d,o,a,r){var l=o._text,v=l.length,h=d.currentContext;if(!(v===0||!u(d,h,o,a,r))){a.addToRenderList(o);var c=o.fromAtlas?o.frame:o.texture.frames.__BASE,p=o.fontData.chars,g=o.fontData.lineHeight,m=o._letterSpacing,y=o._lineSpacing,S=0,M=0,P=0,w=null,R=0,A=0,L=0,F=0,O=0,b=0,B=null,I=0,N=c.source.image,X=c.cutX,k=c.cutY,H=o._fontSize/o.fontData.size,V=o._align,W=0,D=0,G=o.getTextBounds(!1);o.maxWidth>0&&(l=G.wrappedText,v=l.length);var z=o._bounds.lines;V===1?D=(z.longest-z.lengths[0])/2:V===2&&(D=z.longest-z.lengths[0]),h.translate(-o.displayOriginX,-o.displayOriginY);for(var U=a.roundPixels,Y=0;Y<v;Y++){if(P=l.charCodeAt(Y),P===10){W++,V===1?D=(z.longest-z.lengths[W])/2:V===2&&(D=z.longest-z.lengths[W]),S=0,M+=g+y,B=null;continue}if(w=p[P],!!w){if(R=X+w.x,A=k+w.y,L=w.width,F=w.height,O=w.xOffset+S,b=w.yOffset+M,B!==null){var $=w.kerning[I];O+=$!==void 0?$:0}O*=H,b*=H,O+=D,S+=w.xAdvance+m+($!==void 0?$:0),B=w,I=P,!(L===0||F===0||P===32)&&(U&&(O=Math.round(O),b=Math.round(b)),h.save(),h.translate(O,b),h.scale(H,H),h.drawImage(N,R,A,L,F,0,0,L,F),h.restore())}}h.restore()}};n.exports=x},57336:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22186),x=e(25305),d=e(44603),o=e(23568),a=e(35154);d.register("bitmapText",function(r,l){r===void 0&&(r={});var v=a(r,"font",""),h=o(r,"text",""),c=o(r,"size",!1),p=a(r,"align",0),g=new u(this.scene,0,0,v,h,c,p);return l!==void 0&&(r.add=l),x(this.scene,g,r),g})},34914:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22186),x=e(39429);x.register("bitmapText",function(d,o,a,r,l,v){return this.displayList.add(new u(this.scene,d,o,a,r,l,v))})},18658:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(33590),d=e(37289),n.exports={renderWebGL:x,renderCanvas:d}},33590:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(3217),x=e(91296),d=e(70554),o=function(a,r,l,v){var h=r._text,c=h.length;if(c!==0){l.addToRenderList(r);var p=a.pipelines.set(r.pipeline,r),g=x(r,l,v).calc;a.pipelines.preBatch(r);var m=l.roundPixels,y=l.alpha,S=r.charColors,M=r.tintFill,P=d.getTintAppendFloatAlpha,w=P(r.tintTopLeft,y*r._alphaTL),R=P(r.tintTopRight,y*r._alphaTR),A=P(r.tintBottomLeft,y*r._alphaBL),L=P(r.tintBottomRight,y*r._alphaBR),F=r.frame.glTexture,O=p.setGameObject(r),b=r.getTextBounds(!1),B,I,N,X=b.characters,k=r.dropShadowX,H=r.dropShadowY,V=k!==0||H!==0;if(V){var W=r.dropShadowColor,D=r.dropShadowAlpha,G=P(W,y*D*r._alphaTL),z=P(W,y*D*r._alphaTR),U=P(W,y*D*r._alphaBL),Y=P(W,y*D*r._alphaBR);for(B=0;B<X.length;B++)I=X[B],N=I.glyph,!(I.code===32||N.width===0||N.height===0)&&u(p,r,I,N,k,H,g,m,G,z,U,Y,1,F,O)}for(B=0;B<X.length;B++)if(I=X[B],N=I.glyph,!(I.code===32||N.width===0||N.height===0))if(p.shouldFlush(6)&&(p.flush(),O=p.setGameObject(r)),S[I.i]){var $=S[I.i],K=$.tintEffect,Z=P($.tintTL,y*r._alphaTL),J=P($.tintTR,y*r._alphaTR),Q=P($.tintBL,y*r._alphaBL),j=P($.tintBR,y*r._alphaBR);u(p,r,I,N,0,0,g,m,Z,J,Q,j,K,F,O)}else u(p,r,I,N,0,0,g,m,w,R,A,L,M,F,O);a.pipelines.postBatch(r)}};n.exports=o},6107:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(48011),x=e(46590),d=e(83419),o=e(31401),a=e(4327),r=e(95643),l=e(73162),v=new d({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.Texture,o.Transform,o.Visible,u],initialize:function(c,p,g,m,y){r.call(this,c,"Blitter"),this.setTexture(m,y),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(),this.children=new l,this.renderList=[],this.dirty=!1},create:function(h,c,p,g,m){g===void 0&&(g=!0),m===void 0&&(m=this.children.length),p===void 0?p=this.frame:p instanceof a||(p=this.texture.get(p));var y=new x(this,h,c,p,g);return this.children.addAt(y,m,!1),this.dirty=!0,y},createFromCallback:function(h,c,p,g){for(var m=this.createMultiple(c,p,g),y=0;y<m.length;y++){var S=m[y];h.call(this,S,y)}return m},createMultiple:function(h,c,p){c===void 0&&(c=this.frame.name),p===void 0&&(p=!0),Array.isArray(c)||(c=[c]);var g=[],m=this;return c.forEach(function(y){for(var S=0;S<h;S++)g.push(m.create(0,0,y,p))}),g},childCanRender:function(h){return h.visible&&h.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});n.exports=v},72396:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=u.getRenderList();if(o.length!==0){var a=e.currentContext,r=x.alpha*u.alpha;if(r!==0){x.addToRenderList(u),a.globalCompositeOperation=e.blendModes[u.blendMode],a.imageSmoothingEnabled=!u.frame.source.scaleMode;var l=u.x-x.scrollX*u.scrollFactorX,v=u.y-x.scrollY*u.scrollFactorY;a.save(),d&&d.copyToContext(a);for(var h=x.roundPixels,c=0;c<o.length;c++){var p=o[c],g=p.flipX||p.flipY,m=p.frame,y=m.canvasData,S=m.x,M=m.y,P=1,w=1,R=p.alpha*r;R!==0&&(a.globalAlpha=R,g?(p.flipX&&(P=-1,S-=y.width),p.flipY&&(w=-1,M-=y.height),y.width>0&&y.height>0&&(a.save(),a.translate(p.x+l,p.y+v),a.scale(P,w),a.drawImage(m.source.image,y.x,y.y,y.width,y.height,S,M,y.width,y.height),a.restore())):(h&&(S=Math.round(S),M=Math.round(M)),y.width>0&&y.height>0&&a.drawImage(m.source.image,y.x,y.y,y.width,y.height,S+p.x+l,M+p.y+v,y.width,y.height)))}a.restore()}}};n.exports=C},9403:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6107),x=e(25305),d=e(44603),o=e(23568);d.register("blitter",function(a,r){a===void 0&&(a={});var l=o(a,"key",null),v=o(a,"frame",null),h=new u(this.scene,0,0,l,v);return r!==void 0&&(a.add=r),x(this.scene,h,a),h})},12709:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6107),x=e(39429);x.register("blitter",function(d,o,a,r){return this.displayList.add(new u(this.scene,d,o,a,r))})},48011:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(99485),d=e(72396),n.exports={renderWebGL:x,renderCanvas:d}},99485:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61340),x=e(70554),d=new u,o=function(a,r,l,v){var h=r.getRenderList(),c=l.alpha*r.alpha;if(!(h.length===0||c===0)){l.addToRenderList(r);var p=a.pipelines.set(this.pipeline,r),g=l.scrollX*r.scrollFactorX,m=l.scrollY*r.scrollFactorY,y=d.copyFrom(l.matrix);v&&(y.multiplyWithOffset(v,-g,-m),g=0,m=0);var S=r.x-g,M=r.y-m,P=-1,w=!1;a.pipelines.preBatch(r);for(var R=0;R<h.length;R++){var A=h[R],L=A.frame,F=A.alpha*c;if(F!==0){var O=L.width,b=L.height,B=S+A.x+L.x,I=M+A.y+L.y;A.flipX&&(O*=-1,B+=L.width),A.flipY&&(b*=-1,I+=L.height);var N=y.setQuad(B,I,B+O,I+b),X=x.getTintAppendFloatAlpha(A.tint,F);if(L.sourceIndex!==P){var k=p.setGameObject(r,L);P=L.sourceIndex}p.batchQuad(r,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],L.u0,L.v0,L.u1,L.v1,X,X,X,X,w,L.glTexture,k)&&(P=-1)}}a.pipelines.postBatch(r)}};n.exports=o},46590:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(4327),d=new u({initialize:function(a,r,l,v,h){this.parent=a,this.x=r,this.y=l,this.frame=v,this.data={},this.tint=16777215,this._visible=h,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(o){return o===void 0?this.frame=this.parent.frame:o instanceof x&&o.texture===this.parent.texture?this.frame=o:this.frame=this.parent.texture.get(o),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(o,a,r){return this.x=o,this.y=a,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,r&&this.setFrame(r),this},setPosition:function(o,a){return this.x=o,this.y=a,this},setFlipX:function(o){return this.flipX=o,this},setFlipY:function(o){return this.flipY=o,this},setFlip:function(o,a){return this.flipX=o,this.flipY=a,this},setVisible:function(o){return this.visible=o,this},setAlpha:function(o){return this.alpha=o,this},setTint:function(o){return this.tint=o,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(o){this.parent.dirty|=this._visible!==o,this._visible=o}},alpha:{get:function(){return this._alpha},set:function(o){this.parent.dirty|=this._alpha>0!=o>0,this._alpha=o}}});n.exports=d},16005:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=2,d={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(o,a,r,l){return o===void 0&&(o=1),a===void 0?this.alpha=o:(this._alphaTL=u(o,0,1),this._alphaTR=u(a,0,1),this._alphaBL=u(r,0,1),this._alphaBR=u(l,0,1)),this},alpha:{get:function(){return this._alpha},set:function(o){var a=u(o,0,1);this._alpha=a,this._alphaTL=a,this._alphaTR=a,this._alphaBL=a,this._alphaBR=a,a===0?this.renderFlags&=~x:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(o){var a=u(o,0,1);this._alphaTL=a,a!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(o){var a=u(o,0,1);this._alphaTR=a,a!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(o){var a=u(o,0,1);this._alphaBL=a,a!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(o){var a=u(o,0,1);this._alphaBR=a,a!==0&&(this.renderFlags|=x)}}};n.exports=d},88509:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=2,d={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(o){return o===void 0&&(o=1),this.alpha=o,this},alpha:{get:function(){return this._alpha},set:function(o){var a=u(o,0,1);this._alpha=a,a===0?this.renderFlags&=~x:this.renderFlags|=x}}};n.exports=d},90065:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),x={_blendMode:u.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(d){typeof d=="string"&&(d=u[d]),d|=0,d>=-1&&(this._blendMode=d)}},setBlendMode:function(d){return this.blendMode=d,this}};n.exports=x},94215:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};n.exports=C},61683:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={texture:null,frame:null,isCropped:!1,setCrop:function(e,u,x,d){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,u,x,d,this.flipX,this.flipY);else{var o=e;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=C},89272:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};n.exports=C},47059:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(66064),d=e(19133),o=new u({initialize:function(r,l){this.gameObject=r,this.isPost=l,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(a){return a===void 0&&(a=0),this.padding=a,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(a){if(!this.isPost){var r=this.gameObject.scene.sys.renderer;r&&r.pipelines?(this.gameObject.pipeline=r.pipelines.FX_PIPELINE,a!==void 0&&(this.padding=a),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var a=this.list,r=0;r<a.length;r++)a[r].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(a){var r;if(this.isPost){var l=this.gameObject.getPostPipeline(String(a.type));for(Array.isArray(l)||(l=[l]),r=0;r<l.length;r++){var v=l[r];if(v.controller===a){this.gameObject.removePostPipeline(v),a.destroy();break}}}else{var h=this.list;for(r=0;r<h.length;r++)h[r]===a&&(d(h,r),a.destroy())}return this.gameObject},disable:function(a){return a===void 0&&(a=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,a&&this.clear(),this.gameObject},add:function(a,r){if(this.isPost){var l=String(a.type);this.gameObject.setPostPipeline(l,r);var v=this.gameObject.getPostPipeline(l);if(v)return Array.isArray(v)&&(v=v.pop()),v.controller=a,a}else return this.enabled||this.enable(),this.list.push(a),a},addGlow:function(a,r,l,v,h,c){return this.add(new x.Glow(this.gameObject,a,r,l,v),{quality:h,distance:c})},addShadow:function(a,r,l,v,h,c,p){return this.add(new x.Shadow(this.gameObject,a,r,l,v,h,c,p))},addPixelate:function(a){return this.add(new x.Pixelate(this.gameObject,a))},addVignette:function(a,r,l,v){return this.add(new x.Vignette(this.gameObject,a,r,l,v))},addShine:function(a,r,l,v){return this.add(new x.Shine(this.gameObject,a,r,l,v))},addBlur:function(a,r,l,v,h,c){return this.add(new x.Blur(this.gameObject,a,r,l,v,h,c))},addGradient:function(a,r,l,v,h,c,p,g){return this.add(new x.Gradient(this.gameObject,a,r,l,v,h,c,p,g))},addBloom:function(a,r,l,v,h,c){return this.add(new x.Bloom(this.gameObject,a,r,l,v,h,c))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(a,r,l,v,h){return this.add(new x.Circle(this.gameObject,a,r,l,v,h))},addBarrel:function(a){return this.add(new x.Barrel(this.gameObject,a))},addDisplacement:function(a,r,l){return this.add(new x.Displacement(this.gameObject,a,r,l))},addWipe:function(a,r,l){return this.add(new x.Wipe(this.gameObject,a,r,l))},addReveal:function(a,r,l){return this.add(new x.Wipe(this.gameObject,a,r,l,!0))},addBokeh:function(a,r,l){return this.add(new x.Bokeh(this.gameObject,a,r,l))},addTiltShift:function(a,r,l,v,h,c){return this.add(new x.Bokeh(this.gameObject,a,r,l,!0,v,h,c))},destroy:function(){this.clear(),this.gameObject=null}});n.exports=o},54434:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,u){return this.flipX=e,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};n.exports=C},8004:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=e(11520),d=e(26099),o={prepareBoundsOutput:function(a,r){if(r===void 0&&(r=!1),this.rotation!==0&&x(a,this.x,this.y,this.rotation),r&&this.parentContainer){var l=this.parentContainer.getBoundsTransformMatrix();l.transformPoint(a.x,a.y,a)}return a},getCenter:function(a,r){return a===void 0&&(a=new d),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,r)},getTopLeft:function(a,r){return a||(a=new d),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,r)},getTopCenter:function(a,r){return a||(a=new d),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,r)},getTopRight:function(a,r){return a||(a=new d),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,r)},getLeftCenter:function(a,r){return a||(a=new d),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,r)},getRightCenter:function(a,r){return a||(a=new d),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,r)},getBottomLeft:function(a,r){return a||(a=new d),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,r)},getBottomCenter:function(a,r){return a||(a=new d),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,r)},getBottomRight:function(a,r){return a||(a=new d),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,r)},getBounds:function(a){a===void 0&&(a=new u);var r,l,v,h,c,p,g,m;if(this.parentContainer){var y=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(a),y.transformPoint(a.x,a.y,a),r=a.x,l=a.y,this.getTopRight(a),y.transformPoint(a.x,a.y,a),v=a.x,h=a.y,this.getBottomLeft(a),y.transformPoint(a.x,a.y,a),c=a.x,p=a.y,this.getBottomRight(a),y.transformPoint(a.x,a.y,a),g=a.x,m=a.y}else this.getTopLeft(a),r=a.x,l=a.y,this.getTopRight(a),v=a.x,h=a.y,this.getBottomLeft(a),c=a.x,p=a.y,this.getBottomRight(a),g=a.x,m=a.y;return a.x=Math.min(r,v,c,g),a.y=Math.min(l,h,p,m),a.width=Math.max(r,v,c,g)-a.x,a.height=Math.max(l,h,p,m)-a.y,a}};n.exports=o},8573:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6858),x=e(80661),d={mask:null,setMask:function(o){return this.mask=o,this},clearMask:function(o){return o===void 0&&(o=!1),o&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(o,a,r,l,v){return o===void 0&&(this.texture||this.shader||this.geom)&&(o=this),new u(this.scene,o,a,r,l,v)},createGeometryMask:function(o){return o===void 0&&(this.type==="Graphics"||this.geom)&&(o=this),new x(this.scene,o)}};n.exports=d},27387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,u){return e===void 0&&(e=.5),u===void 0&&(u=e),this.originX=e,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,u){return e===void 0&&(e=0),u===void 0&&(u=e),this.displayOriginX=e,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};n.exports=C},37640:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39506),x=e(57355),d=e(35154),o=e(86353),a=e(26099),r={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:o.PLAYING_FORWARD,setPath:function(l,v){v===void 0&&(v=this.pathConfig);var h=this.pathTween;return h&&h.isPlaying()&&h.stop(),this.path=l,v&&this.startFollow(v),this},setRotateToPath:function(l,v){return v===void 0&&(v=0),this.rotateToPath=l,this.pathRotationOffset=v,this},isFollowing:function(){var l=this.pathTween;return l&&l.isPlaying()},startFollow:function(l,v){l===void 0&&(l={}),v===void 0&&(v=0);var h=this.pathTween;h&&h.isPlaying()&&h.stop(),typeof l=="number"&&(l={duration:l}),l.from=d(l,"from",0),l.to=d(l,"to",1);var c=x(l,"positionOnPath",!1);this.rotateToPath=x(l,"rotateToPath",!1),this.pathRotationOffset=d(l,"rotationOffset",0);var p=d(l,"startAt",v);if(p&&(l.onStart=function(m){var y=m.data[0];y.progress=p,y.elapsed=y.duration*p;var S=y.ease(y.progress);y.current=y.start+(y.end-y.start)*S,y.setTargetValue()}),this.pathOffset||(this.pathOffset=new a(this.x,this.y)),this.pathVector||(this.pathVector=new a),this.pathDelta||(this.pathDelta=new a),this.pathDelta.reset(),l.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(l),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=o.PLAYING_FORWARD,this.rotateToPath){var g=this.path.getPoint(.1);this.rotation=Math.atan2(g.y-this.y,g.x-this.x)+u(this.pathRotationOffset)}return this.pathConfig=l,this},pauseFollow:function(){var l=this.pathTween;return l&&l.isPlaying()&&l.pause(),this},resumeFollow:function(){var l=this.pathTween;return l&&l.isPaused()&&l.resume(),this},stopFollow:function(){var l=this.pathTween;return l&&l.isPlaying()&&l.stop(),this},pathUpdate:function(){var l=this.pathTween;if(l&&l.data){var v=l.data[0],h=this.pathDelta,c=this.pathVector;if(h.copy(c).negate(),v.state===o.COMPLETE){this.path.getPoint(v.end,c),h.add(c),c.add(this.pathOffset),this.setPosition(c.x,c.y);return}else if(v.state!==o.PLAYING_FORWARD&&v.state!==o.PLAYING_BACKWARD)return;this.path.getPoint(l.getValue(),c),h.add(c),c.add(this.pathOffset);var p=this.x,g=this.y;this.setPosition(c.x,c.y);var m=this.x-p,y=this.y-g;if(m===0&&y===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(y,m)+u(this.pathRotationOffset))}}};n.exports=r},72699:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62644),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(d){this.pipelineData={};var o=this.scene.sys.renderer;if(!o)return!1;var a=o.pipelines;if(a){d===void 0&&(d=a.default);var r=a.get(d);if(r)return this.defaultPipeline=r,this.pipeline=r,!0}return!1},setPipeline:function(d,o,a){var r=this.scene.sys.renderer;if(!r)return this;var l=r.pipelines;if(l){var v=l.get(d);v&&(this.pipeline=v),o&&(this.pipelineData=a?u(o):o)}return this},setPipelineData:function(d,o){var a=this.pipelineData;return o===void 0?delete a[d]:a[d]=o,this},resetPipeline:function(d){return d===void 0&&(d=!1),this.pipeline=this.defaultPipeline,d&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};n.exports=x},17581:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62644),x=e(47059),d=e(19133),o={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(a){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),a&&(this.preFX=new x(this,!1))},setPostPipeline:function(a,r,l){var v=this.scene.sys.renderer;if(!v)return this;var h=v.pipelines;if(h){Array.isArray(a)||(a=[a]);for(var c=0;c<a.length;c++){var p=h.getPostPipeline(a[c],this,r);p&&this.postPipelines.push(p)}r&&(this.postPipelineData=l?u(r):r)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(a,r){var l=this.postPipelineData;return r===void 0?delete l[a]:l[a]=r,this},getPostPipeline:function(a){for(var r=typeof a=="string",l=this.postPipelines,v=[],h=0;h<l.length;h++){var c=l[h];(r&&c.name===a||!r&&c instanceof a)&&v.push(c)}return v.length===1?v[0]:v},resetPostPipeline:function(a){a===void 0&&(a=!1);for(var r=this.postPipelines,l=0;l<r.length;l++)r[l].destroy();this.postPipelines=[],this.hasPostPipeline=!1,a&&(this.postPipelineData={})},removePostPipeline:function(a){for(var r=typeof a=="string",l=this.postPipelines,v=l.length-1;v>=0;v--){var h=l[v];(r&&h.name===a||!r&&h===a)&&(h.destroy(),d(l,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};n.exports=o},80227:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,u){return u===void 0&&(u=e),this.scrollFactorX=e,this.scrollFactorY=u,this}};n.exports=C},16736:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};n.exports=C},37726:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4327),x=8,d={texture:null,frame:null,isCropped:!1,setTexture:function(o,a,r,l){return this.texture=this.scene.sys.textures.get(o),this.setFrame(a,r,l)},setFrame:function(o,a,r){return a===void 0&&(a=!0),r===void 0&&(r=!0),o instanceof u?(this.texture=this.scene.sys.textures.get(o.texture.key),this.frame=o):this.frame=this.texture.get(o),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&a&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};n.exports=d},79812:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4327),x=8,d={texture:null,frame:null,isCropped:!1,setCrop:function(o,a,r,l){if(o===void 0)this.isCropped=!1;else if(this.frame){if(typeof o=="number")this.frame.setCropUVs(this._crop,o,a,r,l,this.flipX,this.flipY);else{var v=o;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(o,a){return this.texture=this.scene.sys.textures.get(o),this.setFrame(a)},setFrame:function(o,a,r){return a===void 0&&(a=!0),r===void 0&&(r=!0),o instanceof u?(this.texture=this.scene.sys.textures.get(o.texture.key),this.frame=o):this.frame=this.texture.get(o),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&a&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=d},27472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,u,x,d){return e===void 0&&(e=16777215),u===void 0&&(u=e,x=e,d=e),this.tintTopLeft=e,this.tintTopRight=u,this.tintBottomLeft=x,this.tintBottomRight=d,this.tintFill=!1,this},setTintFill:function(e,u,x,d){return this.setTint(e,u,x,d),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};n.exports=C},53774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(u.textureKey=e.texture.key,u.frameKey=e.frame.name),u};n.exports=C},16901:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=e(61340),d=e(85955),o=e(86554),a=e(30954),r=e(26099),l=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(h){this._scaleX=h,this._scaleY=h,h===0?this.renderFlags&=~l:this.renderFlags|=l}},scaleX:{get:function(){return this._scaleX},set:function(h){this._scaleX=h,h===0?this.renderFlags&=~l:this._scaleY!==0&&(this.renderFlags|=l)}},scaleY:{get:function(){return this._scaleY},set:function(h){this._scaleY=h,h===0?this.renderFlags&=~l:this._scaleX!==0&&(this.renderFlags|=l)}},angle:{get:function(){return a(this._rotation*u.RAD_TO_DEG)},set:function(h){this.rotation=a(h)*u.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=o(h)}},setPosition:function(h,c,p,g){return h===void 0&&(h=0),c===void 0&&(c=h),p===void 0&&(p=0),g===void 0&&(g=0),this.x=h,this.y=c,this.z=p,this.w=g,this},copyPosition:function(h){return h.x!==void 0&&(this.x=h.x),h.y!==void 0&&(this.y=h.y),h.z!==void 0&&(this.z=h.z),h.w!==void 0&&(this.w=h.w),this},setRandomPosition:function(h,c,p,g){return h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),this.x=h+Math.random()*p,this.y=c+Math.random()*g,this},setRotation:function(h){return h===void 0&&(h=0),this.rotation=h,this},setAngle:function(h){return h===void 0&&(h=0),this.angle=h,this},setScale:function(h,c){return h===void 0&&(h=1),c===void 0&&(c=h),this.scaleX=h,this.scaleY=c,this},setX:function(h){return h===void 0&&(h=0),this.x=h,this},setY:function(h){return h===void 0&&(h=0),this.y=h,this},setZ:function(h){return h===void 0&&(h=0),this.z=h,this},setW:function(h){return h===void 0&&(h=0),this.w=h,this},getLocalTransformMatrix:function(h){return h===void 0&&(h=new x),h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(h,c){h===void 0&&(h=new x);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(h);for(c||(c=new x),h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)c.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),c.multiply(h,h),p=p.parentContainer;return h},getLocalPoint:function(h,c,p,g){p||(p=new r),g||(g=this.scene.sys.cameras.main);var m=g.scrollX,y=g.scrollY,S=h+m*this.scrollFactorX-m,M=c+y*this.scrollFactorY-y;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(S,M,p):d(S,M,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var h=0,c=this.parentContainer;c;)h+=c.rotation,c=c.parentContainer;return h}};n.exports=v},61340:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(36383),d=e(26099),o=new u({initialize:function(r,l,v,h,c,p){r===void 0&&(r=1),l===void 0&&(l=0),v===void 0&&(v=0),h===void 0&&(h=1),c===void 0&&(c=0),p===void 0&&(p=0),this.matrix=new Float32Array([r,l,v,h,c,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(a){this.matrix[0]=a}},b:{get:function(){return this.matrix[1]},set:function(a){this.matrix[1]=a}},c:{get:function(){return this.matrix[2]},set:function(a){this.matrix[2]=a}},d:{get:function(){return this.matrix[3]},set:function(a){this.matrix[3]=a}},e:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},f:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},tx:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},ty:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var a=this.matrix,r=a[0],l=a[1],v=a[2],h=a[3];return r||l?l>0?Math.acos(r/this.scaleX):-Math.acos(r/this.scaleX):v||h?x.TAU-(h>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var a=this.matrix;return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,this},translate:function(a,r){var l=this.matrix;return l[4]=l[0]*a+l[2]*r+l[4],l[5]=l[1]*a+l[3]*r+l[5],this},scale:function(a,r){var l=this.matrix;return l[0]*=a,l[1]*=a,l[2]*=r,l[3]*=r,this},rotate:function(a){var r=Math.sin(a),l=Math.cos(a),v=this.matrix,h=v[0],c=v[1],p=v[2],g=v[3];return v[0]=h*l+p*r,v[1]=c*l+g*r,v[2]=h*-r+p*l,v[3]=c*-r+g*l,this},multiply:function(a,r){var l=this.matrix,v=a.matrix,h=l[0],c=l[1],p=l[2],g=l[3],m=l[4],y=l[5],S=v[0],M=v[1],P=v[2],w=v[3],R=v[4],A=v[5],L=r===void 0?l:r.matrix;return L[0]=S*h+M*p,L[1]=S*c+M*g,L[2]=P*h+w*p,L[3]=P*c+w*g,L[4]=R*h+A*p+m,L[5]=R*c+A*g+y,L},multiplyWithOffset:function(a,r,l){var v=this.matrix,h=a.matrix,c=v[0],p=v[1],g=v[2],m=v[3],y=v[4],S=v[5],M=r*c+l*g+y,P=r*p+l*m+S,w=h[0],R=h[1],A=h[2],L=h[3],F=h[4],O=h[5];return v[0]=w*c+R*g,v[1]=w*p+R*m,v[2]=A*c+L*g,v[3]=A*p+L*m,v[4]=F*c+O*g+M,v[5]=F*p+O*m+P,this},transform:function(a,r,l,v,h,c){var p=this.matrix,g=p[0],m=p[1],y=p[2],S=p[3],M=p[4],P=p[5];return p[0]=a*g+r*y,p[1]=a*m+r*S,p[2]=l*g+v*y,p[3]=l*m+v*S,p[4]=h*g+c*y+M,p[5]=h*m+c*S+P,this},transformPoint:function(a,r,l){l===void 0&&(l={x:0,y:0});var v=this.matrix,h=v[0],c=v[1],p=v[2],g=v[3],m=v[4],y=v[5];return l.x=a*h+r*p+m,l.y=a*c+r*g+y,l},invert:function(){var a=this.matrix,r=a[0],l=a[1],v=a[2],h=a[3],c=a[4],p=a[5],g=r*h-l*v;return a[0]=h/g,a[1]=-l/g,a[2]=-v/g,a[3]=r/g,a[4]=(v*p-h*c)/g,a[5]=-(r*p-l*c)/g,this},copyFrom:function(a){var r=this.matrix;return r[0]=a.a,r[1]=a.b,r[2]=a.c,r[3]=a.d,r[4]=a.e,r[5]=a.f,this},copyFromArray:function(a){var r=this.matrix;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],this},copyToContext:function(a){var r=this.matrix;return a.transform(r[0],r[1],r[2],r[3],r[4],r[5]),a},setToContext:function(a){return a.setTransform(this),a},copyToArray:function(a){var r=this.matrix;return a===void 0?a=[r[0],r[1],r[2],r[3],r[4],r[5]]:(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5]),a},setTransform:function(a,r,l,v,h,c){var p=this.matrix;return p[0]=a,p[1]=r,p[2]=l,p[3]=v,p[4]=h,p[5]=c,this},decomposeMatrix:function(){var a=this.decomposedMatrix,r=this.matrix,l=r[0],v=r[1],h=r[2],c=r[3],p=l*c-v*h;if(a.translateX=r[4],a.translateY=r[5],l||v){var g=Math.sqrt(l*l+v*v);a.rotation=v>0?Math.acos(l/g):-Math.acos(l/g),a.scaleX=g,a.scaleY=p/g}else if(h||c){var m=Math.sqrt(h*h+c*c);a.rotation=Math.PI*.5-(c>0?Math.acos(-h/m):-Math.acos(h/m)),a.scaleX=p/m,a.scaleY=m}else a.rotation=0,a.scaleX=0,a.scaleY=0;return a},applyITRS:function(a,r,l,v,h){var c=this.matrix,p=Math.sin(l),g=Math.cos(l);return c[4]=a,c[5]=r,c[0]=g*v,c[1]=p*v,c[2]=-p*h,c[3]=g*h,this},applyInverse:function(a,r,l){l===void 0&&(l=new d);var v=this.matrix,h=v[0],c=v[1],p=v[2],g=v[3],m=v[4],y=v[5],S=1/(h*g+p*-c);return l.x=g*S*a+-p*S*r+(y*p-m*g)*S,l.y=h*S*r+-c*S*a+(-y*h+m*c)*S,l},setQuad:function(a,r,l,v,h,c){h===void 0&&(h=!1),c===void 0&&(c=this.quad);var p=this.matrix,g=p[0],m=p[1],y=p[2],S=p[3],M=p[4],P=p[5];return h?(c[0]=Math.round(a*g+r*y+M),c[1]=Math.round(a*m+r*S+P),c[2]=Math.round(a*g+v*y+M),c[3]=Math.round(a*m+v*S+P),c[4]=Math.round(l*g+v*y+M),c[5]=Math.round(l*m+v*S+P),c[6]=Math.round(l*g+r*y+M),c[7]=Math.round(l*m+r*S+P)):(c[0]=a*g+r*y+M,c[1]=a*m+r*S+P,c[2]=a*g+v*y+M,c[3]=a*m+v*S+P,c[4]=l*g+v*y+M,c[5]=l*m+v*S+P,c[6]=l*g+r*y+M,c[7]=l*m+r*S+P),c},getX:function(a,r){return a*this.a+r*this.c+this.e},getY:function(a,r){return a*this.b+r*this.d+this.f},getXRound:function(a,r,l){var v=this.getX(a,r);return l&&(v=Math.round(v)),v},getYRound:function(a,r,l){var v=this.getY(a,r);return l&&(v=Math.round(v)),v},getCSSMatrix:function(){var a=this.matrix;return"matrix("+a[0]+","+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});n.exports=o},59715:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=C):(this._visible=!1,this.renderFlags&=~C)}},setVisible:function(u){return this.visible=u,this}};n.exports=e},31401:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:e(16005),AlphaSingle:e(88509),BlendMode:e(90065),ComputedSize:e(94215),Crop:e(61683),Depth:e(89272),Flip:e(54434),FX:e(47059),GetBounds:e(8004),Mask:e(8573),Origin:e(27387),PathFollower:e(37640),Pipeline:e(72699),PostPipeline:e(17581),ScrollFactor:e(80227),Size:e(16736),Texture:e(37726),TextureCrop:e(79812),Tint:e(27472),ToJSON:e(53774),Transform:e(16901),TransformMatrix:e(61340),Visible:e(59715)}},31559:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37105),x=e(10312),d=e(83419),o=e(31401),a=e(51708),r=e(95643),l=e(87841),v=e(29959),h=e(36899),c=e(26099),p=new d({Extends:r,Mixins:[o.AlphaSingle,o.BlendMode,o.ComputedSize,o.Depth,o.Mask,o.PostPipeline,o.Transform,o.Visible,v],initialize:function(m,y,S,M){r.call(this,m,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new o.TransformMatrix,this.tempTransformMatrix=new o.TransformMatrix,this._sortKey="",this._sysEvents=m.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,S),this.setBlendMode(x.SKIP_CHECK),M&&this.add(M)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(g){return g===void 0&&(g=!0),this.exclusive=g,this},getBounds:function(g){if(g===void 0&&(g=new l),g.setTo(this.x,this.y,0,0),this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix(),y=m.transformPoint(this.x,this.y);g.setTo(y.x,y.y,0,0)}if(this.list.length>0){var S=this.list,M=new l,P=!1;g.setEmpty();for(var w=0;w<S.length;w++){var R=S[w];R.getBounds&&(R.getBounds(M),P?h(M,g,g):(g.setTo(M.x,M.y,M.width,M.height),P=!0))}}return g},addHandler:function(g){g.once(a.DESTROY,this.onChildDestroyed,this),this.exclusive&&(g.parentContainer&&g.parentContainer.remove(g),g.parentContainer=this,g.removeFromDisplayList(),g.addedToScene())},removeHandler:function(g){g.off(a.DESTROY,this.remove,this),this.exclusive&&(g.parentContainer=null,g.removedFromScene(),g.addToDisplayList())},pointToContainer:function(g,m){m===void 0&&(m=new c),this.parentContainer?this.parentContainer.pointToContainer(g,m):(m.x=g.x,m.y=g.y);var y=this.tempTransformMatrix;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(g.x,g.y,m),m},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(g){return u.Add(this.list,g,this.maxSize,this.addHandler,this),this},addAt:function(g,m){return u.AddAt(this.list,g,m,this.maxSize,this.addHandler,this),this},getAt:function(g){return this.list[g]},getIndex:function(g){return this.list.indexOf(g)},sort:function(g,m){return g?(m===void 0&&(m=function(y,S){return y[g]-S[g]}),u.StableSort(this.list,m),this):this},getByName:function(g){return u.GetFirst(this.list,"name",g)},getRandom:function(g,m){return u.GetRandom(this.list,g,m)},getFirst:function(g,m,y,S){return u.GetFirst(this.list,g,m,y,S)},getAll:function(g,m,y,S){return u.GetAll(this.list,g,m,y,S)},count:function(g,m,y,S){return u.CountAllMatching(this.list,g,m,y,S)},swap:function(g,m){return u.Swap(this.list,g,m),this},moveTo:function(g,m){return u.MoveTo(this.list,g,m),this},moveAbove:function(g,m){return u.MoveAbove(this.list,g,m),this},moveBelow:function(g,m){return u.MoveBelow(this.list,g,m),this},remove:function(g,m){var y=u.Remove(this.list,g,this.removeHandler,this);if(m&&y){Array.isArray(y)||(y=[y]);for(var S=0;S<y.length;S++)y[S].destroy()}return this},removeAt:function(g,m){var y=u.RemoveAt(this.list,g,this.removeHandler,this);return m&&y&&y.destroy(),this},removeBetween:function(g,m,y){var S=u.RemoveBetween(this.list,g,m,this.removeHandler,this);if(y)for(var M=0;M<S.length;M++)S[M].destroy();return this},removeAll:function(g){var m=this.list;if(g){for(var y=0;y<m.length;y++)m[y]&&m[y].scene&&(m[y].off(a.DESTROY,this.onChildDestroyed,this),m[y].destroy());this.list=[]}else u.RemoveBetween(m,0,m.length,this.removeHandler,this);return this},bringToTop:function(g){return u.BringToTop(this.list,g),this},sendToBack:function(g){return u.SendToBack(this.list,g),this},moveUp:function(g){return u.MoveUp(this.list,g),this},moveDown:function(g){return u.MoveDown(this.list,g),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(g,m,y){var S=u.Replace(this.list,g,m);return S&&(this.addHandler(m),this.removeHandler(g),y&&g.destroy()),this},exists:function(g){return this.list.indexOf(g)>-1},setAll:function(g,m,y,S){return u.SetAll(this.list,g,m,y,S),this},each:function(g,m){var y=[null],S,M=this.list.slice(),P=M.length;for(S=2;S<arguments.length;S++)y.push(arguments[S]);for(S=0;S<P;S++)y[0]=M[S],g.apply(m,y);return this},iterate:function(g,m){var y=[null],S;for(S=2;S<arguments.length;S++)y.push(arguments[S]);for(S=0;S<this.list.length;S++)y[0]=this.list[S],g.apply(m,y);return this},setScrollFactor:function(g,m,y){return m===void 0&&(m=g),y===void 0&&(y=!1),this.scrollFactorX=g,this.scrollFactorY=m,y&&(u.SetAll(this.list,"scrollFactorX",g),u.SetAll(this.list,"scrollFactorY",m)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(g){u.Remove(this.list,g),this.exclusive&&(g.parentContainer=null,g.removedFromScene())}});n.exports=p},53584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x.addToRenderList(u);var o=u.list;if(o.length!==0){var a=u.localTransform;d?(a.loadIdentity(),a.multiply(d),a.translate(u.x,u.y),a.rotate(u.rotation),a.scale(u.scaleX,u.scaleY)):a.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var r=u.blendMode!==-1;r||e.setBlendMode(0);var l=u._alpha,v=u.scrollFactorX,h=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(e,null,x);for(var c=0;c<o.length;c++){var p=o[c];if(!!p.willRender(x)){var g=p.alpha,m=p.scrollFactorX,y=p.scrollFactorY;!r&&p.blendMode!==e.currentBlendMode&&e.setBlendMode(p.blendMode),p.setScrollFactor(m*v,y*h),p.setAlpha(g*l),p.renderCanvas(e,p,x,a),p.setAlpha(g),p.setScrollFactor(m,y)}}u.mask&&u.mask.postRenderCanvas(e)}};n.exports=C},77143:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(31559),d=e(44603),o=e(23568),a=e(95540);d.register("container",function(r,l){r===void 0&&(r={});var v=o(r,"x",0),h=o(r,"y",0),c=a(r,"children",null),p=new x(this.scene,v,h,c);return l!==void 0&&(r.add=l),u(this.scene,p,r),p})},24961:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(31559),x=e(39429);x.register("container",function(d,o,a){return this.displayList.add(new u(this.scene,d,o,a))})},29959:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(72249),d=e(53584),n.exports={renderWebGL:x,renderCanvas:d}},72249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x.addToRenderList(u);var o=u.list,a=o.length;if(a!==0){var r=u.localTransform;d?(r.loadIdentity(),r.multiply(d),r.translate(u.x,u.y),r.rotate(u.rotation),r.scale(u.scaleX,u.scaleY)):r.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),e.pipelines.preBatch(u);var l=u.blendMode!==-1;l||e.setBlendMode(0);for(var v=u.alpha,h=u.scrollFactorX,c=u.scrollFactorY,p=0;p<a;p++){var g=o[p];if(!!g.willRender(x)){var m,y,S,M;if(g.alphaTopLeft!==void 0)m=g.alphaTopLeft,y=g.alphaTopRight,S=g.alphaBottomLeft,M=g.alphaBottomRight;else{var P=g.alpha;m=P,y=P,S=P,M=P}var w=g.scrollFactorX,R=g.scrollFactorY;!l&&g.blendMode!==e.currentBlendMode&&e.setBlendMode(g.blendMode);var A=g.mask;A&&A.preRenderWebGL(e,g,x);var L=g.type;L!==e.currentType&&(e.newType=!0,e.currentType=L),e.nextTypeMatch=p<a-1?o[p+1].type===e.currentType:!1,g.setScrollFactor(w*h,R*c),g.setAlpha(m*v,y*v,S*v,M*v),g.renderWebGL(e,g,x,r,u),g.setAlpha(m,y,S,M),g.setScrollFactor(w,R),A&&A.postRenderWebGL(e,x),e.newType=!1}}e.pipelines.postBatch(u)}};n.exports=C},47407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(441),o=e(95643),a=e(41212),r=e(35846),l=e(44594),v=e(61369),h=new u({Extends:o,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,d],initialize:function(p,g,m,y,S,M){o.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(g,m),typeof y=="string"?y[0]==="#"?this.setElement(y.substr(1),S,M):this.createElement(y,S,M):y&&this.setElement(y,S,M),p.sys.events.on(l.SLEEP,this.handleSceneEvent,this),p.sys.events.on(l.WAKE,this.handleSceneEvent,this),p.sys.events.on(l.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(c){var p=this.node,g=p.style;p&&(g.display=c.settings.visible?"block":"none")},setSkew:function(c,p){return c===void 0&&(c=0),p===void 0&&(p=c),this.skewX=c,this.skewY=p,this},setPerspective:function(c){return this.parent.style.perspective=c+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(c){this.parent.style.perspective=c+"px"}},addListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.addEventListener(c[p],this.handler,!1)}return this},removeListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.removeEventListener(c[p],this.handler)}return this},dispatchNativeEvent:function(c){this.emit(c.type,c)},createElement:function(c,p,g){return this.setElement(document.createElement(c),p,g)},setElement:function(c,p,g){this.removeElement();var m;if(typeof c=="string"?(c[0]==="#"&&(c=c.substr(1)),m=document.getElementById(c)):typeof c=="object"&&c.nodeType===1&&(m=c),!m)return this;if(this.node=m,p&&a(p))for(var y in p)m.style[y]=p[y];else typeof p=="string"&&(m.style=p);return m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),g&&(m.innerText=g),this.updateSize()},createFromCache:function(c,p){var g=this.cache.get(c);return g&&this.createFromHTML(g,p),this},createFromHTML:function(c,p){p===void 0&&(p="div"),this.removeElement();var g=document.createElement(p);return this.node=g,g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),g.innerHTML=c,this.updateSize()},removeElement:function(){return this.node&&(r(this.node),this.node=null),this},updateSize:function(){var c=this.node,p=c.getBoundingClientRect();return this.width=c.clientWidth,this.height=c.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(c,p){if(this.node){for(var g=this.node.querySelectorAll("*"),m=0;m<g.length;m++)if(g[m][c]===p)return g[m]}return null},getChildByID:function(c){return this.getChildByProperty("id",c)},getChildByName:function(c){return this.getChildByProperty("name",c)},setClassName:function(c){return this.node&&(this.node.className=c,this.updateSize()),this},setText:function(c){return this.node&&(this.node.innerText=c,this.updateSize()),this},setHTML:function(c){return this.node&&(this.node.innerHTML=c,this.updateSize()),this},preRender:function(){var c=this.parentContainer,p=this.node;p&&c&&!c.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(l.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(l.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(l.PRE_RENDER,this.preRender,this)}});n.exports=h},49381:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47407),x=e(95643),d=e(61340),o=new d,a=new d,r=new d,l=function(v,h,c,p){if(!!h.node){var g=h.node.style,m=h.scene.sys.settings;if(!g||!m.visible||x.RENDER_MASK!==h.renderFlags||h.cameraFilter!==0&&h.cameraFilter&c.id||h.parentContainer&&!h.parentContainer.willRender()){g.display="none";return}var y=h.parentContainer,S=c.alpha*h.alpha;y&&(S*=y.alpha);var M=o,P=a,w=r,R=0,A=0,L="0%",F="0%";p?(R=h.width*h.scaleX*h.originX,A=h.height*h.scaleY*h.originY,P.applyITRS(h.x-R,h.y-A,h.rotation,h.scaleX,h.scaleY),M.copyFrom(c.matrix),M.multiplyWithOffset(p,-c.scrollX*h.scrollFactorX,-c.scrollY*h.scrollFactorY),P.e=h.x-R,P.f=h.y-A,M.multiply(P,w)):(R=h.width*h.originX,A=h.height*h.originY,P.applyITRS(h.x-R,h.y-A,h.rotation,h.scaleX,h.scaleY),M.copyFrom(c.matrix),L=100*h.originX+"%",F=100*h.originY+"%",P.e-=c.scrollX*h.scrollFactorX,P.f-=c.scrollY*h.scrollFactorY,M.multiply(P,w)),h.transformOnly||(g.display="block",g.opacity=S,g.zIndex=h._depth,g.pointerEvents=h.pointerEvents,g.mixBlendMode=u[h._blendMode]),g.transform=w.getCSSMatrix()+" skew("+h.skewX+"rad, "+h.skewY+"rad) rotate3d("+h.rotate3d.x+","+h.rotate3d.y+","+h.rotate3d.z+","+h.rotate3d.w+h.rotate3dAngle+")",g.transformOrigin=L+" "+F}};n.exports=l},2611:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(3069),x=e(39429);x.register("dom",function(d,o,a,r,l){var v=new u(this.scene,d,o,a,r,l);return this.displayList.add(v),v})},441:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(49381),d=e(49381),n.exports={renderWebGL:x,renderCanvas:d}},62980:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},41337:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},44947:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},49358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},35163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"},97249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"},19483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"},56059:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},26772:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"},64437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"},83411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},75780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"},67799:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"},63500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"},55541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},53208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"},4992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},12:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"},51708:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:e(62980),DESTROY:e(41337),REMOVED_FROM_SCENE:e(44947),VIDEO_COMPLETE:e(49358),VIDEO_CREATED:e(35163),VIDEO_ERROR:e(97249),VIDEO_LOCKED:e(19483),VIDEO_LOOP:e(56059),VIDEO_METADATA:e(26772),VIDEO_PLAY:e(83411),VIDEO_PLAYING:e(64437),VIDEO_SEEKED:e(75780),VIDEO_SEEKING:e(67799),VIDEO_STALLED:e(63500),VIDEO_STOP:e(55541),VIDEO_TEXTURE:e(53208),VIDEO_UNLOCKED:e(4992),VIDEO_UNSUPPORTED:e(12)}},42421:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(95643),o=e(64993),a=new u({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,o],initialize:function(l){d.call(this,l,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});n.exports=a},70217:()=>{},56315:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42421),x=e(39429);x.register("extern",function(){var d=new u(this.scene);return this.displayList.add(d),d})},64993:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(80287),d=e(70217),n.exports={renderWebGL:x,renderCanvas:d}},80287:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=function(d,o,a,r){d.pipelines.clear();var l=u(o,a,r).calc;o.render.call(o,d,a,l),d.pipelines.rebind()};n.exports=x},85592:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71911),x=e(83419),d=e(85592),o=e(31401),a=e(8497),r=e(95643),l=e(95540),v=e(35154),h=e(36383),c=e(84503),p=new x({Extends:r,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,c],initialize:function(m,y){var S=v(y,"x",0),M=v(y,"y",0);r.call(this,m,"Graphics"),this.setPosition(S,M),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(y)},setDefaultStyles:function(g){return v(g,"lineStyle",null)&&(this.defaultStrokeWidth=v(g,"lineStyle.width",1),this.defaultStrokeColor=v(g,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(g,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(g,"fillStyle",null)&&(this.defaultFillColor=v(g,"fillStyle.color",16777215),this.defaultFillAlpha=v(g,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(g,m,y){return y===void 0&&(y=1),this.commandBuffer.push(d.LINE_STYLE,g,m,y),this._lineWidth=g,this},fillStyle:function(g,m){return m===void 0&&(m=1),this.commandBuffer.push(d.FILL_STYLE,g,m),this},fillGradientStyle:function(g,m,y,S,M,P,w,R){return M===void 0&&(M=1),P===void 0&&(P=M),w===void 0&&(w=M),R===void 0&&(R=M),this.commandBuffer.push(d.GRADIENT_FILL_STYLE,M,P,w,R,g,m,y,S),this},lineGradientStyle:function(g,m,y,S,M,P){return P===void 0&&(P=1),this.commandBuffer.push(d.GRADIENT_LINE_STYLE,g,P,m,y,S,M),this},beginPath:function(){return this.commandBuffer.push(d.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(d.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(d.FILL_PATH),this},fill:function(){return this.commandBuffer.push(d.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(d.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(d.STROKE_PATH),this},fillCircleShape:function(g){return this.fillCircle(g.x,g.y,g.radius)},strokeCircleShape:function(g){return this.strokeCircle(g.x,g.y,g.radius)},fillCircle:function(g,m,y){return this.beginPath(),this.arc(g,m,y,0,h.PI2),this.fillPath(),this},strokeCircle:function(g,m,y){return this.beginPath(),this.arc(g,m,y,0,h.PI2),this.strokePath(),this},fillRectShape:function(g){return this.fillRect(g.x,g.y,g.width,g.height)},strokeRectShape:function(g){return this.strokeRect(g.x,g.y,g.width,g.height)},fillRect:function(g,m,y,S){return this.commandBuffer.push(d.FILL_RECT,g,m,y,S),this},strokeRect:function(g,m,y,S){var M=this._lineWidth/2,P=g-M,w=g+M;return this.beginPath(),this.moveTo(g,m),this.lineTo(g,m+S),this.strokePath(),this.beginPath(),this.moveTo(g+y,m),this.lineTo(g+y,m+S),this.strokePath(),this.beginPath(),this.moveTo(P,m),this.lineTo(w+y,m),this.strokePath(),this.beginPath(),this.moveTo(P,m+S),this.lineTo(w+y,m+S),this.strokePath(),this},fillRoundedRect:function(g,m,y,S,M){M===void 0&&(M=20);var P=M,w=M,R=M,A=M;typeof M!="number"&&(P=l(M,"tl",20),w=l(M,"tr",20),R=l(M,"bl",20),A=l(M,"br",20));var L=P>=0,F=w>=0,O=R>=0,b=A>=0;return P=Math.abs(P),w=Math.abs(w),R=Math.abs(R),A=Math.abs(A),this.beginPath(),this.moveTo(g+P,m),this.lineTo(g+y-w,m),F?this.arc(g+y-w,m+w,w,-h.TAU,0):this.arc(g+y,m,w,Math.PI,h.TAU,!0),this.lineTo(g+y,m+S-A),b?this.arc(g+y-A,m+S-A,A,0,h.TAU):this.arc(g+y,m+S,A,-h.TAU,Math.PI,!0),this.lineTo(g+R,m+S),O?this.arc(g+R,m+S-R,R,h.TAU,Math.PI):this.arc(g,m+S,R,0,-h.TAU,!0),this.lineTo(g,m+P),L?this.arc(g+P,m+P,P,-Math.PI,-h.TAU):this.arc(g,m,P,h.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(g,m,y,S,M){M===void 0&&(M=20);var P=M,w=M,R=M,A=M,L=Math.min(y,S)/2;typeof M!="number"&&(P=l(M,"tl",20),w=l(M,"tr",20),R=l(M,"bl",20),A=l(M,"br",20));var F=P>=0,O=w>=0,b=R>=0,B=A>=0;return P=Math.min(Math.abs(P),L),w=Math.min(Math.abs(w),L),R=Math.min(Math.abs(R),L),A=Math.min(Math.abs(A),L),this.beginPath(),this.moveTo(g+P,m),this.lineTo(g+y-w,m),this.moveTo(g+y-w,m),O?this.arc(g+y-w,m+w,w,-h.TAU,0):this.arc(g+y,m,w,Math.PI,h.TAU,!0),this.lineTo(g+y,m+S-A),this.moveTo(g+y,m+S-A),B?this.arc(g+y-A,m+S-A,A,0,h.TAU):this.arc(g+y,m+S,A,-h.TAU,Math.PI,!0),this.lineTo(g+R,m+S),this.moveTo(g+R,m+S),b?this.arc(g+R,m+S-R,R,h.TAU,Math.PI):this.arc(g,m+S,R,0,-h.TAU,!0),this.lineTo(g,m+P),this.moveTo(g,m+P),F?this.arc(g+P,m+P,P,-Math.PI,-h.TAU):this.arc(g,m,P,h.TAU,0,!0),this.strokePath(),this},fillPointShape:function(g,m){return this.fillPoint(g.x,g.y,m)},fillPoint:function(g,m,y){return!y||y<1?y=1:(g-=y/2,m-=y/2),this.commandBuffer.push(d.FILL_RECT,g,m,y,y),this},fillTriangleShape:function(g){return this.fillTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},strokeTriangleShape:function(g){return this.strokeTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},fillTriangle:function(g,m,y,S,M,P){return this.commandBuffer.push(d.FILL_TRIANGLE,g,m,y,S,M,P),this},strokeTriangle:function(g,m,y,S,M,P){return this.commandBuffer.push(d.STROKE_TRIANGLE,g,m,y,S,M,P),this},strokeLineShape:function(g){return this.lineBetween(g.x1,g.y1,g.x2,g.y2)},lineBetween:function(g,m,y,S){return this.beginPath(),this.moveTo(g,m),this.lineTo(y,S),this.strokePath(),this},lineTo:function(g,m){return this.commandBuffer.push(d.LINE_TO,g,m),this},moveTo:function(g,m){return this.commandBuffer.push(d.MOVE_TO,g,m),this},strokePoints:function(g,m,y,S){m===void 0&&(m=!1),y===void 0&&(y=!1),S===void 0&&(S=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var M=1;M<S;M++)this.lineTo(g[M].x,g[M].y);return m&&this.lineTo(g[0].x,g[0].y),y&&this.closePath(),this.strokePath(),this},fillPoints:function(g,m,y,S){m===void 0&&(m=!1),y===void 0&&(y=!1),S===void 0&&(S=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var M=1;M<S;M++)this.lineTo(g[M].x,g[M].y);return m&&this.lineTo(g[0].x,g[0].y),y&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(g,m){m===void 0&&(m=32);var y=g.getPoints(m);return this.strokePoints(y,!0)},strokeEllipse:function(g,m,y,S,M){M===void 0&&(M=32);var P=new a(g,m,y,S),w=P.getPoints(M);return this.strokePoints(w,!0)},fillEllipseShape:function(g,m){m===void 0&&(m=32);var y=g.getPoints(m);return this.fillPoints(y,!0)},fillEllipse:function(g,m,y,S,M){M===void 0&&(M=32);var P=new a(g,m,y,S),w=P.getPoints(M);return this.fillPoints(w,!0)},arc:function(g,m,y,S,M,P,w){return P===void 0&&(P=!1),w===void 0&&(w=0),this.commandBuffer.push(d.ARC,g,m,y,S,M,P,w),this},slice:function(g,m,y,S,M,P,w){return P===void 0&&(P=!1),w===void 0&&(w=0),this.commandBuffer.push(d.BEGIN_PATH),this.commandBuffer.push(d.MOVE_TO,g,m),this.commandBuffer.push(d.ARC,g,m,y,S,M,P,w),this.commandBuffer.push(d.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(d.SAVE),this},restore:function(){return this.commandBuffer.push(d.RESTORE),this},translateCanvas:function(g,m){return this.commandBuffer.push(d.TRANSLATE,g,m),this},scaleCanvas:function(g,m){return this.commandBuffer.push(d.SCALE,g,m),this},rotateCanvas:function(g){return this.commandBuffer.push(d.ROTATE,g),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(g,m,y){var S=this.scene.sys,M=S.game.renderer;m===void 0&&(m=S.scale.width),y===void 0&&(y=S.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,m,y),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var P,w,R={willReadFrequently:!0};if(typeof g=="string")if(S.textures.exists(g)){P=S.textures.get(g);var A=P.getSourceImage();A instanceof HTMLCanvasElement&&(w=A.getContext("2d",R))}else P=S.textures.createCanvas(g,m,y),w=P.getSourceImage().getContext("2d",R);else g instanceof HTMLCanvasElement&&(w=g.getContext("2d",R));return w&&(this.renderCanvas(M,this,p.TargetCamera,null,w,!1),P&&P.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new u,n.exports=p},32768:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85592),x=e(20926),d=function(o,a,r,l,v,h){var c=a.commandBuffer,p=c.length,g=v||o.currentContext;if(!(p===0||!x(o,g,a,r,l))){r.addToRenderList(a);var m=1,y=1,S=0,M=0,P=1,w=0,R=0,A=0;g.beginPath();for(var L=0;L<p;++L){var F=c[L];switch(F){case u.ARC:g.arc(c[L+1],c[L+2],c[L+3],c[L+4],c[L+5],c[L+6]),L+=7;break;case u.LINE_STYLE:P=c[L+1],S=c[L+2],m=c[L+3],w=(S&16711680)>>>16,R=(S&65280)>>>8,A=S&255,g.strokeStyle="rgba("+w+","+R+","+A+","+m+")",g.lineWidth=P,L+=3;break;case u.FILL_STYLE:M=c[L+1],y=c[L+2],w=(M&16711680)>>>16,R=(M&65280)>>>8,A=M&255,g.fillStyle="rgba("+w+","+R+","+A+","+y+")",L+=2;break;case u.BEGIN_PATH:g.beginPath();break;case u.CLOSE_PATH:g.closePath();break;case u.FILL_PATH:h||g.fill();break;case u.STROKE_PATH:h||g.stroke();break;case u.FILL_RECT:h?g.rect(c[L+1],c[L+2],c[L+3],c[L+4]):g.fillRect(c[L+1],c[L+2],c[L+3],c[L+4]),L+=4;break;case u.FILL_TRIANGLE:g.beginPath(),g.moveTo(c[L+1],c[L+2]),g.lineTo(c[L+3],c[L+4]),g.lineTo(c[L+5],c[L+6]),g.closePath(),h||g.fill(),L+=6;break;case u.STROKE_TRIANGLE:g.beginPath(),g.moveTo(c[L+1],c[L+2]),g.lineTo(c[L+3],c[L+4]),g.lineTo(c[L+5],c[L+6]),g.closePath(),h||g.stroke(),L+=6;break;case u.LINE_TO:g.lineTo(c[L+1],c[L+2]),L+=2;break;case u.MOVE_TO:g.moveTo(c[L+1],c[L+2]),L+=2;break;case u.LINE_FX_TO:g.lineTo(c[L+1],c[L+2]),L+=5;break;case u.MOVE_FX_TO:g.moveTo(c[L+1],c[L+2]),L+=5;break;case u.SAVE:g.save();break;case u.RESTORE:g.restore();break;case u.TRANSLATE:g.translate(c[L+1],c[L+2]),L+=2;break;case u.SCALE:g.scale(c[L+1],c[L+2]),L+=2;break;case u.ROTATE:g.rotate(c[L+1]),L+=1;break;case u.GRADIENT_FILL_STYLE:L+=5;break;case u.GRADIENT_LINE_STYLE:L+=6;break}}g.restore()}};n.exports=d},87079:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44603),x=e(43831);u.register("graphics",function(d,o){d===void 0&&(d={}),o!==void 0&&(d.add=o);var a=new x(this.scene,d);return d.add&&this.scene.sys.displayList.add(a),a})},1201:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43831),x=e(39429);x.register("graphics",function(d){return this.displayList.add(new u(this.scene,d))})},84503:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(77545),d=e(32768),d=e(32768),n.exports={renderWebGL:x,renderCanvas:d}},77545:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85592),x=e(91296),d=e(61340),o=e(70554),a=function(c,p,g){this.x=c,this.y=p,this.width=g},r=function(c,p,g){this.points=[],this.pointsLength=1,this.points[0]=new a(c,p,g)},l=[],v=new d,h=function(c,p,g,m){if(p.commandBuffer.length!==0){g.addToRenderList(p);var y=c.pipelines.set(p.pipeline,p);c.pipelines.preBatch(p);for(var S=x(p,g,m).calc,M=v.loadIdentity(),P=p.commandBuffer,w=g.alpha*p.alpha,R=1,A=y.fillTint,L=y.strokeTint,F=0,O=0,b=0,B=.01,I=Math.PI*2,N,X=[],k=0,H=!0,V=null,W=o.getTintAppendFloatAlpha,D=0;D<P.length;D++)switch(N=P[D],N){case u.BEGIN_PATH:{X.length=0,V=null,H=!0;break}case u.CLOSE_PATH:{H=!1,V&&V.points.length&&V.points.push(V.points[0]);break}case u.FILL_PATH:{for(k=0;k<X.length;k++)y.batchFillPath(X[k].points,M,S);break}case u.STROKE_PATH:{for(k=0;k<X.length;k++)y.batchStrokePath(X[k].points,R,H,M,S);break}case u.LINE_STYLE:{R=P[++D];var G=P[++D],z=P[++D]*w,U=W(G,z);L.TL=U,L.TR=U,L.BL=U,L.BR=U;break}case u.FILL_STYLE:{var Y=P[++D],$=P[++D]*w,K=W(Y,$);A.TL=K,A.TR=K,A.BL=K,A.BR=K;break}case u.GRADIENT_FILL_STYLE:{var Z=P[++D]*w,J=P[++D]*w,Q=P[++D]*w,j=P[++D]*w;A.TL=W(P[++D],Z),A.TR=W(P[++D],J),A.BL=W(P[++D],Q),A.BR=W(P[++D],j);break}case u.GRADIENT_LINE_STYLE:{R=P[++D];var _=P[++D]*w;L.TL=W(P[++D],_),L.TR=W(P[++D],_),L.BL=W(P[++D],_),L.BR=W(P[++D],_);break}case u.ARC:{var q=0,it=P[++D],at=P[++D],ot=P[++D],ht=P[++D],tt=P[++D],nt=P[++D],rt=P[++D];for(tt-=ht,nt?tt<-I?tt=-I:tt>0&&(tt=-I+tt%I):tt>I?tt=I:tt<0&&(tt=I+tt%I),V===null&&(V=new r(it+Math.cos(ht)*ot,at+Math.sin(ht)*ot,R),X.push(V),q+=B);q<1+rt;)b=tt*q+ht,F=it+Math.cos(b)*ot,O=at+Math.sin(b)*ot,V.points.push(new a(F,O,R)),q+=B;b=tt+ht,F=it+Math.cos(b)*ot,O=at+Math.sin(b)*ot,V.points.push(new a(F,O,R));break}case u.FILL_RECT:{y.batchFillRect(P[++D],P[++D],P[++D],P[++D],M,S);break}case u.FILL_TRIANGLE:{y.batchFillTriangle(P[++D],P[++D],P[++D],P[++D],P[++D],P[++D],M,S);break}case u.STROKE_TRIANGLE:{y.batchStrokeTriangle(P[++D],P[++D],P[++D],P[++D],P[++D],P[++D],R,M,S);break}case u.LINE_TO:{V!==null?V.points.push(new a(P[++D],P[++D],R)):(V=new r(P[++D],P[++D],R),X.push(V));break}case u.MOVE_TO:{V=new r(P[++D],P[++D],R),X.push(V);break}case u.SAVE:{l.push(M.copyToArray());break}case u.RESTORE:{M.copyFromArray(l.pop());break}case u.TRANSLATE:{it=P[++D],at=P[++D],M.translate(it,at);break}case u.SCALE:{it=P[++D],at=P[++D],M.scale(it,at);break}case u.ROTATE:{M.rotate(P[++D]);break}}c.pipelines.postBatch(p)}};n.exports=h},26479:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61061),x=e(83419),d=e(51708),o=e(50792),a=e(46710),r=e(95540),l=e(35154),v=e(97022),h=e(41212),c=e(88492),p=e(35072),g=e(68287),m=new x({Extends:o,initialize:function(S,M,P){o.call(this),P?M&&!Array.isArray(M)&&(M=[M]):Array.isArray(M)?h(M[0])&&(P=M,M=null):h(M)&&(P=M,M=null),this.scene=S,this.children=new p,this.isParent=!0,this.type="Group",this.classType=r(P,"classType",g),this.name=r(P,"name",""),this.active=r(P,"active",!0),this.maxSize=r(P,"maxSize",-1),this.defaultKey=r(P,"defaultKey",null),this.defaultFrame=r(P,"defaultFrame",null),this.runChildUpdate=r(P,"runChildUpdate",!1),this.createCallback=r(P,"createCallback",null),this.removeCallback=r(P,"removeCallback",null),this.createMultipleCallback=r(P,"createMultipleCallback",null),this.internalCreateCallback=r(P,"internalCreateCallback",null),this.internalRemoveCallback=r(P,"internalRemoveCallback",null),M&&this.addMultiple(M),P&&this.createMultiple(P),this.on(d.ADDED_TO_SCENE,this.addedToScene,this),this.on(d.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(y,S,M,P,w,R){if(y===void 0&&(y=0),S===void 0&&(S=0),M===void 0&&(M=this.defaultKey),P===void 0&&(P=this.defaultFrame),w===void 0&&(w=!0),R===void 0&&(R=!0),this.isFull())return null;var A=new this.classType(this.scene,y,S,M,P);return A.addToDisplayList(this.scene.sys.displayList),A.addToUpdateList(),A.visible=w,A.setActive(R),this.add(A),A},createMultiple:function(y){if(this.isFull())return[];Array.isArray(y)||(y=[y]);var S=[];if(y[0].key)for(var M=0;M<y.length;M++){var P=this.createFromConfig(y[M]);S=S.concat(P)}return S},createFromConfig:function(y){if(this.isFull())return[];this.classType=r(y,"classType",this.classType);var S=r(y,"key",void 0),M=r(y,"frame",null),P=r(y,"visible",!0),w=r(y,"active",!0),R=[];if(S===void 0)return R;Array.isArray(S)||(S=[S]),Array.isArray(M)||(M=[M]);var A=r(y,"repeat",0),L=r(y,"randomKey",!1),F=r(y,"randomFrame",!1),O=r(y,"yoyo",!1),b=r(y,"quantity",!1),B=r(y,"frameQuantity",1),I=r(y,"max",0),N=c(S,M,{max:I,qty:b||B,random:L,randomB:F,repeat:A,yoyo:O});y.createCallback&&(this.createCallback=y.createCallback),y.removeCallback&&(this.removeCallback=y.removeCallback),y.internalCreateCallback&&(this.internalCreateCallback=y.internalCreateCallback),y.internalRemoveCallback&&(this.internalRemoveCallback=y.internalRemoveCallback);for(var X=0;X<N.length;X++){var k=this.create(0,0,N[X].a,N[X].b,P,w);if(!k)break;R.push(k)}if(v(y,"setXY")){var H=l(y,"setXY.x",0),V=l(y,"setXY.y",0),W=l(y,"setXY.stepX",0),D=l(y,"setXY.stepY",0);u.SetXY(R,H,V,W,D)}if(v(y,"setRotation")){var G=l(y,"setRotation.value",0),z=l(y,"setRotation.step",0);u.SetRotation(R,G,z)}if(v(y,"setScale")){var U=l(y,"setScale.x",1),Y=l(y,"setScale.y",U),$=l(y,"setScale.stepX",0),K=l(y,"setScale.stepY",0);u.SetScale(R,U,Y,$,K)}if(v(y,"setOrigin")){var Z=l(y,"setOrigin.x",.5),J=l(y,"setOrigin.y",Z),Q=l(y,"setOrigin.stepX",0),j=l(y,"setOrigin.stepY",0);u.SetOrigin(R,Z,J,Q,j)}if(v(y,"setAlpha")){var _=l(y,"setAlpha.value",1),q=l(y,"setAlpha.step",0);u.SetAlpha(R,_,q)}if(v(y,"setDepth")){var it=l(y,"setDepth.value",0),at=l(y,"setDepth.step",0);u.SetDepth(R,it,at)}if(v(y,"setScrollFactor")){var ot=l(y,"setScrollFactor.x",1),ht=l(y,"setScrollFactor.y",ot),tt=l(y,"setScrollFactor.stepX",0),nt=l(y,"setScrollFactor.stepY",0);u.SetScrollFactor(R,ot,ht,tt,nt)}var rt=r(y,"hitArea",null),vt=r(y,"hitAreaCallback",null);rt&&u.SetHitArea(R,rt,vt);var ct=r(y,"gridAlign",!1);return ct&&u.GridAlign(R,ct),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(y,S){if(!(!this.runChildUpdate||this.children.size===0))for(var M=this.children.entries.slice(),P=0;P<M.length;P++){var w=M[P];w.active&&w.update(y,S)}},add:function(y,S){return S===void 0&&(S=!1),this.isFull()?this:(this.children.set(y),this.internalCreateCallback&&this.internalCreateCallback.call(this,y),this.createCallback&&this.createCallback.call(this,y),S&&(y.addToDisplayList(this.scene.sys.displayList),y.addToUpdateList()),y.on(d.DESTROY,this.remove,this),this)},addMultiple:function(y,S){if(S===void 0&&(S=!1),Array.isArray(y))for(var M=0;M<y.length;M++)this.add(y[M],S);return this},remove:function(y,S,M){return S===void 0&&(S=!1),M===void 0&&(M=!1),this.children.contains(y)?(this.children.delete(y),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,y),this.removeCallback&&this.removeCallback.call(this,y),y.off(d.DESTROY,this.remove,this),M?y.destroy():S&&(y.removeFromDisplayList(),y.removeFromUpdateList()),this):this},clear:function(y,S){y===void 0&&(y=!1),S===void 0&&(S=!1);for(var M=this.children,P=0;P<M.size;P++){var w=M.entries[P];w.off(d.DESTROY,this.remove,this),S?w.destroy():y&&(w.removeFromDisplayList(),w.removeFromUpdateList())}return this.children.clear(),this},contains:function(y){return this.children.contains(y)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(y,S,M,P){return a(this.children.entries,y,S,M,P)},getFirst:function(y,S,M,P,w,R,A){return this.getHandler(!0,1,y,S,M,P,w,R,A)},getFirstNth:function(y,S,M,P,w,R,A,L){return this.getHandler(!0,y,S,M,P,w,R,A,L)},getLast:function(y,S,M,P,w,R,A){return this.getHandler(!1,1,y,S,M,P,w,R,A)},getLastNth:function(y,S,M,P,w,R,A,L){return this.getHandler(!1,y,S,M,P,w,R,A,L)},getHandler:function(y,S,M,P,w,R,A,L,F){M===void 0&&(M=!1),P===void 0&&(P=!1);var O,b,B=0,I=this.children.entries;if(y)for(b=0;b<I.length;b++)if(O=I[b],O.active===M){if(B++,B===S)break}else O=null;else for(b=I.length-1;b>=0;b--)if(O=I[b],O.active===M){if(B++,B===S)break}else O=null;return O?(typeof w=="number"&&(O.x=w),typeof R=="number"&&(O.y=R),O):P?this.create(w,R,A,L,F):null},get:function(y,S,M,P,w){return this.getFirst(!1,!0,y,S,M,P,w)},getFirstAlive:function(y,S,M,P,w,R){return this.getFirst(!0,y,S,M,P,w,R)},getFirstDead:function(y,S,M,P,w,R){return this.getFirst(!1,y,S,M,P,w,R)},playAnimation:function(y,S){return u.PlayAnimation(this.children.entries,y,S),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(y){y===void 0&&(y=!0);for(var S=0,M=0;M<this.children.size;M++)this.children.entries[M].active===y&&S++;return S},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var y=this.getTotalUsed(),S=this.maxSize===-1?999999999999:this.maxSize;return S-y},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},propertyValueSet:function(y,S,M,P,w){return u.PropertyValueSet(this.children.entries,y,S,M,P,w),this},propertyValueInc:function(y,S,M,P,w){return u.PropertyValueInc(this.children.entries,y,S,M,P,w),this},setX:function(y,S){return u.SetX(this.children.entries,y,S),this},setY:function(y,S){return u.SetY(this.children.entries,y,S),this},setXY:function(y,S,M,P){return u.SetXY(this.children.entries,y,S,M,P),this},incX:function(y,S){return u.IncX(this.children.entries,y,S),this},incY:function(y,S){return u.IncY(this.children.entries,y,S),this},incXY:function(y,S,M,P){return u.IncXY(this.children.entries,y,S,M,P),this},shiftPosition:function(y,S,M){return u.ShiftPosition(this.children.entries,y,S,M),this},angle:function(y,S){return u.Angle(this.children.entries,y,S),this},rotate:function(y,S){return u.Rotate(this.children.entries,y,S),this},rotateAround:function(y,S){return u.RotateAround(this.children.entries,y,S),this},rotateAroundDistance:function(y,S,M){return u.RotateAroundDistance(this.children.entries,y,S,M),this},setAlpha:function(y,S){return u.SetAlpha(this.children.entries,y,S),this},setTint:function(y,S,M,P){return u.SetTint(this.children.entries,y,S,M,P),this},setOrigin:function(y,S,M,P){return u.SetOrigin(this.children.entries,y,S,M,P),this},scaleX:function(y,S){return u.ScaleX(this.children.entries,y,S),this},scaleY:function(y,S){return u.ScaleY(this.children.entries,y,S),this},scaleXY:function(y,S,M,P){return u.ScaleXY(this.children.entries,y,S,M,P),this},setDepth:function(y,S){return u.SetDepth(this.children.entries,y,S),this},setBlendMode:function(y){return u.SetBlendMode(this.children.entries,y),this},setHitArea:function(y,S){return u.SetHitArea(this.children.entries,y,S),this},shuffle:function(){return u.Shuffle(this.children.entries),this},kill:function(y){this.children.contains(y)&&y.setActive(!1)},killAndHide:function(y){this.children.contains(y)&&(y.setActive(!1),y.setVisible(!1))},setVisible:function(y,S,M){return u.SetVisible(this.children.entries,y,S,M),this},toggleVisible:function(){return u.ToggleVisible(this.children.entries),this},destroy:function(y,S){y===void 0&&(y=!1),S===void 0&&(S=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(d.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(S,y),this.scene=void 0,this.children=void 0)}});n.exports=m},94975:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44603),x=e(26479);u.register("group",function(d){return new x(this.scene,null,d)})},3385:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26479),x=e(39429);x.register("group",function(d,o){return this.updateList.add(new u(this.scene,d,o))})},88571:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(95643),o=e(59819),a=new u({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,o],initialize:function(l,v,h,c,p){d.call(this,l,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,p),this.setPosition(v,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=a},40652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x.addToRenderList(u),e.batchSprite(u,u.frame,x,d)};n.exports=C},82459:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(88571);x.register("image",function(a,r){a===void 0&&(a={});var l=d(a,"key",null),v=d(a,"frame",null),h=new o(this.scene,0,0,l,v);return r!==void 0&&(a.add=r),u(this.scene,h,a),h})},2117:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88571),x=e(39429);x.register("image",function(d,o,a,r){return this.displayList.add(new u(this.scene,d,o,a,r))})},59819:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(99517),d=e(40652),n.exports={renderWebGL:x,renderCanvas:d}},99517:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x.addToRenderList(u),this.pipeline.batchSprite(u,x,d)};n.exports=C},77856:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Events:e(51708),DisplayList:e(8050),GameObjectCreator:e(44603),GameObjectFactory:e(39429),UpdateList:e(45027),Components:e(31401),GetCalcMatrix:e(91296),BuildGameObject:e(25305),BuildGameObjectAnimation:e(13059),GameObject:e(95643),BitmapText:e(22186),Blitter:e(6107),Bob:e(46590),Container:e(31559),DOMElement:e(3069),DynamicBitmapText:e(2638),Extern:e(42421),Graphics:e(43831),Group:e(26479),Image:e(88571),Layer:e(93595),Particles:e(18404),PathFollower:e(1159),RenderTexture:e(591),RetroFont:e(196),Rope:e(77757),Sprite:e(68287),Text:e(50171),GetTextSize:e(14220),MeasureText:e(79557),TextStyle:e(35762),TileSprite:e(20839),Zone:e(41481),Video:e(18471),Shape:e(17803),Arc:e(23629),Curve:e(89),Ellipse:e(19921),Grid:e(30479),IsoBox:e(61475),IsoTriangle:e(16933),Line:e(57847),Polygon:e(24949),Rectangle:e(74561),Star:e(55911),Triangle:e(36931),Factories:{Blitter:e(12709),Container:e(24961),DOMElement:e(2611),DynamicBitmapText:e(72566),Extern:e(56315),Graphics:e(1201),Group:e(3385),Image:e(2117),Layer:e(20005),Particles:e(676),PathFollower:e(90145),RenderTexture:e(60505),Rope:e(96819),Sprite:e(46409),StaticBitmapText:e(34914),Text:e(68005),TileSprite:e(91681),Zone:e(84175),Video:e(89025),Arc:e(42563),Curve:e(40511),Ellipse:e(1543),Grid:e(34137),IsoBox:e(3933),IsoTriangle:e(49803),Line:e(2481),Polygon:e(64827),Rectangle:e(87959),Star:e(93697),Triangle:e(45245)},Creators:{Blitter:e(9403),Container:e(77143),DynamicBitmapText:e(11164),Graphics:e(87079),Group:e(94975),Image:e(82459),Layer:e(25179),Particles:e(92730),RenderTexture:e(34495),Rope:e(26209),Sprite:e(15567),StaticBitmapText:e(57336),Text:e(71259),TileSprite:e(14167),Zone:e(95261),Video:e(11511)}};u.Shader=e(20071),u.Mesh=e(4703),u.NineSlice=e(28103),u.PointLight=e(80321),u.Plane=e(33663),u.Factories.Shader=e(74177),u.Factories.Mesh=e(9225),u.Factories.NineSlice=e(47521),u.Factories.PointLight=e(71255),u.Factories.Plane=e(30985),u.Creators.Shader=e(54935),u.Creators.Mesh=e(20527),u.Creators.NineSlice=e(28279),u.Creators.PointLight=e(39829),u.Creators.Plane=e(56015),u.Light=e(41432),u.LightsManager=e(61356),u.LightsPlugin=e(88992),n.exports=u},93595:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),x=e(83419),d=e(31401),o=e(53774),a=e(45893),r=e(50792),l=e(51708),v=e(73162),h=e(33963),c=e(44594),p=e(19186),g=new x({Extends:v,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.PostPipeline,d.Visible,r,h],initialize:function(y,S){v.call(this,y),r.call(this),this.scene=y,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=y.sys,this.events=y.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),S&&this.add(S),y.sys.queueDepthSort()},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},setState:function(m){return this.state=m,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(m,y){return this.data||(this.data=new a(this)),this.data.set(m,y),this},incData:function(m,y){return this.data||(this.data=new a(this)),this.data.inc(m,y),this},toggleData:function(m){return this.data||(this.data=new a(this)),this.data.toggle(m),this},getData:function(m){return this.data||(this.data=new a(this)),this.data.get(m)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return o(this)},willRender:function(m){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&m.id)},getIndexList:function(){for(var m=this,y=this.parentContainer,S=[];y&&(S.unshift(y.getIndex(m)),m=y,y.parentContainer);)y=y.parentContainer;return S.unshift(this.displayList.getIndex(m)),S},addChildCallback:function(m){var y=m.displayList;y&&y!==this&&m.removeFromDisplayList(),m.displayList||(this.queueDepthSort(),m.displayList=this,m.emit(l.ADDED_TO_SCENE,m,this.scene),this.events.emit(c.ADDED_TO_SCENE,m,this.scene))},removeChildCallback:function(m){this.queueDepthSort(),m.displayList=null,m.emit(l.REMOVED_FROM_SCENE,m,this.scene),this.events.emit(c.REMOVED_FROM_SCENE,m,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(m,y){return m._depth-y._depth},getChildren:function(){return this.list},addToDisplayList:function(m){return m===void 0&&(m=this.scene.sys.displayList),this.displayList&&this.displayList!==m&&this.removeFromDisplayList(),m.exists(this)||(this.displayList=m,m.add(this,!0),m.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),m.events.emit(c.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var m=this.displayList||this.scene.sys.displayList;return m.exists(this)&&(m.remove(this,!0),m.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),m.events.emit(c.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(m){if(!(!this.scene||this.ignoreDestroy)){this.emit(l.DESTROY,this);for(var y=this.list;y.length;)y[0].destroy(m);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});n.exports=g},2956:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=u.list;if(d.length!==0){u.depthSort();var o=u.blendMode!==-1;o||e.setBlendMode(0);var a=u._alpha;u.mask&&u.mask.preRenderCanvas(e,null,x);for(var r=0;r<d.length;r++){var l=d[r];if(!!l.willRender(x)){var v=l.alpha;!o&&l.blendMode!==e.currentBlendMode&&e.setBlendMode(l.blendMode),l.setAlpha(v*a),l.renderCanvas(e,l,x),l.setAlpha(v)}}u.mask&&u.mask.postRenderCanvas(e)}};n.exports=C},25179:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(93595),d=e(44603),o=e(23568);d.register("layer",function(a,r){a===void 0&&(a={});var l=o(a,"children",null),v=new x(this.scene,l);return r!==void 0&&(a.add=r),u(this.scene,v,a),v})},20005:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93595),x=e(39429);x.register("layer",function(d){return this.displayList.add(new u(this.scene,d))})},33963:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(15869),d=e(2956),n.exports={renderWebGL:x,renderCanvas:d}},15869:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=u.list,o=d.length;if(o!==0){u.depthSort(),e.pipelines.preBatch(u);var a=u.blendMode!==-1;a||e.setBlendMode(0);for(var r=u.alpha,l=0;l<o;l++){var v=d[l];if(!!v.willRender(x)){var h,c,p,g;if(v.alphaTopLeft!==void 0)h=v.alphaTopLeft,c=v.alphaTopRight,p=v.alphaBottomLeft,g=v.alphaBottomRight;else{var m=v.alpha;h=m,c=m,p=m,g=m}!a&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode);var y=v.mask;y&&y.preRenderWebGL(e,v,x);var S=v.type;S!==e.currentType&&(e.newType=!0,e.currentType=S),e.nextTypeMatch=l<o-1?d[l+1].type===e.currentType:!1,v.setAlpha(h*r,c*r,p*r,g*r),v.renderWebGL(e,v,x),v.setAlpha(h,c,p,g),y&&y.postRenderWebGL(e,x),e.newType=!1}}e.pipelines.postBatch(u)}};n.exports=C},41432:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503),x=e(83419),d=e(31401),o=e(51767),a=e(70554),r=new x({Extends:u,Mixins:[d.Origin,d.ScrollFactor,d.Visible],initialize:function(v,h,c,p,g,m,y){u.call(this,v,h,c),this.color=new o(p,g,m),this.intensity=y,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(c)},displayWidth:{get:function(){return this.diameter},set:function(l){this.diameter=l}},displayHeight:{get:function(){return this.diameter},set:function(l){this.diameter=l}},width:{get:function(){return this.diameter},set:function(l){this.diameter=l}},height:{get:function(){return this.diameter},set:function(l){this.diameter=l}},willRender:function(l){return!(r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},setColor:function(l){var v=a.getFloatsFromUintRGB(l);return this.color.set(v[0],v[1],v[2]),this},setIntensity:function(l){return this.intensity=l,this},setRadius:function(l){return this.radius=l,this}});r.RENDER_MASK=15,n.exports=r},61356:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81491),x=e(83419),d=e(20339),o=e(41432),a=e(80321),r=e(51767),l=e(19133),v=e(19186),h=e(70554),c=new x({initialize:function(){this.lights=[],this.ambientColor=new r(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,g,m,y,S,M){return this.systems.displayList.add(new a(this.scene,p,g,m,y,S,M))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var g=this.lights,m=p.worldView,y=[],S=0;S<g.length;S++){var M=g[S];M.willRender(p)&&u(M,m)&&y.push({light:M,distance:d(M.x,M.y,m.centerX,m.centerY)})}return y.length>this.maxLights&&(v(y,this.sortByDistance),y=y.slice(0,this.maxLights)),this.visibleLights=y.length,y},sortByDistance:function(p,g){return p.distance>=g.distance},setAmbientColor:function(p){var g=h.getFloatsFromUintRGB(p);return this.ambientColor.set(g[0],g[1],g[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,g,m,y,S){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),y===void 0&&(y=16777215),S===void 0&&(S=1);var M=h.getFloatsFromUintRGB(y),P=new o(p,g,m,M[0],M[1],M[2],S);return this.lights.push(P),P},removeLight:function(p){var g=this.lights.indexOf(p);return g>=0&&l(this.lights,g),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});n.exports=c},88992:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(61356),d=e(37277),o=e(44594),a=new u({Extends:x,initialize:function(l){this.scene=l,this.systems=l.sys,l.sys.settings.isBooted||l.sys.events.once(o.BOOT,this.boot,this),x.call(this)},boot:function(){var r=this.systems.events;r.on(o.SHUTDOWN,this.shutdown,this),r.on(o.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});d.register("LightsPlugin",a,"lights"),n.exports=a},4703:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(39506),o=e(83997),a=e(95643),r=e(34684),l=e(92515),v=e(91296),h=e(37867),c=e(29807),p=e(43396),g=e(19186),m=e(25836),y=e(39318),S=new u({Extends:a,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,c],initialize:function(P,w,R,A,L,F,O,b,B,I,N,X){w===void 0&&(w=0),R===void 0&&(R=0),A===void 0&&(A="__WHITE"),a.call(this,P,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new h,this.viewPosition=new m,this.viewMatrix=new h,this.projectionMatrix=new h,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var k=P.sys.renderer;this.setPosition(w,R),this.setTexture(A,L),this.setSize(k.width,k.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(k.width,k.height),F&&this.addVertices(F,O,b,B,I,N,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(M){return this.viewPosition.addScale(m.LEFT,M),this.dirtyCache[10]=1,this},panY:function(M){return this.viewPosition.y+=m.DOWN.y*M,this.dirtyCache[10]=1,this},panZ:function(M){return this.viewPosition.z+=M,this.dirtyCache[10]=1,this},setPerspective:function(M,P,w,R,A){return w===void 0&&(w=45),R===void 0&&(R=.01),A===void 0&&(A=1e3),this.fov=w,this.projectionMatrix.perspective(d(w),M/P,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(M,P,w,R){return M===void 0&&(M=this.scene.sys.renderer.getAspectRatio()),P===void 0&&(P=1),w===void 0&&(w=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-M,M,-P,P,w,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(M){M.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(M,P,w,R,A,L,F,O,b){var B=this.scene.sys.cache.obj.get(M),I;return B&&(I=r(B,this,P,w,R,A,L,F,O,b)),(!I||I.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",M),this},sortByDepth:function(M,P){return M.depth-P.depth},depthSort:function(){return g(this.faces,this.sortByDepth),this},addVertex:function(M,P,w,R,A,L,F){var O=new y(M,P,w,R,A,L,F);return this.vertices.push(O),O},addFace:function(M,P,w){var R=new o(M,P,w);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(M,P,w,R,A,L,F){var O=l(M,P,w,R,A,L,F);return O?(this.faces=this.faces.concat(O.faces),this.vertices=this.vertices.concat(O.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(M){return this.faces[M]},hasFaceAt:function(M,P,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=v(this,w).calc,A=this.faces,L=0;L<A.length;L++){var F=A[L];if(F.contains(M,P,R))return!0}return!1},getFaceAt:function(M,P,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=v(this,w).calc,A=this.faces,L=[],F=0;F<A.length;F++){var O=A[F];O.contains(M,P,R)&&L.push(O)}return g(L,this.sortByDepth)},setDebug:function(M,P){return this.debugGraphic=M,!M&&!P?this.debugCallback=null:P?this.debugCallback=P:this.debugCallback=this.renderDebug,this},isDirty:function(){var M=this.modelPosition,P=this.modelRotation,w=this.modelScale,R=this.dirtyCache,A=M.x,L=M.y,F=M.z,O=P.x,b=P.y,B=P.z,I=w.x,N=w.y,X=w.z,k=this.getFaceCount(),H=R[0],V=R[1],W=R[2],D=R[3],G=R[4],z=R[5],U=R[6],Y=R[7],$=R[8],K=R[9];return R[0]=A,R[1]=L,R[2]=F,R[3]=O,R[4]=b,R[5]=B,R[6]=I,R[7]=N,R[8]=X,R[9]=k,H!==A||V!==L||W!==F||D!==O||G!==b||z!==B||U!==I||Y!==N||$!==X||K!==k},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var M=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!M[10]&&!this.isDirty())){var P=this.width,w=this.height,R=this.viewMatrix,A=this.viewPosition;M[10]&&(R.identity(),R.translate(A),R.invert(),M[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=A.z,O=this.faces,b=0;b<O.length;b++)O[b].transformCoordinatesLocal(L,P,w,F);this.depthSort()}},renderDebug:function(M,P){for(var w=M.debugGraphic,R=0;R<P.length;R++){var A=P[R],L=A.vertex1.tx,F=A.vertex1.ty,O=A.vertex2.tx,b=A.vertex2.ty,B=A.vertex3.tx,I=A.vertex3.ty;w.strokeTriangle(L,F,O,b,B,I)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(M){M===void 0&&(M={});var P=function(w,R,A){for(var L=this.faces,F=0;F<L.length;F++){var O=L[F];if(O.contains(R,A))return!0}return!1}.bind(this);return this.scene.sys.input.enable(this,M,P),this},setTint:function(M){M===void 0&&(M=16777215);for(var P=this.vertices,w=0;w<P.length;w++)P[w].color=M;return this},uvScroll:function(M,P){for(var w=this.faces,R=0;R<w.length;R++)w[R].scrollUV(M,P);return this},uvScale:function(M,P){for(var w=this.faces,R=0;R<w.length;R++)w[R].scaleUV(M,P);return this},tint:{set:function(M){this.setTint(M)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(M){this.modelRotation.x=d(M)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(M){this.modelRotation.y=d(M)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(M){this.modelRotation.z=d(M)}}});n.exports=S},36488:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};n.exports=C},20527:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(35154),a=e(4703);x.register("mesh",function(r,l){r===void 0&&(r={});var v=d(r,"key",null),h=d(r,"frame",null),c=o(r,"vertices",[]),p=o(r,"uvs",[]),g=o(r,"indicies",[]),m=o(r,"containsZ",!1),y=o(r,"normals",[]),S=o(r,"colors",16777215),M=o(r,"alphas",1),P=new a(this.scene,0,0,v,h,c,p,g,m,y,S,M);return l!==void 0&&(r.add=l),u(this.scene,P,r),P})},9225:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4703),x=e(39429);x.register("mesh",function(d,o,a,r,l,v,h,c,p,g,m){return this.displayList.add(new u(this.scene,d,o,a,r,l,v,h,c,p,g,m))})},29807:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(48833),d=e(36488),n.exports={renderWebGL:x,renderCanvas:d}},48833:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=function(d,o,a,r){var l=o.faces,v=l.length;if(v!==0){a.addToRenderList(o);var h=d.pipelines.set(o.pipeline,o),c=u(o,a,r).calc;d.pipelines.preBatch(o);for(var p=h.setGameObject(o),g=h.vertexViewF32,m=h.vertexViewU32,y=h.vertexCount*h.currentShader.vertexComponentCount-1,S=o.tintFill,M=[],P=o.debugCallback,w=c.a,R=c.b,A=c.c,L=c.d,F=c.e,O=c.f,b=o.viewPosition.z,B=o.hideCCW,I=a.roundPixels,N=a.alpha*o.alpha,X=0,k=0;k<v;k++){var H=l[k];!H.isInView(a,B,b,N,w,R,A,L,F,O,I)||(h.shouldFlush(3)&&(h.flush(),p=h.setGameObject(o),y=0),y=H.load(g,m,y,p,S),X++,h.vertexCount+=3,h.currentBatch.count=h.vertexCount-h.currentBatch.start,P&&M.push(H))}o.totalFrame+=X,P&&P.call(o,o,M),d.pipelines.postBatch(o)}};n.exports=x},28103:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(95643),o=e(78023),a=e(39318),r=new u({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,o],initialize:function(v,h,c,p,g,m,y,S,M,P,w){d.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=v.textures.getFrame(p,g);this.is3Slice=!P&&!w,R.scale9&&(this.is3Slice=R.is3Slice);for(var A=this.is3Slice?18:54,L=0;L<A;L++)this.vertices.push(new a);this.setPosition(h,c),this.setTexture(p,g),this.setSlices(m,y,S,M,P,w,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(l,v,h,c,p,g,m){h===void 0&&(h=10),c===void 0&&(c=10),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=!1);var y=this.frame,S=!1;if(this.is3Slice&&m&&p!==0&&g!==0&&(S=!0),S)console.warn("Cannot change 9 slice to 3 slice");else{if(y.scale9&&!m){var M=y.data.scale9Borders,P=M.x,w=M.y;h=P,c=y.width-M.w-P,p=w,g=y.height-M.h-w,l===void 0&&(l=y.width),v===void 0&&(v=y.height)}else l===void 0&&(l=256),v===void 0&&(v=256);this._width=l,this._height=v,this.leftWidth=h,this.rightWidth=c,this.topHeight=p,this.bottomHeight=g,this.is3Slice&&(v=y.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var l=this.leftWidth,v=this.rightWidth,h=this.topHeight,c=this.bottomHeight,p=this.frame.width,g=this.frame.height;this.updateQuadUVs(0,0,0,l/p,h/g),this.updateQuadUVs(6,l/p,0,1-v/p,h/g),this.updateQuadUVs(12,1-v/p,0,1,h/g),this.is3Slice||(this.updateQuadUVs(18,0,h/g,l/p,1-c/g),this.updateQuadUVs(24,l/p,h/g,1-v/p,1-c/g),this.updateQuadUVs(30,1-v/p,h/g,1,1-c/g),this.updateQuadUVs(36,0,1-c/g,l/p,1),this.updateQuadUVs(42,l/p,1-c/g,1-v/p,1),this.updateQuadUVs(48,1-v/p,1-c/g,1,1))},updateVertices:function(){var l=this.leftWidth,v=this.rightWidth,h=this.topHeight,c=this.bottomHeight,p=this.width,g=this.height;this.updateQuad(0,-.5,.5,-.5+l/p,.5-h/g),this.updateQuad(6,-.5+l/p,.5,.5-v/p,.5-h/g),this.updateQuad(12,.5-v/p,.5,.5,.5-h/g),this.is3Slice||(this.updateQuad(18,-.5,.5-h/g,-.5+l/p,-.5+c/g),this.updateQuad(24,-.5+l/p,.5-h/g,.5-v/p,-.5+c/g),this.updateQuad(30,.5-v/p,.5-h/g,.5,-.5+c/g),this.updateQuad(36,-.5,-.5+c/g,-.5+l/p,-.5),this.updateQuad(42,-.5+l/p,-.5+c/g,.5-v/p,-.5),this.updateQuad(48,.5-v/p,-.5+c/g,.5,-.5))},updateQuad:function(l,v,h,c,p){var g=this.width,m=this.height,y=this.originX,S=this.originY,M=this.vertices;M[l+0].resize(v,h,g,m,y,S),M[l+1].resize(v,p,g,m,y,S),M[l+2].resize(c,h,g,m,y,S),M[l+3].resize(v,p,g,m,y,S),M[l+4].resize(c,p,g,m,y,S),M[l+5].resize(c,h,g,m,y,S)},updateQuadUVs:function(l,v,h,c,p){var g=this.vertices,m=this.frame,y=m.u0,S=m.v0,M=m.u1,P=m.v1;if(y!==0||M!==1){var w=M-y;v=y+v*w,c=y+c*w}if(S!==0||P!==1){var R=P-S;h=S+h*R,p=S+p*R}g[l+0].setUVs(v,h),g[l+1].setUVs(v,p),g[l+2].setUVs(c,h),g[l+3].setUVs(v,p),g[l+4].setUVs(c,p),g[l+5].setUVs(c,h)},clearTint:function(){return this.setTint(16777215),this},setTint:function(l){return l===void 0&&(l=16777215),this.tint=l,this.tintFill=!1,this},setTintFill:function(l){return this.setTint(l),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(l){this._width=Math.max(l,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(l){this.is3Slice||(this._height=Math.max(l,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,v){this.width=l,this.height=v,this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setDisplaySize:function(l,v){return this.displayWidth=l,this.displayHeight=v,this},originX:{get:function(){return this._originX},set:function(l){this._originX=l,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(l){this._originY=l,this.updateVertices()}},setOrigin:function(l,v){return l===void 0&&(l=.5),v===void 0&&(v=l),this._originX=l,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var l=this.frame.height;this._height=l,this.topHeight=l,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});n.exports=r},28279:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(35154),a=e(28103);x.register("nineslice",function(r,l){r===void 0&&(r={});var v=d(r,"key",null),h=d(r,"frame",null),c=o(r,"width",256),p=o(r,"height",256),g=o(r,"leftWidth",10),m=o(r,"rightWidth",10),y=o(r,"topHeight",0),S=o(r,"bottomHeight",0),M=new a(this.scene,0,0,v,h,c,p,g,m,y,S);return l!==void 0&&(r.add=l),u(this.scene,M,r),M})},47521:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28103),x=e(39429);x.register("nineslice",function(d,o,a,r,l,v,h,c,p,g){return this.displayList.add(new u(this.scene,d,o,a,r,l,v,h,c,p,g))})},78023:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(52230),n.exports={renderWebGL:x,renderCanvas:d}},52230:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(70554),d=function(o,a,r,l){var v=a.vertices,h=v.length;if(h!==0){r.addToRenderList(a);var c=o.pipelines.set(a.pipeline,a),p=u(a,r,l,!1).calc;o.pipelines.preBatch(a);var g=c.setGameObject(a),m=c.vertexViewF32,y=c.vertexViewU32,S=c.vertexCount*c.currentShader.vertexComponentCount-1,M=r.roundPixels,P=a.tintFill,w=r.alpha*a.alpha,R=x.getTintAppendFloatAlpha(a.tint,w),A=c.vertexAvailable(),L=-1;A<h&&(L=A);for(var F=0;F<h;F++){var O=v[F];F===L&&(c.flush(),g=c.setGameObject(a),S=0),m[++S]=p.getXRound(O.vx,O.vy,M),m[++S]=p.getYRound(O.vx,O.vy,M),m[++S]=O.u,m[++S]=O.v,m[++S]=g,m[++S]=P,y[++S]=R,c.vertexCount++,c.currentBatch.count=c.vertexCount-c.currentBatch.start}o.pipelines.postBatch(a)}};n.exports=d},76472:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(44777),d=e(37589),o=e(6113),a=e(91389),r=e(90664),l=new u({Extends:x,initialize:function(h){x.call(this,h,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var v=this.propertyValue,h=v,c=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=o("Linear"),this.interpolation=a("linear"),c=this.easedValueEmit,p=this.easeValueUpdate,h=v[0],this.active=!0;for(var g=0;g<v.length;g++){var m=r(v[g]);this.r.push(m.r),this.g.push(m.g),this.b.push(m.b)}}return this.onEmit=c,this.onUpdate=p,this.current=h,this},setEase:function(v){this.easeName=v,this.ease=o(v)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(v,h,c){var p=this.ease(c),g=this.interpolation(this.r,p),m=this.interpolation(this.g,p),y=this.interpolation(this.b,p),S=d(g,m,y);return this.current=S,S}});n.exports=l},44777:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30976),x=e(45319),d=e(83419),o=e(99472),a=e(6113),r=e(95540),l=e(91389),v=e(77720),h=e(15994),c=new d({initialize:function(g,m,y){y===void 0&&(y=!1),this.propertyKey=g,this.propertyValue=m,this.defaultValue=m,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=y,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,g){p===void 0&&(p={}),g&&(this.propertyKey=g),this.propertyValue=r(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var g;switch(this.method){case 1:case 3:case 8:g=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(g=p);break;case 4:var m=(this.end-this.start)/this.steps;g=v(p,m),this.counter=g;break;case 5:case 6:case 7:g=x(p,this.start,this.end);break;case 9:g=this.start[0];break}return this.current=g,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var g=typeof p;if(g==="number")return 1;if(Array.isArray(p))return 2;if(g==="function")return 3;if(g==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,g=p,m=this.defaultEmit,y=this.defaultUpdate;switch(this.method){case 1:m=this.staticValueEmit;break;case 2:m=this.randomStaticValueEmit,g=p[0];break;case 3:this._onEmit=p,m=this.proxyEmit;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,m=this.steppedEmit,g=this.start;break;case 5:this.start=p.start,this.end=p.end;var S=this.has(p,"ease")?p.ease:"Linear";this.ease=a(S,p.easeParams),m=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,y=this.easeValueUpdate,g=this.start;break;case 6:this.start=p.min,this.end=p.max,m=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,g=this.start;break;case 7:var M=p.random;Array.isArray(M)&&(this.start=M[0],this.end=M[1]),m=this.randomRangedIntEmit,g=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,m=this.proxyEmit,y=this.proxyUpdate;break;case 9:this.start=p.values;var P=this.has(p,"ease")?p.ease:"Linear";this.ease=a(P,p.easeParams),this.interpolation=l(p.interpolation),m=this.easedValueEmit,y=this.easeValueUpdate,g=this.start[0];break}return this.onEmit=m,this.onUpdate=y,this.current=g,this},has:function(p,g){return p.hasOwnProperty(g)},hasBoth:function(p,g,m){return p.hasOwnProperty(g)&&p.hasOwnProperty(m)},hasEither:function(p,g,m){return p.hasOwnProperty(g)||p.hasOwnProperty(m)},defaultEmit:function(p,g,m){return m},defaultUpdate:function(p,g,m,y){return y},proxyEmit:function(p,g,m){var y=this._onEmit(p,g,m);return this.current=y,y},proxyUpdate:function(p,g,m,y){var S=this._onUpdate(p,g,m,y);return this.current=S,S},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,g){var m=o(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=m,p.data[g].max=this.end),this.current=m,m},randomRangedIntEmit:function(p,g){var m=u(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=m,p.data[g].max=this.end),this.current=m,m},steppedEmit:function(){var p=this.counter,g=p,m=(this.end-this.start)/this.steps;if(this.yoyo){var y;this.direction===0?(g+=m,g>=this.end&&(y=g-this.end,g=this.end-y,this.direction=1)):(g-=m,g<=this.start&&(y=this.start-g,g=this.start+y,this.direction=0)),this.counter=g}else this.counter=h(g+m,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,g){if(p&&p.data[g]){var m=p.data[g];m.min=this.start,m.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,g,m){var y=p.data[g],S,M=this.ease(m);return this.interpolation?S=this.interpolation(this.start,M):S=(y.max-y.min)*M+y.min,this.current=S,S},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});n.exports=c},24502:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=e(20286),o=new u({Extends:d,initialize:function(r,l,v,h,c){if(typeof r=="object"){var p=r;r=x(p,"x",0),l=x(p,"y",0),v=x(p,"power",0),h=x(p,"epsilon",100),c=x(p,"gravity",50)}else r===void 0&&(r=0),l===void 0&&(l=0),v===void 0&&(v=0),h===void 0&&(h=100),c===void 0&&(c=50);d.call(this,r,l,!0),this._gravity=c,this._power=v*c,this._epsilon=h*h},update:function(a,r){var l=this.x-a.x,v=this.y-a.y,h=l*l+v*v;if(h!==0){var c=Math.sqrt(h);h<this._epsilon&&(h=this._epsilon);var p=this._power*r/(h*c)*100;a.velocityX+=l*p,a.velocityY+=v*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(a){this._epsilon=a*a}},power:{get:function(){return this._power/this._gravity},set:function(a){this._power=a*this._gravity}},gravity:{get:function(){return this._gravity},set:function(a){var r=this.power;this._gravity=a,this.power=r}}});n.exports=o},56480:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),x=e(45319),d=e(83419),o=e(39506),a=e(87841),r=e(11520),l=e(26099),v=new d({initialize:function(c){this.emitter=c,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new l,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=c.scene,this.anims=new u(this),this.bounds=new a},emit:function(h,c,p,g,m,y){return this.emitter.emit(h,c,p,g,m,y)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(h,c){h===void 0&&(h=0),c===void 0&&(c=0),this.x=h,this.y=c},fire:function(h,c){var p=this.emitter,g=p.ops,m=p.getAnim();if(m?this.anims.play(m):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),h===void 0?this.x+=g.x.onEmit(this,"x"):g.x.steps>0?this.x+=h+g.x.onEmit(this,"x"):this.x+=h,c===void 0?this.y+=g.y.onEmit(this,"y"):g.y.steps>0?this.y+=c+g.y.onEmit(this,"y"):this.y+=c,this.life=g.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=g.delay.onEmit(this,"delay"),this.holdCurrent=g.hold.onEmit(this,"hold"),this.scaleX=g.scaleX.onEmit(this,"scaleX"),this.scaleY=g.scaleY.active?g.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=g.rotate.onEmit(this,"rotate"),this.rotation=o(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var y=g.speedX.onEmit(this,"speedX"),S=g.speedY.active?g.speedY.onEmit(this,"speedY"):y;if(p.radial){var M=o(g.angle.onEmit(this,"angle"));this.velocityX=Math.cos(M)*Math.abs(y),this.velocityY=Math.sin(M)*Math.abs(S)}else if(p.moveTo){var P=g.moveToX.onEmit(this,"moveToX"),w=g.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(P-this.x)/R,this.velocityY=(w-this.y)/R}else this.velocityX=y,this.velocityY=S;return p.acceleration&&(this.accelerationX=g.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=g.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=g.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=g.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=g.bounce.onEmit(this,"bounce"),this.alpha=g.alpha.onEmit(this,"alpha"),g.color.active?this.tint=g.color.onEmit(this,"tint"):this.tint=g.tint.onEmit(this,"tint"),!0},update:function(h,c,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=h,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=h,!1;this.anims.update(0,h);var g=this.emitter,m=g.ops,y=1-this.lifeCurrent/this.life;if(this.lifeT=y,this.x=m.x.onUpdate(this,"x",y,this.x),this.y=m.y.onUpdate(this,"y",y,this.y),g.moveTo){var S=m.moveToX.onUpdate(this,"moveToX",y,g.moveToX),M=m.moveToY.onUpdate(this,"moveToY",y,g.moveToY),P=this.lifeCurrent/1e3;this.velocityX=(S-this.x)/P,this.velocityY=(M-this.y)/P}return this.computeVelocity(g,h,c,p,y),this.scaleX=m.scaleX.onUpdate(this,"scaleX",y,this.scaleX),m.scaleY.active?this.scaleY=m.scaleY.onUpdate(this,"scaleY",y,this.scaleY):this.scaleY=this.scaleX,this.angle=m.rotate.onUpdate(this,"rotate",y,this.angle),this.rotation=o(this.angle),g.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(m.alpha.onUpdate(this,"alpha",y,this.alpha),0,1),m.color.active?this.tint=m.color.onUpdate(this,"color",y,this.tint):this.tint=m.tint.onUpdate(this,"tint",y,this.tint),this.lifeCurrent-=h,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(h,c,p,g,m){var y=h.ops,S=this.velocityX,M=this.velocityY,P=y.accelerationX.onUpdate(this,"accelerationX",m,this.accelerationX),w=y.accelerationY.onUpdate(this,"accelerationY",m,this.accelerationY),R=y.maxVelocityX.onUpdate(this,"maxVelocityX",m,this.maxVelocityX),A=y.maxVelocityY.onUpdate(this,"maxVelocityY",m,this.maxVelocityY);this.bounce=y.bounce.onUpdate(this,"bounce",m,this.bounce),S+=h.gravityX*p+P*p,M+=h.gravityY*p+w*p,S=x(S,-R,R),M=x(M,-A,A),this.velocityX=S,this.velocityY=M,this.x+=S*p,this.y+=M*p,h.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<g.length;L++){var F=g[L];F.active&&F.update(this,c,p,m)}},setSizeToFrame:function(){},getBounds:function(h){h===void 0&&(h=this.emitter.getWorldTransformMatrix());var c=Math.abs(h.scaleX)*this.scaleX,p=Math.abs(h.scaleY)*this.scaleY,g=this.x,m=this.y,y=this.rotation,S=this.frame.width*c/2,M=this.frame.height*p/2,P=this.bounds,w=new l(g-S,m-M),R=new l(g+S,m-M),A=new l(g-S,m+M),L=new l(g+S,m+M);return y!==0&&(r(w,g,m,y),r(R,g,m,y),r(A,g,m,y),r(L,g,m,y)),h.transformPoint(w.x,w.y,w),h.transformPoint(R.x,R.y,R),h.transformPoint(A.x,A.y,A),h.transformPoint(L.x,L.y,L),P.x=Math.min(w.x,R.x,A.x,L.x),P.y=Math.min(w.y,R.y,A.y,L.y),P.width=Math.max(w.x,R.x,A.x,L.x)-P.x,P.height=Math.max(w.y,R.y,A.y,L.y)-P.y,P},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});n.exports=v},69601:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(20286),d=e(87841),o=new u({Extends:x,initialize:function(r,l,v,h,c,p,g,m){c===void 0&&(c=!0),p===void 0&&(p=!0),g===void 0&&(g=!0),m===void 0&&(m=!0),x.call(this,r,l,!0),this.bounds=new d(r,l,v,h),this.collideLeft=c,this.collideRight=p,this.collideTop=g,this.collideBottom=m},update:function(a){var r=this.bounds,l=-a.bounce,v=a.worldPosition;v.x<r.x&&this.collideLeft?(a.x+=r.x-v.x,a.velocityX*=l):v.x>r.right&&this.collideRight&&(a.x-=v.x-r.right,a.velocityX*=l),v.y<r.y&&this.collideTop?(a.y+=r.y-v.y,a.velocityY*=l):v.y>r.bottom&&this.collideBottom&&(a.y-=v.y-r.bottom,a.velocityY*=l)}});n.exports=o},31600:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(53774),o=e(43459),a=e(26388),r=e(19909),l=e(76472),v=e(44777),h=e(20696),c=e(95643),p=e(95540),g=e(26546),m=e(24502),y=e(1985),S=e(97022),M=e(86091),P=e(73162),w=e(20074),R=e(56480),A=e(68875),L=e(87841),F=e(59996),O=e(72905),b=e(90668),B=e(19186),I=e(61340),N=e(26099),X=e(15994),k=e(69601),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],V=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],W=new u({Extends:c,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,b],initialize:function(G,z,U,Y,$){c.call(this,G,"ParticleEmitter"),this.particleClass=R,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new l("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new N,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new I,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new P(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(z,U),this.setTexture(Y),$&&this.setConfig($)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(D){if(!D)return this;var G=0,z="",U=this.ops;for(G=0;G<V.length;G++)z=V[G],U[z].loadConfig(D);for(G=0;G<H.length;G++)z=H[G],S(D,z)&&(this[z]=p(D,z));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,S(D,"speed")&&(U.speedX.loadConfig(D,"speed"),U.speedY.active=!1),(y(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),S(D,"scale")&&(U.scaleX.loadConfig(D,"scale"),U.scaleY.active=!1),S(D,"callbackScope")){var Y=p(D,"callbackScope",null);this.emitCallbackScope=Y,this.deathCallbackScope=Y}if(S(D,"emitZone")&&this.addEmitZone(D.emitZone),S(D,"deathZone")&&this.addDeathZone(D.deathZone),S(D,"bounds")){var $=this.addParticleBounds(D.bounds);$.collideLeft=p(D,"collideLeft",!0),$.collideRight=p(D,"collideRight",!0),$.collideTop=p(D,"collideTop",!0),$.collideBottom=p(D,"collideBottom",!0)}return S(D,"followOffset")&&this.followOffset.setFromObject(p(D,"followOffset",0)),S(D,"texture")&&this.setTexture(D.texture),S(D,"frame")?this.setEmitterFrame(D.frame):S(D,"anim")&&this.setAnim(D.anim),S(D,"reserve")&&this.reserve(D.reserve),S(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(h.START,this),this},toJSON:function(){var D=d(this),G=0,z="";for(G=0;G<H.length;G++)z=H[G],D[z]=this[z];var U=this.ops;for(G=0;G<V.length;G++)z=V[G],U[z]&&(D[z]=U[z].toJSON());return U.speedY.active||(delete D.speedX,D.speed=U.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=U.scaleX.toJSON()),D},resetCounters:function(D,G){var z=this.counters;z.fill(0),z[0]=D,G&&(z[5]=1)},startFollow:function(D,G,z,U){return G===void 0&&(G=0),z===void 0&&(z=0),U===void 0&&(U=!1),this.follow=D,this.followOffset.set(G,z),this.trackVisible=U,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var D=this.frames,G=D.length,z;return G===1?z=D[0]:this.randomFrame?z=g(D):(z=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===G&&(this.currentFrame=0))),this.texture.get(z)},setEmitterFrame:function(D,G,z){G===void 0&&(G=!0),z===void 0&&(z=1),this.randomFrame=G,this.frameQuantity=z,this.currentFrame=0;var U=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(U==="string"||U==="number")this.frames.push(D);else if(U==="object"){var Y=D;D=p(Y,"frames",null),D&&(this.frames=this.frames.concat(D));var $=p(Y,"cycle",!1);this.randomFrame=!$,this.frameQuantity=p(Y,"quantity",z)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var D=this.anims,G=D.length;if(G===0)return null;if(G===1)return D[0];if(this.randomAnim)return g(D);var z=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=X(this.currentAnim+1,0,G)),z},setAnim:function(D,G,z){G===void 0&&(G=!0),z===void 0&&(z=1),this.randomAnim=G,this.animQuantity=z,this.currentAnim=0;var U=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(U==="string")this.anims.push(D);else if(U==="object"){var Y=D;D=p(Y,"anims",null),D&&(this.anims=this.anims.concat(D));var $=p(Y,"cycle",!1);this.randomAnim=!$,this.animQuantity=p(Y,"quantity",z)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(D){return D===void 0&&(D=!0),this.radial=D,this},addParticleBounds:function(D,G,z,U,Y,$,K,Z){if(typeof D=="object"){var J=D;D=J.x,G=J.y,z=S(J,"w")?J.w:J.width,U=S(J,"h")?J.h:J.height}return this.addParticleProcessor(new k(D,G,z,U,Y,$,K,Z))},setParticleSpeed:function(D,G){return G===void 0&&(G=D),this.ops.speedX.onChange(D),D===G?this.ops.speedY.active=!1:this.ops.speedY.onChange(G),this.radial=!0,this},setParticleScale:function(D,G){return D===void 0&&(D=1),G===void 0&&(G=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(G),this},setParticleGravity:function(D,G){return this.gravityX=D,this.gravityY=G,this},setParticleAlpha:function(D){return this.ops.alpha.onChange(D),this},setParticleTint:function(D){return this.ops.tint.onChange(D),this},setEmitterAngle:function(D){return this.ops.angle.onChange(D),this},setParticleLifespan:function(D){return this.ops.lifespan.onChange(D),this},setQuantity:function(D){return this.quantity=D,this},setFrequency:function(D,G){return this.frequency=D,this.flowCounter=D>0?D:0,G&&(this.quantity=G),this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var G,z=[],U=0;U<D.length;U++)if(G=D[U],G instanceof a)z.push(G);else if(typeof G.contains=="function")G=new a(G,!0),z.push(G);else{var Y=p(G,"type","onEnter"),$=p(G,"source",null);if($&&typeof $.contains=="function"){var K=Y==="onEnter";G=new a($,K),z.push(G)}}return this.deathZones=this.deathZones.concat(z),z},removeDeathZone:function(D){return O(this.deathZones,D),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var G,z=[],U=0;U<D.length;U++)if(G=D[U],G instanceof A||G instanceof r)z.push(G);else{var Y=p(G,"source",null);if(Y){var $=p(G,"type","random");if($==="random"&&typeof Y.getRandomPoint=="function")G=new A(Y),z.push(G);else if($==="edge"&&typeof Y.getPoints=="function"){var K=p(G,"quantity",1),Z=p(G,"stepRate",0),J=p(G,"yoyo",!1),Q=p(G,"seamless",!0),j=p(G,"total",-1);G=new r(Y,K,Z,J,Q,j),z.push(G)}}}return this.emitZones=this.emitZones.concat(z),z},removeEmitZone:function(D){return O(this.emitZones,D),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(D){var G=this.emitZones,z=G.length;if(z!==0){var U=G[this.zoneIndex];U.getPoint(D),U.total>-1&&(this.zoneTotal++,this.zoneTotal===U.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===z&&(this.zoneIndex=0)))}},getDeathZone:function(D){for(var G=this.deathZones,z=0;z<G.length;z++){var U=G[z];if(U.willKill(D))return this.emit(h.DEATH_ZONE,this,D,U),!0}return!1},setEmitZone:function(D){var G;return isFinite(D)?G=D:G=this.emitZones.indexOf(D),G>=0&&(this.zoneIndex=G),this},addParticleProcessor:function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},removeParticleProcessor:function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new m(D))},reserve:function(D){var G=this.dead;if(this.maxParticles>0){var z=this.getParticleCount();z+D>this.maxParticles&&(D=this.maxParticles-(z+D))}for(var U=0;U<D;U++)G.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(D,G){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,G&&(this.emitCallbackScope=G)),this},onParticleDeath:function(D,G){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,G&&(this.deathCallbackScope=G)),this},killAll:function(){for(var D=this.dead,G=this.alive;G.length>0;)D.push(G.pop());return this},forEachAlive:function(D,G){for(var z=this.alive,U=z.length,Y=0;Y<U;Y++)D.call(G,z[Y],this);return this},forEachDead:function(D,G){for(var z=this.dead,U=z.length,Y=0;Y<U;Y++)D.call(G,z[Y],this);return this},start:function(D,G){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),G!==void 0&&(this.duration=Math.abs(G)),this.emit(h.START,this)),this},stop:function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(h.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(D,G){return D===void 0&&(D=""),G===void 0&&(G=this.true),this.sortProperty=D,this.sortOrderAsc=G,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},depthSort:function(){return B(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(D,G){var z=this.sortProperty;return this.sortOrderAsc?D[z]-G[z]:G[z]-D[z]},flow:function(D,G,z){return G===void 0&&(G=1),this.emitting=!1,this.frequency=D,this.quantity=G,z!==void 0&&(this.stopAfter=z),this.start()},explode:function(D,G,z){this.frequency=-1,this.resetCounters(-1,!0);var U=this.emitParticle(D,G,z);return this.emit(h.EXPLODE,this,U),U},emitParticleAt:function(D,G,z){return this.emitParticle(z,D,G)},emitParticle:function(D,G,z){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var U=this.dead,Y=this.stopAfter,$=this.follow?this.follow.x+this.followOffset.x:G,K=this.follow?this.follow.y+this.followOffset.y:z,Z=0;Z<D;Z++){var J=U.pop();if(J||(J=new this.particleClass(this)),J.fire($,K)?(this.particleBringToTop?this.alive.push(J):this.alive.unshift(J),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,J,this)):this.dead.push(J),Y>0&&(this.stopCounter++,this.stopCounter>=Y)||this.atLimit())break}return J}},fastForward:function(D,G){G===void 0&&(G=1e3/60);var z=0;for(this.skipping=!0;z<Math.abs(D);)this.preUpdate(0,G),z+=G;return this.skipping=!1,this},preUpdate:function(D,G){G*=this.timeScale;var z=G/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var U=this.getProcessors(),Y=this.alive,$=this.dead,K=0,Z=[],J=Y.length;for(K=0;K<J;K++){var Q=Y[K];Q.update(G,z,U)&&Z.push({index:K,particle:Q})}if(J=Z.length,J>0){var j=this.deathCallback,_=this.deathCallbackScope;for(K=J-1;K>=0;K--){var q=Z[K];Y.splice(q.index,1),$.push(q.particle),j&&j.call(_,q.particle),q.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Y.length===0&&(this.completeFlag=0,this.emit(h.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=G;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=G,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(D){for(var G=this.getWorldTransformMatrix(),z=this.alive,U=z.length,Y=[],$=0;$<U;$++){var K=z[$];F(D,K.getBounds(G))&&Y.push(K)}return Y},getBounds:function(D,G,z,U){D===void 0&&(D=0),G===void 0&&(G=0),z===void 0&&(z=1e3/60),U===void 0&&(U=new L);var Y=this.getWorldTransformMatrix(),$,K,Z=this.alive,J=!1;if(U.setTo(0,0,0,0),G>0){var Q=0;for(this.skipping=!0;Q<Math.abs(G);){for(this.preUpdate(0,z),$=0;$<Z.length;$++)K=Z[$].getBounds(Y),J?w(U,K):(J=!0,o(K,U));Q+=z}this.skipping=!1}else for($=0;$<Z.length;$++)K=Z[$].getBounds(Y),J?w(U,K):(J=!0,o(K,U));return D>0&&M(U,D,D),U},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,G=this.ops;for(D=0;D<V.length;D++){var z=V[D];G[z].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});n.exports=W},9871:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59996),x=e(61340),d=new x,o=new x,a=new x,r=new x,l=function(v,h,c,p){var g=d,m=o,y=a,S=r;p?(S.loadIdentity(),S.multiply(p),S.translate(h.x,h.y),S.rotate(h.rotation),S.scale(h.scaleX,h.scaleY)):S.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var M=v.currentContext,P=c.roundPixels,w=c.alpha,R=h.alpha,A=h.alive,L=A.length,F=h.viewBounds;if(!(!h.visible||L===0||F&&!u(F,c.worldView))){h.sortCallback&&h.depthSort(),c.addToRenderList(h);var O=h.scrollFactorX,b=h.scrollFactorY;M.save(),M.globalCompositeOperation=v.blendModes[h.blendMode];for(var B=0;B<L;B++){var I=A[B],N=I.alpha*R*w;if(!(N<=0||I.scaleX===0||I.scaleY===0)){y.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),g.copyFrom(c.matrix),g.multiplyWithOffset(S,-c.scrollX*O,-c.scrollY*b),y.e=I.x,y.f=I.y,g.multiply(y,m);var X=I.frame,k=X.canvasData;if(k.width>0&&k.height>0){var H=-X.halfWidth,V=-X.halfHeight;M.globalAlpha=N,M.save(),m.setToContext(M),P&&(H=Math.round(H),V=Math.round(V)),M.imageSmoothingEnabled=!X.source.scaleMode,M.drawImage(X.source.image,k.x,k.y,k.width,k.height,H,V,k.width,k.height),M.restore()}}}M.restore()}};n.exports=l},92730:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(95540),a=e(31600);x.register("particles",function(r,l){r===void 0&&(r={});var v=d(r,"key",null),h=o(r,"config",null),c=new a(this.scene,0,0,v);return l!==void 0&&(r.add=l),u(this.scene,c,r),h&&c.setConfig(h),c})},676:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(31600);u.register("particles",function(d,o,a,r){return d!==void 0&&typeof d=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,d,o,a,r))})},90668:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(21188),d=e(9871),n.exports={renderWebGL:x,renderCanvas:d}},21188:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59996),x=e(61340),d=e(70554),o=new x,a=new x,r=new x,l=new x,v=function(h,c,p,g){var m=h.pipelines.set(c.pipeline),y=o,S=a,M=r,P=l;g?(P.loadIdentity(),P.multiply(g),P.translate(c.x,c.y),P.rotate(c.rotation),P.scale(c.scaleX,c.scaleY)):P.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var w=d.getTintAppendFloatAlpha,R=p.alpha,A=c.alpha;h.pipelines.preBatch(c);var L=c.alive,F=L.length,O=c.viewBounds;if(!(F===0||O&&!u(O,p.worldView))){c.sortCallback&&c.depthSort(),p.addToRenderList(c),y.copyFrom(p.matrix),y.multiplyWithOffset(P,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),h.setBlendMode(c.blendMode),c.mask&&(c.mask.preRenderWebGL(h,c,p),h.pipelines.set(c.pipeline));for(var b=c.tintFill,B,I,N=0;N<F;N++){var X=L[N],k=X.alpha*A*R;if(!(k<=0||X.scaleX===0||X.scaleY===0)){M.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),M.e=X.x,M.f=X.y,y.multiply(M,S);var H=X.frame;H.glTexture!==I&&(I=H.glTexture,B=m.setGameObject(c,H));var V=-H.halfWidth,W=-H.halfHeight,D=S.setQuad(V,W,V+H.width,W+H.height),G=w(X.tint,k);m.shouldFlush(6)&&(m.flush(),B=m.setGameObject(c,H)),m.batchQuad(c,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],H.u0,H.v0,H.u1,H.v1,G,G,G,G,b,I,B)}}c.mask&&c.mask.postRenderWebGL(h,p),h.pipelines.postBatch(c)}};n.exports=v},20286:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=!0),this.emitter,this.x=o,this.y=a,this.active=r},update:function(){},destroy:function(){this.emitter=null}});n.exports=x},9774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},812:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"},30522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"},96695:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},18677:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},20696:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:e(9774),DEATH_ZONE:e(812),EXPLODE:e(30522),START:e(96695),STOP:e(18677)}},18404:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:e(76472),EmitterOp:e(44777),Events:e(20696),GravityWell:e(24502),Particle:e(56480),ParticleBounds:e(69601),ParticleEmitter:e(31600),ParticleProcessor:e(20286),Zones:e(21024)}},26388:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a){this.source=o,this.killOnEnter=a},willKill:function(d){var o=d.worldPosition,a=this.source.contains(o.x,o.y);return a&&this.killOnEnter||!a&&!this.killOnEnter}});n.exports=x},19909:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r,l,v,h){l===void 0&&(l=!1),v===void 0&&(v=!0),h===void 0&&(h=-1),this.source=o,this.points=[],this.quantity=a,this.stepRate=r,this.yoyo=l,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=h,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var d=this.points[0],o=this.points[this.points.length-1];d.x===o.x&&d.y===o.y&&this.points.pop()}var a=this._length;return this._length=this.points.length,this._length<a&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(d){return this.source=d,this.updateSource()},getPoint:function(d){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var o=this.points[this.counter];o&&(d.x=o.x,d.y=o.y)}});n.exports=x},68875:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(26099),d=new u({initialize:function(a){this.source=a,this._tempVec=new x,this.total=-1},getPoint:function(o){var a=this._tempVec;this.source.getRandomPoint(a),o.x=a.x,o.y=a.y}});n.exports=d},21024:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:e(26388),EdgeZone:e(19909),RandomZone:e(68875)}},1159:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(68287),o=new u({Extends:d,Mixins:[x.PathFollower],initialize:function(r,l,v,h,c,p){d.call(this,r,v,h,c,p),this.path=l},preUpdate:function(a,r){this.anims.update(a,r),this.pathUpdate(a)}});n.exports=o},90145:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(1159);u.register("follower",function(d,o,a,r,l){var v=new x(this.scene,d,o,a,r,l);return this.displayList.add(v),this.updateList.add(v),v})},33663:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),x=e(83419),d=e(48803),o=e(90664),a=e(4703),r=e(45650),l=new x({Extends:a,initialize:function(h,c,p,g,m,y,S,M){g||(g="__DEFAULT"),a.call(this,h,c,p,g,m),this.type="Plane",this.anims=new u(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(y,S,M),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(v,h,c){v===void 0&&(v=8),h===void 0&&(h=8),c===void 0&&(c=!1);var p=!1;return c&&(p=!0),this.gridWidth=v,this.gridHeight=h,this.isTiled=c,this.clear(),d({mesh:this,widthSegments:v,heightSegments:h,isOrtho:!1,tile:c,flipY:p}),this},setSizeToFrame:function(v){v===void 0&&(v=!0);var h=this.frame;if(this.setPerspective(this.width/h.width,this.height/h.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var c=this.gridWidth,p=this.gridHeight,g=this.vertices,m=h.u0,y=h.u1,S=h.v0,M=h.v1,P,w,R=0;if(this.isTiled)for(S=h.v1,M=h.v0,w=0;w<p;w++)for(P=0;P<c;P++)g[R++].setUVs(m,M),g[R++].setUVs(m,S),g[R++].setUVs(y,M),g[R++].setUVs(m,S),g[R++].setUVs(y,S),g[R++].setUVs(y,M);else{var A=c+1,L=p+1,F=y-m,O=M-S,b=[];for(w=0;w<L;w++)for(P=0;P<A;P++){var B=m+F*(P/c),I=S+O*(w/p);b.push(B,I)}for(w=0;w<p;w++)for(P=0;P<c;P++){var N=(P+A*w)*2,X=(P+A*(w+1))*2,k=(P+1+A*(w+1))*2,H=(P+1+A*w)*2;g[R++].setUVs(b[N],b[N+1]),g[R++].setUVs(b[X],b[X+1]),g[R++].setUVs(b[H],b[H+1]),g[R++].setUVs(b[X],b[X+1]),g[R++].setUVs(b[k],b[k+1]),g[R++].setUVs(b[H],b[H+1])}}return this},setViewHeight:function(v){v===void 0&&(v=this.frame.height);var h=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(h/2),this.dirtyCache[10]=1},createCheckerboard:function(v,h,c,p,g){v===void 0&&(v=16777215),h===void 0&&(h=255),c===void 0&&(c=255),p===void 0&&(p=255),g===void 0&&(g=128);for(var m=o(v),y=o(h),S=[],M=0;M<16;M++)for(var P=0;P<16;P++)M<8&&P<8||M>7&&P>7?S.push(m.r,m.g,m.b,c):S.push(y.r,y.g,y.b,p);var w=this.scene.sys.textures.addUint8Array(r(),new Uint8Array(S),16,16);return this.removeCheckerboard(),this.setTexture(w),this.setSizeToFrame(),this.setViewHeight(g),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(v,h){return this.anims.play(v,h)},playReverse:function(v,h){return this.anims.playReverse(v,h)},playAfterDelay:function(v,h){return this.anims.playAfterDelay(v,h)},playAfterRepeat:function(v,h){return this.anims.playAfterRepeat(v,h)},stop:function(){return this.anims.stop()},stopAfterDelay:function(v){return this.anims.stopAfterDelay(v)},stopAfterRepeat:function(v){return this.anims.stopAfterRepeat(v)},stopOnFrame:function(v){return this.anims.stopOnFrame(v)},preUpdate:function(v,h){a.prototype.preUpdate.call(this,v,h),this.anims.update(v,h)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});n.exports=l},56015:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(13059),d=e(44603),o=e(23568),a=e(35154),r=e(33663);d.register("plane",function(l,v){l===void 0&&(l={});var h=o(l,"key",null),c=o(l,"frame",null),p=a(l,"width",8),g=a(l,"height",8),m=a(l,"tile",!1),y=new r(this.scene,0,0,h,c,p,g,m);v!==void 0&&(l.add=v);var S=a(l,"checkerboard",null);if(S){var M=a(S,"color1",16777215),P=a(S,"color2",255),w=a(S,"alpha1",255),R=a(S,"alpha2",255),A=a(S,"height",128);y.createCheckerboard(M,P,w,R,A)}return u(this.scene,y,l),x(y,l),y})},30985:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33663),x=e(39429);x.register("plane",function(d,o,a,r,l,v,h){return this.displayList.add(new u(this.scene,d,o,a,r,l,v,h))})},80321:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(95643),o=e(30100),a=e(36060),r=e(67277),l=new u({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,r],initialize:function(h,c,p,g,m,y,S){g===void 0&&(g=16777215),m===void 0&&(m=128),y===void 0&&(y=1),S===void 0&&(S=.1),d.call(this,h,"PointLight"),this.initPipeline(a.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(c,p),this.color=o(g),this.intensity=y,this.attenuation=S,this.width=m*2,this.height=m*2,this._radius=m},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this.width=v*2,this.height=v*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});n.exports=l},39829:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(80321);x.register("pointlight",function(a,r){a===void 0&&(a={});var l=d(a,"color",16777215),v=d(a,"radius",128),h=d(a,"intensity",1),c=d(a,"attenuation",.1),p=new o(this.scene,0,0,l,v,h,c);return r!==void 0&&(a.add=r),u(this.scene,p,a),p})},71255:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(80321);u.register("pointlight",function(d,o,a,r,l,v){return this.displayList.add(new x(this.scene,d,o,a,r,l,v))})},67277:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(57787),n.exports={renderWebGL:x,renderCanvas:d}},57787:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=function(d,o,a,r){a.addToRenderList(o);var l=d.pipelines.set(o.pipeline),v=u(o,a,r).calc,h=o.width,c=o.height,p=-o._radius,g=-o._radius,m=p+h,y=g+c,S=v.getX(0,0),M=v.getY(0,0),P=v.getX(p,g),w=v.getY(p,g),R=v.getX(p,y),A=v.getY(p,y),L=v.getX(m,y),F=v.getY(m,y),O=v.getX(m,g),b=v.getY(m,g);d.pipelines.preBatch(o),l.batchPointLight(o,a,P,w,R,A,L,F,O,b,S,M),d.pipelines.postBatch(o)};n.exports=x},591:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(81320),d=e(88571),o=new u({Extends:d,initialize:function(r,l,v,h,c){l===void 0&&(l=0),v===void 0&&(v=0),h===void 0&&(h=32),c===void 0&&(c=32);var p=new x(r.sys.textures,"",h,c);d.call(this,r,l,v,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(a,r){this.width=a,this.height=r,this.texture.setSize(a,r),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=a,l.hitArea.height=r),this},resize:function(a,r){return this.setSize(a,r),this},saveTexture:function(a){var r=this.texture;return r.key=a,r.manager.addDynamicTexture(r)&&(this._saved=!0),r},fill:function(a,r,l,v,h,c){return this.texture.fill(a,r,l,v,h,c),this},clear:function(){return this.texture.clear(),this},stamp:function(a,r,l,v,h){return this.texture.stamp(a,r,l,v,h),this},erase:function(a,r,l){return this.texture.erase(a,r,l),this},draw:function(a,r,l,v,h){return this.texture.draw(a,r,l,v,h),this},drawFrame:function(a,r,l,v,h,c){return this.texture.drawFrame(a,r,l,v,h,c),this},repeat:function(a,r,l,v,h,c,p,g,m){return this.texture.repeat(a,r,l,v,h,c,p,g,m),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(a,r,l,v,h){return this.texture.batchDraw(a,r,l,v,h),this},batchDrawFrame:function(a,r,l,v,h,c){return this.texture.batchDrawFrame(a,r,l,v,h,c),this},endDraw:function(a){return this.texture.endDraw(a),this},snapshotArea:function(a,r,l,v,h,c,p){return this.texture.snapshotArea(a,r,l,v,h,c,p),this},snapshot:function(a,r,l){return this.snapshotArea(0,0,this.width,this.height,a,r,l)},snapshotPixel:function(a,r,l){return this.snapshotArea(a,r,1,1,l,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});n.exports=o},34495:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(591);x.register("renderTexture",function(a,r){a===void 0&&(a={});var l=d(a,"x",0),v=d(a,"y",0),h=d(a,"width",32),c=d(a,"height",32),p=new o(this.scene,l,v,h,c);return r!==void 0&&(a.add=r),u(this.scene,p,a),p})},60505:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(591);u.register("renderTexture",function(d,o,a,r){return this.displayList.add(new x(this.scene,d,o,a,r))})},77757:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),x=e(83419),d=e(31401),o=e(95643),a=e(36060),r=e(38745),l=e(26099),v=new x({Extends:o,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Flip,d.Mask,d.Pipeline,d.PostPipeline,d.Size,d.Texture,d.Transform,d.Visible,d.ScrollFactor,r],initialize:function(c,p,g,m,y,S,M,P,w){m===void 0&&(m="__DEFAULT"),S===void 0&&(S=2),M===void 0&&(M=!0),o.call(this,c,"Rope"),this.anims=new u(this),this.points=S,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=m==="__DEFAULT",this.dirty=!1,this.horizontal=M,this._flipX=!1,this._flipY=!1,this._perp=new l,this.debugCallback=null,this.debugGraphic=null,this.setTexture(m,y),this.setPosition(p,g),this.setSizeToFrame(),this.initPipeline(a.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(S)&&this.resizeArrays(S.length),this.setPoints(S,P,w),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(h,c){var p=this.anims.currentFrame;this.anims.update(h,c),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(h,c,p){return this.anims.play(h,c,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(h,c,p){return h===void 0&&(h=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(h,c,p))},setVertical:function(h,c,p){return h===void 0&&(h=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(h,c,p)):this},setTintFill:function(h){return h===void 0&&(h=!1),this.tintFill=h,this},setAlphas:function(h,c){var p=this.points.length;if(p<1)return this;var g=this.alphas;h===void 0?h=[1]:!Array.isArray(h)&&c===void 0&&(h=[h]);var m,y=0;if(c!==void 0)for(m=0;m<p;m++)y=m*2,g[y]=h,g[y+1]=c;else if(h.length===p)for(m=0;m<p;m++)y=m*2,g[y]=h[m],g[y+1]=h[m];else{var S=h[0];for(m=0;m<p;m++)y=m*2,h.length>y&&(S=h[y]),g[y]=S,h.length>y+1&&(S=h[y+1]),g[y+1]=S}return this},setColors:function(h){var c=this.points.length;if(c<1)return this;var p=this.colors;h===void 0?h=[16777215]:Array.isArray(h)||(h=[h]);var g,m=0;if(h.length===c)for(g=0;g<c;g++)m=g*2,p[m]=h[g],p[m+1]=h[g];else{var y=h[0];for(g=0;g<c;g++)m=g*2,h.length>m&&(y=h[m]),p[m]=y,h.length>m+1&&(y=h[m+1]),p[m+1]=y}return this},setPoints:function(h,c,p){if(h===void 0&&(h=2),typeof h=="number"){var g=h;g<2&&(g=2),h=[];var m,y,S;if(this.horizontal)for(S=-this.frame.halfWidth,y=this.frame.width/(g-1),m=0;m<g;m++)h.push({x:S+m*y,y:0});else for(S=-this.frame.halfHeight,y=this.frame.height/(g-1),m=0;m<g;m++)h.push({x:0,y:S+m*y})}var M=h.length,P=this.points.length;return M<1?(console.warn("Rope: Not enough points given"),this):(M===1&&(h.unshift({x:0,y:0}),M++),P!==M&&this.resizeArrays(M),this.dirty=!0,this.points=h,this.updateUVs(),c!=null&&this.setColors(c),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var h=this.uv,c=this.points.length,p=this.frame.u0,g=this.frame.v0,m=this.frame.u1,y=this.frame.v1,S=(m-p)/(c-1),M=(y-g)/(c-1),P=0;P<c;P++){var w=P*4,R,A,L,F;this.horizontal?(this._flipX?(R=m-P*S,L=m-P*S):(R=p+P*S,L=p+P*S),this._flipY?(A=y,F=g):(A=g,F=y)):(this._flipX?(R=p,L=m):(R=m,L=p),this._flipY?(A=y-P*M,F=y-P*M):(A=g+P*M,F=g+P*M)),h[w+0]=R,h[w+1]=A,h[w+2]=L,h[w+3]=F}return this},resizeArrays:function(h){var c=this.colors,p=this.alphas;this.vertices=new Float32Array(h*4),this.uv=new Float32Array(h*4),c=new Uint32Array(h*2),p=new Float32Array(h*2);for(var g=0;g<h*2;g++)c[g]=16777215,p[g]=1;return this.colors=c,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var h=this._perp,c=this.points,p=this.vertices,g=c.length;if(this.dirty=!1,!(g<1)){for(var m,y=c[0],S=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,M=0;M<g;M++){var P=c[M],w=M*4;M<g-1?m=c[M+1]:m=P,h.x=m.y-y.y,h.y=-(m.x-y.x);var R=h.length();h.x/=R,h.y/=R,h.x*=S,h.y*=S,p[w]=P.x+h.x,p[w+1]=P.y+h.y,p[w+2]=P.x-h.x,p[w+3]=P.y-h.y,y=P}return this}},setDebug:function(h,c){return this.debugGraphic=h,!h&&!c?this.debugCallback=null:c?this.debugCallback=c:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(h,c,p){var g=h.debugGraphic,m=p[0],y=p[1],S=p[2],M=p[3];g.lineBetween(m,y,S,M);for(var P=4;P<c;P+=4){var w=p[P+0],R=p[P+1],A=p[P+2],L=p[P+3];g.lineBetween(m,y,w,R),g.lineBetween(S,M,A,L),g.lineBetween(S,M,w,R),g.lineBetween(w,R,A,L),m=w,y=R,S=A,M=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(h){return this._flipX=h,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(h){return this._flipY=h,this.updateUVs()}}});n.exports=v},95262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};n.exports=C},26209:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(35154),a=e(77757);x.register("rope",function(r,l){r===void 0&&(r={});var v=d(r,"key",null),h=d(r,"frame",null),c=d(r,"horizontal",!0),p=o(r,"points",void 0),g=o(r,"colors",void 0),m=o(r,"alphas",void 0),y=new a(this.scene,0,0,v,h,p,c,g,m);return l!==void 0&&(r.add=l),u(this.scene,y,r),y})},96819:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(77757),x=e(39429);x.register("rope",function(d,o,a,r,l,v,h,c){return this.displayList.add(new u(this.scene,d,o,a,r,l,v,h,c))})},38745:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(20439),d=e(95262),n.exports={renderWebGL:x,renderCanvas:d}},20439:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(70554),d=function(o,a,r,l){r.addToRenderList(a);var v=o.pipelines.set(a.pipeline,a),h=u(a,r,l).calc,c=a.vertices,p=a.uv,g=a.colors,m=a.alphas,y=a.alpha,S=x.getTintAppendFloatAlpha,M=r.roundPixels,P=c.length,w=Math.floor(P*.5);v.flush(),o.pipelines.preBatch(a);var R=v.setGameObject(a),A=v.vertexViewF32,L=v.vertexViewU32,F=v.vertexCount*v.currentShader.vertexComponentCount-1,O=0,b=a.tintFill;a.dirty&&a.updateVertices();for(var B=a.debugCallback,I=[],N=0;N<P;N+=2){var X=c[N+0],k=c[N+1],H=X*h.a+k*h.c+h.e,V=X*h.b+k*h.d+h.f;M&&(H=Math.round(H),V=Math.round(V)),A[++F]=H,A[++F]=V,A[++F]=p[N+0],A[++F]=p[N+1],A[++F]=R,A[++F]=b,L[++F]=S(g[O],r.alpha*(m[O]*y)),O++,B&&(I[N+0]=H,I[N+1]=V)}B&&B.call(a,a,P,I),v.vertexCount+=w,v.currentBatch.count=v.vertexCount-v.currentBatch.start,o.pipelines.postBatch(a)};n.exports=d},20071:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(95643),o=e(95540),a=e(79291),r=e(61622),l=e(25479),v=e(61340),h=e(95428),c=e(92503),p=new u({Extends:d,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,l],initialize:function(m,y,S,M,P,w,R,A){S===void 0&&(S=0),M===void 0&&(M=0),P===void 0&&(P=128),w===void 0&&(w=128),d.call(this,m,"Shader"),this.blendMode=-1,this.shader;var L=m.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(S,M),this.setSize(P,w),this.setOrigin(.5,.5),this.setShader(y,R,A),this.renderer.on(c.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(g){return this.renderToTexture?!0:!(d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&g.id)},setRenderToTexture:function(g,m){if(!this.renderToTexture){var y=this.width,S=this.height,M=this.renderer;this.glTexture=M.createTextureFromSource(null,y,S,0),this.framebuffer=M.createFramebuffer(y,S,this.glTexture,!1),this._rendererWidth=y,this._rendererHeight=S,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),g&&(this.texture=this.scene.sys.textures.addGLTexture(g,this.glTexture))}return this.shader&&(M.pipelines.clear(),this.load(),this.flush(),M.pipelines.rebind()),this},setShader:function(g,m,y){if(this.renderer.contextLost)return this._deferSetShader={key:g,textures:m,textureData:y},this;if(m===void 0&&(m=[]),typeof g=="string"){var S=this.scene.sys.cache.shader;if(!S.has(g))return console.warn("Shader missing: "+g),this;this.shader=S.get(g)}else this.shader=g;var M=this.gl,P=this.renderer;this.program&&P.deleteProgram(this.program);var w=P.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);M.uniformMatrix4fv(M.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),M.uniformMatrix4fv(M.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),M.uniform2f(M.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height),this.program=w;var R=new Date,A={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),R.getHours()*60*60+R.getMinutes()*60+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=a(!0,{},this.shader.uniforms,A):this.uniforms=A;for(var L=0;L<4;L++)m[L]&&this.setSampler2D("iChannel"+L,m[L],L,y);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(g){return this.pointer=g,this},projOrtho:function(g,m,y,S){if(this.renderer.contextLost){this._deferProjOrtho={left:g,right:m,bottom:y,top:S};return}var M=-1e3,P=1e3,w=1/(g-m),R=1/(y-S),A=1/(M-P),L=this.projectionMatrix;L[0]=-2*w,L[5]=-2*R,L[10]=2*A,L[12]=(g+m)*w,L[13]=(S+y)*R,L[14]=(P+M)*A;var F=this.program,O=this.gl,b=this.renderer;b.setProgram(F),O.uniformMatrix4fv(O.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=m,this._rendererHeight=y},initUniforms:function(){var g=this.renderer.glFuncMap,m=this.program;this._textureCount=0;for(var y in this.uniforms){var S=this.uniforms[y],M=S.type,P=g[M];S.uniformLocation=this.renderer.createUniformLocation(m,y),M!=="sampler2D"&&(S.glMatrix=P.matrix,S.glValueLength=P.length,S.glFunc=P.func)}},setSampler2DBuffer:function(g,m,y,S,M,P){M===void 0&&(M=0),P===void 0&&(P={});var w=this.uniforms[g];return w.value=m,P.width=y,P.height=S,w.textureData=P,this._textureCount=M,this.initSampler2D(w),this},setSampler2D:function(g,m,y,S){y===void 0&&(y=0);var M=this.scene.sys.textures;if(M.exists(m)){var P=M.getFrame(m);if(P.glTexture&&P.glTexture.isRenderTexture)return this.setSampler2DBuffer(g,P.glTexture,P.width,P.height,y,S);var w=this.uniforms[g],R=P.source;w.textureKey=m,w.source=R.image,w.value=P.glTexture,R.isGLTexture&&(S||(S={}),S.width=R.width,S.height=R.height),S&&(w.textureData=S),this._textureCount=y,this.initSampler2D(w)}return this},setUniform:function(g,m){return r(this.uniforms,g,m),this},getUniform:function(g){return o(this.uniforms,g,null)},setChannel0:function(g,m){return this.setSampler2D("iChannel0",g,0,m)},setChannel1:function(g,m){return this.setSampler2D("iChannel1",g,1,m)},setChannel2:function(g,m){return this.setSampler2D("iChannel2",g,2,m)},setChannel3:function(g,m){return this.setSampler2D("iChannel3",g,3,m)},initSampler2D:function(g){if(!!g.value){var m=g.textureData;if(m&&!g.value.isRenderTexture){var y=this.gl,S=g.value,M=y[o(m,"magFilter","linear").toUpperCase()],P=y[o(m,"minFilter","linear").toUpperCase()],w=y[o(m,"wrapS","repeat").toUpperCase()],R=y[o(m,"wrapT","repeat").toUpperCase()],A=y[o(m,"format","rgba").toUpperCase()],L=o(m,"flipY",!1),F=o(m,"width",S.width),O=o(m,"height",S.height),b=o(m,"source",S.pixels);m.repeat&&(w=y.REPEAT,R=y.REPEAT),m.width&&(b=null),S.update(b,F,O,L,w,R,P,M,A)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var g=this.gl,m=this.uniforms,y,S,M,P,w,R=0;for(var A in m)y=m[A],M=y.glFunc,S=y.glValueLength,P=y.uniformLocation,w=y.value,w!==null&&(S===1?y.glMatrix?M.call(g,P.webGLUniformLocation,y.transpose,w):M.call(g,P.webGLUniformLocation,w):S===2?M.call(g,P.webGLUniformLocation,w.x,w.y):S===3?M.call(g,P.webGLUniformLocation,w.x,w.y,w.z):S===4?M.call(g,P.webGLUniformLocation,w.x,w.y,w.z,w.w):y.type==="sampler2D"&&(g.activeTexture(g.TEXTURE0+R),g.bindTexture(g.TEXTURE_2D,w.webGLTexture),g.uniform1i(P.webGLUniformLocation,R),R++))},load:function(g){var m=this.gl,y=this.width,S=this.height,M=this.renderer,P=this.program,w=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,A=-this._displayOriginY;w[0]=g[0],w[1]=g[1],w[4]=g[2],w[5]=g[3],w[8]=g[4],w[9]=g[5],w[12]=w[0]*R+w[4]*A,w[13]=w[1]*R+w[5]*A}m.useProgram(P.webGLProgram),m.uniformMatrix4fv(m.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,w),m.uniformMatrix4fv(m.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,F=L.resolution;F.value.x=y,F.value.y=S,L.time.value=M.game.loop.getDuration();var O=this.pointer;if(O){var b=L.mouse,B=O.x/y,I=1-O.y/S;b.value.x=B.toFixed(2),b.value.y=I.toFixed(2)}this.syncUniforms()},flush:function(){var g=this.width,m=this.height,y=this.program,S=this.gl,M=this.vertexBuffer,P=this.renderer,w=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(P.setFramebuffer(this.framebuffer),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT)),S.bindBuffer(S.ARRAY_BUFFER,M.webGLBuffer);var R=S.getAttribLocation(y.webGLProgram,"inPosition");R!==-1&&(S.enableVertexAttribArray(R),S.vertexAttribPointer(R,2,S.FLOAT,!1,w,0));var A=this.vertexViewF32;A[3]=m,A[4]=g,A[5]=m,A[8]=g,A[9]=m,A[10]=g;var L=6;S.bufferSubData(S.ARRAY_BUFFER,0,this.bytes.subarray(0,L*w)),S.drawArrays(S.TRIANGLES,0,L),this.renderToTexture&&P.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var g=this._deferSetShader.key,m=this._deferSetShader.textures,y=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(g,m,y)}if(this._deferProjOrtho!==null){var S=this._deferProjOrtho.left,M=this._deferProjOrtho.right,P=this._deferProjOrtho.bottom,w=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(S,M,P,w)}},preDestroy:function(){var g=this.renderer;g.off(c.RESTORE_WEBGL,this.onContextRestored,this),g.deleteProgram(this.program),g.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(g.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),h(this.uniforms,function(m){g.deleteUniformLocation(m.uniformLocation),m.uniformLocation=null})}});n.exports=p},80464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};n.exports=C},54935:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(20071);x.register("shader",function(a,r){a===void 0&&(a={});var l=d(a,"key",null),v=d(a,"x",0),h=d(a,"y",0),c=d(a,"width",128),p=d(a,"height",128),g=new o(this.scene,l,v,h,c,p);return r!==void 0&&(a.add=r),u(this.scene,g,a),g})},74177:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20071),x=e(39429);x.register("shader",function(d,o,a,r,l,v,h){return this.displayList.add(new u(this.scene,d,o,a,r,l,v,h))})},25479:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(19257),d=e(80464),n.exports={renderWebGL:x,renderCanvas:d}},19257:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=function(d,o,a,r){if(!!o.shader){if(a.addToRenderList(o),d.pipelines.clear(),o.renderToTexture)o.load(),o.flush();else{var l=u(o,a,r).calc;(d.width!==o._rendererWidth||d.height!==o._rendererHeight)&&o.projOrtho(0,d.width,d.height,0),o.load(l.matrix),o.flush()}d.pipelines.rebind()}};n.exports=x},10441:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),x=function(d,o,a,r,l,v){for(var h=u.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*r),c=a.pathData,p=a.pathIndexes,g=0;g<p.length;g+=3){var m=p[g]*2,y=p[g+1]*2,S=p[g+2]*2,M=c[m+0]-l,P=c[m+1]-v,w=c[y+0]-l,R=c[y+1]-v,A=c[S+0]-l,L=c[S+1]-v,F=o.getX(M,P),O=o.getY(M,P),b=o.getX(w,R),B=o.getY(w,R),I=o.getX(A,L),N=o.getY(A,L);d.batchTri(a,F,O,b,B,I,N,0,0,1,1,h,h,h,2)}};n.exports=x},65960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=x||u.fillColor,a=d||u.fillAlpha,r=(o&16711680)>>>16,l=(o&65280)>>>8,v=o&255;e.fillStyle="rgba("+r+","+l+","+v+","+a+")"};n.exports=C},75177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=x||u.strokeColor,a=d||u.strokeAlpha,r=(o&16711680)>>>16,l=(o&65280)>>>8,v=o&255;e.strokeStyle="rgba("+r+","+l+","+v+","+a+")",e.lineWidth=u.lineWidth};n.exports=C},17803:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(95643),o=e(23031),a=new u({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(l,v,h){v===void 0&&(v="Shape"),d.call(this,l,v),this.geom=h,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new o,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(r,l){return l===void 0&&(l=1),r===void 0?this.isFilled=!1:(this.fillColor=r,this.fillAlpha=l,this.isFilled=!0),this},setStrokeStyle:function(r,l,v){return v===void 0&&(v=1),r===void 0?this.isStroked=!1:(this.lineWidth=r,this.strokeColor=l,this.strokeAlpha=v,this.isStroked=!0),this},setClosePath:function(r){return this.closePath=r,this},setSize:function(r,l){return this.width=r,this.height=l,this},setDisplaySize:function(r,l){return this.displayWidth=r,this.displayHeight=l,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}}});n.exports=a},34682:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),x=function(d,o,a,r,l){var v=d.strokeTint,h=u.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*a);v.TL=h,v.TR=h,v.BL=h,v.BR=h;var c=o.pathData,p=c.length-1,g=o.lineWidth,m=g/2,y=c[0]-r,S=c[1]-l;o.closePath||(p-=2);for(var M=2;M<p;M+=2){var P=c[M]-r,w=c[M+1]-l;d.batchLine(y,S,P,w,m,m,g,M-2,o.closePath?M===p-1:!1),y=P,S=w}};n.exports=x},23629:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13609),x=e(83419),d=e(39506),o=e(94811),a=e(96503),r=e(36383),l=e(17803),v=new x({Extends:l,Mixins:[u],initialize:function(c,p,g,m,y,S,M,P,w){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),y===void 0&&(y=0),S===void 0&&(S=360),M===void 0&&(M=!1),l.call(this,c,"Arc",new a(0,0,m)),this._startAngle=y,this._endAngle=S,this._anticlockwise=M,this._iterations=.01,this.setPosition(p,g);var R=this.geom.radius*2;this.setSize(R,R),P!==void 0&&this.setFillStyle(P,w),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(h){this._iterations=h,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(h){this.geom.radius=h;var c=h*2;this.setSize(c,c),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(h){this._startAngle=h,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(h){this._endAngle=h,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(h){this._anticlockwise=h,this.updateData()}},setRadius:function(h){return this.radius=h,this},setIterations:function(h){return h===void 0&&(h=.01),this.iterations=h,this},setStartAngle:function(h,c){return this._startAngle=h,c!==void 0&&(this._anticlockwise=c),this.updateData()},setEndAngle:function(h,c){return this._endAngle=h,c!==void 0&&(this._anticlockwise=c),this.updateData()},updateData:function(){var h=this._iterations,c=h,p=this.geom.radius,g=d(this._startAngle),m=d(this._endAngle),y=this._anticlockwise,S=p,M=p;m-=g,y?m<-r.PI2?m=-r.PI2:m>0&&(m=-r.PI2+m%r.PI2):m>r.PI2?m=r.PI2:m<0&&(m=r.PI2+m%r.PI2);for(var P=[S+Math.cos(g)*p,M+Math.sin(g)*p],w;c<1;)w=m*c+g,P.push(S+Math.cos(w)*p,M+Math.sin(w)*p),c+=h;return w=m+g,P.push(S+Math.cos(w)*p,M+Math.sin(w)*p),P.push(S+Math.cos(g)*p,M+Math.sin(g)*p),this.pathIndexes=o(P),this.pathData=P,this}});n.exports=v},42542:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39506),x=e(65960),d=e(75177),o=e(20926),a=function(r,l,v,h){v.addToRenderList(l);var c=r.currentContext;if(o(r,c,l,v,h)){var p=l.radius;c.beginPath(),c.arc(p-l.originX*(p*2),p-l.originY*(p*2),p,u(l._startAngle),u(l._endAngle),l.anticlockwise),l.closePath&&c.closePath(),l.isFilled&&(x(c,l),c.fill()),l.isStroked&&(d(c,l),c.stroke()),c.restore()}};n.exports=a},42563:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23629),x=e(39429);x.register("arc",function(d,o,a,r,l,v,h,c){return this.displayList.add(new u(this.scene,d,o,a,r,l,v,h,c))}),x.register("circle",function(d,o,a,r,l){return this.displayList.add(new u(this.scene,d,o,a,0,360,!1,r,l))})},13609:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(41447),d=e(42542),n.exports={renderWebGL:x,renderCanvas:d}},41447:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(10441),d=e(34682),o=function(a,r,l,v){l.addToRenderList(r);var h=a.pipelines.set(r.pipeline),c=u(r,l,v),p=h.calcMatrix.copyFrom(c.calc),g=r._displayOriginX,m=r._displayOriginY,y=l.alpha*r.alpha;a.pipelines.preBatch(r),r.isFilled&&x(h,p,r,y,g,m),r.isStroked&&d(h,r,y,g,m),a.pipelines.postBatch(r)};n.exports=o},89:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(33141),d=e(94811),o=e(87841),a=e(17803),r=new u({Extends:a,Mixins:[x],initialize:function(v,h,c,p,g,m){h===void 0&&(h=0),c===void 0&&(c=0),a.call(this,v,"Curve",p),this._smoothness=32,this._curveBounds=new o,this.closePath=!1,this.setPosition(h,c),g!==void 0&&this.setFillStyle(g,m),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(l){this._smoothness=l,this.updateData()}},setSmoothness:function(l){return this._smoothness=l,this.updateData()},updateData:function(){var l=this._curveBounds,v=this._smoothness;this.geom.getBounds(l,v),this.setSize(l.width,l.height),this.updateDisplayOrigin();for(var h=[],c=this.geom.getPoints(v),p=0;p<c.length;p++)h.push(c[p].x,c[p].y);return h.push(c[0].x,c[0].y),this.pathIndexes=d(h),this.pathData=h,this}});n.exports=r},3170:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),x=e(75177),d=e(20926),o=function(a,r,l,v){l.addToRenderList(r);var h=a.currentContext;if(d(a,h,r,l,v)){var c=r._displayOriginX+r._curveBounds.x,p=r._displayOriginY+r._curveBounds.y,g=r.pathData,m=g.length-1,y=g[0]-c,S=g[1]-p;h.beginPath(),h.moveTo(y,S),r.closePath||(m-=2);for(var M=2;M<m;M+=2){var P=g[M]-c,w=g[M+1]-p;h.lineTo(P,w)}r.closePath&&h.closePath(),r.isFilled&&(u(h,r),h.fill()),r.isStroked&&(x(h,r),h.stroke()),h.restore()}};n.exports=o},40511:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(89);u.register("curve",function(d,o,a,r,l){return this.displayList.add(new x(this.scene,d,o,a,r,l))})},33141:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(53987),d=e(3170),n.exports={renderWebGL:x,renderCanvas:d}},53987:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10441),x=e(91296),d=e(34682),o=function(a,r,l,v){l.addToRenderList(r);var h=a.pipelines.set(r.pipeline),c=x(r,l,v),p=h.calcMatrix.copyFrom(c.calc),g=r._displayOriginX+r._curveBounds.x,m=r._displayOriginY+r._curveBounds.y,y=l.alpha*r.alpha;a.pipelines.preBatch(r),r.isFilled&&u(h,p,r,y,g,m),r.isStroked&&d(h,r,y,g,m),a.pipelines.postBatch(r)};n.exports=o},19921:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(94811),d=e(54205),o=e(8497),a=e(17803),r=new u({Extends:a,Mixins:[d],initialize:function(v,h,c,p,g,m,y){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=128),g===void 0&&(g=128),a.call(this,v,"Ellipse",new o(p/2,g/2,p,g)),this._smoothness=64,this.setPosition(h,c),this.width=p,this.height=g,m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(l){this._smoothness=l,this.updateData()}},setSize:function(l,v){return this.width=l,this.height=v,this.geom.setPosition(l/2,v/2),this.geom.setSize(l,v),this.updateData()},setSmoothness:function(l){return this._smoothness=l,this.updateData()},updateData:function(){for(var l=[],v=this.geom.getPoints(this._smoothness),h=0;h<v.length;h++)l.push(v[h].x,v[h].y);return l.push(v[0].x,v[0].y),this.pathIndexes=x(l),this.pathData=l,this}});n.exports=r},7930:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),x=e(75177),d=e(20926),o=function(a,r,l,v){l.addToRenderList(r);var h=a.currentContext;if(d(a,h,r,l,v)){var c=r._displayOriginX,p=r._displayOriginY,g=r.pathData,m=g.length-1,y=g[0]-c,S=g[1]-p;h.beginPath(),h.moveTo(y,S),r.closePath||(m-=2);for(var M=2;M<m;M+=2){var P=g[M]-c,w=g[M+1]-p;h.lineTo(P,w)}h.closePath(),r.isFilled&&(u(h,r),h.fill()),r.isStroked&&(x(h,r),h.stroke()),h.restore()}};n.exports=o},1543:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19921),x=e(39429);x.register("ellipse",function(d,o,a,r,l,v){return this.displayList.add(new u(this.scene,d,o,a,r,l,v))})},54205:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(19467),d=e(7930),n.exports={renderWebGL:x,renderCanvas:d}},19467:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10441),x=e(91296),d=e(34682),o=function(a,r,l,v){l.addToRenderList(r);var h=a.pipelines.set(r.pipeline),c=x(r,l,v),p=h.calcMatrix.copyFrom(c.calc),g=r._displayOriginX,m=r._displayOriginY,y=l.alpha*r.alpha;a.pipelines.preBatch(r),r.isFilled&&u(h,p,r,y,g,m),r.isStroked&&d(h,r,y,g,m),a.pipelines.postBatch(r)};n.exports=o},30479:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(17803),d=e(26015),o=new u({Extends:x,Mixins:[d],initialize:function(r,l,v,h,c,p,g,m,y,S,M){l===void 0&&(l=0),v===void 0&&(v=0),h===void 0&&(h=128),c===void 0&&(c=128),p===void 0&&(p=32),g===void 0&&(g=32),x.call(this,r,"Grid",null),this.cellWidth=p,this.cellHeight=g,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(l,v),this.setSize(h,c),this.setFillStyle(m,y),S!==void 0&&this.setOutlineStyle(S,M),this.updateDisplayOrigin()},setFillStyle:function(a,r){return r===void 0&&(r=1),a===void 0?this.showCells=!1:(this.fillColor=a,this.fillAlpha=r,this.showCells=!0),this},setAltFillStyle:function(a,r){return r===void 0&&(r=1),a===void 0?this.showAltCells=!1:(this.altFillColor=a,this.altFillAlpha=r,this.showAltCells=!0),this},setOutlineStyle:function(a,r){return r===void 0&&(r=1),a===void 0?this.showOutline=!1:(this.outlineFillColor=a,this.outlineFillAlpha=r,this.showOutline=!0),this}});n.exports=o},49912:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),x=e(75177),d=e(20926),o=function(a,r,l,v){l.addToRenderList(r);var h=a.currentContext;if(d(a,h,r,l,v)){var c=-r._displayOriginX,p=-r._displayOriginY,g=l.alpha*r.alpha,m=r.width,y=r.height,S=r.cellWidth,M=r.cellHeight,P=Math.ceil(m/S),w=Math.ceil(y/M),R=S,A=M,L=S-(P*S-m),F=M-(w*M-y),O=r.showCells,b=r.showAltCells,B=r.showOutline,I=0,N=0,X=0,k=0,H=0;if(B&&(R--,A--,L===S&&L--,F===M&&F--),O&&r.fillAlpha>0)for(u(h,r),N=0;N<w;N++)for(b&&(X=N%2),I=0;I<P;I++){if(b&&X){X=0;continue}X++,k=I<P-1?R:L,H=N<w-1?A:F,h.fillRect(c+I*S,p+N*M,k,H)}if(b&&r.altFillAlpha>0)for(u(h,r,r.altFillColor,r.altFillAlpha*g),N=0;N<w;N++)for(b&&(X=N%2),I=0;I<P;I++){if(b&&!X){X=1;continue}X=0,k=I<P-1?R:L,H=N<w-1?A:F,h.fillRect(c+I*S,p+N*M,k,H)}if(B&&r.outlineFillAlpha>0){for(x(h,r,r.outlineFillColor,r.outlineFillAlpha*g),I=1;I<P;I++){var V=I*S;h.beginPath(),h.moveTo(V+c,p),h.lineTo(V+c,y+p),h.stroke()}for(N=1;N<w;N++){var W=N*M;h.beginPath(),h.moveTo(c,W+p),h.lineTo(c+m,W+p),h.stroke()}}h.restore()}};n.exports=o},34137:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(30479);u.register("grid",function(d,o,a,r,l,v,h,c,p,g){return this.displayList.add(new x(this.scene,d,o,a,r,l,v,h,c,p,g))})},26015:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(46161),d=e(49912),n.exports={renderWebGL:x,renderCanvas:d}},46161:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(70554),d=function(o,a,r,l){r.addToRenderList(a);var v=o.pipelines.set(a.pipeline),h=u(a,r,l),c=v.calcMatrix.copyFrom(h.calc);c.translate(-a._displayOriginX,-a._displayOriginY);var p=r.alpha*a.alpha,g=a.width,m=a.height,y=a.cellWidth,S=a.cellHeight,M=Math.ceil(g/y),P=Math.ceil(m/S),w=y,R=S,A=y-(M*y-g),L=S-(P*S-m),F,O,b=a.showCells,B=a.showAltCells,I=a.showOutline,N=0,X=0,k=0,H=0,V=0;if(I&&(w--,R--,A===y&&A--,L===S&&L--),o.pipelines.preBatch(a),b&&a.fillAlpha>0)for(F=v.fillTint,O=x.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*p),F.TL=O,F.TR=O,F.BL=O,F.BR=O,X=0;X<P;X++)for(B&&(k=X%2),N=0;N<M;N++){if(B&&k){k=0;continue}k++,H=N<M-1?w:A,V=X<P-1?R:L,v.batchFillRect(N*y,X*S,H,V)}if(B&&a.altFillAlpha>0)for(F=v.fillTint,O=x.getTintAppendFloatAlpha(a.altFillColor,a.altFillAlpha*p),F.TL=O,F.TR=O,F.BL=O,F.BR=O,X=0;X<P;X++)for(B&&(k=X%2),N=0;N<M;N++){if(B&&!k){k=1;continue}k=0,H=N<M-1?w:A,V=X<P-1?R:L,v.batchFillRect(N*y,X*S,H,V)}if(I&&a.outlineFillAlpha>0){var W=v.strokeTint,D=x.getTintAppendFloatAlpha(a.outlineFillColor,a.outlineFillAlpha*p);for(W.TL=D,W.TR=D,W.BL=D,W.BR=D,N=1;N<M;N++){var G=N*y;v.batchLine(G,0,G,m,1,1,1,0,!1)}for(X=1;X<P;X++){var z=X*S;v.batchLine(0,z,g,z,1,1,1,0,!1)}}o.pipelines.postBatch(a)};n.exports=d},61475:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99651),x=e(83419),d=e(17803),o=new x({Extends:d,Mixins:[u],initialize:function(r,l,v,h,c,p,g,m){l===void 0&&(l=0),v===void 0&&(v=0),h===void 0&&(h=48),c===void 0&&(c=32),p===void 0&&(p=15658734),g===void 0&&(g=10066329),m===void 0&&(m=13421772),d.call(this,r,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=g,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(l,v),this.setSize(h,c),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setFaces:function(a,r,l){return a===void 0&&(a=!0),r===void 0&&(r=!0),l===void 0&&(l=!0),this.showTop=a,this.showLeft=r,this.showRight=l,this},setFillStyle:function(a,r,l){return this.fillTop=a,this.fillLeft=r,this.fillRight=l,this.isFilled=!0,this}});n.exports=o},11508:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),x=e(20926),d=function(o,a,r,l){r.addToRenderList(a);var v=o.currentContext;if(x(o,v,a,r,l)&&a.isFilled){var h=a.width,c=a.height,p=h/2,g=h/a.projection;a.showTop&&(u(v,a,a.fillTop),v.beginPath(),v.moveTo(-p,-c),v.lineTo(0,-g-c),v.lineTo(p,-c),v.lineTo(p,-1),v.lineTo(0,g-1),v.lineTo(-p,-1),v.lineTo(-p,-c),v.fill()),a.showLeft&&(u(v,a,a.fillLeft),v.beginPath(),v.moveTo(-p,0),v.lineTo(0,g),v.lineTo(0,g-c),v.lineTo(-p,-c),v.lineTo(-p,0),v.fill()),a.showRight&&(u(v,a,a.fillRight),v.beginPath(),v.moveTo(p,0),v.lineTo(0,g),v.lineTo(0,g-c),v.lineTo(p,-c),v.lineTo(p,0),v.fill()),v.restore()}};n.exports=d},3933:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(61475);u.register("isobox",function(d,o,a,r,l,v,h){return this.displayList.add(new x(this.scene,d,o,a,r,l,v,h))})},99651:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(68149),d=e(11508),n.exports={renderWebGL:x,renderCanvas:d}},68149:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(70554),d=function(o,a,r,l){r.addToRenderList(a);var v=o.pipelines.set(a.pipeline),h=u(a,r,l),c=v.calcMatrix.copyFrom(h.calc),p=a.width,g=a.height,m=p/2,y=p/a.projection,S=r.alpha*a.alpha;if(!!a.isFilled){var M,P,w,R,A,L,F,O,b;o.pipelines.preBatch(a),a.showTop&&(M=x.getTintAppendFloatAlpha(a.fillTop,S),P=c.getX(-m,-g),w=c.getY(-m,-g),R=c.getX(0,-y-g),A=c.getY(0,-y-g),L=c.getX(m,-g),F=c.getY(m,-g),O=c.getX(0,y-g),b=c.getY(0,y-g),v.batchQuad(a,P,w,R,A,L,F,O,b,0,0,1,1,M,M,M,M,2)),a.showLeft&&(M=x.getTintAppendFloatAlpha(a.fillLeft,S),P=c.getX(-m,0),w=c.getY(-m,0),R=c.getX(0,y),A=c.getY(0,y),L=c.getX(0,y-g),F=c.getY(0,y-g),O=c.getX(-m,-g),b=c.getY(-m,-g),v.batchQuad(a,P,w,R,A,L,F,O,b,0,0,1,1,M,M,M,M,2)),a.showRight&&(M=x.getTintAppendFloatAlpha(a.fillRight,S),P=c.getX(m,0),w=c.getY(m,0),R=c.getX(0,y),A=c.getY(0,y),L=c.getX(0,y-g),F=c.getY(0,y-g),O=c.getX(m,-g),b=c.getY(m,-g),v.batchQuad(a,P,w,R,A,L,F,O,b,0,0,1,1,M,M,M,M,2)),o.pipelines.postBatch(a)}};n.exports=d},16933:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(60561),d=e(17803),o=new u({Extends:d,Mixins:[x],initialize:function(r,l,v,h,c,p,g,m,y){l===void 0&&(l=0),v===void 0&&(v=0),h===void 0&&(h=48),c===void 0&&(c=32),p===void 0&&(p=!1),g===void 0&&(g=15658734),m===void 0&&(m=10066329),y===void 0&&(y=13421772),d.call(this,r,"IsoTriangle",null),this.projection=4,this.fillTop=g,this.fillLeft=m,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(l,v),this.setSize(h,c),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setReversed:function(a){return this.isReversed=a,this},setFaces:function(a,r,l){return a===void 0&&(a=!0),r===void 0&&(r=!0),l===void 0&&(l=!0),this.showTop=a,this.showLeft=r,this.showRight=l,this},setFillStyle:function(a,r,l){return this.fillTop=a,this.fillLeft=r,this.fillRight=l,this.isFilled=!0,this}});n.exports=o},79590:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),x=e(20926),d=function(o,a,r,l){r.addToRenderList(a);var v=o.currentContext;if(x(o,v,a,r,l)&&a.isFilled){var h=a.width,c=a.height,p=h/2,g=h/a.projection,m=a.isReversed;a.showTop&&m&&(u(v,a,a.fillTop),v.beginPath(),v.moveTo(-p,-c),v.lineTo(0,-g-c),v.lineTo(p,-c),v.lineTo(0,g-c),v.fill()),a.showLeft&&(u(v,a,a.fillLeft),v.beginPath(),m?(v.moveTo(-p,-c),v.lineTo(0,g),v.lineTo(0,g-c)):(v.moveTo(-p,0),v.lineTo(0,g),v.lineTo(0,g-c)),v.fill()),a.showRight&&(u(v,a,a.fillRight),v.beginPath(),m?(v.moveTo(p,-c),v.lineTo(0,g),v.lineTo(0,g-c)):(v.moveTo(p,0),v.lineTo(0,g),v.lineTo(0,g-c)),v.fill()),v.restore()}};n.exports=d},49803:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(16933);u.register("isotriangle",function(d,o,a,r,l,v,h,c){return this.displayList.add(new x(this.scene,d,o,a,r,l,v,h,c))})},60561:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(51503),d=e(79590),n.exports={renderWebGL:x,renderCanvas:d}},51503:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(70554),d=function(o,a,r,l){r.addToRenderList(a);var v=o.pipelines.set(a.pipeline),h=u(a,r,l),c=v.calcMatrix.copyFrom(h.calc),p=a.width,g=a.height,m=p/2,y=p/a.projection,S=a.isReversed,M=r.alpha*a.alpha;if(!!a.isFilled){o.pipelines.preBatch(a);var P,w,R,A,L,F,O;if(a.showTop&&S){P=x.getTintAppendFloatAlpha(a.fillTop,M),w=c.getX(-m,-g),R=c.getY(-m,-g),A=c.getX(0,-y-g),L=c.getY(0,-y-g),F=c.getX(m,-g),O=c.getY(m,-g);var b=c.getX(0,y-g),B=c.getY(0,y-g);v.batchQuad(a,w,R,A,L,F,O,b,B,0,0,1,1,P,P,P,P,2)}a.showLeft&&(P=x.getTintAppendFloatAlpha(a.fillLeft,M),S?(w=c.getX(-m,-g),R=c.getY(-m,-g),A=c.getX(0,y),L=c.getY(0,y),F=c.getX(0,y-g),O=c.getY(0,y-g)):(w=c.getX(-m,0),R=c.getY(-m,0),A=c.getX(0,y),L=c.getY(0,y),F=c.getX(0,y-g),O=c.getY(0,y-g)),v.batchTri(a,w,R,A,L,F,O,0,0,1,1,P,P,P,2)),a.showRight&&(P=x.getTintAppendFloatAlpha(a.fillRight,M),S?(w=c.getX(m,-g),R=c.getY(m,-g),A=c.getX(0,y),L=c.getY(0,y),F=c.getX(0,y-g),O=c.getY(0,y-g)):(w=c.getX(m,0),R=c.getY(m,0),A=c.getX(0,y),L=c.getY(0,y),F=c.getX(0,y-g),O=c.getY(0,y-g)),v.batchTri(a,w,R,A,L,F,O,0,0,1,1,P,P,P,2)),o.pipelines.postBatch(a)}};n.exports=d},57847:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(17803),d=e(23031),o=e(36823),a=new u({Extends:x,Mixins:[o],initialize:function(l,v,h,c,p,g,m,y,S){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=128),m===void 0&&(m=0),x.call(this,l,"Line",new d(c,p,g,m));var M=Math.max(1,this.geom.right-this.geom.left),P=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,h),this.setSize(M,P),y!==void 0&&this.setStrokeStyle(1,y,S),this.updateDisplayOrigin()},setLineWidth:function(r,l){return l===void 0&&(l=r),this._startWidth=r,this._endWidth=l,this.lineWidth=r,this},setTo:function(r,l,v,h){return this.geom.setTo(r,l,v,h),this}});n.exports=a},17440:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75177),x=e(20926),d=function(o,a,r,l){r.addToRenderList(a);var v=o.currentContext;if(x(o,v,a,r,l)){var h=a._displayOriginX,c=a._displayOriginY;a.isStroked&&(u(v,a),v.beginPath(),v.moveTo(a.geom.x1-h,a.geom.y1-c),v.lineTo(a.geom.x2-h,a.geom.y2-c),v.stroke()),v.restore()}};n.exports=d},2481:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(57847);u.register("line",function(d,o,a,r,l,v,h,c){return this.displayList.add(new x(this.scene,d,o,a,r,l,v,h,c))})},36823:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(77385),d=e(17440),n.exports={renderWebGL:x,renderCanvas:d}},77385:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(70554),d=function(o,a,r,l){r.addToRenderList(a);var v=o.pipelines.set(a.pipeline),h=u(a,r,l);v.calcMatrix.copyFrom(h.calc);var c=a._displayOriginX,p=a._displayOriginY,g=r.alpha*a.alpha;if(o.pipelines.preBatch(a),a.isStroked){var m=v.strokeTint,y=x.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*g);m.TL=y,m.TR=y,m.BL=y,m.BR=y,v.batchLine(a.geom.x1-c,a.geom.y1-p,a.geom.x2-c,a.geom.y2-p,a._startWidth/2,a._endWidth/2,1,0,!1,h.sprite,h.camera)}o.pipelines.postBatch(a)};n.exports=d},24949:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90273),x=e(83419),d=e(94811),o=e(13829),a=e(25717),r=e(17803),l=e(5469),v=new x({Extends:r,Mixins:[u],initialize:function(c,p,g,m,y,S){p===void 0&&(p=0),g===void 0&&(g=0),r.call(this,c,"Polygon",new a(m));var M=o(this.geom);this.setPosition(p,g),this.setSize(M.width,M.height),y!==void 0&&this.setFillStyle(y,S),this.updateDisplayOrigin(),this.updateData()},smooth:function(h){h===void 0&&(h=1);for(var c=0;c<h;c++)l(this.geom);return this.updateData()},setTo:function(h){this.geom.setTo(h);var c=o(this.geom);return this.setSize(c.width,c.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var h=[],c=this.geom.points,p=0;p<c.length;p++)h.push(c[p].x,c[p].y);return h.push(c[0].x,c[0].y),this.pathIndexes=d(h),this.pathData=h,this}});n.exports=v},38710:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),x=e(75177),d=e(20926),o=function(a,r,l,v){l.addToRenderList(r);var h=a.currentContext;if(d(a,h,r,l,v)){var c=r._displayOriginX,p=r._displayOriginY,g=r.pathData,m=g.length-1,y=g[0]-c,S=g[1]-p;h.beginPath(),h.moveTo(y,S),r.closePath||(m-=2);for(var M=2;M<m;M+=2){var P=g[M]-c,w=g[M+1]-p;h.lineTo(P,w)}r.closePath&&h.closePath(),r.isFilled&&(u(h,r),h.fill()),r.isStroked&&(x(h,r),h.stroke()),h.restore()}};n.exports=o},64827:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(24949);u.register("polygon",function(d,o,a,r,l){return this.displayList.add(new x(this.scene,d,o,a,r,l))})},90273:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(73695),d=e(38710),n.exports={renderWebGL:x,renderCanvas:d}},73695:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10441),x=e(91296),d=e(34682),o=function(a,r,l,v){l.addToRenderList(r);var h=a.pipelines.set(r.pipeline),c=x(r,l,v),p=h.calcMatrix.copyFrom(c.calc),g=r._displayOriginX,m=r._displayOriginY,y=l.alpha*r.alpha;a.pipelines.preBatch(r),r.isFilled&&u(h,p,r,y,g,m),r.isStroked&&d(h,r,y,g,m),a.pipelines.postBatch(r)};n.exports=o},74561:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(87841),d=e(17803),o=e(95597),a=new u({Extends:d,Mixins:[o],initialize:function(l,v,h,c,p,g,m){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=128),p===void 0&&(p=128),d.call(this,l,"Rectangle",new x(0,0,c,p)),this.setPosition(v,h),this.setSize(c,p),g!==void 0&&this.setFillStyle(g,m),this.updateDisplayOrigin(),this.updateData()},setSize:function(r,l){this.width=r,this.height=l,this.geom.setSize(r,l),this.updateData(),this.updateDisplayOrigin();var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=r,v.hitArea.height=l),this},updateData:function(){var r=[],l=this.geom,v=this._tempLine;return l.getLineA(v),r.push(v.x1,v.y1,v.x2,v.y2),l.getLineB(v),r.push(v.x2,v.y2),l.getLineC(v),r.push(v.x2,v.y2),l.getLineD(v),r.push(v.x2,v.y2),this.pathData=r,this}});n.exports=a},48682:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),x=e(75177),d=e(20926),o=function(a,r,l,v){l.addToRenderList(r);var h=a.currentContext;if(d(a,h,r,l,v)){var c=r._displayOriginX,p=r._displayOriginY;r.isFilled&&(u(h,r),h.fillRect(-c,-p,r.width,r.height)),r.isStroked&&(x(h,r),h.beginPath(),h.rect(-c,-p,r.width,r.height),h.stroke()),h.restore()}};n.exports=o},87959:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(74561);u.register("rectangle",function(d,o,a,r,l,v){return this.displayList.add(new x(this.scene,d,o,a,r,l,v))})},95597:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(52059),d=e(48682),n.exports={renderWebGL:x,renderCanvas:d}},52059:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(34682),d=e(70554),o=function(a,r,l,v){l.addToRenderList(r);var h=a.pipelines.set(r.pipeline),c=u(r,l,v);h.calcMatrix.copyFrom(c.calc);var p=r._displayOriginX,g=r._displayOriginY,m=l.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isFilled){var y=h.fillTint,S=d.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*m);y.TL=S,y.TR=S,y.BL=S,y.BR=S,h.batchFillRect(-p,-g,r.width,r.height)}r.isStroked&&x(h,r,m,p,g),a.pipelines.postBatch(r)};n.exports=o},55911:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81991),x=e(83419),d=e(94811),o=e(17803),a=new x({Extends:o,Mixins:[u],initialize:function(l,v,h,c,p,g,m,y){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=5),p===void 0&&(p=32),g===void 0&&(g=64),o.call(this,l,"Star",null),this._points=c,this._innerRadius=p,this._outerRadius=g,this.setPosition(v,h),this.setSize(g*2,g*2),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},setPoints:function(r){return this._points=r,this.updateData()},setInnerRadius:function(r){return this._innerRadius=r,this.updateData()},setOuterRadius:function(r){return this._outerRadius=r,this.updateData()},points:{get:function(){return this._points},set:function(r){this._points=r,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(r){this._innerRadius=r,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(r){this._outerRadius=r,this.updateData()}},updateData:function(){var r=[],l=this._points,v=this._innerRadius,h=this._outerRadius,c=Math.PI/2*3,p=Math.PI/l,g=h,m=h;r.push(g,m+-h);for(var y=0;y<l;y++)r.push(g+Math.cos(c)*h,m+Math.sin(c)*h),c+=p,r.push(g+Math.cos(c)*v,m+Math.sin(c)*v),c+=p;return r.push(g,m+-h),this.pathIndexes=d(r),this.pathData=r,this}});n.exports=a},64272:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),x=e(75177),d=e(20926),o=function(a,r,l,v){l.addToRenderList(r);var h=a.currentContext;if(d(a,h,r,l,v)){var c=r._displayOriginX,p=r._displayOriginY,g=r.pathData,m=g.length-1,y=g[0]-c,S=g[1]-p;h.beginPath(),h.moveTo(y,S),r.closePath||(m-=2);for(var M=2;M<m;M+=2){var P=g[M]-c,w=g[M+1]-p;h.lineTo(P,w)}h.closePath(),r.isFilled&&(u(h,r),h.fill()),r.isStroked&&(x(h,r),h.stroke()),h.restore()}};n.exports=o},93697:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55911),x=e(39429);x.register("star",function(d,o,a,r,l,v,h){return this.displayList.add(new u(this.scene,d,o,a,r,l,v,h))})},81991:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(57017),d=e(64272),n.exports={renderWebGL:x,renderCanvas:d}},57017:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10441),x=e(91296),d=e(34682),o=function(a,r,l,v){l.addToRenderList(r);var h=a.pipelines.set(r.pipeline),c=x(r,l,v),p=h.calcMatrix.copyFrom(c.calc),g=r._displayOriginX,m=r._displayOriginY,y=l.alpha*r.alpha;a.pipelines.preBatch(r),r.isFilled&&u(h,p,r,y,g,m),r.isStroked&&d(h,r,y,g,m),a.pipelines.postBatch(r)};n.exports=o},36931:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(17803),d=e(16483),o=e(96195),a=new u({Extends:x,Mixins:[o],initialize:function(l,v,h,c,p,g,m,y,S,M,P){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=128),g===void 0&&(g=64),m===void 0&&(m=0),y===void 0&&(y=128),S===void 0&&(S=128),x.call(this,l,"Triangle",new d(c,p,g,m,y,S));var w=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(v,h),this.setSize(w,R),M!==void 0&&this.setFillStyle(M,P),this.updateDisplayOrigin(),this.updateData()},setTo:function(r,l,v,h,c,p){return this.geom.setTo(r,l,v,h,c,p),this.updateData()},updateData:function(){var r=[],l=this.geom,v=this._tempLine;return l.getLineA(v),r.push(v.x1,v.y1,v.x2,v.y2),l.getLineB(v),r.push(v.x2,v.y2),l.getLineC(v),r.push(v.x2,v.y2),this.pathData=r,this}});n.exports=a},85172:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65960),x=e(75177),d=e(20926),o=function(a,r,l,v){l.addToRenderList(r);var h=a.currentContext;if(d(a,h,r,l,v)){var c=r._displayOriginX,p=r._displayOriginY,g=r.geom.x1-c,m=r.geom.y1-p,y=r.geom.x2-c,S=r.geom.y2-p,M=r.geom.x3-c,P=r.geom.y3-p;h.beginPath(),h.moveTo(g,m),h.lineTo(y,S),h.lineTo(M,P),h.closePath(),r.isFilled&&(u(h,r),h.fill()),r.isStroked&&(x(h,r),h.stroke()),h.restore()}};n.exports=o},45245:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(36931);u.register("triangle",function(d,o,a,r,l,v,h,c,p,g){return this.displayList.add(new x(this.scene,d,o,a,r,l,v,h,c,p,g))})},96195:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(83253),d=e(85172),n.exports={renderWebGL:x,renderCanvas:d}},83253:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=e(34682),d=e(70554),o=function(a,r,l,v){l.addToRenderList(r);var h=a.pipelines.set(r.pipeline),c=u(r,l,v);h.calcMatrix.copyFrom(c.calc);var p=r._displayOriginX,g=r._displayOriginY,m=l.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isFilled){var y=h.fillTint,S=d.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*m);y.TL=S,y.TR=S,y.BL=S,y.BR=S;var M=r.geom.x1-p,P=r.geom.y1-g,w=r.geom.x2-p,R=r.geom.y2-g,A=r.geom.x3-p,L=r.geom.y3-g;h.batchFillTriangle(M,P,w,R,A,L,c.sprite,c.camera)}r.isStroked&&x(h,r,m,p,g),a.pipelines.postBatch(r)};n.exports=o},68287:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),x=e(83419),d=e(31401),o=e(95643),a=e(92751),r=new x({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,a],initialize:function(v,h,c,p,g){o.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(p,g),this.setPosition(h,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(l,v){this.anims.update(l,v)},play:function(l,v){return this.anims.play(l,v)},playReverse:function(l,v){return this.anims.playReverse(l,v)},playAfterDelay:function(l,v){return this.anims.playAfterDelay(l,v)},playAfterRepeat:function(l,v){return this.anims.playAfterRepeat(l,v)},chain:function(l){return this.anims.chain(l)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},toJSON:function(){return d.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});n.exports=r},76552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x.addToRenderList(u),e.batchSprite(u,u.frame,x,d)};n.exports=C},15567:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(13059),d=e(44603),o=e(23568),a=e(68287);d.register("sprite",function(r,l){r===void 0&&(r={});var v=o(r,"key",null),h=o(r,"frame",null),c=new a(this.scene,0,0,v,h);return l!==void 0&&(r.add=l),u(this.scene,c,r),x(c,r),c})},46409:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(68287);u.register("sprite",function(d,o,a,r){return this.displayList.add(new x(this.scene,d,o,a,r))})},92751:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(9409),d=e(76552),n.exports={renderWebGL:x,renderCanvas:d}},9409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x.addToRenderList(u),u.pipeline.batchSprite(u,x,d)};n.exports=C},14220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=e.canvas,o=e.context,a=e.style,r=[],l=0,v=x.length;a.maxLines>0&&a.maxLines<x.length&&(v=a.maxLines),a.syncFont(d,o);for(var h=0;h<v;h++){var c=a.strokeThickness;c+=o.measureText(x[h]).width,x[h].length>1&&(c+=e.letterSpacing*(x[h].length-1)),a.wordWrap&&(c-=o.measureText(" ").width),r[h]=Math.ceil(c),l=Math.max(l,r[h])}var p=u.fontSize+a.strokeThickness,g=p*v,m=e.lineSpacing;return v>1&&(g+=m*(v-1)),{width:l,height:g,lines:v,lineWidths:r,lineSpacing:m,lineHeight:p}};n.exports=C},79557:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),x=function(d){var o=u.create(this),a=o.getContext("2d",{willReadFrequently:!0});d.syncFont(o,a);var r=a.measureText(d.testString);if("actualBoundingBoxAscent"in r){var l=r.actualBoundingBoxAscent,v=r.actualBoundingBoxDescent;return u.remove(o),{ascent:l,descent:v,fontSize:l+v}}var h=Math.ceil(r.width*d.baselineX),c=h,p=2*c;c=c*d.baselineY|0,o.width=h,o.height=p,a.fillStyle="#f00",a.fillRect(0,0,h,p),a.font=d._font,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(d.testString,0,c);var g={ascent:0,descent:0,fontSize:0},m=a.getImageData(0,0,h,p);if(!m)return g.ascent=c,g.descent=c+6,g.fontSize=g.ascent+g.descent,u.remove(o),g;var y=m.data,S=y.length,M=h*4,P,w,R=0,A=!1;for(P=0;P<c;P++){for(w=0;w<M;w+=4)if(y[R+w]!==255){A=!0;break}if(!A)R+=M;else break}for(g.ascent=c-P,R=S-M,A=!1,P=p;P>c;P--){for(w=0;w<M;w+=4)if(y[R+w]!==255){A=!0;break}if(!A)R-=M;else break}return g.descent=P-c,g.fontSize=g.ascent+g.descent,u.remove(o),g};n.exports=x},50171:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40366),x=e(27919),d=e(83419),o=e(31401),a=e(95643),r=e(14220),l=e(35154),v=e(35846),h=e(61771),c=e(35762),p=e(45650),g=new d({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,h],initialize:function(y,S,M,P,w){S===void 0&&(S=0),M===void 0&&(M=0),a.call(this,y,"Text"),this.renderer=y.sys.renderer,this.setPosition(S,M),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context,this.style=new c(this,w),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=y.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),w&&w.padding&&this.setPadding(w.padding),w&&w.lineSpacing&&this.setLineSpacing(w.lineSpacing)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(m){var y=this.style;if(y.wordWrapCallback){var S=y.wordWrapCallback.call(y.wordWrapCallbackScope,m,this);return Array.isArray(S)&&(S=S.join(`
`)),S}else return y.wordWrapWidth?y.wordWrapUseAdvanced?this.advancedWordWrap(m,this.context,this.style.wordWrapWidth):this.basicWordWrap(m,this.context,this.style.wordWrapWidth):m},advancedWordWrap:function(m,y,S){for(var M="",P=m.replace(/ +/gi," ").split(this.splitRegExp),w=P.length,R=0;R<w;R++){var A=P[R],L="";A=A.replace(/^ *|\s*$/gi,"");var F=y.measureText(A).width;if(F<S){M+=A+`
`;continue}for(var O=S,b=A.split(" "),B=0;B<b.length;B++){var I=b[B],N=I+" ",X=y.measureText(N).width;if(X>O){if(B===0){for(var k=N;k.length&&(k=k.slice(0,-1),X=y.measureText(k).width,!(X<=O)););if(!k.length)throw new Error("wordWrapWidth < a single character");var H=I.substr(k.length);b[B]=H,L+=k}var V=b[B].length?B:B+1,W=b.slice(V).join(" ").replace(/[ \n]*$/gi,"");P.splice(R+1,0,W),w=P.length;break}else L+=N,O-=X}M+=L.replace(/[ \n]*$/gi,"")+`
`}return M=M.replace(/[\s|\n]*$/gi,""),M},basicWordWrap:function(m,y,S){for(var M="",P=m.split(this.splitRegExp),w=P.length-1,R=y.measureText(" ").width,A=0;A<=w;A++){for(var L=S,F=P[A].split(" "),O=F.length-1,b=0;b<=O;b++){var B=F[b],I=y.measureText(B).width,N=I;b<O&&(N+=R),N>L&&b>0&&(M+=`
`,L=S),M+=B,b<O?(M+=" ",L-=N):L-=I}A<w&&(M+=`
`)}return M},getWrappedText:function(m){m===void 0&&(m=this._text),this.style.syncFont(this.canvas,this.context);var y=this.runWordWrap(m);return y.split(this.splitRegExp)},setText:function(m){return!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m!==this._text&&(this._text=m.toString(),this.updateText()),this},appendText:function(m,y){y===void 0&&(y=!0),!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m=m.toString();var S=this._text.concat(y?`
`+m:m);return S!==this._text&&(this._text=S,this.updateText()),this},setStyle:function(m){return this.style.setStyle(m)},setFont:function(m){return this.style.setFont(m)},setFontFamily:function(m){return this.style.setFontFamily(m)},setFontSize:function(m){return this.style.setFontSize(m)},setFontStyle:function(m){return this.style.setFontStyle(m)},setFixedSize:function(m,y){return this.style.setFixedSize(m,y)},setBackgroundColor:function(m){return this.style.setBackgroundColor(m)},setFill:function(m){return this.style.setFill(m)},setColor:function(m){return this.style.setColor(m)},setStroke:function(m,y){return this.style.setStroke(m,y)},setShadow:function(m,y,S,M,P,w){return this.style.setShadow(m,y,S,M,P,w)},setShadowOffset:function(m,y){return this.style.setShadowOffset(m,y)},setShadowColor:function(m){return this.style.setShadowColor(m)},setShadowBlur:function(m){return this.style.setShadowBlur(m)},setShadowStroke:function(m){return this.style.setShadowStroke(m)},setShadowFill:function(m){return this.style.setShadowFill(m)},setWordWrapWidth:function(m,y){return this.style.setWordWrapWidth(m,y)},setWordWrapCallback:function(m,y){return this.style.setWordWrapCallback(m,y)},setAlign:function(m){return this.style.setAlign(m)},setResolution:function(m){return this.style.setResolution(m)},setLineSpacing:function(m){return this.lineSpacing=m,this.updateText()},setLetterSpacing:function(m){return this.letterSpacing=m,this.updateText()},setPadding:function(m,y,S,M){if(typeof m=="object"){var P=m,w=l(P,"x",null);w!==null?(m=w,S=w):(m=l(P,"left",0),S=l(P,"right",m));var R=l(P,"y",null);R!==null?(y=R,M=R):(y=l(P,"top",0),M=l(P,"bottom",y))}else m===void 0&&(m=0),y===void 0&&(y=m),S===void 0&&(S=m),M===void 0&&(M=y);return this.padding.left=m,this.padding.top=y,this.padding.right=S,this.padding.bottom=M,this.updateText()},setMaxLines:function(m){return this.style.setMaxLines(m)},setRTL:function(m){m===void 0&&(m=!0);var y=this.style;return y.rtl===m?this:(y.rtl=m,m?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),y.align==="left"?y.align="right":y.align==="right"&&(y.align="left"),this)},updateText:function(){var m=this.canvas,y=this.context,S=this.style,M=S.resolution,P=S.metrics;S.syncFont(m,y);var w=this._text;(S.wordWrapWidth||S.wordWrapCallback)&&(w=this.runWordWrap(this._text));var R=w.split(this.splitRegExp),A=r(this,P,R),L=this.padding,F;S.fixedWidth===0?(this.width=A.width+L.left+L.right,F=A.width):(this.width=S.fixedWidth,F=this.width-L.left-L.right,F<A.width&&(F=A.width)),S.fixedHeight===0?this.height=A.height+L.top+L.bottom:this.height=S.fixedHeight;var O=this.width,b=this.height;this.updateDisplayOrigin(),O*=M,b*=M,O=Math.max(O,1),b=Math.max(b,1),m.width!==O||m.height!==b?(m.width=O,m.height=b,this.frame.setSize(O,b),S.syncFont(m,y),S.rtl&&(y.direction="rtl")):y.clearRect(0,0,O,b),y.save(),y.scale(M,M),S.backgroundColor&&(y.fillStyle=S.backgroundColor,y.fillRect(0,0,O,b)),S.syncStyle(m,y),y.translate(L.left,L.top);for(var B,I,N=0;N<A.lines;N++){if(B=S.strokeThickness/2,I=S.strokeThickness/2+N*A.lineHeight+P.ascent,N>0&&(I+=A.lineSpacing*N),S.rtl)B=O-B-L.left-L.right;else if(S.align==="right")B+=F-A.lineWidths[N];else if(S.align==="center")B+=(F-A.lineWidths[N])/2;else if(S.align==="justify"){var X=.85;if(A.lineWidths[N]/A.width>=X){var k=A.width-A.lineWidths[N],H=y.measureText(" ").width,V=R[N].trim(),W=V.split(" ");k+=(R[N].length-V.length)*H;for(var D=Math.floor(k/H),G=0;D>0;)W[G]+=" ",G=(G+1)%(W.length-1||1),--D;R[N]=W.join(" ")}}if(this.autoRound&&(B=Math.round(B),I=Math.round(I)),S.strokeThickness&&(S.syncShadow(y,S.shadowStroke),y.strokeText(R[N],B,I)),S.color){S.syncShadow(y,S.shadowFill);var z=this.letterSpacing;if(z!==0)for(var U=0,Y=R[N].split(""),$=0;$<Y.length;$++)y.fillText(Y[$],B+U,I),U+=y.measureText(Y[$]).width+z;else y.fillText(R[N],B,I)}}y.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(m,this.frame.source.glTexture,!0));var K=this.input;return K&&!K.customHitArea&&(K.hitArea.width=this.width,K.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(m){this.setText(m)}},toJSON:function(){var m=o.ToJSON(this),y={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return m.data=y,m},preDestroy:function(){v(this.canvas),x.remove(this.canvas);var m=this.texture;m&&m.destroy()}});n.exports=g},79724:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){u.width===0||u.height===0||(x.addToRenderList(u),e.batchSprite(u,u.frame,x,d))};n.exports=C},71259:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(50171);x.register("text",function(a,r){a===void 0&&(a={});var l=d(a,"text",""),v=d(a,"style",null),h=d(a,"padding",null);h!==null&&(v.padding=h);var c=new o(this.scene,0,0,l,v);return r!==void 0&&(a.add=r),u(this.scene,c,a),c.autoRound=d(a,"autoRound",!0),c.resolution=d(a,"resolution",1),c})},68005:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50171),x=e(39429);x.register("text",function(d,o,a,r){return this.displayList.add(new u(this.scene,d,o,a,r))})},61771:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(34397),d=e(79724),n.exports={renderWebGL:x,renderCanvas:d}},35762:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23568),d=e(35154),o=e(79557),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},r=new u({initialize:function(v,h){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(h,!1,!0)},setStyle:function(l,v,h){v===void 0&&(v=!0),h===void 0&&(h=!1),l&&l.hasOwnProperty("fontSize")&&typeof l.fontSize=="number"&&(l.fontSize=l.fontSize.toString()+"px");for(var c in a){var p=h?a[c][1]:this[c];c==="wordWrapCallback"||c==="wordWrapCallbackScope"?this[c]=d(l,a[c][0],p):this[c]=x(l,a[c][0],p)}var g=d(l,"font",null);g!==null&&this.setFont(g,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var m=d(l,"fill",null);m!==null&&(this.color=m);var y=d(l,"metrics",!1);return y?this.metrics={ascent:d(y,"ascent",0),descent:d(y,"descent",0),fontSize:d(y,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=o(this)),v?this.parent.updateText():this.parent},syncFont:function(l,v){v.font=this._font},syncStyle:function(l,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},syncShadow:function(l,v){v?(l.shadowOffsetX=this.shadowOffsetX,l.shadowOffsetY=this.shadowOffsetY,l.shadowColor=this.shadowColor,l.shadowBlur=this.shadowBlur):(l.shadowOffsetX=0,l.shadowOffsetY=0,l.shadowColor=0,l.shadowBlur=0)},update:function(l){return l&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=o(this)),this.parent.updateText()},setFont:function(l,v){v===void 0&&(v=!0);var h=l,c="",p="";if(typeof l!="string")h=d(l,"fontFamily","Courier"),c=d(l,"fontSize","16px"),p=d(l,"fontStyle","");else{var g=l.split(" "),m=0;p=g.length>2?g[m++]:"",c=g[m++]||"16px",h=g[m++]||"Courier"}return(h!==this.fontFamily||c!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=h,this.fontSize=c,this.fontStyle=p,v&&this.update(!0)),this.parent},setFontFamily:function(l){return this.fontFamily!==l&&(this.fontFamily=l,this.update(!0)),this.parent},setFontStyle:function(l){return this.fontStyle!==l&&(this.fontStyle=l,this.update(!0)),this.parent},setFontSize:function(l){return typeof l=="number"&&(l=l.toString()+"px"),this.fontSize!==l&&(this.fontSize=l,this.update(!0)),this.parent},setTestString:function(l){return this.testString=l,this.update(!0)},setFixedSize:function(l,v){return this.fixedWidth=l,this.fixedHeight=v,l&&(this.parent.width=l),v&&(this.parent.height=v),this.update(!1)},setBackgroundColor:function(l){return this.backgroundColor=l,this.update(!1)},setFill:function(l){return this.color=l,this.update(!1)},setColor:function(l){return this.color=l,this.update(!1)},setResolution:function(l){return this.resolution=l,this.update(!1)},setStroke:function(l,v){return v===void 0&&(v=this.strokeThickness),l===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==l||this.strokeThickness!==v)&&(this.stroke=l,this.strokeThickness=v,this.update(!0)),this.parent},setShadow:function(l,v,h,c,p,g){return l===void 0&&(l=0),v===void 0&&(v=0),h===void 0&&(h="#000"),c===void 0&&(c=0),p===void 0&&(p=!1),g===void 0&&(g=!0),this.shadowOffsetX=l,this.shadowOffsetY=v,this.shadowColor=h,this.shadowBlur=c,this.shadowStroke=p,this.shadowFill=g,this.update(!1)},setShadowOffset:function(l,v){return l===void 0&&(l=0),v===void 0&&(v=l),this.shadowOffsetX=l,this.shadowOffsetY=v,this.update(!1)},setShadowColor:function(l){return l===void 0&&(l="#000"),this.shadowColor=l,this.update(!1)},setShadowBlur:function(l){return l===void 0&&(l=0),this.shadowBlur=l,this.update(!1)},setShadowStroke:function(l){return this.shadowStroke=l,this.update(!1)},setShadowFill:function(l){return this.shadowFill=l,this.update(!1)},setWordWrapWidth:function(l,v){return v===void 0&&(v=!1),this.wordWrapWidth=l,this.wordWrapUseAdvanced=v,this.update(!1)},setWordWrapCallback:function(l,v){return v===void 0&&(v=null),this.wordWrapCallback=l,this.wordWrapCallbackScope=v,this.update(!1)},setAlign:function(l){return l===void 0&&(l="left"),this.align=l,this.update(!1)},setMaxLines:function(l){return l===void 0&&(l=0),this.maxLines=l,this.update(!1)},getTextMetrics:function(){var l=this.metrics;return{ascent:l.ascent,descent:l.descent,fontSize:l.fontSize}},toJSON:function(){var l={};for(var v in a)l[v]=this[v];return l.metrics=this.getTextMetrics(),l},destroy:function(){this.parent=void 0}});n.exports=r},34397:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),x=function(d,o,a,r){if(!(o.width===0||o.height===0)){a.addToRenderList(o);var l=o.frame,v=l.width,h=l.height,c=u.getTintAppendFloatAlpha,p=d.pipelines.set(o.pipeline,o),g=p.setTexture2D(l.glTexture,o);p.batchTexture(o,l.glTexture,v,h,o.x,o.y,v/o.style.resolution,h/o.style.resolution,o.scaleX,o.scaleY,o.rotation,o.flipX,o.flipY,o.scrollFactorX,o.scrollFactorY,o.displayOriginX,o.displayOriginY,0,0,v,h,c(o.tintTopLeft,a.alpha*o._alphaTL),c(o.tintTopRight,a.alpha*o._alphaTR),c(o.tintBottomLeft,a.alpha*o._alphaBL),c(o.tintBottomRight,a.alpha*o._alphaBR),o.tintFill,0,0,a,r,!1,g)}};n.exports=x},20839:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),x=e(83419),d=e(31401),o=e(95643),a=e(98439),r=e(68703),l=e(56295),v=e(45650),h=e(26099),c=8,p=new x({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Crop,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Tint,d.Transform,d.Visible,l],initialize:function(m,y,S,M,P,w,R){var A=m.sys.renderer;o.call(this,m,"TileSprite");var L=m.sys.textures.get(w),F=L.get(R);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=m.sys.textures.get("__MISSING"),F=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=m.sys.textures.get("__MISSING"),F=L.get()),!M||!P?(M=F.width,P=F.height):(M=Math.floor(M),P=Math.floor(P)),this._tilePosition=new h,this._tileScale=new h(1,1),this.dirty=!1,this.renderer=A,this.canvas=u.create(this,M,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=a(F.width),this.potHeight=a(F.height),this.fillCanvas=u.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(y,S),this.setSize(M,P),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(g,m){return this.displayTexture=this.scene.sys.textures.get(g),this.setFrame(m)},setFrame:function(g){var m=this.displayTexture.get(g);return this.potWidth=a(m.width),this.potHeight=a(m.height),this.canvas.width=0,!m.cutWidth||!m.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this.displayFrame=m,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(g,m){return g!==void 0&&(this.tilePositionX=g),m!==void 0&&(this.tilePositionY=m),this},setTileScale:function(g,m){return g===void 0&&(g=this.tileScaleX),m===void 0&&(m=g),this.tileScaleX=g,this.tileScaleY=m,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var g=this.displayFrame;if(g.source.isRenderTexture||g.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var m=this.fillContext,y=this.fillCanvas,S=this.potWidth,M=this.potHeight;(!this.renderer||!this.renderer.gl)&&(S=g.cutWidth,M=g.cutHeight),m.clearRect(0,0,S,M),y.width=S,y.height=M,m.drawImage(g.source.image,g.cutX,g.cutY,g.cutWidth,g.cutHeight,0,0,S,M),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(y,this.fillPattern):this.fillPattern=m.createPattern(y,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var g=this.canvas;if((g.width!==this.width||g.height!==this.height)&&(g.width=this.width,g.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var m=this.context;this.scene.sys.game.config.antialias||r.disable(m);var y=this._tileScale.x,S=this._tileScale.y,M=this._tilePosition.x,P=this._tilePosition.y;m.clearRect(0,0,this.width,this.height),m.save(),m.scale(y,S),m.translate(-M,-P),m.fillStyle=this.fillPattern,m.fillRect(M,P,this.width/y,this.height/S),m.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),u.remove(this.canvas),u.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var g=this.texture;g&&g.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(g){this._tilePosition.x=g,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(g){this._tilePosition.y=g,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(g){this._tileScale.x=g,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(g){this._tileScale.y=g,this.dirty=!0}}});n.exports=p},46992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){u.updateCanvas(),x.addToRenderList(u),e.batchSprite(u,u.frame,x,d)};n.exports=C},14167:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(20839);x.register("tileSprite",function(a,r){a===void 0&&(a={});var l=d(a,"x",0),v=d(a,"y",0),h=d(a,"width",512),c=d(a,"height",512),p=d(a,"key",""),g=d(a,"frame",""),m=new o(this.scene,l,v,h,c,p,g);return r!==void 0&&(a.add=r),u(this.scene,m,a),m})},91681:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20839),x=e(39429);x.register("tileSprite",function(d,o,a,r,l,v){return this.displayList.add(new u(this.scene,d,o,a,r,l,v))})},56295:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(18553),d=e(46992),n.exports={renderWebGL:x,renderCanvas:d}},18553:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),x=function(d,o,a,r){o.updateCanvas();var l=o.width,v=o.height;if(!(l===0||v===0)){a.addToRenderList(o);var h=u.getTintAppendFloatAlpha,c=d.pipelines.set(o.pipeline,o),p=c.setTexture2D(o.fillPattern,o);c.batchTexture(o,o.fillPattern,o.displayFrame.width*o.tileScaleX,o.displayFrame.height*o.tileScaleY,o.x,o.y,l,v,o.scaleX,o.scaleY,o.rotation,o.flipX,o.flipY,o.scrollFactorX,o.scrollFactorY,o.originX*l,o.originY*v,0,0,l,v,h(o.tintTopLeft,a.alpha*o._alphaTL),h(o.tintTopRight,a.alpha*o._alphaTR),h(o.tintBottomLeft,a.alpha*o._alphaBL),h(o.tintBottomRight,a.alpha*o._alphaBR),o.tintFill,o.tilePositionX%o.displayFrame.width/o.displayFrame.width,o.tilePositionY%o.displayFrame.height/o.displayFrame.height,a,r,!1,p)}};n.exports=x},18471:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(31401),o=e(51708),a=e(8443),r=e(95643),l=e(36383),v=e(14463),h=e(45650),c=e(10247),p=new x({Extends:r,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.TextureCrop,d.Tint,d.Transform,d.Visible,c],initialize:function(m,y,S,M){r.call(this,m,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=h(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var P=m.sys.game;this._device=P.device.video,this.setPosition(y,S),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),P.events.on(a.PAUSE,this.globalPause,this),P.events.on(a.RESUME,this.globalResume,this);var w=m.sys.sound;w&&w.on(v.GLOBAL_MUTE,this.globalMute,this),M&&this.load(M)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(g){var m=this.scene.sys.cache.video.get(g);return m?(this.cacheKey=g,this.loadHandler(m.url,m.noAudio,m.crossOrigin)):console.warn("No video in cache for key: "+g),this},changeSource:function(g,m,y,S,M){m===void 0&&(m=!0),y===void 0&&(y=!1),this.cacheKey!==g&&(this.load(g),m&&this.play(y,S,M))},getVideoKey:function(){return this.cacheKey},loadURL:function(g,m,y){m===void 0&&(m=!1);var S=this._device.getVideoURL(g);return S?(this.cacheKey="",this.loadHandler(S.url,m,y)):console.warn("No supported video format found for "+g),this},loadMediaStream:function(g,m,y){return this.loadHandler(null,m,y,g)},loadHandler:function(g,m,y,S){m||(m=!1);var M=this.video;if(M?(this.removeLoadEventHandlers(),this.stop()):(M=document.createElement("video"),M.controls=!1,M.setAttribute("playsinline","playsinline"),M.setAttribute("preload","auto"),M.setAttribute("disablePictureInPicture","true")),m?(M.muted=!0,M.defaultMuted=!0,M.setAttribute("autoplay","autoplay")):(M.muted=!1,M.defaultMuted=!1,M.removeAttribute("autoplay")),y?M.setAttribute("crossorigin",y):M.removeAttribute("crossorigin"),S)if("srcObject"in M)try{M.srcObject=S}catch(w){if(w.name!=="TypeError")throw w;M.src=URL.createObjectURL(S)}else M.src=URL.createObjectURL(S);else M.src=g;this.retry=0,this.video=M,this._playCalled=!1,M.load(),this.addLoadEventHandlers();var P=this.scene.sys.textures.get(this._key);return this.setTexture(P),this},requestVideoFrame:function(g,m){var y=this.video;if(!!y){var S=m.width,M=m.height,P=this.videoTexture,w=this.videoTextureSource,R=!P||w.source!==y;R?(this._codePaused=y.paused,this._codeMuted=y.muted,P?(w.source=y,w.width=S,w.height=M,P.get().setSize(S,M)):(P=this.scene.sys.textures.create(this._key,y,S,M),P.add("__BASE",0,0,0,S,M),this.setTexture(P),this.videoTexture=P,this.videoTextureSource=P.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(o.VIDEO_TEXTURE,this,P)),this.setSizeToFrame(),this.updateDisplayOrigin()):w.update(),this.isStalled=!1,this.metadata=m;var A=m.mediaTime;R&&(this._lastUpdate=A,this.emit(o.VIDEO_CREATED,this,S,M),this.frameReady||(this.frameReady=!0,this.emit(o.VIDEO_PLAY,this))),this._playingMarker?A>=this._markerOut&&(y.loop?(y.currentTime=this._markerIn,this.emit(o.VIDEO_LOOP,this)):(this.stop(!1),this.emit(o.VIDEO_COMPLETE,this))):A<this._lastUpdate&&this.emit(o.VIDEO_LOOP,this),this._lastUpdate=A,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(g,m,y){m===void 0&&(m=-1),y===void 0&&(y=l.MAX_SAFE_INTEGER);var S=this.video;return!S||this.isPlaying()?(S||console.warn("Video not loaded"),this):(g===void 0&&(g=S.loop),S.loop=g,this._markerIn=m,this._markerOut=y,this._playingMarker=m>-1&&y>m&&y<l.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=S.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var g=this.video;g&&(g.addEventListener("error",this._loadCallbackHandler),g.addEventListener("abort",this._loadCallbackHandler),g.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var g=this.video;g&&(g.removeEventListener("error",this._loadCallbackHandler),g.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var y in m)g.addEventListener(y,m[y])}},removeEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var y in m)g.removeEventListener(y,m[y])}},createPlayPromise:function(g){g===void 0&&(g=!0);var m=this.video,y=m.play();if(y!==void 0){var S=this.playSuccess.bind(this),M=this.playError.bind(this);if(!g){var P=this;M=function(){P.failedPlayAttempts++}}y.then(S).catch(M)}else m.addEventListener("playing",this._callbacks.legacy),g||this.failedPlayAttempts++},addMarker:function(g,m,y){return!isNaN(m)&&m>=0&&!isNaN(y)&&y>m&&(this.markers[g]=[m,y]),this},playMarker:function(g,m){var y=this.markers[g];return y&&this.play(m,y[0],y[1]),this},removeMarker:function(g){return delete this.markers[g],this},snapshot:function(g,m){return g===void 0&&(g=this.width),m===void 0&&(m=this.height),this.snapshotArea(0,0,this.width,this.height,g,m)},snapshotArea:function(g,m,y,S,M,P){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),S===void 0&&(S=this.height),M===void 0&&(M=y),P===void 0&&(P=S);var w=this.video,R=this.snapshotTexture;return R?(R.setSize(M,P),w&&R.context.drawImage(w,g,m,y,S,0,0,M,P)):(R=this.scene.sys.textures.createCanvas(h(),M,P),this.snapshotTexture=R,w&&R.context.drawImage(w,g,m,y,S,0,0,M,P)),R.update()},saveSnapshotTexture:function(g){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,g):this.snapshotTexture=this.scene.sys.textures.createCanvas(g,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(!!this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(o.VIDEO_UNLOCKED,this));var g=this.scene.sys.sound;g&&g.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(g){var m=g.name;m==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(o.VIDEO_LOCKED,this)):m==="NotSupportedError"?(this.stop(!1),this.emit(o.VIDEO_UNSUPPORTED,this,g)):(this.stop(!1),this.emit(o.VIDEO_ERROR,this,g))},legacyPlayHandler:function(){var g=this.video;g&&(this.playSuccess(),g.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(o.VIDEO_PLAYING,this)},loadErrorHandler:function(g){this.stop(!1),this.emit(o.VIDEO_ERROR,this,g)},metadataHandler:function(g){this.emit(o.VIDEO_METADATA,this,g)},setSizeToFrame:function(g){g||(g=this.frame),this.width=g.realWidth,this.height=g.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var m=this.input;return m&&!m.customHitArea&&(m.hitArea.width=this.width,m.hitArea.height=this.height),this},stalledHandler:function(g){this.isStalled=!0,this.emit(o.VIDEO_STALLED,this,g)},completeHandler:function(){this._playCalled=!1,this.emit(o.VIDEO_COMPLETE,this)},preUpdate:function(g,m){var y=this.video;!y||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=m,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(g){var m=this.video;if(m){var y=m.duration;if(y!==1/0&&!isNaN(y)){var S=y*g;this.setCurrentTime(S)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(g){var m=this.video;if(m){if(typeof g=="string"){var y=g[0],S=parseFloat(g.substr(1));y==="+"?g=m.currentTime+S:y==="-"&&(g=m.currentTime-S)}m.currentTime=g}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(o.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(o.VIDEO_SEEKED,this)},getProgress:function(){var g=this.video;if(g){var m=g.duration;if(m!==1/0&&!isNaN(m))return g.currentTime/m}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(g){g===void 0&&(g=!0),this._codeMuted=g;var m=this.video;return m&&(m.muted=this._systemMuted?!0:g),this},isMuted:function(){return this._codeMuted},globalMute:function(g,m){this._systemMuted=m;var y=this.video;y&&(y.muted=this._codeMuted?!0:m)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(g){g===void 0&&(g=!0);var m=this.video;return this._codePaused=g,m&&!m.ended&&(g?m.paused||(this.removeEventHandlers(),m.pause()):g||(this._playCalled?m.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(g){return g===void 0&&(g=1),this.video&&(this.video.volume=u(g,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(g){return this.video&&(this.video.playbackRate=g),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(g){return g===void 0&&(g=!0),this.video&&(this.video.loop=g),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(g,m){return m===void 0&&(m=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,g),this.videoTextureSource.setFlipY(m)),this._key=g,this.flipY=m,!!this.videoTexture},stop:function(g){g===void 0&&(g=!0);var m=this.video;return m&&(this.removeEventHandlers(),m.cancelVideoFrameCallback(this._rfvCallbackId),m.pause()),this.retry=0,this._playCalled=!1,g&&this.emit(o.VIDEO_STOP,this),this},removeVideoElement:function(){var g=this.video;if(!!g){for(g.parentNode&&g.parentNode.removeChild(g);g.hasChildNodes();)g.removeChild(g.firstChild);g.removeAttribute("autoplay"),g.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var g=this.scene.sys.game.events;g.off(a.PAUSE,this.globalPause,this),g.off(a.RESUME,this.globalResume,this);var m=this.scene.sys.sound;m&&m.off(v.GLOBAL_MUTE,this.globalMute,this)}});n.exports=p},58352:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){u.videoTexture&&(x.addToRenderList(u),e.batchSprite(u,u.frame,x,d))};n.exports=C},11511:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25305),x=e(44603),d=e(23568),o=e(18471);x.register("video",function(a,r){a===void 0&&(a={});var l=d(a,"key",null),v=new o(this.scene,0,0,l);return r!==void 0&&(a.add=r),u(this.scene,v,a),v})},89025:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18471),x=e(39429);x.register("video",function(d,o,a){return this.displayList.add(new u(this.scene,d,o,a))})},10247:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(29849),d=e(58352),n.exports={renderWebGL:x,renderCanvas:d}},29849:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){u.videoTexture&&(x.addToRenderList(u),u.pipeline.batchSprite(u,x,d))};n.exports=C},41481:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),x=e(96503),d=e(87902),o=e(83419),a=e(31401),r=e(95643),l=e(87841),v=e(37303),h=new o({Extends:r,Mixins:[a.Depth,a.GetBounds,a.Origin,a.Transform,a.ScrollFactor,a.Visible],initialize:function(p,g,m,y,S){y===void 0&&(y=1),S===void 0&&(S=y),r.call(this,p,"Zone"),this.setPosition(g,m),this.width=y,this.height=S,this.blendMode=u.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}},setSize:function(c,p,g){g===void 0&&(g=!0),this.width=c,this.height=p,this.updateDisplayOrigin();var m=this.input;return g&&m&&!m.customHitArea&&(m.hitArea.width=c,m.hitArea.height=p),this},setDisplaySize:function(c,p){return this.displayWidth=c,this.displayHeight=p,this},setCircleDropZone:function(c){return this.setDropZone(new x(0,0,c),d)},setRectangleDropZone:function(c,p){return this.setDropZone(new l(0,0,c,p),v)},setDropZone:function(c,p){return this.input||this.setInteractive(c,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(c,p,g){g.addToRenderList(p)},renderWebGL:function(c,p,g){g.addToRenderList(p)}});n.exports=h},95261:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44603),x=e(23568),d=e(41481);u.register("zone",function(o){var a=x(o,"x",0),r=x(o,"y",0),l=x(o,"width",1),v=x(o,"height",l);return new d(this.scene,a,r,l,v)})},84175:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41481),x=e(39429);x.register("zone",function(d,o,a,r){return this.displayList.add(new u(this.scene,d,o,a,r))})},95166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};n.exports=C},96503:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(87902),d=e(26241),o=e(79124),a=e(23777),r=e(28176),l=new u({initialize:function(h,c,p){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=a.CIRCLE,this.x=h,this.y=c,this._radius=p,this._diameter=p*2},contains:function(v,h){return x(this,v,h)},getPoint:function(v,h){return d(this,v,h)},getPoints:function(v,h,c){return o(this,v,h,c)},getRandomPoint:function(v){return r(this,v)},setTo:function(v,h,c){return this.x=v,this.y=h,this._radius=c,this._diameter=c*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(v,h){return h===void 0&&(h=v),this.x=v,this.y=h,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this._diameter=v*2}},diameter:{get:function(){return this._diameter},set:function(v){this._diameter=v,this._radius=v*.5}},left:{get:function(){return this.x-this._radius},set:function(v){this.x=v+this._radius}},right:{get:function(){return this.x+this._radius},set:function(v){this.x=v-this._radius}},top:{get:function(){return this.y-this._radius},set:function(v){this.y=v+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(v){this.y=v-this._radius}}});n.exports=l},71562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return 2*(Math.PI*e.radius)};n.exports=C},92110:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o,a){return a===void 0&&(a=new u),a.x=d.x+d.radius*Math.cos(o),a.y=d.y+d.radius*Math.sin(o),a};n.exports=x},42250:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503),x=function(d){return new u(d.x,d.y,d.radius)};n.exports=x},87902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(e.radius>0&&u>=e.left&&u<=e.right&&x>=e.top&&x<=e.bottom){var d=(e.x-u)*(e.x-u),o=(e.y-x)*(e.y-x);return d+o<=e.radius*e.radius}else return!1};n.exports=C},5698:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87902),x=function(d,o){return u(d,o.x,o.y)};n.exports=x},70588:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87902),x=function(d,o){return u(d,o.x,o.y)&&u(d,o.right,o.y)&&u(d,o.x,o.bottom)&&u(d,o.right,o.bottom)};n.exports=x},26394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u.setTo(e.x,e.y,e.radius)};n.exports=C},76278:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x===u.x&&e.y===u.y&&e.radius===u.radius};n.exports=C},2074:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=function(d,o){return o===void 0&&(o=new u),o.x=d.left,o.y=d.top,o.width=d.diameter,o.height=d.diameter,o};n.exports=x},26241:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92110),x=e(62945),d=e(36383),o=e(2141),a=function(r,l,v){v===void 0&&(v=new o);var h=x(l,0,d.PI2);return u(r,h,v)};n.exports=a},79124:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71562),x=e(92110),d=e(62945),o=e(36383),a=function(r,l,v,h){h===void 0&&(h=[]),!l&&v>0&&(l=u(r)/v);for(var c=0;c<l;c++){var p=d(c/l,0,o.PI2);h.push(x(r,p))}return h};n.exports=a},50884:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e.x+=u,e.y+=x,e};n.exports=C},39212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x+=u.x,e.y+=u.y,e};n.exports=C},28176:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){o===void 0&&(o=new u);var a=2*Math.PI*Math.random(),r=Math.random()+Math.random(),l=r>1?2-r:r,v=l*Math.cos(a),h=l*Math.sin(a);return o.x=d.x+v*d.radius,o.y=d.y+h*d.radius,o};n.exports=x},88911:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503);u.Area=e(95166),u.Circumference=e(71562),u.CircumferencePoint=e(92110),u.Clone=e(42250),u.Contains=e(87902),u.ContainsPoint=e(5698),u.ContainsRect=e(70588),u.CopyFrom=e(26394),u.Equals=e(76278),u.GetBounds=e(2074),u.GetPoint=e(26241),u.GetPoints=e(79124),u.Offset=e(50884),u.OffsetPoint=e(39212),u.Random=e(28176),n.exports=u},23777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=C},78874:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};n.exports=C},92990:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u=e.width/2,x=e.height/2,d=Math.pow(u-x,2)/Math.pow(u+x,2);return Math.PI*(u+x)*(1+3*d/(10+Math.sqrt(4-3*d)))};n.exports=C},79522:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o,a){a===void 0&&(a=new u);var r=d.width/2,l=d.height/2;return a.x=d.x+r*Math.cos(o),a.y=d.y+l*Math.sin(o),a};n.exports=x},58102:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8497),x=function(d){return new u(d.x,d.y,d.width,d.height)};n.exports=x},81154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(e.width<=0||e.height<=0)return!1;var d=(u-e.x)/e.width,o=(x-e.y)/e.height;return d*=d,o*=o,d+o<.25};n.exports=C},46662:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81154),x=function(d,o){return u(d,o.x,o.y)};n.exports=x},1632:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81154),x=function(d,o){return u(d,o.x,o.y)&&u(d,o.right,o.y)&&u(d,o.x,o.bottom)&&u(d,o.right,o.bottom)};n.exports=x},65534:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};n.exports=C},8497:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(81154),d=e(90549),o=e(48320),a=e(23777),r=e(24820),l=new u({initialize:function(h,c,p,g){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=a.ELLIPSE,this.x=h,this.y=c,this.width=p,this.height=g},contains:function(v,h){return x(this,v,h)},getPoint:function(v,h){return d(this,v,h)},getPoints:function(v,h,c){return o(this,v,h,c)},getRandomPoint:function(v){return r(this,v)},setTo:function(v,h,c,p){return this.x=v,this.y=h,this.width=c,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(v,h){return h===void 0&&(h=v),this.x=v,this.y=h,this},setSize:function(v,h){return h===void 0&&(h=v),this.width=v,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(v){this.x=v+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(v){this.x=v-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(v){this.y=v+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(v){this.y=v-this.height/2}}});n.exports=l},36146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};n.exports=C},23694:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=function(d,o){return o===void 0&&(o=new u),o.x=d.left,o.y=d.top,o.width=d.width,o.height=d.height,o};n.exports=x},90549:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79522),x=e(62945),d=e(36383),o=e(2141),a=function(r,l,v){v===void 0&&(v=new o);var h=x(l,0,d.PI2);return u(r,h,v)};n.exports=a},48320:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92990),x=e(79522),d=e(62945),o=e(36383),a=function(r,l,v,h){h===void 0&&(h=[]),!l&&v>0&&(l=u(r)/v);for(var c=0;c<l;c++){var p=d(c/l,0,o.PI2);h.push(x(r,p))}return h};n.exports=a},73424:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e.x+=u,e.y+=x,e};n.exports=C},44808:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x+=u.x,e.y+=u.y,e};n.exports=C},24820:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){o===void 0&&(o=new u);var a=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return o.x=d.x+r*Math.cos(a)*d.width/2,o.y=d.y+r*Math.sin(a)*d.height/2,o};n.exports=x},49203:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8497);u.Area=e(78874),u.Circumference=e(92990),u.CircumferencePoint=e(79522),u.Clone=e(58102),u.Contains=e(81154),u.ContainsPoint=e(46662),u.ContainsRect=e(1632),u.CopyFrom=e(65534),u.Equals=e(36146),u.GetBounds=e(23694),u.GetPoint=e(90549),u.GetPoints=e(48320),u.Offset=e(73424),u.OffsetPoint=e(44808),u.Random=e(24820),n.exports=u},55738:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23777),x=e(79291),d={Circle:e(88911),Ellipse:e(49203),Intersects:e(91865),Line:e(2529),Mesh:e(73090),Point:e(43711),Polygon:e(58423),Rectangle:e(93232),Triangle:e(84435)};d=x(!1,d,u),n.exports=d},2044:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20339),x=function(d,o){return u(d.x,d.y,o.x,o.y)<=d.radius+o.radius};n.exports=x},81491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=u.width/2,d=u.height/2,o=Math.abs(e.x-u.x-x),a=Math.abs(e.y-u.y-d),r=x+e.radius,l=d+e.radius;if(o>r||a>l)return!1;if(o<=x||a<=d)return!0;var v=o-x,h=a-d,c=v*v,p=h*h,g=e.radius*e.radius;return c+p<=g};n.exports=C},63376:(n,C,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=e(2044),d=function(o,a,r){if(r===void 0&&(r=[]),x(o,a)){var l=o.x,v=o.y,h=o.radius,c=a.x,p=a.y,g=a.radius,m,y,S,M,P;if(v===p)P=(g*g-h*h-c*c+l*l)/(2*(l-c)),m=1,y=-2*p,S=c*c+P*P-2*c*P+p*p-g*g,M=y*y-4*m*S,M===0?r.push(new u(P,-y/(2*m))):M>0&&(r.push(new u(P,(-y+Math.sqrt(M))/(2*m))),r.push(new u(P,(-y-Math.sqrt(M))/(2*m))));else{var w=(l-c)/(v-p),R=(g*g-h*h-c*c+l*l-p*p+v*v)/(2*(v-p));m=w*w+1,y=2*v*w-2*R*w-2*l,S=l*l+v*v+R*R-h*h-2*v*R,M=y*y-4*m*S,M===0?(P=-y/(2*m),r.push(new u(P,R-P*w))):M>0&&(P=(-y+Math.sqrt(M))/(2*m),r.push(new u(P,R-P*w)),P=(-y-Math.sqrt(M))/(2*m),r.push(new u(P,R-P*w)))}}return r};n.exports=d},97439:(n,C,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4042),x=e(81491),d=function(o,a,r){if(r===void 0&&(r=[]),x(o,a)){var l=a.getLineA(),v=a.getLineB(),h=a.getLineC(),c=a.getLineD();u(l,o,r),u(v,o,r),u(h,o,r),u(c,o,r)}return r};n.exports=d},4042:(n,C,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=e(80462),d=function(o,a,r){if(r===void 0&&(r=[]),x(o,a)){var l=o.x1,v=o.y1,h=o.x2,c=o.y2,p=a.x,g=a.y,m=a.radius,y=h-l,S=c-v,M=l-p,P=v-g,w=y*y+S*S,R=2*(y*M+S*P),A=M*M+P*P-m*m,L=R*R-4*w*A,F,O;if(L===0){var b=-R/(2*w);F=l+b*y,O=v+b*S,b>=0&&b<=1&&r.push(new u(F,O))}else if(L>0){var B=(-R-Math.sqrt(L))/(2*w);F=l+B*y,O=v+B*S,B>=0&&B<=1&&r.push(new u(F,O));var I=(-R+Math.sqrt(L))/(2*w);F=l+I*y,O=v+I*S,I>=0&&I<=1&&r.push(new u(F,O))}}return r};n.exports=d},36100:(n,C,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25836),x=function(d,o,a,r){a===void 0&&(a=!1);var l=d.x1,v=d.y1,h=d.x2,c=d.y2,p=o.x1,g=o.y1,m=o.x2,y=o.y2,S=h-l,M=c-v,P=m-p,w=y-g,R=S*w-M*P;if(R===0)return null;var A,L,F;if(a){if(A=(S*(g-v)+M*(l-p))/(P*M-w*S),L=(p+P*A-l)/S,L<0||A<0||A>1)return null;F=L}else{if(A=((p-l)*w-(g-v)*P)/R,L=((v-g)*S-(l-p)*M)/R,A<0||A>1||L<0||L>1)return null;F=A}return r===void 0&&(r=new u),r.set(l+S*F,v+M*F,F)};n.exports=x},3073:(n,C,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36100),x=e(23031),d=e(25836),o=new x,a=new d,r=function(l,v,h,c){h===void 0&&(h=!1),c===void 0&&(c=new d);var p=!1;c.set(),a.set();for(var g=v[v.length-1],m=0;m<v.length;m++){var y=v[m];o.setTo(g.x,g.y,y.x,y.y),g=y,u(l,o,h,a)&&(!p||a.z<c.z)&&(c.copy(a),p=!0)}return p?c:null};n.exports=r},56362:(n,C,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25836),x=e(61369),d=e(3073),o=new u,a=function(r,l,v,h){h===void 0&&(h=new x),Array.isArray(l)||(l=[l]);var c=!1;h.set(),o.set();for(var p=0;p<l.length;p++)d(r,l[p].points,v,o)&&(!c||o.z<h.z)&&(h.set(o.x,o.y,o.z,p),c=!0);return c?h:null};n.exports=a},60646:(n,C,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=e(76112),d=e(92773),o=function(a,r,l){if(l===void 0&&(l=[]),d(a,r))for(var v=r.getLineA(),h=r.getLineB(),c=r.getLineC(),p=r.getLineD(),g=[new u,new u,new u,new u],m=[x(v,a,g[0]),x(h,a,g[1]),x(c,a,g[2]),x(p,a,g[3])],y=0;y<4;y++)m[y]&&l.push(g[y]);return l};n.exports=o},71147:(n,C,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61369),x=e(56362),d=e(23031),o=new d;function a(v,h,c,p,g){var m=Math.cos(v),y=Math.sin(v);o.setTo(h,c,h+m,c+y);var S=x(o,p,!0);S&&g.push(new u(S.x,S.y,v,S.w))}function r(v,h){return v.z-h.z}var l=function(v,h,c){Array.isArray(c)||(c=[c]);for(var p=[],g=[],m=0;m<c.length;m++)for(var y=c[m].points,S=0;S<y.length;S++){var M=Math.atan2(y[S].y-h,y[S].x-v);g.indexOf(M)===-1&&(a(M,v,h,c,p),a(M-1e-5,v,h,c,p),a(M+1e-5,v,h,c,p),g.push(M))}return p.sort(r)};n.exports=l},68389:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=e(59996),d=function(o,a,r){return r===void 0&&(r=new u),x(o,a)&&(r.x=Math.max(o.x,a.x),r.y=Math.max(o.y,a.y),r.width=Math.min(o.right,a.right)-r.x,r.height=Math.min(o.bottom,a.bottom)-r.y),r};n.exports=d},52784:(n,C,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60646),x=e(59996),d=function(o,a,r){if(r===void 0&&(r=[]),x(o,a)){var l=o.getLineA(),v=o.getLineB(),h=o.getLineC(),c=o.getLineD();u(l,a,r),u(v,a,r),u(h,a,r),u(c,a,r)}return r};n.exports=d},26341:(n,C,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89265),x=e(60646),d=function(o,a,r){if(r===void 0&&(r=[]),u(o,a)){var l=a.getLineA(),v=a.getLineB(),h=a.getLineC();x(l,o,r),x(v,o,r),x(h,o,r)}return r};n.exports=d},38720:(n,C,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(4042),x=e(67636),d=function(o,a,r){if(r===void 0&&(r=[]),x(o,a)){var l=o.getLineA(),v=o.getLineB(),h=o.getLineC();u(l,a,r),u(v,a,r),u(h,a,r)}return r};n.exports=d},13882:(n,C,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=e(2822),d=e(76112),o=function(a,r,l){if(l===void 0&&(l=[]),x(a,r))for(var v=a.getLineA(),h=a.getLineB(),c=a.getLineC(),p=[new u,new u,new u],g=[d(v,r,p[0]),d(h,r,p[1]),d(c,r,p[2])],m=0;m<3;m++)g[m]&&l.push(p[m]);return l};n.exports=o},75636:(n,C,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82944),x=e(13882),d=function(o,a,r){if(r===void 0&&(r=[]),u(o,a)){var l=a.getLineA(),v=a.getLineB(),h=a.getLineC();x(o,l,r),x(o,v,r),x(o,h,r)}return r};n.exports=d},80462:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87902),x=e(2141),d=new x,o=function(a,r,l){if(l===void 0&&(l=d),u(r,a.x1,a.y1))return l.x=a.x1,l.y=a.y1,!0;if(u(r,a.x2,a.y2))return l.x=a.x2,l.y=a.y2,!0;var v=a.x2-a.x1,h=a.y2-a.y1,c=r.x-a.x1,p=r.y-a.y1,g=v*v+h*h,m=v,y=h;if(g>0){var S=(c*v+p*h)/g;m*=S,y*=S}l.x=a.x1+m,l.y=a.y1+y;var M=m*m+y*y;return M<=g&&m*v+y*h>=0&&u(r,l.x,l.y)};n.exports=o},76112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=e.x1,o=e.y1,a=e.x2,r=e.y2,l=u.x1,v=u.y1,h=u.x2,c=u.y2;if(d===a&&o===r||l===h&&v===c)return!1;var p=(c-v)*(a-d)-(h-l)*(r-o);if(p===0)return!1;var g=((h-l)*(o-v)-(c-v)*(d-l))/p,m=((a-d)*(o-v)-(r-o)*(d-l))/p;return g<0||g>1||m<0||m>1?!1:(x&&(x.x=d+g*(a-d),x.y=o+g*(r-o)),!0)};n.exports=C},92773:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.x1,d=e.y1,o=e.x2,a=e.y2,r=u.x,l=u.y,v=u.right,h=u.bottom,c=0;if(x>=r&&x<=v&&d>=l&&d<=h||o>=r&&o<=v&&a>=l&&a<=h)return!0;if(x<r&&o>=r){if(c=d+(a-d)*(r-x)/(o-x),c>l&&c<=h)return!0}else if(x>v&&o<=v&&(c=d+(a-d)*(v-x)/(o-x),c>=l&&c<=h))return!0;if(d<l&&a>=l){if(c=x+(o-x)*(l-d)/(a-d),c>=r&&c<=v)return!0}else if(d>h&&a<=h&&(c=x+(o-x)*(h-d)/(a-d),c>=r&&c<=v))return!0;return!1};n.exports=C},16204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){x===void 0&&(x=1);var d=u.x1,o=u.y1,a=u.x2,r=u.y2,l=e.x,v=e.y,h=(a-d)*(a-d)+(r-o)*(r-o);if(h===0)return!1;var c=((l-d)*(a-d)+(v-o)*(r-o))/h;if(c<0)return Math.sqrt((d-l)*(d-l)+(o-v)*(o-v))<=x;if(c>=0&&c<=1){var p=((o-v)*(a-d)-(d-l)*(r-o))/h;return Math.abs(p)*Math.sqrt(h)<=x}else return Math.sqrt((a-l)*(a-l)+(r-v)*(r-v))<=x};n.exports=C},14199:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16204),x=function(d,o){if(!u(d,o))return!1;var a=Math.min(o.x1,o.x2),r=Math.max(o.x1,o.x2),l=Math.min(o.y1,o.y2),v=Math.max(o.y1,o.y2);return d.x>=a&&d.x<=r&&d.y>=l&&d.y<=v};n.exports=x},59996:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.width<=0||e.height<=0||u.width<=0||u.height<=0?!1:!(e.right<u.x||e.bottom<u.y||e.x>u.right||e.y>u.bottom)};n.exports=C},89265:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76112),x=e(37303),d=e(48653),o=e(77493),a=function(r,l){if(l.left>r.right||l.right<r.left||l.top>r.bottom||l.bottom<r.top)return!1;var v=l.getLineA(),h=l.getLineB(),c=l.getLineC();if(x(r,v.x1,v.y1)||x(r,v.x2,v.y2)||x(r,h.x1,h.y1)||x(r,h.x2,h.y2)||x(r,c.x1,c.y1)||x(r,c.x2,c.y2))return!0;var p=r.getLineA(),g=r.getLineB(),m=r.getLineC(),y=r.getLineD();if(u(v,p)||u(v,g)||u(v,m)||u(v,y)||u(h,p)||u(h,g)||u(h,m)||u(h,y)||u(c,p)||u(c,g)||u(c,m)||u(c,y))return!0;var S=o(r),M=d(l,S,!0);return M.length>0};n.exports=a},84411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o,a){return a===void 0&&(a=0),!(u>e.right+a||x<e.left-a||d>e.bottom+a||o<e.top-a)};n.exports=C},67636:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80462),x=e(10690),d=function(o,a){return o.left>a.right||o.right<a.left||o.top>a.bottom||o.bottom<a.top?!1:!!(x(o,a.x,a.y)||u(o.getLineA(),a)||u(o.getLineB(),a)||u(o.getLineC(),a))};n.exports=d},2822:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76112),x=function(d,o){return!!(d.contains(o.x1,o.y1)||d.contains(o.x2,o.y2)||u(d.getLineA(),o)||u(d.getLineB(),o)||u(d.getLineC(),o))};n.exports=x},82944:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(48653),x=e(71694),d=e(76112),o=function(a,r){if(a.left>r.right||a.right<r.left||a.top>r.bottom||a.bottom<r.top)return!1;var l=a.getLineA(),v=a.getLineB(),h=a.getLineC(),c=r.getLineA(),p=r.getLineB(),g=r.getLineC();if(d(l,c)||d(l,p)||d(l,g)||d(v,c)||d(v,p)||d(v,g)||d(h,c)||d(h,p)||d(h,g))return!0;var m=x(a),y=u(r,m,!0);return y.length>0||(m=x(r),y=u(a,m,!0),y.length>0)};n.exports=o},91865:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:e(2044),CircleToRectangle:e(81491),GetCircleToCircle:e(63376),GetCircleToRectangle:e(97439),GetLineToCircle:e(4042),GetLineToLine:e(36100),GetLineToPoints:e(3073),GetLineToPolygon:e(56362),GetLineToRectangle:e(60646),GetRaysFromPointToPolygon:e(71147),GetRectangleIntersection:e(68389),GetRectangleToRectangle:e(52784),GetRectangleToTriangle:e(26341),GetTriangleToCircle:e(38720),GetTriangleToLine:e(13882),GetTriangleToTriangle:e(75636),LineToCircle:e(80462),LineToLine:e(76112),LineToRectangle:e(92773),PointToLine:e(16204),PointToLineSegment:e(14199),RectangleToRectangle:e(59996),RectangleToTriangle:e(89265),RectangleToValues:e(84411),TriangleToCircle:e(67636),TriangleToLine:e(2822),TriangleToTriangle:e(82944)}},91938:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};n.exports=C},84993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){u===void 0&&(u=1),x===void 0&&(x=[]);var d=Math.round(e.x1),o=Math.round(e.y1),a=Math.round(e.x2),r=Math.round(e.y2),l=Math.abs(a-d),v=Math.abs(r-o),h=d<a?1:-1,c=o<r?1:-1,p=l-v;x.push({x:d,y:o});for(var g=1;!(d===a&&o===r);){var m=p<<1;m>-v&&(p-=v,d+=h),m<l&&(p+=l,o+=c),g%u===0&&x.push({x:d,y:o}),g++}return x};n.exports=C},36469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=u-(e.x1+e.x2)/2,o=x-(e.y1+e.y2)/2;return e.x1+=d,e.y1+=o,e.x2+=d,e.y2+=o,e};n.exports=C},31116:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23031),x=function(d){return new u(d.x1,d.y1,d.x2,d.y2)};n.exports=x},59944:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2)};n.exports=C},59220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2};n.exports=C},78177:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),x=function(d,o,a){a===void 0&&(a=o);var r=u(d),l=d.x2-d.x1,v=d.y2-d.y1;return o&&(d.x1=d.x1-l/r*o,d.y1=d.y1-v/r*o),a&&(d.x2=d.x2+l/r*a,d.y2=d.y2+v/r*a),d};n.exports=x},26708:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(52816),x=e(6113),d=e(2141),o=function(a,r,l,v,h){v===void 0&&(v=0),h===void 0&&(h=[]);var c=[],p=a.x1,g=a.y1,m=a.x2-p,y=a.y2-g,S=x(r,h),M,P,w=l-1;for(M=0;M<w;M++)P=S(M/w),c.push(new d(p+m*P,g+y*P));if(P=S(1),c.push(new d(p+m*P,g+y*P)),v>0){var R=c[0],A=[R];for(M=1;M<c.length-1;M++){var L=c[M];u(R,L)>=v&&(A.push(L),R=L)}var F=c[c.length-1];return u(R,F)<v&&A.pop(),A.push(F),A}else return c};n.exports=o},32125:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){return o===void 0&&(o=new u),o.x=(d.x1+d.x2)/2,o.y=(d.y1+d.y2)/2,o};n.exports=x},99569:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o,a){a===void 0&&(a=new u);var r=d.x1,l=d.y1,v=d.x2,h=d.y2,c=(v-r)*(v-r)+(h-l)*(h-l);if(c===0)return a;var p=((o.x-r)*(v-r)+(o.y-l)*(h-l))/c;return a.x=r+p*(v-r),a.y=l+p*(h-l),a};n.exports=x},34638:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=e(91938),d=e(2141),o=function(a,r){r===void 0&&(r=new d);var l=x(a)-u.TAU;return r.x=Math.cos(l),r.y=Math.sin(l),r};n.exports=o},13151:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o,a){return a===void 0&&(a=new u),a.x=d.x1+(d.x2-d.x1)*o,a.y=d.y1+(d.y2-d.y1)*o,a};n.exports=x},15258:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),x=e(2141),d=function(o,a,r,l){l===void 0&&(l=[]),!a&&r>0&&(a=u(o)/r);for(var v=o.x1,h=o.y1,c=o.x2,p=o.y2,g=0;g<a;g++){var m=g/a,y=v+(c-v)*m,S=h+(p-h)*m;l.push(new x(y,S))}return l};n.exports=d},26408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.x1,d=e.y1,o=e.x2,a=e.y2,r=(o-x)*(o-x)+(a-d)*(a-d);if(r===0)return!1;var l=((d-u.y)*(o-x)-(x-u.x)*(a-d))/r;return Math.abs(l)*Math.sqrt(r)};n.exports=C},98770:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return Math.abs(e.y1-e.y2)};n.exports=C},35001:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};n.exports=C},23031:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(13151),d=e(15258),o=e(23777),a=e(65822),r=e(26099),l=new u({initialize:function(h,c,p,g){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=o.LINE,this.x1=h,this.y1=c,this.x2=p,this.y2=g},getPoint:function(v,h){return x(this,v,h)},getPoints:function(v,h,c){return d(this,v,h,c)},getRandomPoint:function(v){return a(this,v)},setTo:function(v,h,c,p){return v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),this.x1=v,this.y1=h,this.x2=c,this.y2=p,this},setFromObjects:function(v,h){return this.x1=v.x,this.y1=v.y,this.x2=h.x,this.y2=h.y,this},getPointA:function(v){return v===void 0&&(v=new r),v.set(this.x1,this.y1),v},getPointB:function(v){return v===void 0&&(v=new r),v.set(this.x2,this.y2),v},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(v){this.x1<=this.x2?this.x1=v:this.x2=v}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(v){this.x1>this.x2?this.x1=v:this.x2=v}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(v){this.y1<=this.y2?this.y1=v:this.y2=v}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(v){this.y1>this.y2?this.y1=v:this.y2=v}}});n.exports=l},64795:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=e(15994),d=e(91938),o=function(a){var r=d(a)-u.TAU;return x(r,-Math.PI,Math.PI)};n.exports=o},52616:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=e(91938),d=function(o){return Math.cos(x(o)-u.TAU)};n.exports=d},87231:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=e(91938),d=function(o){return Math.sin(x(o)-u.TAU)};n.exports=d},89662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e.x1+=u,e.y1+=x,e.x2+=u,e.y2+=x,e};n.exports=C},71165:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};n.exports=C},65822:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){o===void 0&&(o=new u);var a=Math.random();return o.x=d.x1+a*(d.x2-d.x1),o.y=d.y1+a*(d.y2-d.y1),o};n.exports=x},69777:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91938),x=e(64795),d=function(o,a){return 2*x(a)-Math.PI-u(o)};n.exports=d},39706:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(64400),x=function(d,o){var a=(d.x1+d.x2)/2,r=(d.y1+d.y2)/2;return u(d,a,r,o)};n.exports=x},82585:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(64400),x=function(d,o,a){return u(d,o.x,o.y,a)};n.exports=x},64400:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=Math.cos(d),a=Math.sin(d),r=e.x1-u,l=e.y1-x;return e.x1=r*o-l*a+u,e.y1=r*a+l*o+x,r=e.x2-u,l=e.y2-x,e.x2=r*o-l*a+u,e.y2=r*a+l*o+x,e};n.exports=C},62377:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o){return e.x1=u,e.y1=x,e.x2=u+Math.cos(d)*o,e.y2=x+Math.sin(d)*o,e};n.exports=C},71366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};n.exports=C},10809:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return Math.abs(e.x1-e.x2)};n.exports=C},2529:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23031);u.Angle=e(91938),u.BresenhamPoints=e(84993),u.CenterOn=e(36469),u.Clone=e(31116),u.CopyFrom=e(59944),u.Equals=e(59220),u.Extend=e(78177),u.GetEasedPoints=e(26708),u.GetMidPoint=e(32125),u.GetNearestPoint=e(99569),u.GetNormal=e(34638),u.GetPoint=e(13151),u.GetPoints=e(15258),u.GetShortestDistance=e(26408),u.Height=e(98770),u.Length=e(35001),u.NormalAngle=e(64795),u.NormalX=e(52616),u.NormalY=e(87231),u.Offset=e(89662),u.PerpSlope=e(71165),u.Random=e(65822),u.ReflectAngle=e(69777),u.Rotate=e(39706),u.RotateAroundPoint=e(82585),u.RotateAroundXY=e(64400),u.SetToAngle=e(62377),u.Slope=e(71366),u.Width=e(10809),n.exports=u},83997:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(87841),d=e(26099);function o(r,l,v,h){var c=r-v,p=l-h,g=c*c+p*p;return Math.sqrt(g)}var a=new u({initialize:function(l,v,h){this.vertex1=l,this.vertex2=v,this.vertex3=h,this.bounds=new x,this._inCenter=new d},getInCenter:function(r){r===void 0&&(r=!0);var l=this.vertex1,v=this.vertex2,h=this.vertex3,c,p,g,m,y,S;r?(c=l.x,p=l.y,g=v.x,m=v.y,y=h.x,S=h.y):(c=l.vx,p=l.vy,g=v.vx,m=v.vy,y=h.vx,S=h.vy);var M=o(y,S,g,m),P=o(c,p,y,S),w=o(g,m,c,p),R=M+P+w;return this._inCenter.set((c*M+g*P+y*w)/R,(p*M+m*P+S*w)/R)},contains:function(r,l,v){var h=this.vertex1,c=this.vertex2,p=this.vertex3,g=h.vx,m=h.vy,y=c.vx,S=c.vy,M=p.vx,P=p.vy;if(v){var w=v.a,R=v.b,A=v.c,L=v.d,F=v.e,O=v.f;g=h.vx*w+h.vy*A+F,m=h.vx*R+h.vy*L+O,y=c.vx*w+c.vy*A+F,S=c.vx*R+c.vy*L+O,M=p.vx*w+p.vy*A+F,P=p.vx*R+p.vy*L+O}var b=M-g,B=P-m,I=y-g,N=S-m,X=r-g,k=l-m,H=b*b+B*B,V=b*I+B*N,W=b*X+B*k,D=I*I+N*N,G=I*X+N*k,z=H*D-V*V,U=z===0?0:1/z,Y=(D*W-V*G)*U,$=(H*G-V*W)*U;return Y>=0&&$>=0&&Y+$<1},isCounterClockwise:function(r){var l=this.vertex1,v=this.vertex2,h=this.vertex3,c=(v.vx-l.vx)*(h.vy-l.vy)-(v.vy-l.vy)*(h.vx-l.vx);return r<=0?c>=0:c<0},load:function(r,l,v,h,c){return v=this.vertex1.load(r,l,v,h,c),v=this.vertex2.load(r,l,v,h,c),v=this.vertex3.load(r,l,v,h,c),v},transformCoordinatesLocal:function(r,l,v,h){return this.vertex1.transformCoordinatesLocal(r,l,v,h),this.vertex2.transformCoordinatesLocal(r,l,v,h),this.vertex3.transformCoordinatesLocal(r,l,v,h),this},updateBounds:function(){var r=this.vertex1,l=this.vertex2,v=this.vertex3,h=this.bounds;return h.x=Math.min(r.vx,l.vx,v.vx),h.y=Math.min(r.vy,l.vy,v.vy),h.width=Math.max(r.vx,l.vx,v.vx)-h.x,h.height=Math.max(r.vy,l.vy,v.vy)-h.y,this},isInView:function(r,l,v,h,c,p,g,m,y,S,M){this.update(h,c,p,g,m,y,S,M);var P=this.vertex1,w=this.vertex2,R=this.vertex3;if(P.ta<=0&&w.ta<=0&&R.ta<=0||l&&!this.isCounterClockwise(v))return!1;var A=this.bounds;A.x=Math.min(P.tx,w.tx,R.tx),A.y=Math.min(P.ty,w.ty,R.ty),A.width=Math.max(P.tx,w.tx,R.tx)-A.x,A.height=Math.max(P.ty,w.ty,R.ty)-A.y;var L=r.x+r.width,F=r.y+r.height;return A.width<=0||A.height<=0||r.width<=0||r.height<=0?!1:!(A.right<r.x||A.bottom<r.y||A.x>L||A.y>F)},scrollUV:function(r,l){return this.vertex1.scrollUV(r,l),this.vertex2.scrollUV(r,l),this.vertex3.scrollUV(r,l),this},scaleUV:function(r,l){return this.vertex1.scaleUV(r,l),this.vertex2.scaleUV(r,l),this.vertex3.scaleUV(r,l),this},setColor:function(r){return this.vertex1.color=r,this.vertex2.color=r,this.vertex3.color=r,this},update:function(r,l,v,h,c,p,g,m){return this.vertex1.update(l,v,h,c,p,g,m,r),this.vertex2.update(l,v,h,c,p,g,m,r),this.vertex3.update(l,v,h,c,p,g,m,r),this},translate:function(r,l){l===void 0&&(l=0);var v=this.vertex1,h=this.vertex2,c=this.vertex3;return v.x+=r,v.y+=l,h.x+=r,h.y+=l,c.x+=r,c.y+=l,this},x:{get:function(){return this.getInCenter().x},set:function(r){var l=this.getInCenter();this.translate(r-l.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(r){var l=this.getInCenter();this.translate(0,r-l.y)}},alpha:{get:function(){var r=this.vertex1,l=this.vertex2,v=this.vertex3;return(r.alpha+l.alpha+v.alpha)/3},set:function(r){this.vertex1.alpha=r,this.vertex2.alpha=r,this.vertex3.alpha=r}},depth:{get:function(){var r=this.vertex1,l=this.vertex2,v=this.vertex3;return(r.vz+l.vz+v.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});n.exports=a},48803:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83997),x=e(95540),d=e(37867),o=e(25836),a=e(39318),r=new o,l=new o,v=new d,h=function(c){var p=x(c,"mesh"),g=x(c,"texture",null),m=x(c,"frame"),y=x(c,"width",1),S=x(c,"height",y),M=x(c,"widthSegments",1),P=x(c,"heightSegments",M),w=x(c,"x",0),R=x(c,"y",0),A=x(c,"z",0),L=x(c,"rotateX",0),F=x(c,"rotateY",0),O=x(c,"rotateZ",0),b=x(c,"zIsUp",!0),B=x(c,"isOrtho",p?p.dirtyCache[11]:!1),I=x(c,"colors",[16777215]),N=x(c,"alphas",[1]),X=x(c,"tile",!1),k=x(c,"flipY",!1),H=x(c,"width",null),V={faces:[],verts:[]};r.set(w,R,A),l.set(L,F,O),v.fromRotationXYTranslation(l,r,b);var W;if(!g&&p)g=p.texture,m||(W=p.frame);else if(p&&typeof g=="string")g=p.scene.sys.textures.get(g);else if(!g)return V;W||(W=g.get(m)),!H&&B&&g&&p&&(y=W.width/p.height,S=W.height/p.height);var D=y/2,G=S/2,z=Math.floor(M),U=Math.floor(P),Y=z+1,$=U+1,K=y/z,Z=S/U,J=[],Q=[],j,_,q=0,it=1,at=0,ot=1;W&&(q=W.u0,it=W.u1,k?(at=W.v1,ot=W.v0):(at=W.v0,ot=W.v1));var ht=it-q,tt=ot-at;for(_=0;_<$;_++){var nt=_*Z-G;for(j=0;j<Y;j++){var rt=j*K-D;Q.push(rt,-nt);var vt=q+ht*(j/z),ct=at+tt*(_/U);J.push(vt,ct)}}Array.isArray(I)||(I=[I]),Array.isArray(N)||(N=[N]);var bt=0,Ot=0;for(_=0;_<U;_++)for(j=0;j<z;j++){var yt=(j+Y*_)*2,mt=(j+Y*(_+1))*2,Xt=(j+1+Y*(_+1))*2,Lt=(j+1+Y*_)*2,jt=I[Ot],se=N[bt],Se=new a(Q[yt],Q[yt+1],0,J[yt],J[yt+1],jt,se).transformMat4(v),vs=new a(Q[mt],Q[mt+1],0,J[mt],J[mt+1],jt,se).transformMat4(v),cs=new a(Q[Lt],Q[Lt+1],0,J[Lt],J[Lt+1],jt,se).transformMat4(v),ps=new a(Q[mt],Q[mt+1],0,J[mt],J[mt+1],jt,se).transformMat4(v),gs=new a(Q[Xt],Q[Xt+1],0,J[Xt],J[Xt+1],jt,se).transformMat4(v),ms=new a(Q[Lt],Q[Lt+1],0,J[Lt],J[Lt+1],jt,se).transformMat4(v);X&&(Se.setUVs(q,ot),vs.setUVs(q,at),cs.setUVs(it,ot),ps.setUVs(q,at),gs.setUVs(it,at),ms.setUVs(it,ot)),Ot++,Ot===I.length&&(Ot=0),bt++,bt===N.length&&(bt=0),V.verts.push(Se,vs,cs,ps,gs,ms),V.faces.push(new u(Se,vs,cs),new u(ps,gs,ms))}return p&&(p.faces=p.faces.concat(V.faces),p.vertices=p.vertices.concat(V.verts)),V};n.exports=h},34684:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83997),x=e(37867),d=e(25836),o=e(39318),a=new d,r=new d,l=new x,v=function(h,c,p,g,m,y,S,M,P,w){p===void 0&&(p=1),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=0),M===void 0&&(M=0),P===void 0&&(P=0),w===void 0&&(w=!0);var R={faces:[],verts:[]},A=h.materials;a.set(g,m,y),r.set(S,M,P),l.fromRotationXYTranslation(r,a,w);for(var L=0;L<h.models.length;L++)for(var F=h.models[L],O=F.vertices,b=F.textureCoords,B=F.faces,I=0;I<B.length;I++){var N=B[I],X=N.vertices[0],k=N.vertices[1],H=N.vertices[2],V=O[X.vertexIndex],W=O[k.vertexIndex],D=O[H.vertexIndex],G=X.textureCoordsIndex,z=k.textureCoordsIndex,U=H.textureCoordsIndex,Y=G===-1?{u:0,v:1}:b[G],$=z===-1?{u:0,v:0}:b[z],K=U===-1?{u:1,v:1}:b[U],Z=16777215;N.material!==""&&A[N.material]&&(Z=A[N.material]);var J=new o(V.x*p,V.y*p,V.z*p,Y.u,Y.v,Z).transformMat4(l),Q=new o(W.x*p,W.y*p,W.z*p,$.u,$.v,Z).transformMat4(l),j=new o(D.x*p,D.y*p,D.z*p,K.u,K.v,Z).transformMat4(l);R.verts.push(J,Q,j),R.faces.push(new u(J,Q,j))}return c&&(c.faces=c.faces.concat(R.faces),c.vertices=c.vertices.concat(R.verts)),R};n.exports=v},92515:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83997),x=e(39318),d=function(o,a,r,l,v,h,c,p){if(l===void 0&&(l=!1),h===void 0&&(h=16777215),c===void 0&&(c=1),p===void 0&&(p=!1),o.length!==a.length&&!l){console.warn("GenerateVerts: vertices and uvs count not equal");return}var g={faces:[],vertices:[]},m,y,S,M,P,w,R,A,L,F,O,b=l?3:2,B=Array.isArray(h),I=Array.isArray(c);if(Array.isArray(r)&&r.length>0)for(m=0;m<r.length;m++){var N=r[m],X=r[m]*2,k=r[m]*b;y=o[k],S=o[k+1],M=l?o[k+2]:0,P=a[X],w=a[X+1],p&&(w=1-w),R=B?h[N]:h,A=I?c[N]:c,L=0,F=0,O=0,v&&(L=v[k],F=v[k+1],O=l?v[k+2]:0),g.vertices.push(new x(y,S,M,P,w,R,A,L,F,O))}else{var H=0,V=0;for(m=0;m<o.length;m+=b)y=o[m],S=o[m+1],M=l?o[m+2]:0,P=a[H],w=a[H+1],R=B?h[V]:h,A=I?c[V]:c,L=0,F=0,O=0,v&&(L=v[m],F=v[m+1],O=l?v[m+2]:0),g.vertices.push(new x(y,S,M,P,w,R,A,L,F,O)),H+=2,V++}for(m=0;m<g.vertices.length;m+=3){var W=g.vertices[m],D=g.vertices[m+1],G=g.vertices[m+2];g.faces.push(new u(W,D,G))}return g};n.exports=d},85048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=!0,e="untitled",u="",x="";function d(y){var S=y.indexOf("#");return S>-1?y.substring(0,S):y}function o(y){return y.models.length===0&&y.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),u="",y.models[y.models.length-1]}function a(y,S){var M=y.length>=2?y[1]:e;S.models.push({faces:[],name:M,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function r(y){y.length===2&&(u=y[1])}function l(y,S){var M=y.length,P=M>=2?parseFloat(y[1]):0,w=M>=3?parseFloat(y[2]):0,R=M>=4?parseFloat(y[3]):0;o(S).vertices.push({x:P,y:w,z:R})}function v(y,S){var M=y.length,P=M>=2?parseFloat(y[1]):0,w=M>=3?parseFloat(y[2]):0,R=M>=4?parseFloat(y[3]):0;isNaN(P)&&(P=0),isNaN(w)&&(w=0),isNaN(R)&&(R=0),C&&(w=1-w),o(S).textureCoords.push({u:P,v:w,w:R})}function h(y,S){var M=y.length,P=M>=2?parseFloat(y[1]):0,w=M>=3?parseFloat(y[2]):0,R=M>=4?parseFloat(y[3]):0;o(S).vertexNormals.push({x:P,y:w,z:R})}function c(y,S){var M=y.length-1;if(!(M<3)){for(var P={group:u,material:x,vertices:[]},w=0;w<M;w++){var R=y[w+1],A=R.split("/"),L=A.length;if(!(L<1||L>3)){var F=0,O=0,b=0;F=parseInt(A[0],10),L>1&&A[1]!==""&&(O=parseInt(A[1],10)),L>2&&(b=parseInt(A[2],10)),F!==0&&(F<0&&(F=o(S).vertices.length+1+F),O-=1,F-=1,b-=1,P.vertices.push({textureCoordsIndex:O,vertexIndex:F,vertexNormalIndex:b}))}}o(S).faces.push(P)}}function p(y,S){y.length>=2&&S.materialLibraries.push(y[1])}function g(y){y.length>=2&&(x=y[1])}var m=function(y,S){S===void 0&&(S=!0),C=S;var M={materials:{},materialLibraries:[],models:[]};u="",x="";for(var P=y.split(`
`),w=0;w<P.length;w++){var R=d(P[w]),A=R.replace(/\s\s+/g," ").trim().split(" ");switch(A[0].toLowerCase()){case"o":a(A,M);break;case"g":r(A);break;case"v":l(A,M);break;case"vt":v(A,M);break;case"vn":h(A,M);break;case"f":c(A,M);break;case"mtllib":p(A,M);break;case"usemtl":g(A);break}}return M};n.exports=m},61485:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37589),x=function(d){for(var o={},a=d.split(`
`),r="",l=0;l<a.length;l++){var v=a[l].trim();if(!(v.indexOf("#")===0||v==="")){var h=v.replace(/\s\s+/g," ").trim().split(" ");switch(h[0].toLowerCase()){case"newmtl":{r=h[1];break}case"kd":{var c=Math.floor(h[1]*255),p=h.length>=2?Math.floor(h[2]*255):c,g=h.length>=3?Math.floor(h[3]*255):c;o[r]=u(c,p,g);break}}}}return o};n.exports=x},92570:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o,a;if(x===void 0&&d===void 0){var r=e.getInCenter();o=r.x,a=r.y}var l=Math.cos(u),v=Math.sin(u),h=e.vertex1,c=e.vertex2,p=e.vertex3,g=h.x-o,m=h.y-a;h.set(g*l-m*v+o,g*v+m*l+a),g=c.x-o,m=c.y-a,c.set(g*l-m*v+o,g*v+m*l+a),g=p.x-o,m=p.y-a,p.set(g*l-m*v+o,g*v+m*l+a)};n.exports=C},39318:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(70554),d=e(25836),o=new u({Extends:d,initialize:function(r,l,v,h,c,p,g,m,y,S){p===void 0&&(p=16777215),g===void 0&&(g=1),m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=0),d.call(this,r,l,v),this.vx=0,this.vy=0,this.vz=0,this.nx=m,this.ny=y,this.nz=S,this.u=h,this.v=c,this.color=p,this.alpha=g,this.tx=0,this.ty=0,this.ta=0,this.tu=h,this.tv=c},setUVs:function(a,r){return this.u=a,this.v=r,this.tu=a,this.tv=r,this},scrollUV:function(a,r){return this.tu+=a,this.tv+=r,this},scaleUV:function(a,r){return this.tu=this.u*a,this.tv=this.v*r,this},transformCoordinatesLocal:function(a,r,l,v){var h=this.x,c=this.y,p=this.z,g=a.val,m=h*g[0]+c*g[4]+p*g[8]+g[12],y=h*g[1]+c*g[5]+p*g[9]+g[13],S=h*g[2]+c*g[6]+p*g[10]+g[14],M=h*g[3]+c*g[7]+p*g[11]+g[15];this.vx=m/M*r,this.vy=-(y/M)*l,v<=0?this.vz=S/M:this.vz=-(S/M)},resize:function(a,r,l,v,h,c){return this.x=a,this.y=r,this.vx=this.x*l,this.vy=-this.y*v,this.vz=0,h<.5?this.vx+=l*(.5-h):h>.5&&(this.vx-=l*(h-.5)),c<.5?this.vy+=v*(.5-c):c>.5&&(this.vy-=v*(c-.5)),this},update:function(a,r,l,v,h,c,p,g){var m=this.vx*a+this.vy*l+h,y=this.vx*r+this.vy*v+c;return p&&(m=Math.round(m),y=Math.round(y)),this.tx=m,this.ty=y,this.ta=this.alpha*g,this},load:function(a,r,l,v,h){return a[++l]=this.tx,a[++l]=this.ty,a[++l]=this.tu,a[++l]=this.tv,a[++l]=v,a[++l]=h,r[++l]=x.getTintAppendFloatAlpha(this.color,this.ta),l}});n.exports=o},73090:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Face:e(83997),GenerateGridVerts:e(48803),GenerateObjVerts:e(34684),GenerateVerts:e(92515),ParseObj:e(85048),ParseObjMaterial:e(61485),RotateFace:e(92570),Vertex:e(39318)};n.exports=u},96550:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};n.exports=C},99706:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d){return new u(d.x,d.y)};n.exports=x},68010:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u.setTo(e.x,e.y)};n.exports=C},27814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x===u.x&&e.y===u.y};n.exports=C},73565:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};n.exports=C},87555:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){if(o===void 0&&(o=new u),!Array.isArray(d))throw new Error("GetCentroid points argument must be an array");var a=d.length;if(a<1)throw new Error("GetCentroid points array must not be empty");if(a===1)o.x=d[0].x,o.y=d[0].y;else{for(var r=0;r<a;r++)o.x+=d[r].x,o.y+=d[r].y;o.x/=a,o.y/=a}return o};n.exports=x},28793:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};n.exports=C},44405:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.x*e.x+e.y*e.y};n.exports=C},20873:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=function(d,o){o===void 0&&(o=new u);for(var a=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,h=0;h<d.length;h++){var c=d[h];c.x>a&&(a=c.x),c.x<r&&(r=c.x),c.y>l&&(l=c.y),c.y<v&&(v=c.y)}return o.x=r,o.y=v,o.width=a-r,o.height=l-v,o};n.exports=x},26152:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o,a,r){return a===void 0&&(a=0),r===void 0&&(r=new u),r.x=d.x+(o.x-d.x)*a,r.y=d.y+(o.y-d.y)*a,r};n.exports=x},55767:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.setTo(e.y,e.x)};n.exports=C},79432:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){return o===void 0&&(o=new u),o.setTo(-d.x,-d.y)};n.exports=x},2141:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23777),d=new u({initialize:function(a,r){a===void 0&&(a=0),r===void 0&&(r=a),this.type=x.POINT,this.x=a,this.y=r},setTo:function(o,a){return o===void 0&&(o=0),a===void 0&&(a=o),this.x=o,this.y=a,this}});n.exports=d},72930:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=e(44405),d=function(o,a,r){r===void 0&&(r=new u);var l=o.x*a.x+o.y*a.y,v=l/x(a);return v!==0&&(r.x=v*a.x,r.y=v*a.y),r};n.exports=d},62880:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o,a){a===void 0&&(a=new u);var r=d.x*o.x+d.y*o.y;return r!==0&&(a.x=r*o.x,a.y=r*o.y),a};n.exports=x},15093:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28793),x=function(d,o){if(d.x!==0||d.y!==0){var a=u(d);d.x/=a,d.y/=a}return d.x*=o,d.y*=o,d};n.exports=x},43711:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141);u.Ceil=e(96550),u.Clone=e(99706),u.CopyFrom=e(68010),u.Equals=e(27814),u.Floor=e(73565),u.GetCentroid=e(87555),u.GetMagnitude=e(28793),u.GetMagnitudeSq=e(44405),u.GetRectangleFromPoints=e(20873),u.Interpolate=e(26152),u.Invert=e(55767),u.Negative=e(79432),u.Project=e(72930),u.ProjectUnit=e(62880),u.SetMagnitude=e(15093),n.exports=u},12306:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25717),x=function(d){return new u(d.points)};n.exports=x},63814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){for(var d=!1,o=-1,a=e.points.length-1;++o<e.points.length;a=o){var r=e.points[o].x,l=e.points[o].y,v=e.points[a].x,h=e.points[a].y;(l<=x&&x<h||h<=x&&x<l)&&u<(v-r)*(x-l)/(h-l)+r&&(d=!d)}return d};n.exports=C},99338:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63814),x=function(d,o){return u(d,o.x,o.y)};n.exports=x},94811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(V,W,D){D=D||2;var G=W&&W.length,z=G?W[0]*D:V.length,U=e(V,0,z,D,!0),Y=[];if(!U||U.next===U.prev)return Y;var $,K,Z,J,Q,j,_;if(G&&(U=l(V,W,U,D)),V.length>80*D){$=Z=V[0],K=J=V[1];for(var q=D;q<z;q+=D)Q=V[q],j=V[q+1],Q<$&&($=Q),j<K&&(K=j),Q>Z&&(Z=Q),j>J&&(J=j);_=Math.max(Z-$,J-K),_=_!==0?32767/_:0}return x(U,Y,D,$,K,_,0),Y}function e(V,W,D,G,z){var U,Y;if(z===H(V,W,D,G)>0)for(U=W;U<D;U+=G)Y=N(U,V[U],V[U+1],Y);else for(U=D-G;U>=W;U-=G)Y=N(U,V[U],V[U+1],Y);return Y&&R(Y,Y.next)&&(X(Y),Y=Y.next),Y}function u(V,W){if(!V)return V;W||(W=V);var D=V,G;do if(G=!1,!D.steiner&&(R(D,D.next)||w(D.prev,D,D.next)===0)){if(X(D),D=W=D.prev,D===D.next)break;G=!0}else D=D.next;while(G||D!==W);return W}function x(V,W,D,G,z,U,Y){if(!!V){!Y&&U&&g(V,G,z,U);for(var $=V,K,Z;V.prev!==V.next;){if(K=V.prev,Z=V.next,U?o(V,G,z,U):d(V)){W.push(K.i/D|0),W.push(V.i/D|0),W.push(Z.i/D|0),X(V),V=Z.next,$=Z.next;continue}if(V=Z,V===$){Y?Y===1?(V=a(u(V),W,D),x(V,W,D,G,z,U,2)):Y===2&&r(V,W,D,G,z,U):x(u(V),W,D,G,z,U,1);break}}}}function d(V){var W=V.prev,D=V,G=V.next;if(w(W,D,G)>=0)return!1;for(var z=W.x,U=D.x,Y=G.x,$=W.y,K=D.y,Z=G.y,J=z<U?z<Y?z:Y:U<Y?U:Y,Q=$<K?$<Z?$:Z:K<Z?K:Z,j=z>U?z>Y?z:Y:U>Y?U:Y,_=$>K?$>Z?$:Z:K>Z?K:Z,q=G.next;q!==W;){if(q.x>=J&&q.x<=j&&q.y>=Q&&q.y<=_&&M(z,$,U,K,Y,Z,q.x,q.y)&&w(q.prev,q,q.next)>=0)return!1;q=q.next}return!0}function o(V,W,D,G){var z=V.prev,U=V,Y=V.next;if(w(z,U,Y)>=0)return!1;for(var $=z.x,K=U.x,Z=Y.x,J=z.y,Q=U.y,j=Y.y,_=$<K?$<Z?$:Z:K<Z?K:Z,q=J<Q?J<j?J:j:Q<j?Q:j,it=$>K?$>Z?$:Z:K>Z?K:Z,at=J>Q?J>j?J:j:Q>j?Q:j,ot=y(_,q,W,D,G),ht=y(it,at,W,D,G),tt=V.prevZ,nt=V.nextZ;tt&&tt.z>=ot&&nt&&nt.z<=ht;){if(tt.x>=_&&tt.x<=it&&tt.y>=q&&tt.y<=at&&tt!==z&&tt!==Y&&M($,J,K,Q,Z,j,tt.x,tt.y)&&w(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,nt.x>=_&&nt.x<=it&&nt.y>=q&&nt.y<=at&&nt!==z&&nt!==Y&&M($,J,K,Q,Z,j,nt.x,nt.y)&&w(nt.prev,nt,nt.next)>=0))return!1;nt=nt.nextZ}for(;tt&&tt.z>=ot;){if(tt.x>=_&&tt.x<=it&&tt.y>=q&&tt.y<=at&&tt!==z&&tt!==Y&&M($,J,K,Q,Z,j,tt.x,tt.y)&&w(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;nt&&nt.z<=ht;){if(nt.x>=_&&nt.x<=it&&nt.y>=q&&nt.y<=at&&nt!==z&&nt!==Y&&M($,J,K,Q,Z,j,nt.x,nt.y)&&w(nt.prev,nt,nt.next)>=0)return!1;nt=nt.nextZ}return!0}function a(V,W,D){var G=V;do{var z=G.prev,U=G.next.next;!R(z,U)&&A(z,G,G.next,U)&&b(z,U)&&b(U,z)&&(W.push(z.i/D|0),W.push(G.i/D|0),W.push(U.i/D|0),X(G),X(G.next),G=V=U),G=G.next}while(G!==V);return u(G)}function r(V,W,D,G,z,U){var Y=V;do{for(var $=Y.next.next;$!==Y.prev;){if(Y.i!==$.i&&P(Y,$)){var K=I(Y,$);Y=u(Y,Y.next),K=u(K,K.next),x(Y,W,D,G,z,U,0),x(K,W,D,G,z,U,0);return}$=$.next}Y=Y.next}while(Y!==V)}function l(V,W,D,G){var z=[],U,Y,$,K,Z;for(U=0,Y=W.length;U<Y;U++)$=W[U]*G,K=U<Y-1?W[U+1]*G:V.length,Z=e(V,$,K,G,!1),Z===Z.next&&(Z.steiner=!0),z.push(S(Z));for(z.sort(v),U=0;U<z.length;U++)D=h(z[U],D);return D}function v(V,W){return V.x-W.x}function h(V,W){var D=c(V,W);if(!D)return W;var G=I(D,V);return u(G,G.next),u(D,D.next)}function c(V,W){var D=W,G=V.x,z=V.y,U=-1/0,Y;do{if(z<=D.y&&z>=D.next.y&&D.next.y!==D.y){var $=D.x+(z-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if($<=G&&$>U&&(U=$,Y=D.x<D.next.x?D:D.next,$===G))return Y}D=D.next}while(D!==W);if(!Y)return null;var K=Y,Z=Y.x,J=Y.y,Q=1/0,j;D=Y;do G>=D.x&&D.x>=Z&&G!==D.x&&M(z<J?G:U,z,Z,J,z<J?U:G,z,D.x,D.y)&&(j=Math.abs(z-D.y)/(G-D.x),b(D,V)&&(j<Q||j===Q&&(D.x>Y.x||D.x===Y.x&&p(Y,D)))&&(Y=D,Q=j)),D=D.next;while(D!==K);return Y}function p(V,W){return w(V.prev,V,W.prev)<0&&w(W.next,V,V.next)<0}function g(V,W,D,G){var z=V;do z.z===0&&(z.z=y(z.x,z.y,W,D,G)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==V);z.prevZ.nextZ=null,z.prevZ=null,m(z)}function m(V){var W,D,G,z,U,Y,$,K,Z=1;do{for(D=V,V=null,U=null,Y=0;D;){for(Y++,G=D,$=0,W=0;W<Z&&($++,G=G.nextZ,!!G);W++);for(K=Z;$>0||K>0&&G;)$!==0&&(K===0||!G||D.z<=G.z)?(z=D,D=D.nextZ,$--):(z=G,G=G.nextZ,K--),U?U.nextZ=z:V=z,z.prevZ=U,U=z;D=G}U.nextZ=null,Z*=2}while(Y>1);return V}function y(V,W,D,G,z){return V=(V-D)*z|0,W=(W-G)*z|0,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,W=(W|W<<8)&16711935,W=(W|W<<4)&252645135,W=(W|W<<2)&858993459,W=(W|W<<1)&1431655765,V|W<<1}function S(V){var W=V,D=V;do(W.x<D.x||W.x===D.x&&W.y<D.y)&&(D=W),W=W.next;while(W!==V);return D}function M(V,W,D,G,z,U,Y,$){return(z-Y)*(W-$)>=(V-Y)*(U-$)&&(V-Y)*(G-$)>=(D-Y)*(W-$)&&(D-Y)*(U-$)>=(z-Y)*(G-$)}function P(V,W){return V.next.i!==W.i&&V.prev.i!==W.i&&!O(V,W)&&(b(V,W)&&b(W,V)&&B(V,W)&&(w(V.prev,V,W.prev)||w(V,W.prev,W))||R(V,W)&&w(V.prev,V,V.next)>0&&w(W.prev,W,W.next)>0)}function w(V,W,D){return(W.y-V.y)*(D.x-W.x)-(W.x-V.x)*(D.y-W.y)}function R(V,W){return V.x===W.x&&V.y===W.y}function A(V,W,D,G){var z=F(w(V,W,D)),U=F(w(V,W,G)),Y=F(w(D,G,V)),$=F(w(D,G,W));return!!(z!==U&&Y!==$||z===0&&L(V,D,W)||U===0&&L(V,G,W)||Y===0&&L(D,V,G)||$===0&&L(D,W,G))}function L(V,W,D){return W.x<=Math.max(V.x,D.x)&&W.x>=Math.min(V.x,D.x)&&W.y<=Math.max(V.y,D.y)&&W.y>=Math.min(V.y,D.y)}function F(V){return V>0?1:V<0?-1:0}function O(V,W){var D=V;do{if(D.i!==V.i&&D.next.i!==V.i&&D.i!==W.i&&D.next.i!==W.i&&A(D,D.next,V,W))return!0;D=D.next}while(D!==V);return!1}function b(V,W){return w(V.prev,V,V.next)<0?w(V,W,V.next)>=0&&w(V,V.prev,W)>=0:w(V,W,V.prev)<0||w(V,V.next,W)<0}function B(V,W){var D=V,G=!1,z=(V.x+W.x)/2,U=(V.y+W.y)/2;do D.y>U!=D.next.y>U&&D.next.y!==D.y&&z<(D.next.x-D.x)*(U-D.y)/(D.next.y-D.y)+D.x&&(G=!G),D=D.next;while(D!==V);return G}function I(V,W){var D=new k(V.i,V.x,V.y),G=new k(W.i,W.x,W.y),z=V.next,U=W.prev;return V.next=W,W.prev=V,D.next=z,z.prev=D,G.next=D,D.prev=G,U.next=G,G.prev=U,G}function N(V,W,D,G){var z=new k(V,W,D);return G?(z.next=G.next,z.prev=G,G.next.prev=z,G.next=z):(z.prev=z,z.next=z),z}function X(V){V.next.prev=V.prev,V.prev.next=V.next,V.prevZ&&(V.prevZ.nextZ=V.nextZ),V.nextZ&&(V.nextZ.prevZ=V.prevZ)}function k(V,W,D){this.i=V,this.x=W,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}C.deviation=function(V,W,D,G){var z=W&&W.length,U=z?W[0]*D:V.length,Y=Math.abs(H(V,0,U,D));if(z)for(var $=0,K=W.length;$<K;$++){var Z=W[$]*D,J=$<K-1?W[$+1]*D:V.length;Y-=Math.abs(H(V,Z,J,D))}var Q=0;for($=0;$<G.length;$+=3){var j=G[$]*D,_=G[$+1]*D,q=G[$+2]*D;Q+=Math.abs((V[j]-V[q])*(V[_+1]-V[j+1])-(V[j]-V[_])*(V[q+1]-V[j+1]))}return Y===0&&Q===0?0:Math.abs((Q-Y)/Y)};function H(V,W,D,G){for(var z=0,U=W,Y=D-G;U<D;U+=G)z+=(V[Y]-V[U])*(V[U+1]+V[Y+1]),Y=U;return z}C.flatten=function(V){for(var W=V[0][0].length,D={vertices:[],holes:[],dimensions:W},G=0,z=0;z<V.length;z++){for(var U=0;U<V[z].length;U++)for(var Y=0;Y<W;Y++)D.vertices.push(V[z][U][Y]);z>0&&(G+=V[z-1].length,D.holes.push(G))}return D},n.exports=C},13829:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=function(d,o){o===void 0&&(o=new u);for(var a=1/0,r=1/0,l=-a,v=-r,h,c=0;c<d.points.length;c++)h=d.points[c],a=Math.min(a,h.x),r=Math.min(r,h.y),l=Math.max(l,h.x),v=Math.max(v,h.y);return o.x=a,o.y=r,o.width=l-a,o.height=v-r,o};n.exports=x},26173:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u=[]);for(var x=0;x<e.points.length;x++)u.push(e.points[x].x),u.push(e.points[x].y);return u};n.exports=C},9564:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),x=e(23031),d=e(30052),o=function(a,r,l,v){v===void 0&&(v=[]);var h=a.points,c=d(a);!r&&l>0&&(r=c/l);for(var p=0;p<r;p++)for(var g=c*(p/r),m=0,y=0;y<h.length;y++){var S=h[y],M=h[(y+1)%h.length],P=new x(S.x,S.y,M.x,M.y),w=u(P);if(g<m||g>m+w){m+=w;continue}var R=P.getPoint((g-m)/w);v.push(R);break}return v};n.exports=o},30052:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),x=e(23031),d=function(o){for(var a=o.points,r=0,l=0;l<a.length;l++){var v=a[l],h=a[(l+1)%a.length],c=new x(v.x,v.y,h.x,h.y);r+=u(c)}return r};n.exports=d},25717:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(63814),d=e(9564),o=e(23777),a=new u({initialize:function(l){this.type=o.POLYGON,this.area=0,this.points=[],l&&this.setTo(l)},contains:function(r,l){return x(this,r,l)},setTo:function(r){if(this.area=0,this.points=[],typeof r=="string"&&(r=r.split(" ")),!Array.isArray(r))return this;for(var l,v=0;v<r.length;v++)l={x:0,y:0},typeof r[v]=="number"||typeof r[v]=="string"?(l.x=parseFloat(r[v]),l.y=parseFloat(r[v+1]),v++):Array.isArray(r[v])?(l.x=r[v][0],l.y=r[v][1]):(l.x=r[v].x,l.y=r[v].y),this.points.push(l);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var r=0,l,v,h=0;h<this.points.length-1;h++)l=this.points[h],v=this.points[h+1],r+=(v.x-l.x)*(l.y+v.y);return l=this.points[0],v=this.points[this.points.length-1],r+=(l.x-v.x)*(v.y+l.y),this.area=-r*.5,this.area},getPoints:function(r,l,v){return d(this,r,l,v)}});n.exports=a},8133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.points.reverse(),e};n.exports=C},29524:n=>{function C(a,r){var l=a.x-r.x,v=a.y-r.y;return l*l+v*v}function e(a,r,l){var v=r.x,h=r.y,c=l.x-v,p=l.y-h;if(c!==0||p!==0){var g=((a.x-v)*c+(a.y-h)*p)/(c*c+p*p);g>1?(v=l.x,h=l.y):g>0&&(v+=c*g,h+=p*g)}return c=a.x-v,p=a.y-h,c*c+p*p}function u(a,r){for(var l=a[0],v=[l],h,c=1,p=a.length;c<p;c++)h=a[c],C(h,l)>r&&(v.push(h),l=h);return l!==h&&v.push(h),v}function x(a,r,l,v,h){for(var c=v,p,g=r+1;g<l;g++){var m=e(a[g],a[r],a[l]);m>c&&(p=g,c=m)}c>v&&(p-r>1&&x(a,r,p,v,h),h.push(a[p]),l-p>1&&x(a,p,l,v,h))}function d(a,r){var l=a.length-1,v=[a[0]];return x(a,0,l,r,v),v.push(a[l]),v}var o=function(a,r,l){r===void 0&&(r=1),l===void 0&&(l=!1);var v=a.points;if(v.length>2){var h=r*r;l||(v=u(v,h)),a.setTo(d(v,h))}return a};n.exports=o},5469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(u,x){return u[0]=x[0],u[1]=x[1],u},e=function(u){var x,d=[],o=u.points;for(x=0;x<o.length;x++)d.push([o[x].x,o[x].y]);var a=[];for(d.length>0&&a.push(C([0,0],d[0])),x=0;x<d.length-1;x++){var r=d[x],l=d[x+1],v=r[0],h=r[1],c=l[0],p=l[1];a.push([.85*v+.15*c,.85*h+.15*p]),a.push([.15*v+.85*c,.15*h+.85*p])}return d.length>1&&a.push(C([0,0],d[d.length-1])),u.setTo(a)};n.exports=e},24709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){for(var d=e.points,o=0;o<d.length;o++)d[o].x+=u,d[o].y+=x;return e};n.exports=C},58423:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25717);u.Clone=e(12306),u.Contains=e(63814),u.ContainsPoint=e(99338),u.Earcut=e(94811),u.GetAABB=e(13829),u.GetNumberArray=e(26173),u.GetPoints=e(9564),u.Perimeter=e(30052),u.Reverse=e(8133),u.Simplify=e(29524),u.Smooth=e(5469),u.Translate=e(24709),n.exports=u},62224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.width*e.height};n.exports=C},98615:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};n.exports=C},31688:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};n.exports=C},67502:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e.x=u-e.width/2,e.y=x-e.height/2,e};n.exports=C},65085:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=function(d){return new u(d.x,d.y,d.width,d.height)};n.exports=x},37303:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e.width<=0||e.height<=0?!1:e.x<=u&&e.x+e.width>=u&&e.y<=x&&e.y+e.height>=x};n.exports=C},96553:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37303),x=function(d,o){return u(d,o.x,o.y)};n.exports=x},70273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u.width*u.height>e.width*e.height?!1:u.x>e.x&&u.x<e.right&&u.right>e.x&&u.right<e.right&&u.y>e.y&&u.y<e.bottom&&u.bottom>e.y&&u.bottom<e.bottom};n.exports=C},43459:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};n.exports=C},77493:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x,y:e.y}),u.push({x:e.right,y:e.y}),u.push({x:e.right,y:e.bottom}),u.push({x:e.x,y:e.bottom}),u};n.exports=C},9219:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};n.exports=C},53751:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8249),x=function(d,o){var a=u(d);return a<u(o)?d.setSize(o.height*a,o.height):d.setSize(o.width,o.width/a),d.setPosition(o.centerX-d.width/2,o.centerY-d.height/2)};n.exports=x},16088:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8249),x=function(d,o){var a=u(d);return a>u(o)?d.setSize(o.height*a,o.height):d.setSize(o.width,o.width/a),d.setPosition(o.centerX-d.width/2,o.centerY-d.height/2)};n.exports=x},80774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};n.exports=C},83859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};n.exports=C},19217:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=e(36383),d=function(o,a){if(a===void 0&&(a=new u),o.length===0)return a;for(var r=Number.MAX_VALUE,l=Number.MAX_VALUE,v=x.MIN_SAFE_INTEGER,h=x.MIN_SAFE_INTEGER,c,p,g,m=0;m<o.length;m++)c=o[m],Array.isArray(c)?(p=c[0],g=c[1]):(p=c.x,g=c.y),r=Math.min(r,p),l=Math.min(l,g),v=Math.max(v,p),h=Math.max(h,g);return a.x=r,a.y=l,a.width=v-r,a.height=h-l,a};n.exports=d},9477:(n,C,e)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=function(d,o,a,r,l){return l===void 0&&(l=new u),l.setTo(Math.min(d,a),Math.min(o,r),Math.abs(d-a),Math.abs(o-r))};n.exports=x},8249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.height===0?NaN:e.width/e.height};n.exports=C},27165:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){return o===void 0&&(o=new u),o.x=d.centerX,o.y=d.centerY,o};n.exports=x},20812:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13019),x=e(2141),d=function(o,a,r){if(r===void 0&&(r=new x),a<=0||a>=1)return r.x=o.x,r.y=o.y,r;var l=u(o)*a;return a>.5?(l-=o.width+o.height,l<=o.width?(r.x=o.right-l,r.y=o.bottom):(r.x=o.x,r.y=o.bottom-(l-o.width))):l<=o.width?(r.x=o.x+l,r.y=o.y):(r.x=o.right,r.y=o.y+(l-o.width)),r};n.exports=d},34819:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20812),x=e(13019),d=function(o,a,r,l){l===void 0&&(l=[]),!a&&r>0&&(a=x(o)/r);for(var v=0;v<a;v++){var h=v/a;l.push(u(o,h))}return l};n.exports=d},51313:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){return o===void 0&&(o=new u),o.x=d.width,o.y=d.height,o};n.exports=x},86091:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(67502),x=function(d,o,a){var r=d.centerX,l=d.centerY;return d.setSize(d.width+o*2,d.height+a*2),u(d,r,l)};n.exports=x},53951:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=e(59996),d=function(o,a,r){return r===void 0&&(r=new u),x(o,a)?(r.x=Math.max(o.x,a.x),r.y=Math.max(o.y,a.y),r.width=Math.min(o.right,a.right)-r.x,r.height=Math.min(o.bottom,a.bottom)-r.y):r.setEmpty(),r};n.exports=d},14649:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13019),x=e(2141),d=function(o,a,r,l){if(l===void 0&&(l=[]),!a&&!r)return l;a?r=Math.round(u(o)/a):a=u(o)/r;for(var v=o.x,h=o.y,c=0,p=0;p<r;p++)switch(l.push(new x(v,h)),c){case 0:v+=a,v>=o.right&&(c=1,h+=v-o.right,v=o.right);break;case 1:h+=a,h>=o.bottom&&(c=2,v-=h-o.bottom,h=o.bottom);break;case 2:v-=a,v<=o.left&&(c=3,h-=o.left-v,v=o.left);break;case 3:h-=a,h<=o.top&&(c=0,h=o.top);break}return l};n.exports=d},33595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){for(var x=e.x,d=e.right,o=e.y,a=e.bottom,r=0;r<u.length;r++)x=Math.min(x,u[r].x),d=Math.max(d,u[r].x),o=Math.min(o,u[r].y),a=Math.max(a,u[r].y);return e.x=x,e.y=o,e.width=d-x,e.height=a-o,e};n.exports=C},20074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=Math.min(e.x,u.x),d=Math.max(e.right,u.right);e.x=x,e.width=d-x;var o=Math.min(e.y,u.y),a=Math.max(e.bottom,u.bottom);return e.y=o,e.height=a-o,e};n.exports=C},92171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=Math.min(e.x,u),o=Math.max(e.right,u);e.x=d,e.width=o-d;var a=Math.min(e.y,x),r=Math.max(e.bottom,x);return e.y=a,e.height=r-a,e};n.exports=C},42981:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e.x+=u,e.y+=x,e};n.exports=C},46907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x+=u.x,e.y+=u.y,e};n.exports=C},60170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x<u.right&&e.right>u.x&&e.y<u.bottom&&e.bottom>u.y};n.exports=C},13019:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return 2*(e.width+e.height)};n.exports=C},85133:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=e(39506),d=function(o,a,r){r===void 0&&(r=new u),a=x(a);var l=Math.sin(a),v=Math.cos(a),h=v>0?o.width/2:o.width/-2,c=l>0?o.height/2:o.height/-2;return Math.abs(h*l)<Math.abs(c*v)?c=h*l/v:h=c*v/l,r.x=h+o.centerX,r.y=c+o.centerY,r};n.exports=d},26597:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){return o===void 0&&(o=new u),o.x=d.x+Math.random()*d.width,o.y=d.y+Math.random()*d.height,o};n.exports=x},86470:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30976),x=e(70273),d=e(2141),o=function(a,r,l){if(l===void 0&&(l=new d),x(a,r))switch(u(0,3)){case 0:l.x=a.x+Math.random()*(r.right-a.x),l.y=a.y+Math.random()*(r.top-a.y);break;case 1:l.x=r.x+Math.random()*(a.right-r.x),l.y=r.bottom+Math.random()*(a.bottom-r.bottom);break;case 2:l.x=a.x+Math.random()*(r.x-a.x),l.y=r.y+Math.random()*(a.bottom-r.y);break;case 3:l.x=r.right+Math.random()*(a.right-r.right),l.y=a.y+Math.random()*(r.bottom-a.y);break}return l};n.exports=o},87841:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(37303),d=e(20812),o=e(34819),a=e(23777),r=e(23031),l=e(26597),v=new u({initialize:function(c,p,g,m){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=a.RECTANGLE,this.x=c,this.y=p,this.width=g,this.height=m},contains:function(h,c){return x(this,h,c)},getPoint:function(h,c){return d(this,h,c)},getPoints:function(h,c,p){return o(this,h,c,p)},getRandomPoint:function(h){return l(this,h)},setTo:function(h,c,p,g){return this.x=h,this.y=c,this.width=p,this.height=g,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(h,c){return c===void 0&&(c=h),this.x=h,this.y=c,this},setSize:function(h,c){return c===void 0&&(c=h),this.width=h,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(h){return h===void 0&&(h=new r),h.setTo(this.x,this.y,this.right,this.y),h},getLineB:function(h){return h===void 0&&(h=new r),h.setTo(this.right,this.y,this.right,this.bottom),h},getLineC:function(h){return h===void 0&&(h=new r),h.setTo(this.right,this.bottom,this.x,this.bottom),h},getLineD:function(h){return h===void 0&&(h=new r),h.setTo(this.x,this.bottom,this.x,this.y),h},left:{get:function(){return this.x},set:function(h){h>=this.right?this.width=0:this.width=this.right-h,this.x=h}},right:{get:function(){return this.x+this.width},set:function(h){h<=this.x?this.width=0:this.width=h-this.x}},top:{get:function(){return this.y},set:function(h){h>=this.bottom?this.height=0:this.height=this.bottom-h,this.y=h}},bottom:{get:function(){return this.y+this.height},set:function(h){h<=this.y?this.height=0:this.height=h-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});n.exports=v},94845:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.width===u.width&&e.height===u.height};n.exports=C},31730:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return x===void 0&&(x=u),e.width*=u,e.height*=x,e};n.exports=C},36899:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=function(d,o,a){a===void 0&&(a=new u);var r=Math.min(d.x,o.x),l=Math.min(d.y,o.y),v=Math.max(d.right,o.right)-r,h=Math.max(d.bottom,o.bottom)-l;return a.setTo(r,l,v,h)};n.exports=x},93232:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841);u.Area=e(62224),u.Ceil=e(98615),u.CeilAll=e(31688),u.CenterOn=e(67502),u.Clone=e(65085),u.Contains=e(37303),u.ContainsPoint=e(96553),u.ContainsRect=e(70273),u.CopyFrom=e(43459),u.Decompose=e(77493),u.Equals=e(9219),u.FitInside=e(53751),u.FitOutside=e(16088),u.Floor=e(80774),u.FloorAll=e(83859),u.FromPoints=e(19217),u.FromXY=e(9477),u.GetAspectRatio=e(8249),u.GetCenter=e(27165),u.GetPoint=e(20812),u.GetPoints=e(34819),u.GetSize=e(51313),u.Inflate=e(86091),u.Intersection=e(53951),u.MarchingAnts=e(14649),u.MergePoints=e(33595),u.MergeRect=e(20074),u.MergeXY=e(92171),u.Offset=e(42981),u.OffsetPoint=e(46907),u.Overlaps=e(60170),u.Perimeter=e(13019),u.PerimeterPoint=e(85133),u.Random=e(26597),u.RandomOutside=e(86470),u.SameDimensions=e(94845),u.Scale=e(31730),u.Union=e(36899),n.exports=u},41658:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u=e.x1,x=e.y1,d=e.x2,o=e.y2,a=e.x3,r=e.y3;return Math.abs(((a-u)*(o-x)-(d-u)*(r-x))/2)};n.exports=C},39208:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16483),x=function(d,o,a){var r=a*(Math.sqrt(3)/2),l=d,v=o,h=d+a/2,c=o+r,p=d-a/2,g=o+r;return new u(l,v,h,c,p,g)};n.exports=x},39545:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(94811),x=e(16483),d=function(o,a,r,l,v){a===void 0&&(a=null),r===void 0&&(r=1),l===void 0&&(l=1),v===void 0&&(v=[]);for(var h=u(o,a),c,p,g,m,y,S,M,P,w,R=0;R<h.length;R+=3)c=h[R],p=h[R+1],g=h[R+2],m=o[c*2]*r,y=o[c*2+1]*l,S=o[p*2]*r,M=o[p*2+1]*l,P=o[g*2]*r,w=o[g*2+1]*l,v.push(new x(m,y,S,M,P,w));return v};n.exports=d},90301:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16483),x=function(d,o,a,r){r===void 0&&(r=a);var l=d,v=o,h=d,c=o-r,p=d+a,g=o;return new u(l,v,h,c,p,g)};n.exports=x},23707:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97523),x=e(13584),d=function(o,a,r,l){l===void 0&&(l=u);var v=l(o),h=a-v.x,c=r-v.y;return x(o,h,c)};n.exports=d},97523:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){return o===void 0&&(o=new u),o.x=(d.x1+d.x2+d.x3)/3,o.y=(d.y1+d.y2+d.y3)/3,o};n.exports=x},24951:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099);function x(o,a,r,l){return o*l-a*r}var d=function(o,a){a===void 0&&(a=new u);var r=o.x3,l=o.y3,v=o.x1-r,h=o.y1-l,c=o.x2-r,p=o.y2-l,g=2*x(v,h,c,p),m=x(h,v*v+h*h,p,c*c+p*p),y=x(v,v*v+h*h,c,c*c+p*p);return a.x=r-m/g,a.y=l+y/g,a};n.exports=d},85614:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503),x=function(d,o){o===void 0&&(o=new u);var a=d.x1,r=d.y1,l=d.x2,v=d.y2,h=d.x3,c=d.y3,p=l-a,g=v-r,m=h-a,y=c-r,S=p*(a+l)+g*(r+v),M=m*(a+h)+y*(r+c),P=2*(p*(c-v)-g*(h-l)),w,R;if(Math.abs(P)<1e-6){var A=Math.min(a,l,h),L=Math.min(r,v,c);w=(Math.max(a,l,h)-A)*.5,R=(Math.max(r,v,c)-L)*.5,o.x=A+w,o.y=L+R,o.radius=Math.sqrt(w*w+R*R)}else o.x=(y*S-g*M)/P,o.y=(p*M-m*S)/P,w=o.x-a,R=o.y-r,o.radius=Math.sqrt(w*w+R*R);return o};n.exports=x},74422:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16483),x=function(d){return new u(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)};n.exports=x},10690:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=e.x3-e.x1,o=e.y3-e.y1,a=e.x2-e.x1,r=e.y2-e.y1,l=u-e.x1,v=x-e.y1,h=d*d+o*o,c=d*a+o*r,p=d*l+o*v,g=a*a+r*r,m=a*l+r*v,y=h*g-c*c,S=y===0?0:1/y,M=(g*p-c*m)*S,P=(h*m-c*p)*S;return M>=0&&P>=0&&M+P<1};n.exports=C},48653:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x===void 0&&(x=!1),d===void 0&&(d=[]);for(var o=e.x3-e.x1,a=e.y3-e.y1,r=e.x2-e.x1,l=e.y2-e.y1,v=o*o+a*a,h=o*r+a*l,c=r*r+l*l,p=v*c-h*h,g=p===0?0:1/p,m,y,S,M,P,w,R=e.x1,A=e.y1,L=0;L<u.length&&(S=u[L].x-R,M=u[L].y-A,P=o*S+a*M,w=r*S+l*M,m=(c*P-h*w)*g,y=(v*w-h*P)*g,!(m>=0&&y>=0&&m+y<1&&(d.push({x:u[L].x,y:u[L].y}),x)));L++);return d};n.exports=C},96006:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10690),x=function(d,o){return u(d,o.x,o.y)};n.exports=x},71326:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};n.exports=C},71694:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x1,y:e.y1}),u.push({x:e.x2,y:e.y2}),u.push({x:e.x3,y:e.y3}),u};n.exports=C},33522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2&&e.x3===u.x3&&e.y3===u.y3};n.exports=C},20437:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=e(35001),d=function(o,a,r){r===void 0&&(r=new u);var l=o.getLineA(),v=o.getLineB(),h=o.getLineC();if(a<=0||a>=1)return r.x=l.x1,r.y=l.y1,r;var c=x(l),p=x(v),g=x(h),m=c+p+g,y=m*a,S=0;return y<c?(S=y/c,r.x=l.x1+(l.x2-l.x1)*S,r.y=l.y1+(l.y2-l.y1)*S):y>c+p?(y-=c+p,S=y/g,r.x=h.x1+(h.x2-h.x1)*S,r.y=h.y1+(h.y2-h.y1)*S):(y-=c,S=y/p,r.x=v.x1+(v.x2-v.x1)*S,r.y=v.y1+(v.y2-v.y1)*S),r};n.exports=d},80672:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),x=e(2141),d=function(o,a,r,l){l===void 0&&(l=[]);var v=o.getLineA(),h=o.getLineB(),c=o.getLineC(),p=u(v),g=u(h),m=u(c),y=p+g+m;!a&&r>0&&(a=y/r);for(var S=0;S<a;S++){var M=y*(S/a),P=0,w=new x;M<p?(P=M/p,w.x=v.x1+(v.x2-v.x1)*P,w.y=v.y1+(v.y2-v.y1)*P):M>p+g?(M-=p+g,P=M/m,w.x=c.x1+(c.x2-c.x1)*P,w.y=c.y1+(c.y2-c.y1)*P):(M-=p,P=M/g,w.x=h.x1+(h.x2-h.x1)*P,w.y=h.y1+(h.y2-h.y1)*P),l.push(w)}return l};n.exports=d},39757:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141);function x(o,a,r,l){var v=o-r,h=a-l,c=v*v+h*h;return Math.sqrt(c)}var d=function(o,a){a===void 0&&(a=new u);var r=o.x1,l=o.y1,v=o.x2,h=o.y2,c=o.x3,p=o.y3,g=x(c,p,v,h),m=x(r,l,c,p),y=x(v,h,r,l),S=g+m+y;return a.x=(r*g+v*m+c*y)/S,a.y=(l*g+h*m+p*y)/S,a};n.exports=d},13584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e.x1+=u,e.y1+=x,e.x2+=u,e.y2+=x,e.x3+=u,e.y3+=x,e};n.exports=C},1376:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35001),x=function(d){var o=d.getLineA(),a=d.getLineB(),r=d.getLineC();return u(o)+u(a)+u(r)};n.exports=x},90260:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2141),x=function(d,o){o===void 0&&(o=new u);var a=d.x2-d.x1,r=d.y2-d.y1,l=d.x3-d.x1,v=d.y3-d.y1,h=Math.random(),c=Math.random();return h+c>=1&&(h=1-h,c=1-c),o.x=d.x1+(a*h+l*c),o.y=d.y1+(r*h+v*c),o};n.exports=x},52172:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99614),x=e(39757),d=function(o,a){var r=x(o);return u(o,r.x,r.y,a)};n.exports=d},49907:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99614),x=function(d,o,a){return u(d,o.x,o.y,a)};n.exports=x},99614:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=Math.cos(d),a=Math.sin(d),r=e.x1-u,l=e.y1-x;return e.x1=r*o-l*a+u,e.y1=r*a+l*o+x,r=e.x2-u,l=e.y2-x,e.x2=r*o-l*a+u,e.y2=r*a+l*o+x,r=e.x3-u,l=e.y3-x,e.x3=r*o-l*a+u,e.y3=r*a+l*o+x,e};n.exports=C},16483:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(10690),d=e(20437),o=e(80672),a=e(23777),r=e(23031),l=e(90260),v=new u({initialize:function(c,p,g,m,y,S){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=0),this.type=a.TRIANGLE,this.x1=c,this.y1=p,this.x2=g,this.y2=m,this.x3=y,this.y3=S},contains:function(h,c){return x(this,h,c)},getPoint:function(h,c){return d(this,h,c)},getPoints:function(h,c,p){return o(this,h,c,p)},getRandomPoint:function(h){return l(this,h)},setTo:function(h,c,p,g,m,y){return h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),this.x1=h,this.y1=c,this.x2=p,this.y2=g,this.x3=m,this.y3=y,this},getLineA:function(h){return h===void 0&&(h=new r),h.setTo(this.x1,this.y1,this.x2,this.y2),h},getLineB:function(h){return h===void 0&&(h=new r),h.setTo(this.x2,this.y2,this.x3,this.y3),h},getLineC:function(h){return h===void 0&&(h=new r),h.setTo(this.x3,this.y3,this.x1,this.y1),h},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(h){var c=0;this.x1<=this.x2&&this.x1<=this.x3?c=this.x1-h:this.x2<=this.x1&&this.x2<=this.x3?c=this.x2-h:c=this.x3-h,this.x1-=c,this.x2-=c,this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(h){var c=0;this.x1>=this.x2&&this.x1>=this.x3?c=this.x1-h:this.x2>=this.x1&&this.x2>=this.x3?c=this.x2-h:c=this.x3-h,this.x1-=c,this.x2-=c,this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(h){var c=0;this.y1<=this.y2&&this.y1<=this.y3?c=this.y1-h:this.y2<=this.y1&&this.y2<=this.y3?c=this.y2-h:c=this.y3-h,this.y1-=c,this.y2-=c,this.y3-=c}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(h){var c=0;this.y1>=this.y2&&this.y1>=this.y3?c=this.y1-h:this.y2>=this.y1&&this.y2>=this.y3?c=this.y2-h:c=this.y3-h,this.y1-=c,this.y2-=c,this.y3-=c}}});n.exports=v},84435:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16483);u.Area=e(41658),u.BuildEquilateral=e(39208),u.BuildFromPolygon=e(39545),u.BuildRight=e(90301),u.CenterOn=e(23707),u.Centroid=e(97523),u.CircumCenter=e(24951),u.CircumCircle=e(85614),u.Clone=e(74422),u.Contains=e(10690),u.ContainsArray=e(48653),u.ContainsPoint=e(96006),u.CopyFrom=e(71326),u.Decompose=e(71694),u.Equals=e(33522),u.GetPoint=e(20437),u.GetPoints=e(80672),u.InCenter=e(39757),u.Perimeter=e(1376),u.Offset=e(13584),u.Random=e(90260),u.Rotate=e(52172),u.RotateAroundPoint=e(49907),u.RotateAroundXY=e(99614),n.exports=u},74457:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};n.exports=C},84409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return function(x,d,o,a){var r=e.getPixelAlpha(d,o,a.texture.key,a.frame.name);return r&&r>=u}};n.exports=C},7003:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(93301),d=e(50792),o=e(8214),a=e(8443),r=e(78970),l=e(85098),v=e(42515),h=e(36210),c=e(61340),p=e(85955),g=new u({initialize:function(y,S){this.game=y,this.scaleManager,this.canvas,this.config=S,this.enabled=!0,this.events=new d,this.isOver=!0,this.defaultCursor="",this.keyboard=S.inputKeyboard?new r(this):null,this.mouse=S.inputMouse?new l(this):null,this.touch=S.inputTouch?new h(this):null,this.pointers=[],this.pointersTotal=S.inputActivePointers,S.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var M=0;M<=this.pointersTotal;M++){var P=new v(this,M);P.smoothFactor=S.inputSmoothFactor,this.pointers.push(P)}this.mousePointer=S.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],y.events.once(a.BOOT,this.boot,this)},boot:function(){var m=this.game,y=m.events;this.canvas=m.canvas,this.scaleManager=m.scale,this.events.emit(o.MANAGER_BOOT),y.on(a.PRE_RENDER,this.preRender,this),y.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(m){this.isOver=!0,this.events.emit(o.GAME_OVER,m)},setCanvasOut:function(m){this.isOver=!1,this.events.emit(o.GAME_OUT,m)},preRender:function(){var m=this.game.loop.now,y=this.game.loop.delta,S=this.game.scene.getScenes(!0,!0);this.time=m,this.events.emit(o.MANAGER_UPDATE);for(var M=0;M<S.length;M++){var P=S[M];if(P.sys.input&&P.sys.input.updatePoll(m,y)&&this.globalTopOnly)return}},setDefaultCursor:function(m){this.defaultCursor=m,this.canvas.style.cursor!==m&&(this.canvas.style.cursor=m)},setCursor:function(m){m.cursor&&(this.canvas.style.cursor=m.cursor)},resetCursor:function(m){m.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(m){m===void 0&&(m=1);var y=[];this.pointersTotal+m>10&&(m=10-this.pointersTotal);for(var S=0;S<m;S++){var M=this.pointers.length,P=new v(this,M);P.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(P),this.pointersTotal++,y.push(P)}return y},updateInputPlugins:function(m,y){var S=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var M=0;M<S.length;M++){var P=S[M];if(P.sys.input){var w=P.sys.input.update(m,y);if(w&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(m){for(var y=this.pointers,S=[],M=0;M<m.changedTouches.length;M++)for(var P=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=y[w];if(!R.active){R.touchstart(P,m),this.activePointer=R,S.push(R);break}}this.updateInputPlugins(x.TOUCH_START,S)},onTouchMove:function(m){for(var y=this.pointers,S=[],M=0;M<m.changedTouches.length;M++)for(var P=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=y[w];if(R.active&&R.identifier===P.identifier){var A=document.elementFromPoint(P.clientX,P.clientY),L=A===this.canvas;!this.isOver&&L?this.setCanvasOver(m):this.isOver&&!L&&this.setCanvasOut(m),this.isOver&&(R.touchmove(P,m),this.activePointer=R,S.push(R));break}}this.updateInputPlugins(x.TOUCH_MOVE,S)},onTouchEnd:function(m){for(var y=this.pointers,S=[],M=0;M<m.changedTouches.length;M++)for(var P=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=y[w];if(R.active&&R.identifier===P.identifier){R.touchend(P,m),S.push(R);break}}this.updateInputPlugins(x.TOUCH_END,S)},onTouchCancel:function(m){for(var y=this.pointers,S=[],M=0;M<m.changedTouches.length;M++)for(var P=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=y[w];if(R.active&&R.identifier===P.identifier){R.touchcancel(P,m),S.push(R);break}}this.updateInputPlugins(x.TOUCH_CANCEL,S)},onMouseDown:function(m){var y=this.mousePointer;y.down(m),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(m){var y=this.mousePointer;y.move(m),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(m){var y=this.mousePointer;y.up(m),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(m){var y=this.mousePointer;y.wheel(m),this.activePointer=y,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(m){var y=this.mouse.locked;this.mousePointer.locked=y,this.events.emit(o.POINTERLOCK_CHANGE,m,y)},inputCandidate:function(m,y){var S=m.input;if(!S||!S.enabled||!m.willRender(y))return!1;var M=!0,P=m.parentContainer;if(P)do{if(!P.willRender(y)){M=!1;break}P=P.parentContainer}while(P);return M},hitTest:function(m,y,S,M){M===void 0&&(M=this._tempHitTest);var P=this._tempPoint,w=S.scrollX,R=S.scrollY;M.length=0;var A=m.x,L=m.y;S.getWorldPoint(A,L,P),m.worldX=P.x,m.worldY=P.y;for(var F={x:0,y:0},O=this._tempMatrix,b=this._tempMatrix2,B=0;B<y.length;B++){var I=y[B];if(!!this.inputCandidate(I,S)){var N=P.x+w*I.scrollFactorX-w,X=P.y+R*I.scrollFactorY-R;I.parentContainer?(I.getWorldTransformMatrix(O,b),O.applyInverse(N,X,F)):p(N,X,I.x,I.y,I.rotation,I.scaleX,I.scaleY,F),this.pointWithinHitArea(I,F.x,F.y)&&M.push(I)}}return M},pointWithinHitArea:function(m,y,S){y+=m.displayOriginX,S+=m.displayOriginY;var M=m.input;return M&&M.hitAreaCallback(M.hitArea,y,S,m)?(M.localX=y,M.localY=S,!0):!1},pointWithinInteractiveObject:function(m,y,S){return m.hitArea?(y+=m.gameObject.displayOriginX,S+=m.gameObject.displayOriginY,m.localX=y,m.localY=S,m.hitAreaCallback(m.hitArea,y,S,m)):!1},transformPointer:function(m,y,S,M){var P=m.position,w=m.prevPosition;w.x=P.x,w.y=P.y;var R=this.scaleManager.transformX(y),A=this.scaleManager.transformY(S),L=m.smoothFactor;!M||L===0?(P.x=R,P.y=A):(P.x=R*L+w.x*(1-L),P.y=A*L+w.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(a.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var m=0;m<this.pointers.length;m++)this.pointers[m].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});n.exports=g},48205:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96503),x=e(87902),d=e(83419),o=e(93301),a=e(74457),r=e(84409),l=e(20339),v=e(8497),h=e(81154),c=e(8214),p=e(50792),g=e(95540),m=e(23777),y=e(89639),S=e(41212),M=e(37277),P=e(87841),w=e(37303),R=e(44594),A=e(16483),L=e(10690),F=new d({Extends:p,initialize:function(b){p.call(this),this.scene=b,this.systems=b.sys,this.settings=b.sys.settings,this.manager=b.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,y.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,b.sys.events.once(R.BOOT,this.boot,this),b.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var O=this.systems.events;O.on(R.TRANSITION_START,this.transitionIn,this),O.on(R.TRANSITION_OUT,this.transitionOut,this),O.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),O.on(R.PRE_UPDATE,this.preUpdate,this),O.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(O){this.isActive()&&this.emit(c.GAME_OVER,O.timeStamp,O)},onGameOut:function(O){this.isActive()&&this.emit(c.GAME_OUT,O.timeStamp,O)},preUpdate:function(){this.pluginEvents.emit(c.PRE_UPDATE);var O=this._pendingRemoval,b=this._pendingInsertion,B=O.length,I=b.length;if(!(B===0&&I===0)){for(var N=this._list,X=0;X<B;X++){var k=O[X],H=N.indexOf(k);H>-1&&(N.splice(H,1),this.clear(k,!0))}this._pendingRemoval.length=0,this._list=N.concat(b.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(O,b){if(!this.isActive())return!1;if(this.pluginEvents.emit(c.UPDATE,O,b),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,I=this.manager,N=I.pointers,X=I.pointersTotal;for(B=0;B<X;B++)N[B].updateMotion();if(this._list.length===0)return!1;var k=this.pollRate;if(k===-1)return!1;if(k>0)if(this._pollTimer-=b,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(B=0;B<X;B++){var V=0,W=N[B];this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),V+=this.processOverOutEvents(W),this.getDragState(W)===2&&this.processDragThresholdEvent(W,O),V>0&&(H=!0)}return H},update:function(O,b){if(!this.isActive())return!1;for(var B=b.length,I=!1,N=0;N<B;N++){var X=0,k=b[N];switch(this._tempZones=[],this._temp=this.hitTestPointer(k),this.sortGameObjects(this._temp,k),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),O){case o.MOUSE_DOWN:X+=this.processDragDownEvent(k),X+=this.processDownEvents(k),X+=this.processOverOutEvents(k);break;case o.MOUSE_UP:X+=this.processDragUpEvent(k),X+=this.processUpEvents(k),X+=this.processOverOutEvents(k);break;case o.TOUCH_START:X+=this.processDragDownEvent(k),X+=this.processDownEvents(k),X+=this.processOverEvents(k);break;case o.TOUCH_END:case o.TOUCH_CANCEL:X+=this.processDragUpEvent(k),X+=this.processUpEvents(k),X+=this.processOutEvents(k);break;case o.MOUSE_MOVE:case o.TOUCH_MOVE:X+=this.processDragMoveEvent(k),X+=this.processMoveEvents(k),X+=this.processOverOutEvents(k);break;case o.MOUSE_WHEEL:X+=this.processWheelEvent(k);break}X>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(O,b){b===void 0&&(b=!1),this.disable(O);var B=O.input;B&&(this.removeDebug(O),this.manager.resetCursor(B),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,O.input=null),b||this.queueForRemoval(O);var I=this._draggable.indexOf(O);return I>-1&&this._draggable.splice(I,1),O},disable:function(O){var b=O.input;b&&(b.enabled=!1,b.dragState=0);for(var B=this._drag,I=this._over,N=this.manager,X=0,k;X<N.pointersTotal;X++)k=B[X].indexOf(O),k>-1&&B[X].splice(k,1),k=I[X].indexOf(O),k>-1&&I[X].splice(k,1);return this},enable:function(O,b,B,I){return I===void 0&&(I=!1),O.input?O.input.enabled=!0:this.setHitArea(O,b,B),O.input&&I&&!O.input.dropZone&&(O.input.dropZone=I),this},hitTestPointer:function(O){for(var b=this.cameras.getCamerasBelowPointer(O),B=0;B<b.length;B++){for(var I=b[B],N=this.manager.hitTest(O,this._list,I),X=0;X<N.length;X++){var k=N[X];k.input.dropZone&&this._tempZones.push(k)}if(N.length>0)return O.camera=I,N}return O.camera=b[0],[]},processDownEvents:function(O){var b=0,B=this._temp,I=this._eventData,N=this._eventContainer;I.cancelled=!1;for(var X=!1,k=0;k<B.length;k++){var H=B[k];if(!(!H.input||!H.input.enabled)){if(b++,H.emit(c.GAMEOBJECT_POINTER_DOWN,O,H.input.localX,H.input.localY,N),I.cancelled||!H.input||!H.input.enabled){X=!0;break}if(this.emit(c.GAMEOBJECT_DOWN,O,H,N),I.cancelled||!H.input){X=!0;break}}}return!X&&this.manager&&(O.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,O,B):this.emit(c.POINTER_DOWN_OUTSIDE,O)),b},getDragState:function(O){return this._dragState[O.id]},setDragState:function(O,b){this._dragState[O.id]=b},processDragThresholdEvent:function(O,b){var B=!1,I=this.dragTimeThreshold,N=this.dragDistanceThreshold;if((N>0&&l(O.x,O.y,O.downX,O.downY)>=N||I>0&&b>=O.downTime+I)&&(B=!0),B)return this.setDragState(O,3),this.processDragStartList(O)},processDragStartList:function(O){if(this.getDragState(O)!==3)return 0;for(var b=this._drag[O.id],B=0;B<b.length;B++){var I=b[B],N=I.input;N.dragState=2,N.dragStartX=I.x,N.dragStartY=I.y,N.dragStartXGlobal=O.worldX,N.dragStartYGlobal=O.worldY,N.dragX=N.dragStartXGlobal-N.dragStartX,N.dragY=N.dragStartYGlobal-N.dragStartY,I.emit(c.GAMEOBJECT_DRAG_START,O,N.dragX,N.dragY),this.emit(c.DRAG_START,O,I)}return this.setDragState(O,4),b.length},processDragDownEvent:function(O){var b=this._temp;if(this._draggable.length===0||b.length===0||!O.primaryDown||this.getDragState(O)!==0)return 0;this.setDragState(O,1);for(var B=[],I=0;I<b.length;I++){var N=b[I];N.input.draggable&&N.input.dragState===0&&B.push(N)}return B.length===0?(this.setDragState(O,0),0):(B.length>1&&(this.sortGameObjects(B,O),this.topOnly&&B.splice(1)),this._drag[O.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(O,3),this.processDragStartList(O)):(this.setDragState(O,2),0))},processDragMoveEvent:function(O){if(this.getDragState(O)===2&&this.processDragThresholdEvent(O,this.manager.game.loop.now),this.getDragState(O)!==4)return 0;for(var b=this._tempZones,B=this._drag[O.id],I=0;I<B.length;I++){var N=B[I],X=N.input,k=X.target;if(k){var H=b.indexOf(k);H===0?(N.emit(c.GAMEOBJECT_DRAG_OVER,O,k),this.emit(c.DRAG_OVER,O,N,k)):H>0?(N.emit(c.GAMEOBJECT_DRAG_LEAVE,O,k),this.emit(c.DRAG_LEAVE,O,N,k),X.target=b[0],k=X.target,N.emit(c.GAMEOBJECT_DRAG_ENTER,O,k),this.emit(c.DRAG_ENTER,O,N,k)):(N.emit(c.GAMEOBJECT_DRAG_LEAVE,O,k),this.emit(c.DRAG_LEAVE,O,N,k),b[0]?(X.target=b[0],k=X.target,N.emit(c.GAMEOBJECT_DRAG_ENTER,O,k),this.emit(c.DRAG_ENTER,O,N,k)):X.target=null)}else!k&&b[0]&&(X.target=b[0],k=X.target,N.emit(c.GAMEOBJECT_DRAG_ENTER,O,k),this.emit(c.DRAG_ENTER,O,N,k));var V,W;if(!N.parentContainer)V=O.worldX-X.dragX,W=O.worldY-X.dragY;else{var D=O.worldX-X.dragStartXGlobal,G=O.worldY-X.dragStartYGlobal,z=N.getParentRotation(),U=D*Math.cos(z)+G*Math.sin(z),Y=G*Math.cos(z)-D*Math.sin(z);U*=1/N.parentContainer.scaleX,Y*=1/N.parentContainer.scaleY,V=U+X.dragStartX,W=Y+X.dragStartY}N.emit(c.GAMEOBJECT_DRAG,O,V,W),this.emit(c.DRAG,O,N,V,W)}return B.length},processDragUpEvent:function(O){for(var b=this._drag[O.id],B=0;B<b.length;B++){var I=b[B],N=I.input;if(N&&N.dragState===2){N.dragState=0,N.dragX=N.localX-I.displayOriginX,N.dragY=N.localY-I.displayOriginY;var X=!1,k=N.target;k&&(I.emit(c.GAMEOBJECT_DROP,O,k),this.emit(c.DROP,O,I,k),N.target=null,X=!0),I.input&&I.input.enabled&&(I.emit(c.GAMEOBJECT_DRAG_END,O,N.dragX,N.dragY,X),this.emit(c.DRAG_END,O,I,X))}}return this.setDragState(O,0),b.splice(0),0},processMoveEvents:function(O){var b=0,B=this._temp,I=this._eventData,N=this._eventContainer;I.cancelled=!1;for(var X=!1,k=0;k<B.length;k++){var H=B[k];if(!(!H.input||!H.input.enabled)){if(b++,H.emit(c.GAMEOBJECT_POINTER_MOVE,O,H.input.localX,H.input.localY,N),I.cancelled||!H.input||!H.input.enabled){X=!0;break}if(this.emit(c.GAMEOBJECT_MOVE,O,H,N),I.cancelled||!H.input||!H.input.enabled){X=!0;break}if(this.topOnly)break}}return X||this.emit(c.POINTER_MOVE,O,B),b},processWheelEvent:function(O){var b=0,B=this._temp,I=this._eventData,N=this._eventContainer;I.cancelled=!1;for(var X=!1,k=O.deltaX,H=O.deltaY,V=O.deltaZ,W=0;W<B.length;W++){var D=B[W];if(!(!D.input||!D.input.enabled)){if(b++,D.emit(c.GAMEOBJECT_POINTER_WHEEL,O,k,H,V,N),I.cancelled||!D.input||!D.input.enabled){X=!0;break}if(this.emit(c.GAMEOBJECT_WHEEL,O,D,k,H,V,N),I.cancelled||!D.input||!D.input.enabled){X=!0;break}}}return X||this.emit(c.POINTER_WHEEL,O,B,k,H,V),b},processOverEvents:function(O){var b=this._temp,B=0,I=b.length,N=[];if(I>0){var X=this.manager,k=this._eventData,H=this._eventContainer;k.cancelled=!1;for(var V=!1,W=0;W<I;W++){var D=b[W];if(!(!D.input||!D.input.enabled)){if(N.push(D),X.setCursor(D.input),D.emit(c.GAMEOBJECT_POINTER_OVER,O,D.input.localX,D.input.localY,H),B++,k.cancelled||!D.input||!D.input.enabled){V=!0;break}if(this.emit(c.GAMEOBJECT_OVER,O,D,H),k.cancelled||!D.input||!D.input.enabled){V=!0;break}}}V||this.emit(c.POINTER_OVER,O,N)}return this._over[O.id]=N,B},processOutEvents:function(O){var b=this._over[O.id],B=0,I=b.length;if(I>0){var N=this.manager,X=this._eventData,k=this._eventContainer;X.cancelled=!1;var H=!1;this.sortGameObjects(b,O);for(var V=0;V<I;V++){var W=b[V];if(W=b[V],!(!W.input||!W.input.enabled)){if(N.resetCursor(W.input),W.emit(c.GAMEOBJECT_POINTER_OUT,O,k),B++,X.cancelled||!W.input||!W.input.enabled){H=!0;break}if(this.emit(c.GAMEOBJECT_OUT,O,W,k),X.cancelled||!W.input||!W.input.enabled){H=!0;break}H||this.emit(c.POINTER_OUT,O,b)}}this._over[O.id]=[]}return B},processOverOutEvents:function(O){var b=this._temp,B,I,N=[],X=[],k=[],H=this._over[O.id],V=this._drag[O.id],W=this.manager;for(B=0;B<H.length;B++)I=H[B],b.indexOf(I)===-1&&V.indexOf(I)===-1?N.push(I):k.push(I);for(B=0;B<b.length;B++)I=b[B],H.indexOf(I)===-1&&X.push(I);var D=N.length,G=0,z=this._eventData,U=this._eventContainer;z.cancelled=!1;var Y=!1;if(D>0){for(this.sortGameObjects(N,O),B=0;B<D;B++)if(I=N[B],!(!I.input||!I.input.enabled)){if(W.resetCursor(I.input),I.emit(c.GAMEOBJECT_POINTER_OUT,O,U),G++,z.cancelled||!I.input||!I.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_OUT,O,I,U),z.cancelled||!I.input||!I.input.enabled){Y=!0;break}}Y||this.emit(c.POINTER_OUT,O,N)}if(D=X.length,z.cancelled=!1,Y=!1,D>0){for(this.sortGameObjects(X,O),B=0;B<D;B++)if(I=X[B],!(!I.input||!I.input.enabled)){if(W.setCursor(I.input),I.emit(c.GAMEOBJECT_POINTER_OVER,O,I.input.localX,I.input.localY,U),G++,z.cancelled||!I.input||!I.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_OVER,O,I,U),z.cancelled||!I.input||!I.input.enabled){Y=!0;break}}Y||this.emit(c.POINTER_OVER,O,X)}return H=k.concat(X),this._over[O.id]=this.sortGameObjects(H,O),G},processUpEvents:function(O){var b=this._temp,B=this._eventData,I=this._eventContainer;B.cancelled=!1;for(var N=!1,X=0;X<b.length;X++){var k=b[X];if(!(!k.input||!k.input.enabled)){if(k.emit(c.GAMEOBJECT_POINTER_UP,O,k.input.localX,k.input.localY,I),B.cancelled||!k.input||!k.input.enabled){N=!0;break}if(this.emit(c.GAMEOBJECT_UP,O,k,I),B.cancelled||!k.input||!k.input.enabled){N=!0;break}}}return!N&&this.manager&&(O.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,O,b):this.emit(c.POINTER_UP_OUTSIDE,O)),b.length},queueForInsertion:function(O){return this._pendingInsertion.indexOf(O)===-1&&this._list.indexOf(O)===-1&&this._pendingInsertion.push(O),this},queueForRemoval:function(O){return this._pendingRemoval.push(O),this},setDraggable:function(O,b){b===void 0&&(b=!0),Array.isArray(O)||(O=[O]);for(var B=0;B<O.length;B++){var I=O[B];I.input.draggable=b;var N=this._draggable.indexOf(I);b&&N===-1?this._draggable.push(I):!b&&N>-1&&this._draggable.splice(N,1)}return this},makePixelPerfect:function(O){O===void 0&&(O=1);var b=this.systems.textures;return r(b,O)},setHitArea:function(O,b,B){if(b===void 0)return this.setHitAreaFromTexture(O);Array.isArray(O)||(O=[O]);var I=!1,N=!1,X=!1,k=!1,H=!1,V=!0;if(S(b)&&Object.keys(b).length){var W=b,D=O.some(function($){return $.hasOwnProperty("faces")});if(!D){b=g(W,"hitArea",null),B=g(W,"hitAreaCallback",null),H=g(W,"pixelPerfect",!1);var G=g(W,"alphaTolerance",1);H&&(b={},B=this.makePixelPerfect(G))}I=g(W,"draggable",!1),N=g(W,"dropZone",!1),X=g(W,"cursor",!1),k=g(W,"useHandCursor",!1),(!b||!B)&&(this.setHitAreaFromTexture(O),V=!1)}else typeof b=="function"&&!B&&(B=b,b={});for(var z=0;z<O.length;z++){var U=O[z];if(H&&U.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Y=U.input?U.input:a(U,b,B);Y.customHitArea=V,Y.dropZone=N,Y.cursor=k?"pointer":X,U.input=Y,I&&this.setDraggable(U),this.queueForInsertion(U)}return this},setHitAreaCircle:function(O,b,B,I,N){N===void 0&&(N=x);var X=new u(b,B,I);return this.setHitArea(O,X,N)},setHitAreaEllipse:function(O,b,B,I,N,X){X===void 0&&(X=h);var k=new v(b,B,I,N);return this.setHitArea(O,k,X)},setHitAreaFromTexture:function(O,b){b===void 0&&(b=w),Array.isArray(O)||(O=[O]);for(var B=0;B<O.length;B++){var I=O[B],N=I.frame,X=0,k=0;if(I.width?(X=I.width,k=I.height):N&&(X=N.realWidth,k=N.realHeight),I.type==="Container"&&(X===0||k===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&k!==0&&(I.input=a(I,new P(0,0,X,k),b),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(O,b,B,I,N,X){X===void 0&&(X=w);var k=new P(b,B,I,N);return this.setHitArea(O,k,X)},setHitAreaTriangle:function(O,b,B,I,N,X,k,H){H===void 0&&(H=L);var V=new A(b,B,I,N,X,k);return this.setHitArea(O,V,H)},enableDebug:function(O,b){b===void 0&&(b=65280);var B=O.input;if(!B||!B.hitArea)return this;var I=B.hitArea,N=I.type,X=B.hitAreaDebug,k=this.systems.add,H=this.systems.updateList;X&&(H.remove(X),X.destroy(),X=null);var V=0,W=0;switch(N){case m.CIRCLE:X=k.arc(0,0,I.radius),V=I.x-I.radius,W=I.y-I.radius;break;case m.ELLIPSE:X=k.ellipse(0,0,I.width,I.height),V=I.x-I.width/2,W=I.y-I.height/2;break;case m.LINE:X=k.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case m.POLYGON:X=k.polygon(0,0,I.points);break;case m.RECTANGLE:X=k.rectangle(0,0,I.width,I.height),V=I.x,W=I.y;break;case m.TRIANGLE:X=k.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return X&&(X.isFilled=!1,X.strokeColor=b,X.preUpdate=function(){X.setVisible(O.visible),X.setStrokeStyle(1/O.scale,X.strokeColor),X.setDisplayOrigin(O.displayOriginX,O.displayOriginY);var D=O.x,G=O.y,z=O.rotation,U=O.scaleX,Y=O.scaleY;if(O.parentContainer){var $=O.getWorldTransformMatrix();D=$.tx,G=$.ty,z=$.rotation,U=$.scaleX,Y=$.scaleY}X.setRotation(z),X.setScale(U,Y),X.setPosition(D+V*U,G+W*Y),X.setScrollFactor(O.scrollFactorX,O.scrollFactorY),X.setDepth(O.depth)},H.add(X),B.hitAreaDebug=X),this},removeDebug:function(O){var b=O.input;if(b&&b.hitAreaDebug){var B=b.hitAreaDebug;B.destroy(),b.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(O){return this.pollRate=O,this._pollTimer=0,this},setGlobalTopOnly:function(O){return this.manager.globalTopOnly=O,this},setTopOnly:function(O){return this.topOnly=O,this},sortGameObjects:function(O,b){if(O.length<2||!b.camera)return O;var B=b.camera.renderList;return O.sort(function(I,N){var X=Math.max(B.indexOf(I),0),k=Math.max(B.indexOf(N),0);return k-X})},sortDropZones:function(O){return O.length<2?O:(this.scene.sys.depthSort(),O.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(O,b){if(!O.parentContainer&&!b.parentContainer)return this.displayList.getIndex(b)-this.displayList.getIndex(O);if(O.parentContainer===b.parentContainer)return b.parentContainer.getIndex(b)-O.parentContainer.getIndex(O);if(O.parentContainer===b)return-1;if(b.parentContainer===O)return 1;for(var B=O.getIndexList(),I=b.getIndexList(),N=Math.min(B.length,I.length),X=0;X<N;X++){var k=B[X],H=I[X];if(k!==H)return H-k}return I.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(O){return this.manager.addPointer(O)},setDefaultCursor:function(O){return this.manager.setDefaultCursor(O),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var O=0;O<10;O++)this._drag[O]=[],this._over[O]=[];this.removeAllListeners();var b=this.manager;b.canvas.style.cursor=b.defaultCursor;var B=this.systems.events;B.off(R.TRANSITION_START,this.transitionIn,this),B.off(R.TRANSITION_OUT,this.transitionOut,this),B.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(R.PRE_UPDATE,this.preUpdate,this),b.events.off(c.GAME_OUT,this.onGameOut,this),b.events.off(c.GAME_OVER,this.onGameOver,this),B.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var O=this.manager.pointers,b=0;b<O.length;b++)O[b].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});M.register("InputPlugin",F,"input"),n.exports=F},89639:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),x={},d={};d.register=function(o,a,r,l,v){x[o]={plugin:a,mapping:r,settingsKey:l,configKey:v}},d.getPlugin=function(o){return x[o]},d.install=function(o){var a=o.scene.sys,r=a.settings.input,l=a.game.config;for(var v in x){var h=x[v].plugin,c=x[v].mapping,p=x[v].settingsKey,g=x[v].configKey;u(r,p,l[g])&&(o[c]=new h(o))}},d.remove=function(o){x.hasOwnProperty(o)&&delete x[o]},n.exports=d},42515:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(31040),x=e(83419),d=e(20339),o=e(43855),a=e(47235),r=e(26099),l=e(25892),v=new x({initialize:function(c,p){this.manager=c,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new r,this.prevPosition=new r,this.midPoint=new r(-1,-1),this.velocity=new r,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(h){var c=h.getWorldPoint(this.x,this.y);return this.worldX=c.x,this.worldY=c.y,this},positionToCamera:function(h,c){return h.getWorldPoint(this.x,this.y,c)},updateMotion:function(){var h=this.position.x,c=this.position.y,p=this.midPoint.x,g=this.midPoint.y;if(!(h===p&&c===g)){var m=a(this.motionFactor,p,h),y=a(this.motionFactor,g,c);o(m,h,.1)&&(m=h),o(y,c,.1)&&(y=c),this.midPoint.set(m,y);var S=h-m,M=c-y;this.velocity.set(S,M),this.angle=u(m,y,h,c),this.distance=Math.sqrt(S*S+M*M)}},up:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=h.timeStamp,this.wasTouch=!1)},down:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),l.macOS&&h.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=h.timeStamp),this.wasTouch=!1},move:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.locked&&(this.movementX=h.movementX||h.mozMovementX||h.webkitMovementX||0,this.movementY=h.movementY||h.mozMovementY||h.webkitMovementY||0),this.moveTime=h.timeStamp,this.wasTouch=!1},wheel:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.deltaX=h.deltaX,this.deltaY=h.deltaY,this.deltaZ=h.deltaZ,this.wasTouch=!1},touchstart:function(h,c){h.pointerId&&(this.pointerId=h.pointerId),this.identifier=h.identifier,this.target=h.target,this.active=!0,this.buttons=1,this.event=c,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=c.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(h,c){this.event=c,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.moveTime=c.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(h,c){this.buttons=0,this.event=c,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(h,c){this.buttons=0,this.event=c,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?u(this.downX,this.downY,this.x,this.y):u(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(h,c){h===void 0&&(h=10),c===void 0&&(c=[]);for(var p=this.prevPosition.x,g=this.prevPosition.y,m=this.position.x,y=this.position.y,S=0;S<h;S++){var M=1/h*S;c[S]={x:a(M,p,m),y:a(M,g,y)}}return c},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},time:{get:function(){return this.event?this.event.timeStamp:0}}});n.exports=v},93301:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=C},7179:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},85375:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},39843:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},23388:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},16133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},27829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},53904:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},56058:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},2642:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},88171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"},36147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},71692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},96149:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},81285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},74048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},21322:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},49378:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},86754:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"},86433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"},60709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"},24081:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},11172:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},18907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},95579:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},35368:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},26972:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},47078:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"},73802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"},56718:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"},25936:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"},27503:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},50852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"},96438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},59152:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"},47777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},27957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"},19444:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},54251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},18667:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},27192:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},24652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"},45132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},44512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},15757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},41637:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},93802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},8214:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:e(7179),DESTROY:e(85375),DRAG_END:e(39843),DRAG_ENTER:e(23388),DRAG:e(16133),DRAG_LEAVE:e(27829),DRAG_OVER:e(53904),DRAG_START:e(56058),DROP:e(2642),GAME_OUT:e(56718),GAME_OVER:e(25936),GAMEOBJECT_DOWN:e(88171),GAMEOBJECT_DRAG_END:e(36147),GAMEOBJECT_DRAG_ENTER:e(71692),GAMEOBJECT_DRAG:e(96149),GAMEOBJECT_DRAG_LEAVE:e(81285),GAMEOBJECT_DRAG_OVER:e(74048),GAMEOBJECT_DRAG_START:e(21322),GAMEOBJECT_DROP:e(49378),GAMEOBJECT_MOVE:e(86754),GAMEOBJECT_OUT:e(86433),GAMEOBJECT_OVER:e(60709),GAMEOBJECT_POINTER_DOWN:e(24081),GAMEOBJECT_POINTER_MOVE:e(11172),GAMEOBJECT_POINTER_OUT:e(18907),GAMEOBJECT_POINTER_OVER:e(95579),GAMEOBJECT_POINTER_UP:e(35368),GAMEOBJECT_POINTER_WHEEL:e(26972),GAMEOBJECT_UP:e(47078),GAMEOBJECT_WHEEL:e(73802),MANAGER_BOOT:e(27503),MANAGER_PROCESS:e(50852),MANAGER_UPDATE:e(96438),POINTER_DOWN:e(47777),POINTER_DOWN_OUTSIDE:e(27957),POINTER_MOVE:e(19444),POINTER_OUT:e(54251),POINTER_OVER:e(18667),POINTER_UP:e(27192),POINTER_UP_OUTSIDE:e(24652),POINTER_WHEEL:e(45132),POINTERLOCK_CHANGE:e(59152),PRE_UPDATE:e(44512),SHUTDOWN:e(15757),START:e(41637),UPDATE:e(93802)}},97421:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a){this.pad=o,this.events=o.events,this.index=a,this.value=0,this.threshold=.1},update:function(d){this.value=d},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});n.exports=x},28884:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(92734),d=new u({initialize:function(a,r){this.pad=a,this.events=a.manager,this.index=r,this.value=0,this.threshold=1,this.pressed=!1},update:function(o){this.value=o;var a=this.pad,r=this.index;o>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,a,this,o),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,r,o,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,a,this,o),this.pad.emit(x.GAMEPAD_BUTTON_UP,r,o,this))},destroy:function(){this.pad=null,this.events=null}});n.exports=d},99125:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97421),x=e(28884),d=e(83419),o=e(50792),a=e(26099),r=new d({Extends:o,initialize:function(v,h){o.call(this),this.manager=v,this.pad=h,this.id=h.id,this.index=h.index;for(var c=[],p=0;p<h.buttons.length;p++)c.push(new x(this,p));this.buttons=c;var g=[];for(p=0;p<h.axes.length;p++)g.push(new u(this,p));this.axes=g,this.vibration=h.vibrationActuator;var m={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:m,this._LCRight=c[15]?c[15]:m,this._LCTop=c[12]?c[12]:m,this._LCBottom=c[13]?c[13]:m,this._RCLeft=c[2]?c[2]:m,this._RCRight=c[1]?c[1]:m,this._RCTop=c[3]?c[3]:m,this._RCBottom=c[0]?c[0]:m,this._FBLeftTop=c[4]?c[4]:m,this._FBLeftBottom=c[6]?c[6]:m,this._FBRightTop=c[5]?c[5]:m,this._FBRightBottom=c[7]?c[7]:m;var y={value:0};this._HAxisLeft=g[0]?g[0]:y,this._VAxisLeft=g[1]?g[1]:y,this._HAxisRight=g[2]?g[2]:y,this._VAxisRight=g[3]?g[3]:y,this.leftStick=new a,this.rightStick=new a,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(l){return this.axes[l].getValue()},setAxisThreshold:function(l){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=l},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(l){return this.buttons[l].value},isButtonDown:function(l){return this.buttons[l].pressed},update:function(l){if(!(l.timestamp<this._created)){var v,h=this.buttons,c=l.buttons,p=h.length;for(v=0;v<p;v++)h[v].update(c[v].value);var g=this.axes,m=l.axes;for(p=g.length,v=0;v<p;v++)g[v].update(m[v]);p>=2&&(this.leftStick.set(g[0].getValue(),g[1].getValue()),p>=4&&this.rightStick.set(g[2].getValue(),g[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var l;for(l=0;l<this.buttons.length;l++)this.buttons[l].destroy();for(l=0;l<this.axes.length;l++)this.axes[l].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});n.exports=r},56654:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50792),d=e(92734),o=e(99125),a=e(35154),r=e(89639),l=e(8214),v=new u({Extends:x,initialize:function(c){x.call(this),this.scene=c.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=c,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,c.pluginEvents.once(l.BOOT,this.boot,this),c.pluginEvents.on(l.START,this.start,this)},boot:function(){var h=this.scene.sys.game,c=this.settings.input,p=h.config;this.enabled=a(c,"gamepad",p.inputGamepad)&&h.device.input.gamepads,this.target=a(c,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var h=this,c=this.target,p=function(g){g.defaultPrevented||!h.isActive()||(h.refreshPads(),h.queue.push(g))};this.onGamepadHandler=p,c.addEventListener("gamepadconnected",p,!1),c.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(l.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(l.UPDATE,this.update);for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].removeAllListeners()},disconnectAll:function(){for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].pad.connected=!1},refreshPads:function(){var h=navigator.getGamepads();if(!h)this.disconnectAll();else for(var c=this.gamepads,p=0;p<h.length;p++){var g=h[p];if(!!g){var m=g.id,y=g.index,S=c[y];if(S)S.id!==m?(S.destroy(),c[y]=new o(this,g)):S.update(g);else{var M=new o(this,g);c[y]=M,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=M):this._pad3=M:this._pad2=M:this._pad1=M}}}},getAll:function(){for(var h=[],c=this.gamepads,p=0;p<c.length;p++)c[p]&&h.push(c[p]);return h},getPad:function(h){for(var c=this.gamepads,p=0;p<c.length;p++)if(c[p]&&c[p].index===h)return c[p]},update:function(){if(!!this.enabled){this.refreshPads();var h=this.queue.length;if(h!==0)for(var c=this.queue.splice(0,h),p=0;p<h;p++){var g=c[p],m=this.getPad(g.gamepad.index);g.type==="gamepadconnected"?this.emit(d.CONNECTED,m,g):g.type==="gamepaddisconnected"&&this.emit(d.DISCONNECTED,m,g)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var h=0;h<this.gamepads.length;h++)this.gamepads[h]&&this.gamepads[h].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});r.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),n.exports=v},89651:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:e(65294),SNES_USB:e(89651),XBOX_360:e(90089)}},46008:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},7629:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},42206:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"},86544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"},94784:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},14325:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},92734:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:e(46008),BUTTON_UP:e(7629),CONNECTED:e(42206),DISCONNECTED:e(86544),GAMEPAD_BUTTON_DOWN:e(94784),GAMEPAD_BUTTON_UP:e(14325)}},48646:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:e(97421),Button:e(28884),Events:e(92734),Gamepad:e(99125),GamepadPlugin:e(56654),Configs:e(64894)}},14350:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93301),x=e(79291),d={CreatePixelPerfectHandler:e(84409),CreateInteractiveObject:e(74457),Events:e(8214),Gamepad:e(48646),InputManager:e(7003),InputPlugin:e(48205),InputPluginCache:e(89639),Keyboard:e(51442),Mouse:e(87078),Pointer:e(42515),Touch:e(95618)};d=x(!1,d,u),n.exports=d},78970:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72905),x=e(83419),d=e(8443),o=e(8214),a=e(46032),r=e(29747),l=new x({initialize:function(h){this.manager=h,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=r,this.onKeyUp=r,h.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(d.POST_STEP,this.postUpdate,this)},startListeners:function(){var v=this;this.onKeyDown=function(c){if(!(c.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(c),v.manager.events.emit(o.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;v.preventDefault&&!p&&v.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}},this.onKeyUp=function(c){if(!(c.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(c),v.manager.events.emit(o.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;v.preventDefault&&!p&&v.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}};var h=this.target;h&&(h.addEventListener("keydown",this.onKeyDown,!1),h.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var h=this.captures,c=0;c<v.length;c++){var p=v[c];typeof p=="string"&&(p=a[p.trim().toUpperCase()]),h.indexOf(p)===-1&&h.push(p)}this.preventDefault=h.length>0},removeCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var h=this.captures,c=0;c<v.length;c++){var p=v[c];typeof p=="string"&&(p=a[p.toUpperCase()]),u(h,p)}this.preventDefault=h.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(d.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});n.exports=l},28846:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50792),d=e(95922),o=e(8443),a=e(35154),r=e(8214),l=e(89639),v=e(30472),h=e(46032),c=e(87960),p=e(74600),g=e(44594),m=e(56583),y=new u({Extends:x,initialize:function(M){x.call(this),this.game=M.systems.game,this.scene=M.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=M,this.manager=M.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,M.pluginEvents.once(r.BOOT,this.boot,this),M.pluginEvents.on(r.START,this.start,this)},boot:function(){var S=this.settings.input;this.enabled=a(S,"keyboard",!0);var M=a(S,"keyboard.capture",null);M&&this.addCaptures(M),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(r.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this),this.game.events.on(o.BLUR,this.resetKeys,this),this.scene.sys.events.on(g.PAUSE,this.resetKeys,this),this.scene.sys.events.on(g.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(S){return this.manager.addCapture(S),this},removeCapture:function(S){return this.manager.removeCapture(S),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:h.UP,down:h.DOWN,left:h.LEFT,right:h.RIGHT,space:h.SPACE,shift:h.SHIFT})},addKeys:function(S,M,P){M===void 0&&(M=!0),P===void 0&&(P=!1);var w={};if(typeof S=="string"){S=S.split(",");for(var R=0;R<S.length;R++){var A=S[R].trim();A&&(w[A]=this.addKey(A,M,P))}}else for(var L in S)w[L]=this.addKey(S[L],M,P);return w},addKey:function(S,M,P){M===void 0&&(M=!0),P===void 0&&(P=!1);var w=this.keys;if(S instanceof v){var R=w.indexOf(S);return R>-1?w[R]=S:w[S.keyCode]=S,M&&this.addCapture(S.keyCode),S.setEmitOnRepeat(P),S}return typeof S=="string"&&(S=h[S.toUpperCase()]),w[S]||(w[S]=new v(this,S),M&&this.addCapture(S),w[S].setEmitOnRepeat(P)),w[S]},removeKey:function(S,M,P){M===void 0&&(M=!1),P===void 0&&(P=!1);var w=this.keys,R;if(S instanceof v){var A=w.indexOf(S);A>-1&&(R=this.keys[A],this.keys[A]=void 0)}else typeof S=="string"&&(S=h[S.toUpperCase()]);return w[S]&&(R=w[S],w[S]=void 0),R&&(R.plugin=null,P&&this.removeCapture(R.keyCode),M&&R.destroy()),this},removeAllKeys:function(S,M){S===void 0&&(S=!1),M===void 0&&(M=!1);for(var P=this.keys,w=0;w<P.length;w++){var R=P[w];R&&(P[w]=void 0,M&&this.removeCapture(R.keyCode),S&&R.destroy())}return this},createCombo:function(S,M){return new c(this,S,M)},checkDown:function(S,M){if(M===void 0&&(M=0),this.enabled&&S.isDown){var P=m(this.time-S.timeDown,M);if(P>S._tick)return S._tick=P,!0}return!1},update:function(){var S=this.manager.queue,M=S.length;if(!(!this.isActive()||M===0))for(var P=this.keys,w=0;w<M;w++){var R=S[w],A=R.keyCode,L=P[A],F=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(A===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=A,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(L&&(F=L.isDown,L.onDown(R)),!R.cancelled&&(!L||!F)&&(p[A]&&this.emit(d.KEY_DOWN+p[A],R),R.cancelled||this.emit(d.ANY_KEY_DOWN,R))):(L&&L.onUp(R),R.cancelled||(p[A]&&this.emit(d.KEY_UP+p[A],R),R.cancelled||this.emit(d.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var S=this.keys,M=0;M<S.length;M++)S[M]&&S[M].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(r.MANAGER_PROCESS,this.update,this),this.game.events.off(o.BLUR,this.resetKeys),this.scene.sys.events.off(g.PAUSE,this.resetKeys,this),this.scene.sys.events.off(g.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var S=this.keys,M=0;M<S.length;M++)S[M]&&S[M].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});l.register("KeyboardPlugin",y,"keyboard","keyboard","inputKeyboard"),n.exports=y},66970:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u.timeLastMatched=e.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};n.exports=C},87960:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95922),d=e(95540),o=e(68769),a=e(92803),r=new u({initialize:function(v,h,c){if(c===void 0&&(c={}),h.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var p=0;p<h.length;p++){var g=h[p];typeof g=="string"?this.keyCodes.push(g.toUpperCase().charCodeAt(0)):typeof g=="number"?this.keyCodes.push(g):g.hasOwnProperty("keyCode")&&this.keyCodes.push(g.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=d(c,"resetOnWrongKey",!0),this.maxKeyDelay=d(c,"maxKeyDelay",0),this.resetOnMatch=d(c,"resetOnMatch",!1),this.deleteOnMatch=d(c,"deleteOnMatch",!1);var m=this,y=function(S){if(!(m.matched||!m.enabled)){var M=o(S,m);M&&(m.manager.emit(x.COMBO_MATCH,m,S),m.resetOnMatch?a(m):m.deleteOnMatch&&m.destroy())}};this.onKeyDown=y,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});n.exports=r},68769:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66970),x=function(d,o){if(o.matched)return!0;var a=!1,r=!1;if(d.keyCode===o.current)if(o.index>0&&o.maxKeyDelay>0){var l=o.timeLastMatched+o.maxKeyDelay;d.timeStamp<=l&&(r=!0,a=u(d,o))}else r=!0,a=u(d,o);return!r&&o.resetOnWrongKey&&(o.index=0,o.current=o.keyCodes[0]),a&&(o.timeLastMatched=d.timeStamp,o.matched=!0,o.timeMatched=d.timeStamp),a};n.exports=x},92803:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};n.exports=C},92612:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"},23345:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"},21957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"},44743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},3771:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"},46358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"},75674:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},95922:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:e(92612),ANY_KEY_UP:e(23345),COMBO_MATCH:e(21957),DOWN:e(44743),KEY_DOWN:e(3771),KEY_UP:e(46358),UP:e(75674)}},51442:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:e(95922),KeyboardManager:e(78970),KeyboardPlugin:e(28846),Key:e(30472),KeyCodes:e(46032),KeyCombo:e(87960),AdvanceKeyCombo:e(66970),ProcessKeyCombo:e(68769),ResetKeyCombo:e(92803),JustDown:e(90229),JustUp:e(38796),DownDuration:e(37015),UpDuration:e(41170)}},37015:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u=50);var x=e.plugin.game.loop.time-e.timeDown;return e.isDown&&x<u};n.exports=C},90229:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e._justDown?(e._justDown=!1,!0):!1};n.exports=C},38796:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e._justUp?(e._justUp=!1,!0):!1};n.exports=C},30472:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50792),d=e(95922),o=new u({Extends:x,initialize:function(r,l){x.call(this),this.plugin=r,this.keyCode=l,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(a){return this.emitOnRepeat=a,this},onDown:function(a){this.originalEvent=a,this.enabled&&(this.altKey=a.altKey,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.location=a.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(d.DOWN,this,a):(this.isDown=!0,this.isUp=!1,this.timeDown=a.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(d.DOWN,this,a)))},onUp:function(a){this.originalEvent=a,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=a.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(d.UP,this,a))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});n.exports=o},46032:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=C},74600:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(46032),x={};for(var d in u)x[u[d]]=d;n.exports=x},41170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u=50);var x=e.plugin.game.loop.time-e.timeUp;return e.isUp&&x<u};n.exports=C},85098:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(89357),d=e(8214),o=e(29747),a=new u({initialize:function(l){this.manager=l,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=o,this.onMouseDown=o,this.onMouseUp=o,this.onMouseDownWindow=o,this.onMouseUpWindow=o,this.onMouseOver=o,this.onMouseOut=o,this.onMouseWheel=o,this.pointerLockChange=o,this.isTop=!0,l.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputMouse,this.target=r.inputMouseEventTarget,this.passive=r.inputMousePassive,this.preventDefaultDown=r.inputMousePreventDefaultDown,this.preventDefaultUp=r.inputMousePreventDefaultUp,this.preventDefaultMove=r.inputMousePreventDefaultMove,this.preventDefaultWheel=r.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var r=this.target;r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock,r.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var r=this.target;if(!!r){var l=this,v=this.manager,h=v.canvas,c=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&(v.onMouseMove(g),l.preventDefaultMove&&g.preventDefault())},this.onMouseDown=function(g){c&&window.focus(),!g.defaultPrevented&&l.enabled&&v&&v.enabled&&(v.onMouseDown(g),l.preventDefaultDown&&g.target===h&&g.preventDefault())},this.onMouseDownWindow=function(g){g.sourceCapabilities&&g.sourceCapabilities.firesTouchEvents||!g.defaultPrevented&&l.enabled&&v&&v.enabled&&g.target!==h&&v.onMouseDown(g)},this.onMouseUp=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&(v.onMouseUp(g),l.preventDefaultUp&&g.target===h&&g.preventDefault())},this.onMouseUpWindow=function(g){g.sourceCapabilities&&g.sourceCapabilities.firesTouchEvents||!g.defaultPrevented&&l.enabled&&v&&v.enabled&&g.target!==h&&v.onMouseUp(g)},this.onMouseOver=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&v.setCanvasOver(g)},this.onMouseOut=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&v.setCanvasOut(g)},this.onMouseWheel=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&v.onMouseWheel(g),l.preventDefaultWheel&&g.target===h&&g.preventDefault()};var p={passive:!0};if(r.addEventListener("mousemove",this.onMouseMove),r.addEventListener("mousedown",this.onMouseDown),r.addEventListener("mouseup",this.onMouseUp),r.addEventListener("mouseover",this.onMouseOver,p),r.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?r.addEventListener("wheel",this.onMouseWheel,{passive:!1}):r.addEventListener("wheel",this.onMouseWheel,p),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(g){var m=l.target;l.locked=document.pointerLockElement===m||document.mozPointerLockElement===m||document.webkitPointerLockElement===m,v.onPointerLockChange(g)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("mousemove",this.onMouseMove),r.removeEventListener("mousedown",this.onMouseDown),r.removeEventListener("mouseup",this.onMouseUp),r.removeEventListener("mouseover",this.onMouseOver),r.removeEventListener("mouseout",this.onMouseOut),window&&(r=this.isTop?window.top:window,r.removeEventListener("mousedown",this.onMouseDownWindow),r.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=a},87078:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:e(85098)}},36210:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(8214),d=e(29747),o=new u({initialize:function(r){this.manager=r,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=d,this.onTouchStartWindow=d,this.onTouchMove=d,this.onTouchEnd=d,this.onTouchEndWindow=d,this.onTouchCancel=d,this.onTouchCancelWindow=d,this.isTop=!0,r.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputTouch,this.target=a.inputTouchEventTarget,this.capture=a.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},startListeners:function(){var a=this.target;if(!!a){var r=this,l=this.manager,v=l.canvas,h=window&&window.focus&&l.game.config.autoFocus;this.onTouchMove=function(m){!m.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onTouchMove(m),r.capture&&m.cancelable&&m.preventDefault())},this.onTouchStart=function(m){h&&window.focus(),!m.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onTouchStart(m),r.capture&&m.cancelable&&m.target===v&&m.preventDefault())},this.onTouchStartWindow=function(m){!m.defaultPrevented&&r.enabled&&l&&l.enabled&&m.target!==v&&l.onTouchStart(m)},this.onTouchEnd=function(m){!m.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onTouchEnd(m),r.capture&&m.cancelable&&m.target===v&&m.preventDefault())},this.onTouchEndWindow=function(m){!m.defaultPrevented&&r.enabled&&l&&l.enabled&&m.target!==v&&l.onTouchEnd(m)},this.onTouchCancel=function(m){!m.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onTouchCancel(m),r.capture&&m.preventDefault())},this.onTouchCancelWindow=function(m){!m.defaultPrevented&&r.enabled&&l&&l.enabled&&l.onTouchCancel(m)};var c=this.capture,p={passive:!0},g={passive:!1};if(a.addEventListener("touchstart",this.onTouchStart,c?g:p),a.addEventListener("touchmove",this.onTouchMove,c?g:p),a.addEventListener("touchend",this.onTouchEnd,c?g:p),a.addEventListener("touchcancel",this.onTouchCancel,c?g:p),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,g),window.top.addEventListener("touchend",this.onTouchEndWindow,g),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,g)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,g),window.addEventListener("touchend",this.onTouchEndWindow,g),window.addEventListener("touchcancel",this.onTouchCancelWindow,g),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("touchstart",this.onTouchStart),a.removeEventListener("touchmove",this.onTouchMove),a.removeEventListener("touchend",this.onTouchEnd),a.removeEventListener("touchcancel",this.onTouchCancel),window&&(a=this.isTop?window.top:window,a.removeEventListener("touchstart",this.onTouchStartWindow),a.removeEventListener("touchend",this.onTouchEndWindow),a.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=o},95618:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:e(36210)}},41299:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(54899),o=e(95540),a=e(98356),r=e(3374),l=e(84376),v=e(92638),h=new u({initialize:function(p,g){if(this.loader=p,this.cache=o(g,"cache",!1),this.type=o(g,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=o(g,"key",!1);var m=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+m),!this.key)throw new Error("Invalid File key: "+this.key);var y=o(g,"url");y===void 0?y=p.path+m+"."+o(g,"extension",""):typeof y=="string"&&!y.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(y=p.path+y),this.url=y,this.src="",this.xhrSettings=v(o(g,"responseType",void 0)),o(g,"xhrSettings",!1)&&(this.xhrSettings=r(this.xhrSettings,o(g,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=o(g,"config",{}),this.multiFile,this.linkFile,this.base64=typeof y=="string"&&y.indexOf("data:")===0},setLink:function(c){this.linkFile=c,c.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===x.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=x.FILE_LOADING,this.src=a(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=l(this,this.loader.xhr))},onLoad:function(c,p){var g=c.responseURL&&this.loader.localSchemes.some(function(S){return c.responseURL.indexOf(S)===0}),m=g&&p.target.status===0,y=!(p.target&&p.target.status!==200)||m;c.readyState===4&&c.status>=400&&c.status<=599&&(y=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,y)},onBase64Load:function(c){this.xhrLoader=c,this.state=x.FILE_LOADED,this.percentComplete=1,this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(c){c.lengthComputable&&(this.bytesLoaded=c.loaded,this.bytesTotal=c.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(c){if(this.state!==x.FILE_PENDING_DESTROY){c===void 0&&(c=this.data);var p=this.key,g=this.type;this.loader.emit(d.FILE_COMPLETE,p,g,c),this.loader.emit(d.FILE_KEY_COMPLETE+g+"-"+p,p,g,c),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});h.createObjectURL=function(c,p,g){if(typeof URL=="function")c.src=URL.createObjectURL(p);else{var m=new FileReader;m.onload=function(){c.removeAttribute("crossOrigin"),c.src="data:"+(p.type||g)+";base64,"+m.result.split(",")[1]},m.onerror=c.onerror,m.readAsDataURL(p)}},h.revokeObjectURL=function(c){typeof URL=="function"&&URL.revokeObjectURL(c.src)},n.exports=h},74099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},e={install:function(u){for(var x in C)u[x]=C[x]},register:function(u,x){C[u]=x},destroy:function(){C={}}};n.exports=e},98356:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.url?e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:u+e.url:!1};n.exports=C},74261:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(35072),o=e(50792),a=e(54899),r=e(74099),l=e(95540),v=e(35154),h=e(37277),c=e(44594),p=e(92638),g=new u({Extends:o,initialize:function(y){o.call(this);var S=y.sys.game.config,M=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,r.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(l(M,"baseURL",S.loaderBaseURL)),this.setPath(l(M,"path",S.loaderPath)),this.setPrefix(l(M,"prefix",S.loaderPrefix)),this.maxParallelDownloads=l(M,"maxParallelDownloads",S.loaderMaxParallelDownloads),this.xhr=p(l(M,"responseType",S.loaderResponseType),l(M,"async",S.loaderAsync),l(M,"user",S.loaderUser),l(M,"password",S.loaderPassword),l(M,"timeout",S.loaderTimeout),l(M,"withCredentials",S.loaderWithCredentials)),this.crossOrigin=l(M,"crossOrigin",S.loaderCrossOrigin),this.imageLoadType=l(M,"imageLoadType",S.loaderImageLoadType),this.localSchemes=l(M,"localScheme",S.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new d,this.inflight=new d,this.queue=new d,this._deleteQueue=new d,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,y.sys.events.once(c.BOOT,this.boot,this),y.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++){var S=m[y];this.keyExists(S)||(this.list.set(S),this.emit(a.ADD,S.key,S.type,this,S),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var y=m.hasCacheConflict();return y||this.list.iterate(function(S){if(S.type===m.type&&S.key===m.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(S){if(S.type===m.type&&S.key===m.key)return y=!0,!1}),this.queue.iterate(function(S){if(S.type===m.type&&S.key===m.key)return y=!0,!1})),y},addPack:function(m,y){if(typeof y=="string"){var S=v(m,y);S&&(m={packKey:S})}var M=0,P=this.baseURL,w=this.path,R=this.prefix;for(var A in m)if(!!Object.prototype.hasOwnProperty.call(m,A)){var L=m[A],F=l(L,"baseURL",P),O=l(L,"path",w),b=l(L,"prefix",R),B=l(L,"files",null),I=l(L,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(F),this.setPath(O),this.setPrefix(b);for(var N=0;N<B.length;N++){var X=B[N],k=X.hasOwnProperty("type")?X.type:I;this[k]&&(this[k](X),M++)}}}return this.setBaseURL(P),this.setPath(w),this.setPrefix(R),M>0},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===x.FILE_POPULATED||m.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,y){!this.inflight||(this.inflight.delete(m),this.updateProgress(),y?(this.totalComplete++,this.queue.set(m),this.emit(a.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(a.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===x.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===x.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&(m.multiFile.addToCache(),m.multiFile.pendingDestroy()):(m.addToCache(),m.pendingDestroy())),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,y){return this.save(JSON.stringify(m),y)},save:function(m,y,S){y===void 0&&(y="file.json"),S===void 0&&(S="application/json");var M=new Blob([m],{type:S}),P=URL.createObjectURL(M),w=document.createElement("a");return w.download=y,w.textContent="Download "+y,w.href=P,w.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(l(y,"baseURL",m.loaderBaseURL)),this.setPath(l(y,"path",m.loaderPath)),this.setPrefix(l(y,"prefix",m.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});h.register("Loader",g,"load"),n.exports=g},3374:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),x=e(92638),d=function(o,a){var r=o===void 0?x():u({},o);if(a)for(var l in a)a[l]!==void 0&&(r[l]=a[l]);return r};n.exports=d},26430:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(54899),o=new u({initialize:function(r,l,v,h){var c=[];h.forEach(function(m){m&&c.push(m)}),this.loader=r,this.type=l,this.key=v;var p=this.key;r.prefix&&r.prefix!==""&&(this.key=r.prefix+p),this.multiKeyIndex=r.multiKeyIndex++,this.files=c,this.state=x.FILE_PENDING,this.complete=!1,this.pending=c.length,this.failed=0,this.config={},this.baseURL=r.baseURL,this.path=r.path,this.prefix=r.prefix;for(var g=0;g<c.length;g++)c[g].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(a){return this.files.push(a),a.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(a){var r=this.files.indexOf(a);r!==-1&&this.pending--},onFileFailed:function(a){var r=this.files.indexOf(a);r!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,a.type,a.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var a=this.key,r=this.type;this.loader.emit(d.FILE_COMPLETE,a,r),this.loader.emit(d.FILE_KEY_COMPLETE+r+"-"+a,a,r),this.loader.flagForRemoval(this);for(var l=0;l<this.files.length;l++)this.files[l].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});n.exports=o},84376:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(3374),x=function(d,o){var a=u(o,d.xhrSettings);if(d.base64){var r=d.url.split(";base64,").pop()||d.url.split(",").pop(),l={responseText:atob(r)};d.onBase64Load(l);return}var v=new XMLHttpRequest;if(v.open("GET",d.src,a.async,a.user,a.password),v.responseType=d.xhrSettings.responseType,v.timeout=a.timeout,a.headers)for(var h in a.headers)v.setRequestHeader(h,a.headers[h]);return a.header&&a.headerValue&&v.setRequestHeader(a.header,a.headerValue),a.requestedWith&&v.setRequestHeader("X-Requested-With",a.requestedWith),a.overrideMimeType&&v.overrideMimeType(a.overrideMimeType),a.withCredentials&&(v.withCredentials=!0),v.onload=d.onLoad.bind(d,v),v.onerror=d.onError.bind(d,v),v.onprogress=d.onProgress.bind(d),v.ontimeout=d.onError.bind(d,v),v.send(),v};n.exports=x},92638:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o,a){return e===void 0&&(e=""),u===void 0&&(u=!0),x===void 0&&(x=""),d===void 0&&(d=""),o===void 0&&(o=0),a===void 0&&(a=!1),{responseType:e,async:u,user:x,password:d,timeout:o,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:a}};n.exports=C},23906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=C},42155:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"},38991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},27540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"},87464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"},94486:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"},13035:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"},38144:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"},97520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"},85595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"},55680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},54899:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:e(42155),COMPLETE:e(38991),FILE_COMPLETE:e(27540),FILE_KEY_COMPLETE:e(87464),FILE_LOAD_ERROR:e(94486),FILE_LOAD:e(13035),FILE_PROGRESS:e(38144),POST_PROCESS:e(97520),PROGRESS:e(85595),START:e(55680)}},14135:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(518),o=e(54899),a=new u({Extends:d,initialize:function(l,v,h,c,p){d.call(this,l,v,h,c,p),this.type="animationJSON"},onProcess:function(){this.loader.once(o.POST_PROCESS,this.onLoadComplete,this),d.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(r,l,v,h){if(Array.isArray(r))for(var c=0;c<r.length;c++)this.addFile(new a(this,r[c]));else this.addFile(new a(this,r,l,h,v));return this}),n.exports=a},76272:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(95540),o=e(19550),a=e(41212),r=e(518),l=e(26430),v=new u({Extends:l,initialize:function(c,p,g,m,y,S){var M,P;if(a(p)){var w=p;p=d(w,"key"),M=new o(c,{key:p,url:d(w,"textureURL"),extension:d(w,"textureExtension","png"),normalMap:d(w,"normalMap"),xhrSettings:d(w,"textureXhrSettings")}),P=new r(c,{key:p,url:d(w,"atlasURL"),extension:d(w,"atlasExtension","json"),xhrSettings:d(w,"atlasXhrSettings")})}else M=new o(c,p,g,y),P=new r(c,p,m,S);M.linkFile?l.call(this,c,"atlasjson",p,[M,P,M.linkFile]):l.call(this,c,"atlasjson",p,[M,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,c.data,p),c.addToCache(),this.complete=!0}}});x.register("aseprite",function(h,c,p,g,m){var y;if(Array.isArray(h))for(var S=0;S<h.length;S++)y=new v(this,h[S]),this.addFile(y.files);else y=new v(this,h,c,p,g,m),this.addFile(y.files);return this}),n.exports=v},38734:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(95540),o=e(19550),a=e(41212),r=e(518),l=e(26430),v=new u({Extends:l,initialize:function(c,p,g,m,y,S){var M,P;if(a(p)){var w=p;p=d(w,"key"),M=new o(c,{key:p,url:d(w,"textureURL"),extension:d(w,"textureExtension","png"),normalMap:d(w,"normalMap"),xhrSettings:d(w,"textureXhrSettings")}),P=new r(c,{key:p,url:d(w,"atlasURL"),extension:d(w,"atlasExtension","json"),xhrSettings:d(w,"atlasXhrSettings")})}else M=new o(c,p,g,y),P=new r(c,p,m,S);M.linkFile?l.call(this,c,"atlasjson",p,[M,P,M.linkFile]):l.call(this,c,"atlasjson",p,[M,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,c.data,p),this.complete=!0}}});x.register("atlas",function(h,c,p,g,m){var y;if(Array.isArray(h))for(var S=0;S<h.length;S++)y=new v(this,h[S]),this.addFile(y.files);else y=new v(this,h,c,p,g,m),this.addFile(y.files);return this}),n.exports=v},74599:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(95540),o=e(19550),a=e(41212),r=e(26430),l=e(57318),v=new u({Extends:r,initialize:function(c,p,g,m,y,S){var M,P;if(a(p)){var w=p;p=d(w,"key"),M=new o(c,{key:p,url:d(w,"textureURL"),extension:d(w,"textureExtension","png"),normalMap:d(w,"normalMap"),xhrSettings:d(w,"textureXhrSettings")}),P=new l(c,{key:p,url:d(w,"atlasURL"),extension:d(w,"atlasExtension","xml"),xhrSettings:d(w,"atlasXhrSettings")})}else M=new o(c,p,g,y),P=new l(c,p,m,S);M.linkFile?r.call(this,c,"atlasxml",p,[M,P,M.linkFile]):r.call(this,c,"atlasxml",p,[M,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(h.key,h.data,c.data,p),this.complete=!0}}});x.register("atlasXML",function(h,c,p,g,m){var y;if(Array.isArray(h))for(var S=0;S<h.length;S++)y=new v(this,h[S]),this.addFile(y.files);else y=new v(this,h,c,p,g,m),this.addFile(y.files);return this}),n.exports=v},21097:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(89749),l=e(41212),v=new u({Extends:d,initialize:function(c,p,g,m,y){if(l(p)){var S=p;p=a(S,"key"),m=a(S,"xhrSettings"),y=a(S,"context",y)}var M={type:"audio",cache:c.cacheManager.audio,extension:g.type,responseType:"arraybuffer",key:p,url:g.url,xhrSettings:m,config:{context:y}};d.call(this,c,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var h=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(c){h.data=c,h.onProcessComplete()},function(c){console.error("Error decoding audio: "+h.key+" - ",c?c.message:null),h.onProcessError()}),this.config.context=null}});v.create=function(h,c,p,g,m){var y=h.systems.game,S=y.config.audio,M=y.device.audio;l(c)&&(p=a(c,"url",[]),g=a(c,"config",{}));var P=v.getAudioURL(y,p);return P?M.webAudio&&!S.disableWebAudio?new v(h,c,P,m,y.sound.context):new r(h,c,P,g):(console.warn('No audio URLs for "%s" matched this device',c),null)},v.getAudioURL=function(h,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var g=a(c[p],"url",c[p]);if(g.indexOf("blob:")===0||g.indexOf("data:")===0)return{url:g,type:""};var m=g.match(/\.([a-zA-Z0-9]+)($|\?)/);if(m=a(c[p],"type",m?m[1]:"").toLowerCase(),h.device.audio[m])return{url:g,type:m}}return null},o.register("audio",function(h,c,p,g){var m=this.systems.game,y=m.config.audio,S=m.device.audio;if(y.noAudio||!S.webAudio&&!S.audioData)return this;var M;if(Array.isArray(h))for(var P=0;P<h.length;P++)M=v.create(this,h[P]),M&&this.addFile(M);else M=v.create(this,h,c,p,g),M&&this.addFile(M);return this}),n.exports=v},89524:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21097),x=e(83419),d=e(74099),o=e(95540),a=e(41212),r=e(518),l=e(26430),v=new x({Extends:l,initialize:function(c,p,g,m,y,S,M){if(a(p)){var P=p;p=o(P,"key"),g=o(P,"jsonURL"),m=o(P,"audioURL"),y=o(P,"audioConfig"),S=o(P,"audioXhrSettings"),M=o(P,"jsonXhrSettings")}var w;if(!m)w=new r(c,p,g,M),l.call(this,c,"audiosprite",p,[w]),this.config.resourceLoad=!0,this.config.audioConfig=y,this.config.audioXhrSettings=S;else{var R=u.create(c,p,m,y,S);R&&(w=new r(c,p,g,M),l.call(this,c,"audiosprite",p,[R,w]),this.config.resourceLoad=!1)}},onFileComplete:function(h){var c=this.files.indexOf(h);if(c!==-1&&(this.pending--,this.config.resourceLoad&&h.type==="json"&&h.data.hasOwnProperty("resources"))){var p=h.data.resources,g=o(this.config,"audioConfig"),m=o(this.config,"audioXhrSettings"),y=u.create(this.loader,h.key,p,g,m);y&&(this.addToMultiFile(y),this.loader.addFile(y))}},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1];h.addToCache(),c.addToCache(),this.complete=!0}}});d.register("audioSprite",function(h,c,p,g,m,y){var S=this.systems.game,M=S.config.audio,P=S.device.audio;if(M&&M.noAudio||!P.webAudio&&!P.audioData)return this;var w;if(Array.isArray(h))for(var R=0;R<h.length;R++)w=new v(this,h[R]),w.files&&this.addFile(w.files);else w=new v(this,h,c,p,g,m,y),w.files&&this.addFile(w.files);return this})},85722:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g,m){var y="bin";if(r(c)){var S=c;c=a(S,"key"),p=a(S,"url"),g=a(S,"xhrSettings"),y=a(S,"extension",y),m=a(S,"dataType",m)}var M={type:"binary",cache:h.cacheManager.binary,extension:y,responseType:"arraybuffer",key:c,url:p,xhrSettings:g,config:{dataType:m}};d.call(this,h,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});o.register("binary",function(v,h,c,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new l(this,v[g]));else this.addFile(new l(this,v,h,p,c));return this}),n.exports=l},97025:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(95540),o=e(19550),a=e(41212),r=e(26430),l=e(21859),v=e(57318),h=new u({Extends:r,initialize:function(p,g,m,y,S,M){var P,w;if(a(g)){var R=g;g=d(R,"key"),P=new o(p,{key:g,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),w=new v(p,{key:g,url:d(R,"fontDataURL"),extension:d(R,"fontDataExtension","xml"),xhrSettings:d(R,"fontDataXhrSettings")})}else P=new o(p,g,m,S),w=new v(p,g,y,M);P.linkFile?r.call(this,p,"bitmapfont",g,[P,w,P.linkFile]):r.call(this,p,"bitmapfont",g,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1];c.addToCache();var g=c.cache.get(c.key),m=l(p.data,c.cache.getFrame(c.key),0,0,g);this.loader.cacheManager.bitmapFont.add(c.key,{data:m,texture:c.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(c,p,g,m,y){var S;if(Array.isArray(c))for(var M=0;M<c.length;M++)S=new h(this,c[M]),this.addFile(S.files);else S=new h(this,c,p,g,m,y),this.addFile(S.files);return this}),n.exports=h},16024:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g){var m="css";if(r(c)){var y=c;c=a(y,"key"),p=a(y,"url"),g=a(y,"xhrSettings"),m=a(y,"extension",m)}var S={type:"script",cache:!1,extension:m,responseType:"text",key:c,url:p,xhrSettings:g};d.call(this,h,S)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("css",function(v,h,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new l(this,v[p]));else this.addFile(new l(this,v,h,c));return this}),n.exports=l},69559:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(38734),x=e(85722),d=e(83419),o=e(74099),a=e(95540),r=e(19550),l=e(41212),v=e(518),h=e(31403),c=e(46975),p=e(59327),g=e(26430),m=e(82038),y=e(55222),S=new d({Extends:g,initialize:function(P,w,R,A){if(R.multiAtlasURL){var L=new v(P,{key:w,url:R.multiAtlasURL,xhrSettings:A,config:R});g.call(this,P,"texture",w,[L])}else{var F=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var O=new x(P,{key:w,url:R.textureURL,extension:F,xhrSettings:A,config:R});if(R.atlasURL){var b=new v(P,{key:w,url:R.atlasURL,xhrSettings:A,config:R});g.call(this,P,"texture",w,[O,b])}else g.call(this,P,"texture",w,[O])}this.config=R},onFileComplete:function(M){var P=this.files.indexOf(M);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(M.type==="json"&&M.data.hasOwnProperty("textures")){var w=M.data.textures,R=this.config,A=this.loader,L=A.baseURL,F=A.path,O=A.prefix,b=a(R,"multiBaseURL",this.baseURL),B=a(R,"multiPath",this.path),I=a(R,"prefix",this.prefix),N=a(R,"textureXhrSettings");b&&A.setBaseURL(b),B&&A.setPath(B),I&&A.setPrefix(I);for(var X=0;X<w.length;X++){var k=w[X].image,H="CMA"+this.multiKeyIndex+"_"+k,V=new x(A,H,k,N);if(this.addToMultiFile(V),A.addFile(V),w[X].normalMap){var W=new x(A,H,w[X].normalMap,N);W.type="normalMap",V.setLink(W),this.addToMultiFile(W),A.addFile(W)}}A.setBaseURL(L),A.setPath(F),A.setPrefix(O)}}},addToCache:function(){function M(b){console.warn('Compressed Texture Invalid: "'+L.key+'". '+b)}if(this.isReadyToProcess()){var P=this.config;if(P.multiAtlasURL)this.addMultiToCache();else{var w=this.loader.systems.renderer,R=this.loader.textureManager,A,L=this.files[0],F=this.files[1];if(P.type==="PVR"?A=m(L.data):P.type==="KTX"&&(A=h(L.data),A||M("KTX file contains unsupported format.")),A&&!y(A)&&(M("Texture dimensions failed verification. Check the texture format specifications for "+P.format+" 0x"+A.internalFormat.toString(16)+"."),A=null),A&&!w.supportsCompressedTexture(P.format,A.internalFormat)&&(M("Texture format "+P.format+" with internal format "+A.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),A=null),A){A.format=w.getCompressedTextureName(P.format,A.internalFormat);var O=F&&F.data?F.data:null;R.addCompressedTexture(L.key,A,O)}}this.complete=!0}},addMultiToCache:function(){for(var M=this.config,P=this.files[0],w=[],R=[],A=[],L=this.loader.systems.renderer,F=this.loader.textureManager,O,b=1;b<this.files.length;b++){var B=this.files[b];if(B.type!=="normalMap")for(var I=B.key.indexOf("_"),N=B.key.substr(I+1),X=B.data,k=0;k<P.data.textures.length;k++){var H=P.data.textures[k];if(H.image===N){M.type==="PVR"?O=m(X):M.type==="KTX"&&(O=h(X)),O&&L.supportsCompressedTexture(M.format,O.internalFormat)&&(O.format=L.getCompressedTextureName(M.format,O.internalFormat),R.push(O),w.push(H),B.linkFile&&A.push(B.linkFile.data));break}}}A.length===0&&(A=void 0),F.addAtlasJSONArray(this.key,R,w,A),this.complete=!0}});o.register("texture",function(M,P,w){var R=this.systems.renderer,A=function(F,O,b,B){var I={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(l(O)){var N=O;O=a(N,"key"),b=a(N,"url"),B=a(N,"xhrSettings")}var X=!1;for(var k in b)if(R.supportsCompressedTexture(k)){var H=b[k];typeof H=="string"?I.textureURL=H:I=c(H,I),I.format=k.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",O);else if(I.format==="IMG"){var V,W;I.multiAtlasURL?(W=new p(F,O,I.multiAtlasURL,I.multiPath,I.multiBaseURL,B),V=W.files):I.atlasURL?(W=new u(F,O,I.textureURL,I.atlasURL,B),V=W.files):V=new r(F,O,I.textureURL,B),F.addFile(V)}else{var D=new S(F,O,I,B);F.addFile(D.files)}};if(Array.isArray(M))for(var L=0;L<M.length;L++)A(this,M[L]);else A(this,M,P,w);return this}),n.exports=S},47931:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=e(73894),v=new u({Extends:d,initialize:function(c,p,g,m,y){var S="glsl";if(r(p)){var M=p;p=a(M,"key"),g=a(M,"url"),m=a(M,"shaderType","fragment"),y=a(M,"xhrSettings"),S=a(M,"extension",S)}else m===void 0&&(m="fragment");var P={type:"glsl",cache:c.cacheManager.shader,extension:S,responseType:"text",key:p,url:g,config:{shaderType:m},xhrSettings:y};d.call(this,c,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.split(`
`),c=this.extractBlock(h,0);if(c)for(;c;){var p=this.getShaderName(c.header),g=this.getShaderType(c.header),m=this.getShaderUniforms(c.header),y=c.shader;if(this.cache.has(p)){var S=this.cache.get(p);g==="fragment"?S.fragmentSrc=y:S.vertexSrc=y,S.uniforms||(S.uniforms=m)}else g==="fragment"?this.cache.add(p,new l(p,y,"",m)):this.cache.add(p,new l(p,"",y,m));c=this.extractBlock(h,c.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new l(this.key,this.data)):this.cache.add(this.key,new l(this.key,"",this.data))},getShaderName:function(h){for(var c=0;c<h.length;c++){var p=h[c].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(h){for(var c=0;c<h.length;c++){var p=h[c].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(h){for(var c={},p=0;p<h.length;p++){var g=h[p].trim();if(g.substring(0,8)==="uniform."){var m=g.indexOf(":");if(m){var y=g.substring(8,m);try{c[y]=JSON.parse(g.substring(m+1))}catch{console.warn("Invalid uniform JSON: "+y)}}}}return c},extractBlock:function(h,c){for(var p=-1,g=-1,m=-1,y=!1,S=!1,M=[],P=[],w=c;w<h.length;w++){var R=h[w].trim();if(R==="---")if(p===-1)p=w,y=!0;else if(y)g=w,y=!1,S=!0;else{S=!1;break}else y?M.push(R):S&&(P.push(R),m=w)}return!y&&g!==-1?{header:M,shader:P.join(`
`),offset:m}:null}});o.register("glsl",function(h,c,p,g){if(Array.isArray(h))for(var m=0;m<h.length;m++)this.addFile(new v(this,h[m]));else this.addFile(new v(this,h,c,p,g));return this}),n.exports=v},89749:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(54899),d=e(41299),o=e(95540),a=e(98356),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g){if(r(c)){var m=c;c=o(m,"key"),g=o(m,"config",g)}var y={type:"audio",cache:h.cacheManager.audio,extension:p.type,key:c,url:p.url,config:g};d.call(this,h,y),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var v=0;v<this.data.length;v++){var h=this.data[v];h.oncanplaythrough=null,h.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(v){var h=v.target;h.oncanplaythrough=null,h.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var h=0;h<v;h++){var c=new Audio;c.dataset||(c.dataset={}),c.dataset.name=this.key+("0"+h).slice(-2),c.dataset.used="false",this.locked?c.dataset.locked="true":(c.dataset.locked="false",c.preload="auto",c.oncanplaythrough=this.onProgress.bind(this),c.onerror=this.onError.bind(this)),this.data.push(c)}for(h=0;h<this.data.length;h++)c=this.data[h],c.src=a(this,this.loader.baseURL),this.locked||c.load();this.locked&&setTimeout(this.onLoad.bind(this))}});n.exports=l},88470:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g){var m="html";if(r(c)){var y=c;c=a(y,"key"),p=a(y,"url"),g=a(y,"xhrSettings"),m=a(y,"extension",m)}var S={type:"text",cache:h.cacheManager.html,extension:m,responseType:"text",key:c,url:p,xhrSettings:g};d.call(this,h,S)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("html",function(v,h,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new l(this,v[p]));else this.addFile(new l(this,v,h,c));return this}),n.exports=l},14643:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g,m,y){g===void 0&&(g=512),m===void 0&&(m=512);var S="html";if(r(c)){var M=c;c=a(M,"key"),p=a(M,"url"),y=a(M,"xhrSettings"),S=a(M,"extension",S),g=a(M,"width",g),m=a(M,"height",m)}var P={type:"html",cache:h.textureManager,extension:S,responseType:"text",key:c,url:p,xhrSettings:y,config:{width:g,height:m}};d.call(this,h,P)},onProcess:function(){this.state=x.FILE_PROCESSING;var v=this.config.width,h=this.config.height,c=[];c.push('<svg width="'+v+'px" height="'+h+'px" viewBox="0 0 '+v+" "+h+'" xmlns="http://www.w3.org/2000/svg">'),c.push('<foreignObject width="100%" height="100%">'),c.push('<body xmlns="http://www.w3.org/1999/xhtml">'),c.push(this.xhrLoader.responseText),c.push("</body>"),c.push("</foreignObject>"),c.push("</svg>");var p=[c.join(`
`)],g=this;try{var m=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{g.state=x.FILE_ERRORED,g.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){d.revokeObjectURL(g.data),g.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(g.data),g.onProcessError()},d.createObjectURL(this.data,m,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});o.register("htmlTexture",function(v,h,c,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new l(this,v[m]));else this.addFile(new l(this,v,h,c,p,g));return this}),n.exports=l},19550:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=e(98356),v=new u({Extends:d,initialize:function h(c,p,g,m,y){var S="png",M;if(r(p)){var P=p;p=a(P,"key"),g=a(P,"url"),M=a(P,"normalMap"),m=a(P,"xhrSettings"),S=a(P,"extension",S),y=a(P,"frameConfig")}Array.isArray(g)&&(M=g[1],g=g[0]);var w={type:"image",cache:c.textureManager,extension:S,responseType:"blob",key:p,url:g,xhrSettings:m,config:y};if(d.call(this,c,w),M){var R=new h(c,this.key,M,m,y);R.type="normalMap",this.setLink(R),c.addFile(R)}this.useImageElementLoad=c.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var h=this;this.data.onload=function(){d.revokeObjectURL(h.data),h.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(h.data),h.onProcessError()},d.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var h=this.state;this.state=x.FILE_PROCESSING,h===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=x.FILE_LOADING,this.src=l(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var h=this;this.data.onload=function(){h.state=x.FILE_LOADED,h.loader.nextFile(h,!0)},this.data.onerror=function(){h.loader.nextFile(h,!1)},this.data.src=this.src},addToCache:function(){var h=this.linkFile;h?h.state>=x.FILE_COMPLETE&&(h.type==="spritesheet"?h.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,h.data,this.data):this.cache.addImage(this.key,this.data,h.data)):this.cache.addImage(this.key,this.data)}});o.register("image",function(h,c,p){if(Array.isArray(h))for(var g=0;g<h.length;g++)this.addFile(new v(this,h[g]));else this.addFile(new v(this,h,c,p));return this}),n.exports=v},518:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(35154),l=e(41212),v=new u({Extends:d,initialize:function(c,p,g,m,y){var S="json";if(l(p)){var M=p;p=a(M,"key"),g=a(M,"url"),m=a(M,"xhrSettings"),S=a(M,"extension",S),y=a(M,"dataKey",y)}var P={type:"json",cache:c.cacheManager.json,extension:S,responseType:"text",key:p,url:g,xhrSettings:m,config:y};d.call(this,c,P),l(g)&&(y?this.data=r(g,y):this.data=g,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var h=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var c=this.config;typeof c=="string"?this.data=r(h,c,h):this.data=h}this.onProcessComplete()}});o.register("json",function(h,c,p,g){if(Array.isArray(h))for(var m=0;m<h.length;m++)this.addFile(new v(this,h[m]));else this.addFile(new v(this,h,c,g,p));return this}),n.exports=v},59327:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(95540),o=e(19550),a=e(41212),r=e(518),l=e(26430),v=new u({Extends:l,initialize:function(c,p,g,m,y,S,M){if(a(p)){var P=p;p=d(P,"key"),d(P,"url",!1)?g=d(P,"url"):g=d(P,"atlasURL"),S=d(P,"xhrSettings"),m=d(P,"path"),y=d(P,"baseURL"),M=d(P,"textureXhrSettings")}var w=new r(c,p,g,S);l.call(this,c,"multiatlas",p,[w]),this.config.path=m,this.config.baseURL=y,this.config.textureXhrSettings=M},onFileComplete:function(h){var c=this.files.indexOf(h);if(c!==-1&&(this.pending--,h.type==="json"&&h.data.hasOwnProperty("textures"))){var p=h.data.textures,g=this.config,m=this.loader,y=m.baseURL,S=m.path,M=m.prefix,P=d(g,"baseURL",this.baseURL),w=d(g,"path",this.path),R=d(g,"prefix",this.prefix),A=d(g,"textureXhrSettings");m.setBaseURL(P),m.setPath(w),m.setPrefix(R);for(var L=0;L<p.length;L++){var F=p[L].image,O="MA"+this.multiKeyIndex+"_"+F,b=new o(m,O,F,A);if(this.addToMultiFile(b),m.addFile(b),p[L].normalMap){var B=new o(m,O,p[L].normalMap,A);B.type="normalMap",b.setLink(B),this.addToMultiFile(B),m.addFile(B)}}m.setBaseURL(y),m.setPath(S),m.setPrefix(M)}},addToCache:function(){if(this.isReadyToProcess()){for(var h=this.files[0],c=[],p=[],g=[],m=1;m<this.files.length;m++){var y=this.files[m];if(y.type!=="normalMap")for(var S=y.key.indexOf("_"),M=y.key.substr(S+1),P=y.data,w=0;w<h.data.textures.length;w++){var R=h.data.textures[w];if(R.image===M){p.push(P),c.push(R),y.linkFile&&g.push(y.linkFile.data);break}}}g.length===0&&(g=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,c,g),this.complete=!0}}});x.register("multiatlas",function(h,c,p,g,m){var y;if(Array.isArray(h))for(var S=0;S<h.length;S++)y=new v(this,h[S]),this.addFile(y.files);else y=new v(this,h,c,p,g,m),this.addFile(y.files);return this}),n.exports=v},99297:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(95540),o=e(41212),a=e(26430),r=e(34328),l=new u({Extends:a,initialize:function(h,c,p,g){var m="js",y=[];if(o(c)){var S=c;c=d(S,"key"),p=d(S,"url"),g=d(S,"xhrSettings"),m=d(S,"extension",m)}Array.isArray(p)||(p=[p]);for(var M=0;M<p.length;M++){var P=new r(h,{key:c+"_"+M.toString(),url:p[M],extension:m,xhrSettings:g});P.onProcess=function(){this.onProcessComplete()},y.push(P)}a.call(this,h,"scripts",c,y)},addToCache:function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var h=this.files[v];h.data=document.createElement("script"),h.data.language="javascript",h.data.type="text/javascript",h.data.defer=!1,h.data.text=h.xhrLoader.responseText,document.head.appendChild(h.data)}this.complete=!0}}});x.register("scripts",function(v,h,c){var p;if(Array.isArray(v))for(var g=0;g<v.length;g++)p=new l(this,v[g]),this.addFile(p.files);else p=new l(this,v,h,c),this.addFile(p.files);return this}),n.exports=l},41846:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(95540),o=e(41212),a=e(26430),r=e(85048),l=e(61485),v=e(78776),h=new u({Extends:a,initialize:function(p,g,m,y,S,M){var P,w,R=p.cacheManager.obj;if(o(g)){var A=g;g=d(A,"key"),P=new v(p,{key:g,type:"obj",cache:R,url:d(A,"url"),extension:d(A,"extension","obj"),xhrSettings:d(A,"xhrSettings"),config:{flipUV:d(A,"flipUV",S)}}),y=d(A,"matURL"),y&&(w=new v(p,{key:g,type:"mat",cache:R,url:y,extension:d(A,"matExtension","mat"),xhrSettings:d(A,"xhrSettings")}))}else P=new v(p,{key:g,url:m,type:"obj",cache:R,extension:"obj",xhrSettings:M,config:{flipUV:S}}),y&&(w=new v(p,{key:g,url:y,type:"mat",cache:R,extension:"mat",xhrSettings:M}));a.call(this,p,"obj",g,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],g=r(c.data,c.config.flipUV);p&&(g.materials=l(p.data)),c.cache.add(c.key,g),this.complete=!0}}});x.register("obj",function(c,p,g,m,y){var S;if(Array.isArray(c))for(var M=0;M<c.length;M++)S=new h(this,c[M]),this.addFile(S.files);else S=new h(this,c,p,g,m,y),this.addFile(S.files);return this}),n.exports=h},58610:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(74099),o=e(518),a=new u({Extends:o,initialize:function(l,v,h,c,p){o.call(this,l,v,h,c,p),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var r={};r[this.config]=this.data,this.data=r}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});d.register("pack",function(r,l,v,h){if(Array.isArray(r))for(var c=0;c<r.length;c++)this.addFile(new a(this,r[c]));else this.addFile(new a(this,r,l,h,v));return this}),n.exports=a},48988:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g,m,y){var S="js";if(r(c)){var M=c;c=a(M,"key"),p=a(M,"url"),y=a(M,"xhrSettings"),S=a(M,"extension",S),g=a(M,"start"),m=a(M,"mapping")}var P={type:"plugin",cache:!1,extension:S,responseType:"text",key:c,url:p,xhrSettings:y,config:{start:g,mapping:m}};d.call(this,h,P),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,h=this.config,c=a(h,"start",!1),p=a(h,"mapping",null);if(this.state===x.FILE_POPULATED)v.install(this.key,this.data,c,p);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var g=v.install(this.key,window[this.key],c,p);(c||p)&&(this.loader.systems[p]=g,this.loader.scene[p]=g)}this.onProcessComplete()}});o.register("plugin",function(v,h,c,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new l(this,v[m]));else this.addFile(new l(this,v,h,c,p,g));return this}),n.exports=l},67397:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g,m){var y="svg";if(r(c)){var S=c;c=a(S,"key"),p=a(S,"url"),g=a(S,"svgConfig",{}),m=a(S,"xhrSettings"),y=a(S,"extension",y)}var M={type:"svg",cache:h.textureManager,extension:y,responseType:"text",key:c,url:p,xhrSettings:m,config:{width:a(g,"width"),height:a(g,"height"),scale:a(g,"scale")}};d.call(this,h,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var v=this.xhrLoader.responseText,h=[v],c=this.config.width,p=this.config.height,g=this.config.scale;t:if(c&&p||g){var m=null,y=new DOMParser;m=y.parseFromString(v,"text/xml");var S=m.getElementsByTagName("svg")[0],M=S.hasAttribute("viewBox"),P=parseFloat(S.getAttribute("width")),w=parseFloat(S.getAttribute("height"));if(!M&&P&&w)S.setAttribute("viewBox","0  0 "+P+" "+w);else if(M&&!P&&!w){var R=S.getAttribute("viewBox").split(/\s+|,/);P=R[2],w=R[3]}if(g)if(P&&w)c=P*g,p=w*g;else break t;S.setAttribute("width",c.toString()+"px"),S.setAttribute("height",p.toString()+"px"),h=[new XMLSerializer().serializeToString(S)]}try{var A=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,F=!1;this.data.onload=function(){F||d.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){F?L.onProcessError():(F=!0,d.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(h.join("")))},d.createObjectURL(this.data,A,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});o.register("svg",function(v,h,c,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new l(this,v[g]));else this.addFile(new l(this,v,h,c,p));return this}),n.exports=l},88423:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g){var m="js";if(r(c)){var y=c;c=a(y,"key"),p=a(y,"url"),g=a(y,"xhrSettings"),m=a(y,"extension",m)}var S={type:"text",extension:m,responseType:"text",key:c,url:p,xhrSettings:g};d.call(this,h,S)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),h=eval;this.loader.sceneManager.add(this.key,h(v)),this.complete=!0}});o.register("sceneFile",function(v,h,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new l(this,v[p]));else this.addFile(new l(this,v,h,c));return this}),n.exports=l},56812:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g,m,y){var S="js";if(r(c)){var M=c;c=a(M,"key"),p=a(M,"url"),y=a(M,"xhrSettings"),S=a(M,"extension",S),g=a(M,"systemKey"),m=a(M,"sceneKey")}var P={type:"scenePlugin",cache:!1,extension:S,responseType:"text",key:c,url:p,xhrSettings:y,config:{systemKey:g,sceneKey:m}};d.call(this,h,P),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,h=this.config,c=this.key,p=a(h,"systemKey",c),g=a(h,"sceneKey",c);this.state===x.FILE_POPULATED?v.installScenePlugin(p,this.data,g,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(p,window[this.key],g,this.loader.scene,!0)),this.onProcessComplete()}});o.register("scenePlugin",function(v,h,c,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new l(this,v[m]));else this.addFile(new l(this,v,h,c,p,g));return this}),n.exports=l},34328:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g,m){var y="js";if(r(c)){var S=c;c=a(S,"key"),p=a(S,"url"),g=a(S,"type","script"),m=a(S,"xhrSettings"),y=a(S,"extension",y)}else g===void 0&&(g="script");var M={type:g,cache:!1,extension:y,responseType:"text",key:c,url:p,xhrSettings:m};d.call(this,h,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("script",function(v,h,c,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new l(this,v[g]));else this.addFile(new l(this,v,h,c,p));return this}),n.exports=l},85035:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(74099),o=e(19550),a=new u({Extends:o,initialize:function(l,v,h,c,p){o.call(this,l,v,h,p,c),this.type="spritesheet"},addToCache:function(){var r=this.linkFile;r?r.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,r.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,r.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});d.register("spritesheet",function(r,l,v,h){if(Array.isArray(r))for(var c=0;c<r.length;c++)this.addFile(new a(this,r[c]));else this.addFile(new a(this,r,l,v,h));return this}),n.exports=a},78776:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=new u({Extends:d,initialize:function(h,c,p,g){var m="text",y="txt",S=h.cacheManager.text;if(r(c)){var M=c;c=a(M,"key"),p=a(M,"url"),g=a(M,"xhrSettings"),y=a(M,"extension",y),m=a(M,"type",m),S=a(M,"cache",S)}var P={type:m,cache:S,extension:y,responseType:"text",key:c,url:p,xhrSettings:g};d.call(this,h,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("text",function(v,h,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new l(this,v[p]));else this.addFile(new l(this,v,h,c));return this}),n.exports=l},49477:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=e(80341),v=new u({Extends:d,initialize:function(c,p,g,m){var y="csv";if(r(p)){var S=p;p=a(S,"key"),g=a(S,"url"),m=a(S,"xhrSettings"),y=a(S,"extension",y)}var M={type:"tilemapCSV",cache:c.cacheManager.tilemap,extension:y,responseType:"text",key:p,url:g,xhrSettings:m};d.call(this,c,M),this.tilemapFormat=l.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,h)}});o.register("tilemapCSV",function(h,c,p){if(Array.isArray(h))for(var g=0;g<h.length;g++)this.addFile(new v(this,h[g]));else this.addFile(new v(this,h,c,p));return this}),n.exports=v},40807:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(518),o=e(80341),a=new u({Extends:d,initialize:function(l,v,h,c){d.call(this,l,v,h,c),this.type="tilemapJSON",this.cache=l.cacheManager.tilemap},addToCache:function(){var r={format:o.WELTMEISTER,data:this.data};this.cache.add(this.key,r)}});x.register("tilemapImpact",function(r,l,v){if(Array.isArray(r))for(var h=0;h<r.length;h++)this.addFile(new a(this,r[h]));else this.addFile(new a(this,r,l,v));return this}),n.exports=a},56775:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(518),o=e(80341),a=new u({Extends:d,initialize:function(l,v,h,c){d.call(this,l,v,h,c),this.type="tilemapJSON",this.cache=l.cacheManager.tilemap},addToCache:function(){var r={format:o.TILED_JSON,data:this.data};this.cache.add(this.key,r)}});x.register("tilemapTiledJSON",function(r,l,v){if(Array.isArray(r))for(var h=0;h<r.length;h++)this.addFile(new a(this,r[h]));else this.addFile(new a(this,r,l,v));return this}),n.exports=a},25771:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(74099),d=e(95540),o=e(19550),a=e(41212),r=e(26430),l=e(78776),v=new u({Extends:r,initialize:function(c,p,g,m,y,S){var M,P;if(a(p)){var w=p;p=d(w,"key"),M=new o(c,{key:p,url:d(w,"textureURL"),extension:d(w,"textureExtension","png"),normalMap:d(w,"normalMap"),xhrSettings:d(w,"textureXhrSettings")}),P=new l(c,{key:p,url:d(w,"atlasURL"),extension:d(w,"atlasExtension","txt"),xhrSettings:d(w,"atlasXhrSettings")})}else M=new o(c,p,g,y),P=new l(c,p,m,S);M.linkFile?r.call(this,c,"unityatlas",p,[M,P,M.linkFile]):r.call(this,c,"unityatlas",p,[M,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(h.key,h.data,c.data,p),this.complete=!0}}});x.register("unityAtlas",function(h,c,p,g,m){var y;if(Array.isArray(h))for(var S=0;S<h.length;S++)y=new v(this,h[S]),this.addFile(y.files);else y=new v(this,h,c,p,g,m),this.addFile(y.files);return this}),n.exports=v},33720:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(98356),r=e(95540),l=e(41212),v=new u({Extends:d,initialize:function(c,p,g,m){if(m===void 0&&(m=!1),l(p)){var y=p;p=r(y,"key"),g=r(y,"url",[]),m=r(y,"noAudio",!1)}var S=c.systems.game.device.video.getVideoURL(g);S||console.warn("VideoFile: No supported format for "+p);var M={type:"video",cache:c.cacheManager.video,extension:S.type,key:p,url:S.url,config:{noAudio:m}};d.call(this,c,M)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=a(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});o.register("video",function(h,c,p){if(Array.isArray(h))for(var g=0;g<h.length;g++)this.addFile(new v(this,h[g]));else this.addFile(new v(this,h,c,p));return this}),n.exports=v},57318:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(23906),d=e(41299),o=e(74099),a=e(95540),r=e(41212),l=e(56836),v=new u({Extends:d,initialize:function(c,p,g,m){var y="xml";if(r(p)){var S=p;p=a(S,"key"),g=a(S,"url"),m=a(S,"xhrSettings"),y=a(S,"extension",y)}var M={type:"xml",cache:c.cacheManager.xml,extension:y,responseType:"text",key:p,url:g,xhrSettings:m};d.call(this,c,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=l(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});o.register("xml",function(h,c,p){if(Array.isArray(h))for(var g=0;g<h.length;g++)this.addFile(new v(this,h[g]));else this.addFile(new v(this,h,c,p));return this}),n.exports=v},64589:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:e(14135),AsepriteFile:e(76272),AtlasJSONFile:e(38734),AtlasXMLFile:e(74599),AudioFile:e(21097),AudioSpriteFile:e(89524),BinaryFile:e(85722),BitmapFontFile:e(97025),CompressedTextureFile:e(69559),CSSFile:e(16024),GLSLFile:e(47931),HTML5AudioFile:e(89749),HTMLFile:e(88470),HTMLTextureFile:e(14643),ImageFile:e(19550),JSONFile:e(518),MultiAtlasFile:e(59327),MultiScriptFile:e(99297),OBJFile:e(41846),PackFile:e(58610),PluginFile:e(48988),SceneFile:e(88423),ScenePluginFile:e(56812),ScriptFile:e(34328),SpriteSheetFile:e(85035),SVGFile:e(67397),TextFile:e(78776),TilemapCSVFile:e(49477),TilemapImpactFile:e(40807),TilemapJSONFile:e(56775),UnityAtlasFile:e(25771),VideoFile:e(33720),XMLFile:e(57318)}},57777:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23906),x=e(79291),d={Events:e(54899),FileTypes:e(64589),File:e(41299),FileTypesManager:e(74099),GetURL:e(98356),LoaderPlugin:e(74261),MergeXHRSettings:e(3374),MultiFile:e(26430),XHRLoader:e(84376),XHRSettings:e(92638)};d=x(!1,d,u),n.exports=d},53307:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){for(var u=0,x=0;x<e.length;x++)u+=+e[x];return u/e.length};n.exports=C},85710:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6411),x=function(d,o){return u(d)/u(o)/u(d-o)};n.exports=x},30976:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return Math.floor(Math.random()*(u-e+1)+e)};n.exports=C},87842:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o){var a=(d-u)*.5,r=(o-x)*.5,l=e*e,v=e*l;return(2*x-2*d+a+r)*v+(-3*x+3*d-2*a-r)*l+a*e+x};n.exports=C},26302:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){u===void 0&&(u=0),x===void 0&&(x=10);var d=Math.pow(x,-u);return Math.ceil(e*d)/d};n.exports=C},45319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return Math.max(u,Math.min(x,e))};n.exports=C},39506:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=function(d){return d*u.DEG_TO_RAD};n.exports=x},61241:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return Math.abs(e-u)};n.exports=C},38857:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(37867),o=e(29747),a=new d,r=new x({initialize:function l(v,h,c,p){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=l.DefaultOrder),this._x=v,this._y=h,this._z=c,this._order=p,this.onChangeCallback=o},x:{get:function(){return this._x},set:function(l){this._x=l,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(l){this._y=l,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(l){this._z=l,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(l){this._order=l,this.onChangeCallback(this)}},set:function(l,v,h,c){return c===void 0&&(c=this._order),this._x=l,this._y=v,this._z=h,this._order=c,this.onChangeCallback(this),this},copy:function(l){return this.set(l.x,l.y,l.z,l.order)},setFromQuaternion:function(l,v,h){return v===void 0&&(v=this._order),h===void 0&&(h=!1),a.fromQuat(l),this.setFromRotationMatrix(a,v,h)},setFromRotationMatrix:function(l,v,h){v===void 0&&(v=this._order),h===void 0&&(h=!1);var c=l.val,p=c[0],g=c[4],m=c[8],y=c[1],S=c[5],M=c[9],P=c[2],w=c[6],R=c[10],A=0,L=0,F=0,O=.99999;switch(v){case"XYZ":{L=Math.asin(u(m,-1,1)),Math.abs(m)<O?(A=Math.atan2(-M,R),F=Math.atan2(-g,p)):A=Math.atan2(w,S);break}case"YXZ":{A=Math.asin(-u(M,-1,1)),Math.abs(M)<O?(L=Math.atan2(m,R),F=Math.atan2(y,S)):L=Math.atan2(-P,p);break}case"ZXY":{A=Math.asin(u(w,-1,1)),Math.abs(w)<O?(L=Math.atan2(-P,R),F=Math.atan2(-g,S)):F=Math.atan2(y,p);break}case"ZYX":{L=Math.asin(-u(P,-1,1)),Math.abs(P)<O?(A=Math.atan2(w,R),F=Math.atan2(y,p)):F=Math.atan2(-g,S);break}case"YZX":{F=Math.asin(u(y,-1,1)),Math.abs(y)<O?(A=Math.atan2(-M,S),L=Math.atan2(-P,p)):L=Math.atan2(m,R);break}case"XZY":{F=Math.asin(-u(g,-1,1)),Math.abs(g)<O?(A=Math.atan2(w,S),L=Math.atan2(m,p)):A=Math.atan2(-M,R);break}}return this._x=A,this._y=L,this._z=F,this._order=v,h&&this.onChangeCallback(this),this}});r.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],r.DefaultOrder="XYZ",n.exports=r},6411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){if(e===0)return 1;for(var u=e;--e;)u*=e;return u};n.exports=C},99472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return Math.random()*(u-e)+e};n.exports=C},77623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){u===void 0&&(u=0),x===void 0&&(x=10);var d=Math.pow(x,-u);return Math.floor(e*d)/d};n.exports=C},62945:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=function(d,o,a){return d=u(d,0,1),(a-o)*d+o};n.exports=x},38265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e/u/1e3};n.exports=C},78702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e==parseFloat(e)?!(e%2):void 0};n.exports=C},94883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e===parseFloat(e)?!(e%2):void 0};n.exports=C},28915:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return(u-e)*x+e};n.exports=C},94908:n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return x===void 0&&(x=0),e.clone().lerp(u,x)};n.exports=C},94434:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o){this.val=new Float32Array(9),o?this.copy(o):this.identity()},clone:function(){return new x(this)},set:function(d){return this.copy(d)},copy:function(d){var o=this.val,a=d.val;return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[4]=a[4],o[5]=a[5],o[6]=a[6],o[7]=a[7],o[8]=a[8],this},fromMat4:function(d){var o=d.val,a=this.val;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[4],a[4]=o[5],a[5]=o[6],a[6]=o[8],a[7]=o[9],a[8]=o[10],this},fromArray:function(d){var o=this.val;return o[0]=d[0],o[1]=d[1],o[2]=d[2],o[3]=d[3],o[4]=d[4],o[5]=d[5],o[6]=d[6],o[7]=d[7],o[8]=d[8],this},identity:function(){var d=this.val;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=0,d[7]=0,d[8]=1,this},transpose:function(){var d=this.val,o=d[1],a=d[2],r=d[5];return d[1]=d[3],d[2]=d[6],d[3]=o,d[5]=d[7],d[6]=a,d[7]=r,this},invert:function(){var d=this.val,o=d[0],a=d[1],r=d[2],l=d[3],v=d[4],h=d[5],c=d[6],p=d[7],g=d[8],m=g*v-h*p,y=-g*l+h*c,S=p*l-v*c,M=o*m+a*y+r*S;return M?(M=1/M,d[0]=m*M,d[1]=(-g*a+r*p)*M,d[2]=(h*a-r*v)*M,d[3]=y*M,d[4]=(g*o-r*c)*M,d[5]=(-h*o+r*l)*M,d[6]=S*M,d[7]=(-p*o+a*c)*M,d[8]=(v*o-a*l)*M,this):null},adjoint:function(){var d=this.val,o=d[0],a=d[1],r=d[2],l=d[3],v=d[4],h=d[5],c=d[6],p=d[7],g=d[8];return d[0]=v*g-h*p,d[1]=r*p-a*g,d[2]=a*h-r*v,d[3]=h*c-l*g,d[4]=o*g-r*c,d[5]=r*l-o*h,d[6]=l*p-v*c,d[7]=a*c-o*p,d[8]=o*v-a*l,this},determinant:function(){var d=this.val,o=d[0],a=d[1],r=d[2],l=d[3],v=d[4],h=d[5],c=d[6],p=d[7],g=d[8];return o*(g*v-h*p)+a*(-g*l+h*c)+r*(p*l-v*c)},multiply:function(d){var o=this.val,a=o[0],r=o[1],l=o[2],v=o[3],h=o[4],c=o[5],p=o[6],g=o[7],m=o[8],y=d.val,S=y[0],M=y[1],P=y[2],w=y[3],R=y[4],A=y[5],L=y[6],F=y[7],O=y[8];return o[0]=S*a+M*v+P*p,o[1]=S*r+M*h+P*g,o[2]=S*l+M*c+P*m,o[3]=w*a+R*v+A*p,o[4]=w*r+R*h+A*g,o[5]=w*l+R*c+A*m,o[6]=L*a+F*v+O*p,o[7]=L*r+F*h+O*g,o[8]=L*l+F*c+O*m,this},translate:function(d){var o=this.val,a=d.x,r=d.y;return o[6]=a*o[0]+r*o[3]+o[6],o[7]=a*o[1]+r*o[4]+o[7],o[8]=a*o[2]+r*o[5]+o[8],this},rotate:function(d){var o=this.val,a=o[0],r=o[1],l=o[2],v=o[3],h=o[4],c=o[5],p=Math.sin(d),g=Math.cos(d);return o[0]=g*a+p*v,o[1]=g*r+p*h,o[2]=g*l+p*c,o[3]=g*v-p*a,o[4]=g*h-p*r,o[5]=g*c-p*l,this},scale:function(d){var o=this.val,a=d.x,r=d.y;return o[0]=a*o[0],o[1]=a*o[1],o[2]=a*o[2],o[3]=r*o[3],o[4]=r*o[4],o[5]=r*o[5],this},fromQuat:function(d){var o=d.x,a=d.y,r=d.z,l=d.w,v=o+o,h=a+a,c=r+r,p=o*v,g=o*h,m=o*c,y=a*h,S=a*c,M=r*c,P=l*v,w=l*h,R=l*c,A=this.val;return A[0]=1-(y+M),A[3]=g+R,A[6]=m-w,A[1]=g-R,A[4]=1-(p+M),A[7]=S+P,A[2]=m+w,A[5]=S-P,A[8]=1-(p+y),this},normalFromMat4:function(d){var o=d.val,a=this.val,r=o[0],l=o[1],v=o[2],h=o[3],c=o[4],p=o[5],g=o[6],m=o[7],y=o[8],S=o[9],M=o[10],P=o[11],w=o[12],R=o[13],A=o[14],L=o[15],F=r*p-l*c,O=r*g-v*c,b=r*m-h*c,B=l*g-v*p,I=l*m-h*p,N=v*m-h*g,X=y*R-S*w,k=y*A-M*w,H=y*L-P*w,V=S*A-M*R,W=S*L-P*R,D=M*L-P*A,G=F*D-O*W+b*V+B*H-I*k+N*X;return G?(G=1/G,a[0]=(p*D-g*W+m*V)*G,a[1]=(g*H-c*D-m*k)*G,a[2]=(c*W-p*H+m*X)*G,a[3]=(v*W-l*D-h*V)*G,a[4]=(r*D-v*H+h*k)*G,a[5]=(l*H-r*W-h*X)*G,a[6]=(R*N-A*I+L*B)*G,a[7]=(A*b-w*N-L*O)*G,a[8]=(w*I-R*b+L*F)*G,this):null}});n.exports=x},37867:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(25836),d=1e-6,o=new u({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new o(this)},set:function(c){return this.copy(c)},setValues:function(c,p,g,m,y,S,M,P,w,R,A,L,F,O,b,B){var I=this.val;return I[0]=c,I[1]=p,I[2]=g,I[3]=m,I[4]=y,I[5]=S,I[6]=M,I[7]=P,I[8]=w,I[9]=R,I[10]=A,I[11]=L,I[12]=F,I[13]=O,I[14]=b,I[15]=B,this},copy:function(c){var p=c.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,p,g){var m=a.fromQuat(g),y=m.val,S=p.x,M=p.y,P=p.z;return this.setValues(y[0]*S,y[1]*S,y[2]*S,0,y[4]*M,y[5]*M,y[6]*M,0,y[8]*P,y[9]*P,y[10]*P,0,c.x,c.y,c.z,1)},xyz:function(c,p,g){this.identity();var m=this.val;return m[12]=c,m[13]=p,m[14]=g,this},scaling:function(c,p,g){this.zero();var m=this.val;return m[0]=c,m[5]=p,m[10]=g,m[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,p=c[1],g=c[2],m=c[3],y=c[6],S=c[7],M=c[11];return c[1]=c[4],c[2]=c[8],c[3]=c[12],c[4]=p,c[6]=c[9],c[7]=c[13],c[8]=g,c[9]=y,c[11]=c[14],c[12]=m,c[13]=S,c[14]=M,this},getInverse:function(c){return this.copy(c),this.invert()},invert:function(){var c=this.val,p=c[0],g=c[1],m=c[2],y=c[3],S=c[4],M=c[5],P=c[6],w=c[7],R=c[8],A=c[9],L=c[10],F=c[11],O=c[12],b=c[13],B=c[14],I=c[15],N=p*M-g*S,X=p*P-m*S,k=p*w-y*S,H=g*P-m*M,V=g*w-y*M,W=m*w-y*P,D=R*b-A*O,G=R*B-L*O,z=R*I-F*O,U=A*B-L*b,Y=A*I-F*b,$=L*I-F*B,K=N*$-X*Y+k*U+H*z-V*G+W*D;return K?(K=1/K,this.setValues((M*$-P*Y+w*U)*K,(m*Y-g*$-y*U)*K,(b*W-B*V+I*H)*K,(L*V-A*W-F*H)*K,(P*z-S*$-w*G)*K,(p*$-m*z+y*G)*K,(B*k-O*W-I*X)*K,(R*W-L*k+F*X)*K,(S*Y-M*z+w*D)*K,(g*z-p*Y-y*D)*K,(O*V-b*k+I*N)*K,(A*k-R*V-F*N)*K,(M*G-S*U-P*D)*K,(p*U-g*G+m*D)*K,(b*X-O*H-B*N)*K,(R*H-A*X+L*N)*K)):this},adjoint:function(){var c=this.val,p=c[0],g=c[1],m=c[2],y=c[3],S=c[4],M=c[5],P=c[6],w=c[7],R=c[8],A=c[9],L=c[10],F=c[11],O=c[12],b=c[13],B=c[14],I=c[15];return this.setValues(M*(L*I-F*B)-A*(P*I-w*B)+b*(P*F-w*L),-(g*(L*I-F*B)-A*(m*I-y*B)+b*(m*F-y*L)),g*(P*I-w*B)-M*(m*I-y*B)+b*(m*w-y*P),-(g*(P*F-w*L)-M*(m*F-y*L)+A*(m*w-y*P)),-(S*(L*I-F*B)-R*(P*I-w*B)+O*(P*F-w*L)),p*(L*I-F*B)-R*(m*I-y*B)+O*(m*F-y*L),-(p*(P*I-w*B)-S*(m*I-y*B)+O*(m*w-y*P)),p*(P*F-w*L)-S*(m*F-y*L)+R*(m*w-y*P),S*(A*I-F*b)-R*(M*I-w*b)+O*(M*F-w*A),-(p*(A*I-F*b)-R*(g*I-y*b)+O*(g*F-y*A)),p*(M*I-w*b)-S*(g*I-y*b)+O*(g*w-y*M),-(p*(M*F-w*A)-S*(g*F-y*A)+R*(g*w-y*M)),-(S*(A*B-L*b)-R*(M*B-P*b)+O*(M*L-P*A)),p*(A*B-L*b)-R*(g*B-m*b)+O*(g*L-m*A),-(p*(M*B-P*b)-S*(g*B-m*b)+O*(g*P-m*M)),p*(M*L-P*A)-S*(g*L-m*A)+R*(g*P-m*M))},determinant:function(){var c=this.val,p=c[0],g=c[1],m=c[2],y=c[3],S=c[4],M=c[5],P=c[6],w=c[7],R=c[8],A=c[9],L=c[10],F=c[11],O=c[12],b=c[13],B=c[14],I=c[15],N=p*M-g*S,X=p*P-m*S,k=p*w-y*S,H=g*P-m*M,V=g*w-y*M,W=m*w-y*P,D=R*b-A*O,G=R*B-L*O,z=R*I-F*O,U=A*B-L*b,Y=A*I-F*b,$=L*I-F*B;return N*$-X*Y+k*U+H*z-V*G+W*D},multiply:function(c){var p=this.val,g=p[0],m=p[1],y=p[2],S=p[3],M=p[4],P=p[5],w=p[6],R=p[7],A=p[8],L=p[9],F=p[10],O=p[11],b=p[12],B=p[13],I=p[14],N=p[15],X=c.val,k=X[0],H=X[1],V=X[2],W=X[3];return p[0]=k*g+H*M+V*A+W*b,p[1]=k*m+H*P+V*L+W*B,p[2]=k*y+H*w+V*F+W*I,p[3]=k*S+H*R+V*O+W*N,k=X[4],H=X[5],V=X[6],W=X[7],p[4]=k*g+H*M+V*A+W*b,p[5]=k*m+H*P+V*L+W*B,p[6]=k*y+H*w+V*F+W*I,p[7]=k*S+H*R+V*O+W*N,k=X[8],H=X[9],V=X[10],W=X[11],p[8]=k*g+H*M+V*A+W*b,p[9]=k*m+H*P+V*L+W*B,p[10]=k*y+H*w+V*F+W*I,p[11]=k*S+H*R+V*O+W*N,k=X[12],H=X[13],V=X[14],W=X[15],p[12]=k*g+H*M+V*A+W*b,p[13]=k*m+H*P+V*L+W*B,p[14]=k*y+H*w+V*F+W*I,p[15]=k*S+H*R+V*O+W*N,this},multiplyLocal:function(c){var p=this.val,g=c.val;return this.setValues(p[0]*g[0]+p[1]*g[4]+p[2]*g[8]+p[3]*g[12],p[0]*g[1]+p[1]*g[5]+p[2]*g[9]+p[3]*g[13],p[0]*g[2]+p[1]*g[6]+p[2]*g[10]+p[3]*g[14],p[0]*g[3]+p[1]*g[7]+p[2]*g[11]+p[3]*g[15],p[4]*g[0]+p[5]*g[4]+p[6]*g[8]+p[7]*g[12],p[4]*g[1]+p[5]*g[5]+p[6]*g[9]+p[7]*g[13],p[4]*g[2]+p[5]*g[6]+p[6]*g[10]+p[7]*g[14],p[4]*g[3]+p[5]*g[7]+p[6]*g[11]+p[7]*g[15],p[8]*g[0]+p[9]*g[4]+p[10]*g[8]+p[11]*g[12],p[8]*g[1]+p[9]*g[5]+p[10]*g[9]+p[11]*g[13],p[8]*g[2]+p[9]*g[6]+p[10]*g[10]+p[11]*g[14],p[8]*g[3]+p[9]*g[7]+p[10]*g[11]+p[11]*g[15],p[12]*g[0]+p[13]*g[4]+p[14]*g[8]+p[15]*g[12],p[12]*g[1]+p[13]*g[5]+p[14]*g[9]+p[15]*g[13],p[12]*g[2]+p[13]*g[6]+p[14]*g[10]+p[15]*g[14],p[12]*g[3]+p[13]*g[7]+p[14]*g[11]+p[15]*g[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var g=c.val,m=p.val,y=g[0],S=g[4],M=g[8],P=g[12],w=g[1],R=g[5],A=g[9],L=g[13],F=g[2],O=g[6],b=g[10],B=g[14],I=g[3],N=g[7],X=g[11],k=g[15],H=m[0],V=m[4],W=m[8],D=m[12],G=m[1],z=m[5],U=m[9],Y=m[13],$=m[2],K=m[6],Z=m[10],J=m[14],Q=m[3],j=m[7],_=m[11],q=m[15];return this.setValues(y*H+S*G+M*$+P*Q,w*H+R*G+A*$+L*Q,F*H+O*G+b*$+B*Q,I*H+N*G+X*$+k*Q,y*V+S*z+M*K+P*j,w*V+R*z+A*K+L*j,F*V+O*z+b*K+B*j,I*V+N*z+X*K+k*j,y*W+S*U+M*Z+P*_,w*W+R*U+A*Z+L*_,F*W+O*U+b*Z+B*_,I*W+N*U+X*Z+k*_,y*D+S*Y+M*J+P*q,w*D+R*Y+A*J+L*q,F*D+O*Y+b*J+B*q,I*D+N*Y+X*J+k*q)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,p,g){var m=this.val;return m[12]=m[0]*c+m[4]*p+m[8]*g+m[12],m[13]=m[1]*c+m[5]*p+m[9]*g+m[13],m[14]=m[2]*c+m[6]*p+m[10]*g+m[14],m[15]=m[3]*c+m[7]*p+m[11]*g+m[15],this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,p,g){var m=this.val;return m[0]=m[0]*c,m[1]=m[1]*c,m[2]=m[2]*c,m[3]=m[3]*c,m[4]=m[4]*p,m[5]=m[5]*p,m[6]=m[6]*p,m[7]=m[7]*p,m[8]=m[8]*g,m[9]=m[9]*g,m[10]=m[10]*g,m[11]=m[11]*g,this},makeRotationAxis:function(c,p){var g=Math.cos(p),m=Math.sin(p),y=1-g,S=c.x,M=c.y,P=c.z,w=y*S,R=y*M;return this.setValues(w*S+g,w*M-m*P,w*P+m*M,0,w*M+m*P,R*M+g,R*P-m*S,0,w*P-m*M,R*P+m*S,y*P*P+g,0,0,0,0,1)},rotate:function(c,p){var g=this.val,m=p.x,y=p.y,S=p.z,M=Math.sqrt(m*m+y*y+S*S);if(Math.abs(M)<d)return this;M=1/M,m*=M,y*=M,S*=M;var P=Math.sin(c),w=Math.cos(c),R=1-w,A=g[0],L=g[1],F=g[2],O=g[3],b=g[4],B=g[5],I=g[6],N=g[7],X=g[8],k=g[9],H=g[10],V=g[11],W=g[12],D=g[13],G=g[14],z=g[15],U=m*m*R+w,Y=y*m*R+S*P,$=S*m*R-y*P,K=m*y*R-S*P,Z=y*y*R+w,J=S*y*R+m*P,Q=m*S*R+y*P,j=y*S*R-m*P,_=S*S*R+w;return this.setValues(A*U+b*Y+X*$,L*U+B*Y+k*$,F*U+I*Y+H*$,O*U+N*Y+V*$,A*K+b*Z+X*J,L*K+B*Z+k*J,F*K+I*Z+H*J,O*K+N*Z+V*J,A*Q+b*j+X*_,L*Q+B*j+k*_,F*Q+I*j+H*_,O*Q+N*j+V*_,W,D,G,z)},rotateX:function(c){var p=this.val,g=Math.sin(c),m=Math.cos(c),y=p[4],S=p[5],M=p[6],P=p[7],w=p[8],R=p[9],A=p[10],L=p[11];return p[4]=y*m+w*g,p[5]=S*m+R*g,p[6]=M*m+A*g,p[7]=P*m+L*g,p[8]=w*m-y*g,p[9]=R*m-S*g,p[10]=A*m-M*g,p[11]=L*m-P*g,this},rotateY:function(c){var p=this.val,g=Math.sin(c),m=Math.cos(c),y=p[0],S=p[1],M=p[2],P=p[3],w=p[8],R=p[9],A=p[10],L=p[11];return p[0]=y*m-w*g,p[1]=S*m-R*g,p[2]=M*m-A*g,p[3]=P*m-L*g,p[8]=y*g+w*m,p[9]=S*g+R*m,p[10]=M*g+A*m,p[11]=P*g+L*m,this},rotateZ:function(c){var p=this.val,g=Math.sin(c),m=Math.cos(c),y=p[0],S=p[1],M=p[2],P=p[3],w=p[4],R=p[5],A=p[6],L=p[7];return p[0]=y*m+w*g,p[1]=S*m+R*g,p[2]=M*m+A*g,p[3]=P*m+L*g,p[4]=w*m-y*g,p[5]=R*m-S*g,p[6]=A*m-M*g,p[7]=L*m-P*g,this},fromRotationTranslation:function(c,p){var g=c.x,m=c.y,y=c.z,S=c.w,M=g+g,P=m+m,w=y+y,R=g*M,A=g*P,L=g*w,F=m*P,O=m*w,b=y*w,B=S*M,I=S*P,N=S*w;return this.setValues(1-(F+b),A+N,L-I,0,A-N,1-(R+b),O+B,0,L+I,O-B,1-(R+F),0,p.x,p.y,p.z,1)},fromQuat:function(c){var p=c.x,g=c.y,m=c.z,y=c.w,S=p+p,M=g+g,P=m+m,w=p*S,R=p*M,A=p*P,L=g*M,F=g*P,O=m*P,b=y*S,B=y*M,I=y*P;return this.setValues(1-(L+O),R+I,A-B,0,R-I,1-(w+O),F+b,0,A+B,F-b,1-(w+L),0,0,0,0,1)},frustum:function(c,p,g,m,y,S){var M=1/(p-c),P=1/(m-g),w=1/(y-S);return this.setValues(y*2*M,0,0,0,0,y*2*P,0,0,(p+c)*M,(m+g)*P,(S+y)*w,-1,0,0,S*y*2*w,0)},perspective:function(c,p,g,m){var y=1/Math.tan(c/2),S=1/(g-m);return this.setValues(y/p,0,0,0,0,y,0,0,0,0,(m+g)*S,-1,0,0,2*m*g*S,0)},perspectiveLH:function(c,p,g,m){return this.setValues(2*g/c,0,0,0,0,2*g/p,0,0,0,0,-m/(g-m),1,0,0,g*m/(g-m),0)},ortho:function(c,p,g,m,y,S){var M=c-p,P=g-m,w=y-S;return M=M===0?M:1/M,P=P===0?P:1/P,w=w===0?w:1/w,this.setValues(-2*M,0,0,0,0,-2*P,0,0,0,0,2*w,0,(c+p)*M,(m+g)*P,(S+y)*w,1)},lookAtRH:function(c,p,g){var m=this.val;return h.subVectors(c,p),h.getLengthSquared()===0&&(h.z=1),h.normalize(),l.crossVectors(g,h),l.getLengthSquared()===0&&(Math.abs(g.z)===1?h.x+=1e-4:h.z+=1e-4,h.normalize(),l.crossVectors(g,h)),l.normalize(),v.crossVectors(h,l),m[0]=l.x,m[1]=l.y,m[2]=l.z,m[4]=v.x,m[5]=v.y,m[6]=v.z,m[8]=h.x,m[9]=h.y,m[10]=h.z,this},lookAt:function(c,p,g){var m=c.x,y=c.y,S=c.z,M=g.x,P=g.y,w=g.z,R=p.x,A=p.y,L=p.z;if(Math.abs(m-R)<d&&Math.abs(y-A)<d&&Math.abs(S-L)<d)return this.identity();var F=m-R,O=y-A,b=S-L,B=1/Math.sqrt(F*F+O*O+b*b);F*=B,O*=B,b*=B;var I=P*b-w*O,N=w*F-M*b,X=M*O-P*F;B=Math.sqrt(I*I+N*N+X*X),B?(B=1/B,I*=B,N*=B,X*=B):(I=0,N=0,X=0);var k=O*X-b*N,H=b*I-F*X,V=F*N-O*I;return B=Math.sqrt(k*k+H*H+V*V),B?(B=1/B,k*=B,H*=B,V*=B):(k=0,H=0,V=0),this.setValues(I,k,F,0,N,H,O,0,X,V,b,0,-(I*m+N*y+X*S),-(k*m+H*y+V*S),-(F*m+O*y+b*S),1)},yawPitchRoll:function(c,p,g){this.zero(),a.zero(),r.zero();var m=this.val,y=a.val,S=r.val,M=Math.sin(g),P=Math.cos(g);return m[10]=1,m[15]=1,m[0]=P,m[1]=M,m[4]=-M,m[5]=P,M=Math.sin(p),P=Math.cos(p),y[0]=1,y[15]=1,y[5]=P,y[10]=P,y[9]=-M,y[6]=M,M=Math.sin(c),P=Math.cos(c),S[5]=1,S[15]=1,S[0]=P,S[2]=-M,S[8]=M,S[10]=P,this.multiplyLocal(a),this.multiplyLocal(r),this},setWorldMatrix:function(c,p,g,m,y){return this.yawPitchRoll(c.y,c.x,c.z),a.scaling(g.x,g.y,g.z),r.xyz(p.x,p.y,p.z),this.multiplyLocal(a),this.multiplyLocal(r),m&&this.multiplyLocal(m),y&&this.multiplyLocal(y),this},multiplyToMat4:function(c,p){var g=this.val,m=c.val,y=g[0],S=g[1],M=g[2],P=g[3],w=g[4],R=g[5],A=g[6],L=g[7],F=g[8],O=g[9],b=g[10],B=g[11],I=g[12],N=g[13],X=g[14],k=g[15],H=m[0],V=m[1],W=m[2],D=m[3],G=m[4],z=m[5],U=m[6],Y=m[7],$=m[8],K=m[9],Z=m[10],J=m[11],Q=m[12],j=m[13],_=m[14],q=m[15];return p.setValues(H*y+V*w+W*F+D*I,V*S+V*R+W*O+D*N,W*M+V*A+W*b+D*X,D*P+V*L+W*B+D*k,G*y+z*w+U*F+Y*I,G*S+z*R+U*O+Y*N,G*M+z*A+U*b+Y*X,G*P+z*L+U*B+Y*k,$*y+K*w+Z*F+J*I,$*S+K*R+Z*O+J*N,$*M+K*A+Z*b+J*X,$*P+K*L+Z*B+J*k,Q*y+j*w+_*F+q*I,Q*S+j*R+_*O+q*N,Q*M+j*A+_*b+q*X,Q*P+j*L+_*B+q*k)},fromRotationXYTranslation:function(c,p,g){var m=p.x,y=p.y,S=p.z,M=Math.sin(c.x),P=Math.cos(c.x),w=Math.sin(c.y),R=Math.cos(c.y),A=m,L=y,F=S,O=-M,b=0-O*w,B=0-P*w,I=O*R,N=P*R;return g||(A=R*m+w*S,L=b*m+P*y+I*S,F=B*m+M*y+N*S),this.setValues(R,b,B,0,0,P,M,0,w,I,N,0,A,L,F,1)},getMaxScaleOnAxis:function(){var c=this.val,p=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],g=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],m=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(p,g,m))}}),a=new o,r=new o,l=new x,v=new x,h=new x;n.exports=o},86883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return Math.min(e+u,x)};n.exports=C},50040:n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u=e.length;if(u===0)return 0;e.sort(function(d,o){return d-o});var x=Math.floor(u/2);return u%2===0?(e[x]+e[x-1])/2:e[x]};n.exports=C},37204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return Math.max(e-u,x)};n.exports=C},65201:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){x===void 0&&(x=u+1);var o=(e-u)/(x-u);return o>1?d!==void 0?(o=(d-e)/(d-x),o<0&&(o=0)):o=1:o<0&&(o=0),o};n.exports=C},15746:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(94434),d=e(29747),o=e(25836),a=1e-6,r=new Int8Array([1,2,0]),l=new Float32Array([0,0,0]),v=new o(1,0,0),h=new o(0,1,0),c=new o,p=new x,g=new u({initialize:function(y,S,M,P){this.onChangeCallback=d,this.set(y,S,M,P)},x:{get:function(){return this._x},set:function(m){this._x=m,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(m){this._y=m,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(m){this._z=m,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(m){this._w=m,this.onChangeCallback(this)}},copy:function(m){return this.set(m)},set:function(m,y,S,M,P){return P===void 0&&(P=!0),typeof m=="object"?(this._x=m.x||0,this._y=m.y||0,this._z=m.z||0,this._w=m.w||0):(this._x=m||0,this._y=y||0,this._z=S||0,this._w=M||0),P&&this.onChangeCallback(this),this},add:function(m){return this._x+=m.x,this._y+=m.y,this._z+=m.z,this._w+=m.w,this.onChangeCallback(this),this},subtract:function(m){return this._x-=m.x,this._y-=m.y,this._z-=m.z,this._w-=m.w,this.onChangeCallback(this),this},scale:function(m){return this._x*=m,this._y*=m,this._z*=m,this._w*=m,this.onChangeCallback(this),this},length:function(){var m=this.x,y=this.y,S=this.z,M=this.w;return Math.sqrt(m*m+y*y+S*S+M*M)},lengthSq:function(){var m=this.x,y=this.y,S=this.z,M=this.w;return m*m+y*y+S*S+M*M},normalize:function(){var m=this.x,y=this.y,S=this.z,M=this.w,P=m*m+y*y+S*S+M*M;return P>0&&(P=1/Math.sqrt(P),this._x=m*P,this._y=y*P,this._z=S*P,this._w=M*P),this.onChangeCallback(this),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z+this.w*m.w},lerp:function(m,y){y===void 0&&(y=0);var S=this.x,M=this.y,P=this.z,w=this.w;return this.set(S+y*(m.x-S),M+y*(m.y-M),P+y*(m.z-P),w+y*(m.w-w))},rotationTo:function(m,y){var S=m.x*y.x+m.y*y.y+m.z*y.z;return S<-.999999?(c.copy(v).cross(m).length()<a&&c.copy(h).cross(m),c.normalize(),this.setAxisAngle(c,Math.PI)):S>.999999?this.set(0,0,0,1):(c.copy(m).cross(y),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+S,this.normalize())},setAxes:function(m,y,S){var M=p.val;return M[0]=y.x,M[3]=y.y,M[6]=y.z,M[1]=S.x,M[4]=S.y,M[7]=S.z,M[2]=-m.x,M[5]=-m.y,M[8]=-m.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(m,y){y=y*.5;var S=Math.sin(y);return this.set(S*m.x,S*m.y,S*m.z,Math.cos(y))},multiply:function(m){var y=this.x,S=this.y,M=this.z,P=this.w,w=m.x,R=m.y,A=m.z,L=m.w;return this.set(y*L+P*w+S*A-M*R,S*L+P*R+M*w-y*A,M*L+P*A+y*R-S*w,P*L-y*w-S*R-M*A)},slerp:function(m,y){var S=this.x,M=this.y,P=this.z,w=this.w,R=m.x,A=m.y,L=m.z,F=m.w,O=S*R+M*A+P*L+w*F;O<0&&(O=-O,R=-R,A=-A,L=-L,F=-F);var b=1-y,B=y;if(1-O>a){var I=Math.acos(O),N=Math.sin(I);b=Math.sin((1-y)*I)/N,B=Math.sin(y*I)/N}return this.set(b*S+B*R,b*M+B*A,b*P+B*L,b*w+B*F)},invert:function(){var m=this.x,y=this.y,S=this.z,M=this.w,P=m*m+y*y+S*S+M*M,w=P?1/P:0;return this.set(-m*w,-y*w,-S*w,M*w)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(m){m*=.5;var y=this.x,S=this.y,M=this.z,P=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(y*R+P*w,S*R+M*w,M*R-S*w,P*R-y*w)},rotateY:function(m){m*=.5;var y=this.x,S=this.y,M=this.z,P=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(y*R-M*w,S*R+P*w,M*R+y*w,P*R-S*w)},rotateZ:function(m){m*=.5;var y=this.x,S=this.y,M=this.z,P=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(y*R+S*w,S*R-y*w,M*R+P*w,P*R-M*w)},calculateW:function(){var m=this.x,y=this.y,S=this.z;return this.w=-Math.sqrt(1-m*m-y*y-S*S),this},setFromEuler:function(m,y){var S=m.x/2,M=m.y/2,P=m.z/2,w=Math.cos(S),R=Math.cos(M),A=Math.cos(P),L=Math.sin(S),F=Math.sin(M),O=Math.sin(P);switch(m.order){case"XYZ":{this.set(L*R*A+w*F*O,w*F*A-L*R*O,w*R*O+L*F*A,w*R*A-L*F*O,y);break}case"YXZ":{this.set(L*R*A+w*F*O,w*F*A-L*R*O,w*R*O-L*F*A,w*R*A+L*F*O,y);break}case"ZXY":{this.set(L*R*A-w*F*O,w*F*A+L*R*O,w*R*O+L*F*A,w*R*A-L*F*O,y);break}case"ZYX":{this.set(L*R*A-w*F*O,w*F*A+L*R*O,w*R*O-L*F*A,w*R*A+L*F*O,y);break}case"YZX":{this.set(L*R*A+w*F*O,w*F*A+L*R*O,w*R*O-L*F*A,w*R*A-L*F*O,y);break}case"XZY":{this.set(L*R*A-w*F*O,w*F*A-L*R*O,w*R*O+L*F*A,w*R*A+L*F*O,y);break}}return this},setFromRotationMatrix:function(m){var y=m.val,S=y[0],M=y[4],P=y[8],w=y[1],R=y[5],A=y[9],L=y[2],F=y[6],O=y[10],b=S+R+O,B;return b>0?(B=.5/Math.sqrt(b+1),this.set((F-A)*B,(P-L)*B,(w-M)*B,.25/B)):S>R&&S>O?(B=2*Math.sqrt(1+S-R-O),this.set(.25*B,(M+w)/B,(P+L)/B,(F-A)/B)):R>O?(B=2*Math.sqrt(1+R-S-O),this.set((M+w)/B,.25*B,(A+F)/B,(P-L)/B)):(B=2*Math.sqrt(1+O-S-R),this.set((P+L)/B,(A+F)/B,.25*B,(w-M)/B)),this},fromMat3:function(m){var y=m.val,S=y[0]+y[4]+y[8],M;if(S>0)M=Math.sqrt(S+1),this.w=.5*M,M=.5/M,this._x=(y[7]-y[5])*M,this._y=(y[2]-y[6])*M,this._z=(y[3]-y[1])*M;else{var P=0;y[4]>y[0]&&(P=1),y[8]>y[P*3+P]&&(P=2);var w=r[P],R=r[w];M=Math.sqrt(y[P*3+P]-y[w*3+w]-y[R*3+R]+1),l[P]=.5*M,M=.5/M,l[w]=(y[w*3+P]+y[P*3+w])*M,l[R]=(y[R*3+P]+y[P*3+R])*M,this._x=l[0],this._y=l[1],this._z=l[2],this._w=(y[R*3+w]-y[w*3+R])*M}return this.onChangeCallback(this),this}});n.exports=g},43396:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=function(d){return d*u.RAD_TO_DEG};n.exports=x},74362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u=1);var x=Math.random()*2*Math.PI;return e.x=Math.cos(x)*u,e.y=Math.sin(x)*u,e};n.exports=C},60706:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u=1);var x=Math.random()*2*Math.PI,d=Math.random()*2-1,o=Math.sqrt(1-d*d)*u;return e.x=Math.cos(x)*o,e.y=Math.sin(x)*o,e.z=d*u,e};n.exports=C},67421:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u=1),e.x=(Math.random()*2-1)*u,e.y=(Math.random()*2-1)*u,e.z=(Math.random()*2-1)*u,e.w=(Math.random()*2-1)*u,e};n.exports=C},36305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.x,d=e.y;return e.x=x*Math.cos(u)-d*Math.sin(u),e.y=x*Math.sin(u)+d*Math.cos(u),e};n.exports=C},11520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=Math.cos(d),a=Math.sin(d),r=e.x-u,l=e.y-x;return e.x=r*o-l*a+u,e.y=r*a+l*o+x,e};n.exports=C},1163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o){var a=d+Math.atan2(e.y-x,e.x-u);return e.x=u+o*Math.cos(a),e.y=x+o*Math.sin(a),e};n.exports=C},70336:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o){return e.x=u+o*Math.cos(d),e.y=x+o*Math.sin(d),e};n.exports=C},72678:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25836),x=e(37867),d=e(15746),o=new x,a=new d,r=new u,l=function(v,h,c){return a.setAxisAngle(h,c),o.fromRotationTranslation(a,r.set(0,0,0)),v.transformMat4(o)};n.exports=l},2284:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e>0?Math.ceil(e):Math.floor(e)};n.exports=C},41013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){u===void 0&&(u=0),x===void 0&&(x=10);var d=Math.pow(x,-u);return Math.round(e*d)/d};n.exports=C},16922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){u===void 0&&(u=1),x===void 0&&(x=1),d===void 0&&(d=1),d*=Math.PI/e;for(var o=[],a=[],r=0;r<e;r++)x-=u*d,u+=x*d,o[r]=x,a[r]=u;return{sin:a,cos:o,length:e}};n.exports=C},7602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e<=u?0:e>=x?1:(e=(e-u)/(x-u),e*e*(3-2*e))};n.exports=C},54261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e=Math.max(0,Math.min(1,(e-u)/(x-u))),e*e*e*(e*(e*6-15)+10)};n.exports=C},44408:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r){r===void 0&&(r=new u);var l=0,v=0,h=o*a;return d>0&&d<=h&&(d>o-1?(v=Math.floor(d/o),l=d-v*o):l=d),r.set(l,v)};n.exports=x},85955:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r,l,v,h,c){c===void 0&&(c=new u);var p=Math.sin(l),g=Math.cos(l),m=g*v,y=p*v,S=-p*h,M=g*h,P=1/(m*M+S*-y);return c.x=M*P*d+-S*P*o+(r*S-a*M)*P,c.y=m*P*o+-y*P*d+(-r*m+a*y)*P,c};n.exports=x},26099:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(43855),d=new u({initialize:function(a,r){this.x=0,this.y=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0):(r===void 0&&(r=a),this.x=a||0,this.y=r||0)},clone:function(){return new d(this.x,this.y)},copy:function(o){return this.x=o.x||0,this.y=o.y||0,this},setFromObject:function(o){return this.x=o.x||0,this.y=o.y||0,this},set:function(o,a){return a===void 0&&(a=o),this.x=o,this.y=a,this},setTo:function(o,a){return this.set(o,a)},setToPolar:function(o,a){return a==null&&(a=1),this.x=Math.cos(o)*a,this.y=Math.sin(o)*a,this},equals:function(o){return this.x===o.x&&this.y===o.y},fuzzyEquals:function(o,a){return x(this.x,o.x,a)&&x(this.y,o.y,a)},angle:function(){var o=Math.atan2(this.y,this.x);return o<0&&(o+=2*Math.PI),o},setAngle:function(o){return this.setToPolar(o,this.length())},add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o):(this.x=0,this.y=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(o){var a=o.x-this.x,r=o.y-this.y;return Math.sqrt(a*a+r*r)},distanceSq:function(o){var a=o.x-this.x,r=o.y-this.y;return a*a+r*r},length:function(){var o=this.x,a=this.y;return Math.sqrt(o*o+a*a)},setLength:function(o){return this.normalize().scale(o)},lengthSq:function(){var o=this.x,a=this.y;return o*o+a*a},normalize:function(){var o=this.x,a=this.y,r=o*o+a*a;return r>0&&(r=1/Math.sqrt(r),this.x=o*r,this.y=a*r),this},normalizeRightHand:function(){var o=this.x;return this.x=this.y*-1,this.y=o,this},normalizeLeftHand:function(){var o=this.x;return this.x=this.y,this.y=o*-1,this},dot:function(o){return this.x*o.x+this.y*o.y},cross:function(o){return this.x*o.y-this.y*o.x},lerp:function(o,a){a===void 0&&(a=0);var r=this.x,l=this.y;return this.x=r+a*(o.x-r),this.y=l+a*(o.y-l),this},transformMat3:function(o){var a=this.x,r=this.y,l=o.val;return this.x=l[0]*a+l[3]*r+l[6],this.y=l[1]*a+l[4]*r+l[7],this},transformMat4:function(o){var a=this.x,r=this.y,l=o.val;return this.x=l[0]*a+l[4]*r+l[12],this.y=l[1]*a+l[5]*r+l[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(o){var a=this.length();return a&&a>o&&this.scale(o/a),this},reflect:function(o){return o=o.clone().normalize(),this.subtract(o.scale(2*this.dot(o)))},mirror:function(o){return this.reflect(o).negate()},rotate:function(o){var a=Math.cos(o),r=Math.sin(o);return this.set(a*this.x-r*this.y,r*this.x+a*this.y)},project:function(o){var a=this.dot(o)/o.dot(o);return this.copy(o).scale(a)}});d.ZERO=new d,d.RIGHT=new d(1,0),d.LEFT=new d(-1,0),d.UP=new d(0,-1),d.DOWN=new d(0,1),d.ONE=new d(1,1),n.exports=d},25836:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r){this.x=0,this.y=0,this.z=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=a||0,this.z=r||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(d){return this.x=Math.min(this.x,d.x),this.y=Math.min(this.y,d.y),this.z=Math.min(this.z,d.z),this},max:function(d){return this.x=Math.max(this.x,d.x),this.y=Math.max(this.y,d.y),this.z=Math.max(this.z,d.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(d,o){return this.x=d.x+o.x,this.y=d.y+o.y,this.z=d.z+o.z,this},crossVectors:function(d,o){var a=d.x,r=d.y,l=d.z,v=o.x,h=o.y,c=o.z;return this.x=r*c-l*h,this.y=l*v-a*c,this.z=a*h-r*v,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this},set:function(d,o,a){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):(this.x=d||0,this.y=o||0,this.z=a||0),this},setFromMatrixPosition:function(d){return this.fromArray(d.val,12)},setFromMatrixColumn:function(d,o){return this.fromArray(d.val,o*4)},fromArray:function(d,o){return o===void 0&&(o=0),this.x=d[o],this.y=d[o+1],this.z=d[o+2],this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this},addScalar:function(d){return this.x+=d,this.y+=d,this.z+=d,this},addScale:function(d,o){return this.x+=d.x*o,this.y+=d.y*o,this.z+=d.z*o||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this},scale:function(d){return isFinite(d)?(this.x*=d,this.y*=d,this.z*=d):(this.x=0,this.y=0,this.z=0),this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(d){var o=d.x-this.x,a=d.y-this.y,r=d.z-this.z||0;return Math.sqrt(o*o+a*a+r*r)},distanceSq:function(d){var o=d.x-this.x,a=d.y-this.y,r=d.z-this.z||0;return o*o+a*a+r*r},length:function(){var d=this.x,o=this.y,a=this.z;return Math.sqrt(d*d+o*o+a*a)},lengthSq:function(){var d=this.x,o=this.y,a=this.z;return d*d+o*o+a*a},normalize:function(){var d=this.x,o=this.y,a=this.z,r=d*d+o*o+a*a;return r>0&&(r=1/Math.sqrt(r),this.x=d*r,this.y=o*r,this.z=a*r),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z},cross:function(d){var o=this.x,a=this.y,r=this.z,l=d.x,v=d.y,h=d.z;return this.x=a*h-r*v,this.y=r*l-o*h,this.z=o*v-a*l,this},lerp:function(d,o){o===void 0&&(o=0);var a=this.x,r=this.y,l=this.z;return this.x=a+o*(d.x-a),this.y=r+o*(d.y-r),this.z=l+o*(d.z-l),this},applyMatrix3:function(d){var o=this.x,a=this.y,r=this.z,l=d.val;return this.x=l[0]*o+l[3]*a+l[6]*r,this.y=l[1]*o+l[4]*a+l[7]*r,this.z=l[2]*o+l[5]*a+l[8]*r,this},applyMatrix4:function(d){var o=this.x,a=this.y,r=this.z,l=d.val,v=1/(l[3]*o+l[7]*a+l[11]*r+l[15]);return this.x=(l[0]*o+l[4]*a+l[8]*r+l[12])*v,this.y=(l[1]*o+l[5]*a+l[9]*r+l[13])*v,this.z=(l[2]*o+l[6]*a+l[10]*r+l[14])*v,this},transformMat3:function(d){var o=this.x,a=this.y,r=this.z,l=d.val;return this.x=o*l[0]+a*l[3]+r*l[6],this.y=o*l[1]+a*l[4]+r*l[7],this.z=o*l[2]+a*l[5]+r*l[8],this},transformMat4:function(d){var o=this.x,a=this.y,r=this.z,l=d.val;return this.x=l[0]*o+l[4]*a+l[8]*r+l[12],this.y=l[1]*o+l[5]*a+l[9]*r+l[13],this.z=l[2]*o+l[6]*a+l[10]*r+l[14],this},transformCoordinates:function(d){var o=this.x,a=this.y,r=this.z,l=d.val,v=o*l[0]+a*l[4]+r*l[8]+l[12],h=o*l[1]+a*l[5]+r*l[9]+l[13],c=o*l[2]+a*l[6]+r*l[10]+l[14],p=o*l[3]+a*l[7]+r*l[11]+l[15];return this.x=v/p,this.y=h/p,this.z=c/p,this},transformQuat:function(d){var o=this.x,a=this.y,r=this.z,l=d.x,v=d.y,h=d.z,c=d.w,p=c*o+v*r-h*a,g=c*a+h*o-l*r,m=c*r+l*a-v*o,y=-l*o-v*a-h*r;return this.x=p*c+y*-l+g*-h-m*-v,this.y=g*c+y*-v+m*-l-p*-h,this.z=m*c+y*-h+p*-v-g*-l,this},project:function(d){var o=this.x,a=this.y,r=this.z,l=d.val,v=l[0],h=l[1],c=l[2],p=l[3],g=l[4],m=l[5],y=l[6],S=l[7],M=l[8],P=l[9],w=l[10],R=l[11],A=l[12],L=l[13],F=l[14],O=l[15],b=1/(o*p+a*S+r*R+O);return this.x=(o*v+a*g+r*M+A)*b,this.y=(o*h+a*m+r*P+L)*b,this.z=(o*c+a*y+r*w+F)*b,this},projectViewMatrix:function(d,o){return this.applyMatrix4(d).applyMatrix4(o)},unprojectViewMatrix:function(d,o){return this.applyMatrix4(d).applyMatrix4(o)},unproject:function(d,o){var a=d.x,r=d.y,l=d.z,v=d.w,h=this.x-a,c=v-this.y-1-r,p=this.z;return this.x=2*h/l-1,this.y=2*c/v-1,this.z=2*p-1,this.project(o)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),n.exports=x},61369:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r,l){this.x=0,this.y=0,this.z=0,this.w=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=a||0,this.z=r||0,this.w=l||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this.w=d.w||0,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z&&this.w===d.w},set:function(d,o,a,r){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0,this.w=d.w||0):(this.x=d||0,this.y=o||0,this.z=a||0,this.w=r||0),this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this.w+=d.w||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this.w-=d.w||0,this},scale:function(d){return this.x*=d,this.y*=d,this.z*=d,this.w*=d,this},length:function(){var d=this.x,o=this.y,a=this.z,r=this.w;return Math.sqrt(d*d+o*o+a*a+r*r)},lengthSq:function(){var d=this.x,o=this.y,a=this.z,r=this.w;return d*d+o*o+a*a+r*r},normalize:function(){var d=this.x,o=this.y,a=this.z,r=this.w,l=d*d+o*o+a*a+r*r;return l>0&&(l=1/Math.sqrt(l),this.x=d*l,this.y=o*l,this.z=a*l,this.w=r*l),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,o){o===void 0&&(o=0);var a=this.x,r=this.y,l=this.z,v=this.w;return this.x=a+o*(d.x-a),this.y=r+o*(d.y-r),this.z=l+o*(d.z-l),this.w=v+o*(d.w-v),this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this.w*=d.w||1,this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this.w/=d.w||1,this},distance:function(d){var o=d.x-this.x,a=d.y-this.y,r=d.z-this.z||0,l=d.w-this.w||0;return Math.sqrt(o*o+a*a+r*r+l*l)},distanceSq:function(d){var o=d.x-this.x,a=d.y-this.y,r=d.z-this.z||0,l=d.w-this.w||0;return o*o+a*a+r*r+l*l},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(d){var o=this.x,a=this.y,r=this.z,l=this.w,v=d.val;return this.x=v[0]*o+v[4]*a+v[8]*r+v[12]*l,this.y=v[1]*o+v[5]*a+v[9]*r+v[13]*l,this.z=v[2]*o+v[6]*a+v[10]*r+v[14]*l,this.w=v[3]*o+v[7]*a+v[11]*r+v[15]*l,this},transformQuat:function(d){var o=this.x,a=this.y,r=this.z,l=d.x,v=d.y,h=d.z,c=d.w,p=c*o+v*r-h*a,g=c*a+h*o-l*r,m=c*r+l*a-v*o,y=-l*o-v*a-h*r;return this.x=p*c+y*-l+g*-h-m*-v,this.y=g*c+y*-v+m*-l-p*-h,this.z=m*c+y*-h+p*-v-g*-l,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,n.exports=x},60417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return Math.abs(e-u)<=x};n.exports=C},15994:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=x-u;return u+((e-u)%d+d)%d};n.exports=C},31040:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){return Math.atan2(d-u,x-e)};n.exports=C},55495:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)};n.exports=C},128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return Math.atan2(u.x-e.x,u.y-e.y)};n.exports=C},41273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){return Math.atan2(x-e,d-u)};n.exports=C},1432:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=function(d){return d>Math.PI&&(d-=u.PI2),Math.abs(((d+u.TAU)%u.PI2-u.PI2)%u.PI2)};n.exports=x},12407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};n.exports=C},53993:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99472),x=function(){return u(-Math.PI,Math.PI)};n.exports=x},86564:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99472),x=function(){return u(-180,180)};n.exports=x},90154:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12407),x=function(d){return u(d+Math.PI)};n.exports=x},48736:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=function(d,o,a){return a===void 0&&(a=.05),d===o||(Math.abs(o-d)<=a||Math.abs(o-d)>=u.PI2-a?d=o:(Math.abs(o-d)>Math.PI&&(o<d?o+=u.PI2:o-=u.PI2),o>d?d+=a:o<d&&(d-=a))),d};n.exports=x},61430:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=u-e;if(x===0)return 0;var d=Math.floor((x- -180)/360);return x-d*360};n.exports=C},86554:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15994),x=function(d){return u(d,-Math.PI,Math.PI)};n.exports=x},30954:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15994),x=function(d){return u(d,-180,180)};n.exports=x},25588:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:e(31040),BetweenPoints:e(55495),BetweenPointsY:e(128),BetweenY:e(41273),CounterClockwise:e(1432),Normalize:e(12407),Random:e(53993),RandomDegrees:e(86564),Reverse:e(90154),RotateTo:e(48736),ShortestBetween:e(61430),Wrap:e(86554),WrapDegrees:e(30954)}},36383:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=C},20339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=e-x,a=u-d;return Math.sqrt(o*o+a*a)};n.exports=C},52816:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.x-u.x,d=e.y-u.y;return Math.sqrt(x*x+d*d)};n.exports=C},64559:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.x-u.x,d=e.y-u.y;return x*x+d*d};n.exports=C},82340:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){return Math.max(Math.abs(e-x),Math.abs(u-d))};n.exports=C},14390:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o){return o===void 0&&(o=2),Math.sqrt(Math.pow(x-e,o)+Math.pow(d-u,o))};n.exports=C},2243:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){return Math.abs(e-x)+Math.abs(u-d)};n.exports=C},89774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=e-x,a=u-d;return o*o+a*a};n.exports=C},50994:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:e(20339),BetweenPoints:e(52816),BetweenPointsSquared:e(64559),Chebyshev:e(82340),Power:e(14390),Snake:e(2243),Squared:e(89774)}},62640:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54178),x=e(41521),d=e(79980),o=e(85433),a=e(99140),r=e(48857),l=e(81596),v=e(59133),h=e(98516),c=e(35248),p=e(82500),g=e(49752);n.exports={Power0:l,Power1:v.Out,Power2:o.Out,Power3:h.Out,Power4:c.Out,Linear:l,Quad:v.Out,Cubic:o.Out,Quart:h.Out,Quint:c.Out,Sine:p.Out,Expo:r.Out,Circ:d.Out,Elastic:a.Out,Back:u.Out,Bounce:x.Out,Stepped:g,"Quad.easeIn":v.In,"Cubic.easeIn":o.In,"Quart.easeIn":h.In,"Quint.easeIn":c.In,"Sine.easeIn":p.In,"Expo.easeIn":r.In,"Circ.easeIn":d.In,"Elastic.easeIn":a.In,"Back.easeIn":u.In,"Bounce.easeIn":x.In,"Quad.easeOut":v.Out,"Cubic.easeOut":o.Out,"Quart.easeOut":h.Out,"Quint.easeOut":c.Out,"Sine.easeOut":p.Out,"Expo.easeOut":r.Out,"Circ.easeOut":d.Out,"Elastic.easeOut":a.Out,"Back.easeOut":u.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":o.InOut,"Quart.easeInOut":h.InOut,"Quint.easeInOut":c.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":r.InOut,"Circ.easeInOut":d.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":u.InOut,"Bounce.easeInOut":x.InOut}},1639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u=1.70158),e*e*((u+1)*e-u)};n.exports=C},50099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u=1.70158);var x=u*1.525;return(e*=2)<1?.5*(e*e*((x+1)*e-x)):.5*((e-=2)*e*((x+1)*e+x)+2)};n.exports=C},41286:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u=1.70158),--e*e*((u+1)*e+u)+1};n.exports=C},54178:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(1639),Out:e(41286),InOut:e(50099)}},59590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};n.exports=C},41788:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u=!1;return e<.5?(e=1-e*2,u=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,u?(1-e)*.5:e*.5+.5};n.exports=C},69905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};n.exports=C},41521:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(59590),Out:e(69905),InOut:e(41788)}},91861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return 1-Math.sqrt(1-e*e)};n.exports=C},4177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};n.exports=C},57512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return Math.sqrt(1- --e*e)};n.exports=C},79980:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(91861),Out:e(57512),InOut:e(4177)}},51150:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e*e*e};n.exports=C},82820:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};n.exports=C},35033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return--e*e*e+1};n.exports=C},85433:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(51150),Out:e(35033),InOut:e(82820)}},69965:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(u===void 0&&(u=.1),x===void 0&&(x=.1),e===0)return 0;if(e===1)return 1;var d=x/4;return u<1?u=1:d=x*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(e-=1))*Math.sin((e-d)*(2*Math.PI)/x))};n.exports=C},50665:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(u===void 0&&(u=.1),x===void 0&&(x=.1),e===0)return 0;if(e===1)return 1;var d=x/4;return u<1?u=1:d=x*Math.asin(1/u)/(2*Math.PI),(e*=2)<1?-.5*(u*Math.pow(2,10*(e-=1))*Math.sin((e-d)*(2*Math.PI)/x)):u*Math.pow(2,-10*(e-=1))*Math.sin((e-d)*(2*Math.PI)/x)*.5+1};n.exports=C},7744:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(u===void 0&&(u=.1),x===void 0&&(x=.1),e===0)return 0;if(e===1)return 1;var d=x/4;return u<1?u=1:d=x*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*e)*Math.sin((e-d)*(2*Math.PI)/x)+1};n.exports=C},99140:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(69965),Out:e(7744),InOut:e(50665)}},24590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return Math.pow(2,10*(e-1))-.001};n.exports=C},87844:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};n.exports=C},89433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return 1-Math.pow(2,-10*e)};n.exports=C},48857:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(24590),Out:e(89433),InOut:e(87844)}},48820:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:e(54178),Bounce:e(41521),Circular:e(79980),Cubic:e(85433),Elastic:e(99140),Expo:e(48857),Linear:e(81596),Quadratic:e(59133),Quartic:e(98516),Quintic:e(35248),Sine:e(82500),Stepped:e(49752)}},7147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e};n.exports=C},81596:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=e(7147)},34826:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e*e};n.exports=C},20544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};n.exports=C},92029:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e*(2-e)};n.exports=C},59133:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(34826),Out:e(92029),InOut:e(20544)}},64413:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e*e*e*e};n.exports=C},78137:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};n.exports=C},45840:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return 1- --e*e*e*e};n.exports=C},98516:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(64413),Out:e(45840),InOut:e(78137)}},87745:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e*e*e*e*e};n.exports=C},16509:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};n.exports=C},17868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return--e*e*e*e*e+1};n.exports=C},35248:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(87745),Out:e(17868),InOut:e(16509)}},80461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};n.exports=C},34025:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};n.exports=C},52768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};n.exports=C},82500:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:e(80461),Out:e(52768),InOut:e(34025)}},72251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u=1),e<=0?0:e>=1?1:((u*e|0)+1)*(1/u)};n.exports=C},49752:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=e(72251)},75698:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u=1e-4),Math.ceil(e-u)};n.exports=C},43855:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return x===void 0&&(x=1e-4),Math.abs(e-u)<x};n.exports=C},25777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u=1e-4),Math.floor(e+u)};n.exports=C},5470:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return x===void 0&&(x=1e-4),e>u-x};n.exports=C},94977:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return x===void 0&&(x=1e-4),e<u+x};n.exports=C},48379:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:e(75698),Equal:e(43855),Floor:e(25777),GreaterThan:e(5470),LessThan:e(94977)}},75508:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36383),x=e(79291),d={Angle:e(25588),Distance:e(50994),Easing:e(48820),Fuzzy:e(48379),Interpolation:e(38289),Pow2:e(49001),Snap:e(73697),RandomDataGenerator:e(28453),Average:e(53307),Bernstein:e(85710),Between:e(30976),CatmullRom:e(87842),CeilTo:e(26302),Clamp:e(45319),DegToRad:e(39506),Difference:e(61241),Euler:e(38857),Factorial:e(6411),FloatBetween:e(99472),FloorTo:e(77623),FromPercent:e(62945),GetSpeed:e(38265),IsEven:e(78702),IsEvenStrict:e(94883),Linear:e(28915),LinearXY:e(94908),MaxAdd:e(86883),Median:e(50040),MinSub:e(37204),Percent:e(65201),RadToDeg:e(43396),RandomXY:e(74362),RandomXYZ:e(60706),RandomXYZW:e(67421),Rotate:e(36305),RotateAround:e(11520),RotateAroundDistance:e(1163),RotateTo:e(70336),RoundAwayFromZero:e(2284),RoundTo:e(41013),SinCosTableGenerator:e(16922),SmootherStep:e(54261),SmoothStep:e(7602),ToXY:e(44408),TransformXY:e(85955),Within:e(60417),Wrap:e(15994),Vector2:e(26099),Vector3:e(25836),Vector4:e(61369),Matrix3:e(94434),Matrix4:e(37867),Quaternion:e(15746),RotateVec3:e(72678)};d=x(!1,d,u),n.exports=d},89318:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85710),x=function(d,o){for(var a=0,r=d.length-1,l=0;l<=r;l++)a+=Math.pow(1-o,r-l)*Math.pow(o,l)*d[l]*u(r,l);return a};n.exports=x},77259:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87842),x=function(d,o){var a=d.length-1,r=a*o,l=Math.floor(r);return d[0]===d[a]?(o<0&&(l=Math.floor(r=a*(1+o))),u(r-l,d[(l-1+a)%a],d[l],d[(l+1)%a],d[(l+2)%a])):o<0?d[0]-(u(-r,d[0],d[0],d[1],d[1])-d[0]):o>1?d[a]-(u(r-a,d[a],d[a],d[a-1],d[a-1])-d[a]):u(r-l,d[l?l-1:0],d[l],d[a<l+1?a:l+1],d[a<l+2?a:l+2])};n.exports=x},36316:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(o,a){var r=1-o;return r*r*r*a}function e(o,a){var r=1-o;return 3*r*r*o*a}function u(o,a){return 3*(1-o)*o*o*a}function x(o,a){return o*o*o*a}var d=function(o,a,r,l,v){return C(o,a)+e(o,r)+u(o,l)+x(o,v)};n.exports=d},28392:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28915),x=function(d,o){var a=d.length-1,r=a*o,l=Math.floor(r);return o<0?u(d[0],d[1],r):o>1?u(d[a],d[a-1],a-r):u(d[l],d[l+1>a?a:l+1],r-l)};n.exports=x},32112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(d,o){var a=1-d;return a*a*o}function e(d,o){return 2*(1-d)*d*o}function u(d,o){return d*d*o}var x=function(d,o,a,r){return C(d,o)+e(d,a)+u(d,r)};n.exports=x},47235:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7602),x=function(d,o,a){return o+(a-o)*u(d,0,1)};n.exports=x},50178:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(54261),x=function(d,o,a){return o+(a-o)*u(d,0,1)};n.exports=x},38289:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:e(89318),CatmullRom:e(77259),CubicBezier:e(36316),Linear:e(28392),QuadraticBezier:e(32112),SmoothStep:e(47235),SmootherStep:e(50178)}},98439:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u=Math.log(e)/.6931471805599453;return 1<<Math.ceil(u)};n.exports=C},50030:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e>0&&(e&e-1)===0&&u>0&&(u&u-1)===0};n.exports=C},81230:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e>0&&(e&e-1)===0};n.exports=C},49001:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:e(98439),IsSize:e(50030),IsValue:e(81230)}},28453:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o){o===void 0&&(o=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],o&&this.init(o)},rnd:function(){var d=2091639*this.s0+this.c*23283064365386963e-26;return this.c=d|0,this.s0=this.s1,this.s1=this.s2,this.s2=d-this.c,this.s2},hash:function(d){var o,a=this.n;d=d.toString();for(var r=0;r<d.length;r++)a+=d.charCodeAt(r),o=.02519603282416938*a,a=o>>>0,o-=a,o*=a,a=o>>>0,o-=a,a+=o*4294967296;return this.n=a,(a>>>0)*23283064365386963e-26},init:function(d){typeof d=="string"?this.state(d):this.sow(d)},sow:function(d){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!d)for(var o=0;o<d.length&&d[o]!=null;o++){var a=d[o];this.s0-=this.hash(a),this.s0+=~~(this.s0<0),this.s1-=this.hash(a),this.s1+=~~(this.s1<0),this.s2-=this.hash(a),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(d,o){return Math.floor(this.realInRange(0,o-d+1)+d)},between:function(d,o){return Math.floor(this.realInRange(0,o-d+1)+d)},realInRange:function(d,o){return this.frac()*(o-d)+d},normal:function(){return 1-2*this.frac()},uuid:function(){var d="",o="";for(o=d="";d++<36;o+=~d%5|d*3&4?(d^15?8^this.frac()*(d^20?16:4):4).toString(16):"-");return o},pick:function(d){return d[this.integerInRange(0,d.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(d){return d[~~(Math.pow(this.frac(),2)*(d.length-.5)+.5)]},timestamp:function(d,o){return this.realInRange(d||9466848e5,o||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(d){return typeof d=="string"&&d.match(/^!rnd/)&&(d=d.split(","),this.c=parseFloat(d[1]),this.s0=parseFloat(d[2]),this.s1=parseFloat(d[3]),this.s2=parseFloat(d[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(d){for(var o=d.length-1,a=o;a>0;a--){var r=Math.floor(this.frac()*(a+1)),l=d[r];d[r]=d[a],d[a]=l}return d}});n.exports=x},63448:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){return x===void 0&&(x=0),u===0?e:(e-=x,e=u*Math.ceil(e/u),d?(x+e)/u:x+e)};n.exports=C},56583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){return x===void 0&&(x=0),u===0?e:(e-=x,e=u*Math.floor(e/u),d?(x+e)/u:x+e)};n.exports=C},77720:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){return x===void 0&&(x=0),u===0?e:(e-=x,e=u*Math.round(e/u),d?(x+e)/u:x+e)};n.exports=C},73697:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:e(63448),Floor:e(56583),To:e(77720)}},85454:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e(63595);var u=e(8054),x=e(79291),d={Actions:e(61061),Animations:e(60421),BlendModes:e(10312),Cache:e(83388),Cameras:e(26638),Core:e(42857),Class:e(83419),Create:e(15822),Curves:e(25410),Data:e(44965),Display:e(27460),DOM:e(84902),Events:e(93055),FX:e(66064),Game:e(50127),GameObjects:e(77856),Geom:e(55738),Input:e(14350),Loader:e(57777),Math:e(75508),Physics:e(44563),Plugins:e(18922),Renderer:e(36909),Scale:e(93364),ScaleModes:e(29795),Scene:e(97482),Scenes:e(62194),Structs:e(41392),Textures:e(27458),Tilemaps:e(62501),Time:e(90291),Tweens:e(43066),Utils:e(91799)};d.Sound=e(23717),d=x(!1,d,u),n.exports=d,e.g.Phaser=d},71289:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(92209),d=e(88571),o=new u({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(r,l,v,h,c){d.call(this,r,l,v,h,c),this.body=null}});n.exports=o},86689:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(39506),d=e(20339),o=e(89774),a=e(66022),r=e(95540),l=e(46975),v=e(72441),h=e(47956),c=e(37277),p=e(44594),g=e(26099),m=e(82248),y=new u({initialize:function(M){this.scene=M,this.systems=M.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,M.sys.events.once(p.BOOT,this.boot,this),M.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new a(this.world));var S=this.systems.events;r(this.config,"customUpdate",!1)||S.on(p.UPDATE,this.world.update,this.world),S.on(p.POST_UPDATE,this.world.postUpdate,this.world),S.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var S=this.systems.game.config.physics,M=this.systems.settings.physics,P=l(r(M,"arcade",{}),r(S,"arcade",{}));return P},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(S,M,P,w,R){return P===void 0&&(P=null),w===void 0&&(w=null),R===void 0&&(R=P),this.world.collideObjects(S,M,P,w,R,!0)},collide:function(S,M,P,w,R){return P===void 0&&(P=null),w===void 0&&(w=null),R===void 0&&(R=P),this.world.collideObjects(S,M,P,w,R,!1)},collideTiles:function(S,M,P,w,R){return this.world.collideTiles(S,M,P,w,R)},overlapTiles:function(S,M,P,w,R){return this.world.overlapTiles(S,M,P,w,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(S,M,P,w,R,A){w===void 0&&(w=60);var L=Math.atan2(P-S.y,M-S.x);return S.body.acceleration.setToPolar(L,w),R!==void 0&&A!==void 0&&S.body.maxVelocity.set(R,A),L},accelerateToObject:function(S,M,P,w,R){return this.accelerateTo(S,M.x,M.y,P,w,R)},closest:function(S,M){M||(M=this.world.bodies.entries);for(var P=Number.MAX_VALUE,w=null,R=S.x,A=S.y,L=M.length,F=0;F<L;F++){var O=M[F],b=O.body||O;if(!(S===O||S===b||S===b.gameObject||S===b.center)){var B=o(R,A,b.center.x,b.center.y);B<P&&(w=O,P=B)}}return w},furthest:function(S,M){M||(M=this.world.bodies.entries);for(var P=-1,w=null,R=S.x,A=S.y,L=M.length,F=0;F<L;F++){var O=M[F],b=O.body||O;if(!(S===O||S===b||S===b.gameObject||S===b.center)){var B=o(R,A,b.center.x,b.center.y);B>P&&(w=O,P=B)}}return w},moveTo:function(S,M,P,w,R){w===void 0&&(w=60),R===void 0&&(R=0);var A=Math.atan2(P-S.y,M-S.x);return R>0&&(w=d(S.x,S.y,M,P)/(R/1e3)),S.body.velocity.setToPolar(A,w),A},moveToObject:function(S,M,P,w){return this.moveTo(S,M.x,M.y,P,w)},velocityFromAngle:function(S,M,P){return M===void 0&&(M=60),P===void 0&&(P=new g),P.setToPolar(x(S),M)},velocityFromRotation:function(S,M,P){return M===void 0&&(M=60),P===void 0&&(P=new g),P.setToPolar(S,M)},overlapRect:function(S,M,P,w,R,A){return h(this.world,S,M,P,w,R,A)},overlapCirc:function(S,M,P,w,R){return v(this.world,S,M,P,w,R)},shutdown:function(){if(!!this.world){var S=this.systems.events;S.off(p.UPDATE,this.world.update,this.world),S.off(p.POST_UPDATE,this.world.postUpdate,this.world),S.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",y,"arcadePhysics"),n.exports=y},13759:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(92209),d=e(68287),o=new u({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(r,l,v,h,c){d.call(this,r,l,v,h,c),this.body=null}});n.exports=o},37742:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(78389),d=e(37747),o=e(63012),a=e(43396),r=e(87841),l=e(37303),v=e(95829),h=e(26099),c=new u({Mixins:[x],initialize:function(g,m){var y=64,S=64,M={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=m!==void 0;P&&m.displayWidth&&(y=m.displayWidth,S=m.displayHeight),P||(m=M),this.world=g,this.gameObject=P?m:void 0,this.isBody=!0,this.transform={x:m.x,y:m.y,rotation:m.angle,scaleX:m.scaleX,scaleY:m.scaleY,displayOriginX:m.displayOriginX,displayOriginY:m.displayOriginY},this.debugShowBody=g.defaults.debugShowBody,this.debugShowVelocity=g.defaults.debugShowVelocity,this.debugBodyColor=g.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(m.x-m.scaleX*m.displayOriginX,m.y-m.scaleY*m.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=m.angle,this.preRotation=m.angle,this.width=y,this.height=S,this.sourceWidth=y,this.sourceHeight=S,m.frame&&(this.sourceWidth=m.frame.realWidth,this.sourceHeight=m.frame.realHeight),this.halfWidth=Math.abs(y/2),this.halfHeight=Math.abs(S/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new h,this.newVelocity=new h,this.deltaMax=new h,this.acceleration=new h,this.allowDrag=!0,this.drag=new h,this.allowGravity=!0,this.gravity=new h,this.bounce=new h,this.worldBounce=null,this.customBoundsRectangle=g.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new h(1e4,1e4),this.maxSpeed=-1,this.friction=new h(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=d.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new h(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=d.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=m.scaleX,this._sy=m.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new r,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,g=this.transform;if(p.parentContainer){var m=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);g.x=m.tx,g.y=m.ty,g.rotation=a(m.rotation),g.scaleX=m.scaleX,g.scaleY=m.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY}else g.x=p.x,g.y=p.y,g.rotation=p.angle,g.scaleX=p.scaleX,g.scaleY=p.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY;var y=!1;if(this.syncBounds){var S=p.getBounds(this._bounds);this.width=S.width,this.height=S.height,y=!0}else{var M=Math.abs(g.scaleX),P=Math.abs(g.scaleY);(this._sx!==M||this._sy!==P)&&(this.width=this.sourceWidth*M,this.height=this.sourceHeight*P,this._sx=M,this._sy=P,y=!0)}y&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){p===void 0&&(p=!1);var g=this.wasTouching,m=this.touching,y=this.blocked;p?v(!0,g):(g.none=m.none,g.up=m.up,g.down=m.down,g.left=m.left,g.right=m.right),v(!0,m),v(!0,y),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,g){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var m=this.position;this.prev.x=m.x,this.prev.y=m.y,this.prevFrame.x=m.x,this.prevFrame.y=m.y}p&&this.update(g)},update:function(p){var g=this.prev,m=this.position,y=this.velocity;if(g.set(m.x,m.y),!this.moves){this._dx=m.x-g.x,this._dy=m.y-g.y;return}if(this.directControl){var S=this.autoFrame;y.set((m.x-S.x)/p,(m.y-S.y)/p),this.world.updateMotion(this,p),this._dx=m.x-S.x,this._dy=m.y-S.y}else this.world.updateMotion(this,p),this.newVelocity.set(y.x*p,y.y*p),m.add(this.newVelocity),this._dx=m.x-g.x,this._dy=m.y-g.y;var M=y.x,P=y.y;if(this.updateCenter(),this.angle=Math.atan2(P,M),this.speed=Math.sqrt(M*M+P*P),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var w=this.blocked;this.world.emit(o.WORLD_BOUNDS,this,w.up,w.down,w.left,w.right)}},postUpdate:function(){var p=this.position,g=p.x-this.prevFrame.x,m=p.y-this.prevFrame.y,y=this.gameObject;if(this.moves){var S=this.deltaMax.x,M=this.deltaMax.y;S!==0&&g!==0&&(g<0&&g<-S?g=-S:g>0&&g>S&&(g=S)),M!==0&&m!==0&&(m<0&&m<-M?m=-M:m>0&&m>M&&(m=M)),y&&(y.x+=g,y.y+=m)}g<0?this.facing=d.FACING_LEFT:g>0&&(this.facing=d.FACING_RIGHT),m<0?this.facing=d.FACING_UP:m>0&&(this.facing=d.FACING_DOWN),this.allowRotation&&y&&(y.angle+=this.deltaZ()),this._tx=g,this._ty=m,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,g=this.velocity,m=this.blocked,y=this.customBoundsRectangle,S=this.world.checkCollision,M=this.worldBounce?-this.worldBounce.x:-this.bounce.x,P=this.worldBounce?-this.worldBounce.y:-this.bounce.y,w=!1;return p.x<y.x&&S.left?(p.x=y.x,g.x*=M,m.left=!0,w=!0):this.right>y.right&&S.right&&(p.x=y.right-this.width,g.x*=M,m.right=!0,w=!0),p.y<y.y&&S.up?(p.y=y.y,g.y*=P,m.up=!0,w=!0):this.bottom>y.bottom&&S.down&&(p.y=y.bottom-this.height,g.y*=P,m.down=!0,w=!0),w&&(this.blocked.none=!1,this.updateCenter()),w},setOffset:function(p,g){return g===void 0&&(g=p),this.offset.set(p,g),this},setGameObject:function(p,g){return g===void 0&&(g=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=p,p.body&&(p.body=this),this.setSize(),this.world.add(this),this.enable=g,this},setSize:function(p,g,m){m===void 0&&(m=!0);var y=this.gameObject;if(y&&(!p&&y.frame&&(p=y.frame.realWidth),!g&&y.frame&&(g=y.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=g,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),m&&y&&y.getCenter){var S=(y.width-p)/2,M=(y.height-g)/2;this.offset.set(S,M)}return this.isCircle=!1,this.radius=0,this},setCircle:function(p,g,m){return g===void 0&&(g=this.offset.x),m===void 0&&(m=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=p*2,this.sourceHeight=p*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,m),this.updateCenter()):this.isCircle=!1,this},reset:function(p,g){this.stop();var m=this.gameObject;m&&(m.setPosition(p,g),this.rotation=m.angle,this.preRotation=m.angle);var y=this.position;m&&m.getTopLeft?m.getTopLeft(y):y.set(p,g),this.prev.copy(y),this.prevFrame.copy(y),this.autoFrame.copy(y),m&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,g){if(!this.isCircle)return l(this,p,g);if(this.radius>0&&p>=this.left&&p<=this.right&&g>=this.top&&g<=this.bottom){var m=(this.center.x-p)*(this.center.x-p),y=(this.center.y-g)*(this.center.y-g);return m+y<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var g=this.position,m=g.x+this.halfWidth,y=g.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(m,y,this.width/2):(this.checkCollision.up&&p.lineBetween(g.x,g.y,g.x+this.width,g.y),this.checkCollision.right&&p.lineBetween(g.x+this.width,g.y,g.x+this.width,g.y+this.height),this.checkCollision.down&&p.lineBetween(g.x,g.y+this.height,g.x+this.width,g.y+this.height),this.checkCollision.left&&p.lineBetween(g.x,g.y,g.x,g.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(m,y,m+this.velocity.x/2,y+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return p===void 0&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,g,m,y){p===void 0&&(p=!0),this.collideWorldBounds=p;var S=g!==void 0,M=m!==void 0;return(S||M)&&(this.worldBounce||(this.worldBounce=new h),S&&(this.worldBounce.x=g),M&&(this.worldBounce.y=m)),y!==void 0&&(this.onWorldBounds=y),this},setVelocity:function(p,g){return this.velocity.set(p,g),p=this.velocity.x,g=this.velocity.y,this.speed=Math.sqrt(p*p+g*g),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,g){return this.maxVelocity.set(p,g),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,g){return this.slideFactor.set(p,g),this},setBounce:function(p,g){return this.bounce.set(p,g),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,g){return this.acceleration.set(p,g),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return p===void 0&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return p===void 0&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return p===void 0&&(p=!0),this.allowRotation=p,this},setDrag:function(p,g){return this.drag.set(p,g),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,g){return this.gravity.set(p,g),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,g){return this.friction.set(p,g),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return p===void 0&&(p=!0),this.immovable=p,this},setEnable:function(p){return p===void 0&&(p=!0),this.enable=p,this},processX:function(p,g,m,y){this.x+=p,this.updateCenter(),g!==null&&(this.velocity.x=g*this.slideFactor.x);var S=this.blocked;m&&(S.left=!0,S.none=!1),y&&(S.right=!0,S.none=!1)},processY:function(p,g,m,y){this.y+=p,this.updateCenter(),g!==null&&(this.velocity.y=g*this.slideFactor.y);var S=this.blocked;m&&(S.up=!0,S.none=!1),y&&(S.down=!0,S.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=c},79342:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r,l,v,h,c){this.world=o,this.name="",this.active=!0,this.overlapOnly=a,this.object1=r,this.object2=l,this.collideCallback=v,this.processCallback=h,this.callbackContext=c},setName:function(d){return this.name=d,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});n.exports=x},66022:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71289),x=e(13759),d=e(37742),o=e(83419),a=e(37747),r=e(60758),l=e(72624),v=e(71464),h=new o({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(c,p,g,m,y){return this.world.addCollider(c,p,g,m,y)},overlap:function(c,p,g,m,y){return this.world.addOverlap(c,p,g,m,y)},existing:function(c,p){var g=p?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(c,g),c},staticImage:function(c,p,g,m){var y=new u(this.scene,c,p,g,m);return this.sys.displayList.add(y),this.world.enableBody(y,a.STATIC_BODY),y},image:function(c,p,g,m){var y=new u(this.scene,c,p,g,m);return this.sys.displayList.add(y),this.world.enableBody(y,a.DYNAMIC_BODY),y},staticSprite:function(c,p,g,m){var y=new x(this.scene,c,p,g,m);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,a.STATIC_BODY),y},sprite:function(c,p,g,m){var y=new x(this.scene,c,p,g,m);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,a.DYNAMIC_BODY),y},staticGroup:function(c,p){return this.sys.updateList.add(new v(this.world,this.world.scene,c,p))},group:function(c,p){return this.sys.updateList.add(new r(this.world,this.world.scene,c,p))},body:function(c,p,g,m){var y=new d(this.world);return y.position.set(c,p),g&&m&&y.setSize(g,m),this.world.add(y,a.DYNAMIC_BODY),y},staticBody:function(c,p,g,m){var y=new l(this.world);return y.position.set(c,p),g&&m&&y.setSize(g,m),this.world.add(y,a.STATIC_BODY),y},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=h},79599:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u=0;if(!Array.isArray(e))u=e;else for(var x=0;x<e.length;x++)u|=e[x];return u};n.exports=C},64897:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37747),x=function(d,o,a,r){var l=0,v=d.deltaAbsX()+o.deltaAbsX()+r;return d._dx===0&&o._dx===0?(d.embedded=!0,o.embedded=!0):d._dx>o._dx?(l=d.right-o.x,l>v&&!a||d.checkCollision.right===!1||o.checkCollision.left===!1?l=0:(d.touching.none=!1,d.touching.right=!0,o.touching.none=!1,o.touching.left=!0,o.physicsType===u.STATIC_BODY&&!a&&(d.blocked.none=!1,d.blocked.right=!0),d.physicsType===u.STATIC_BODY&&!a&&(o.blocked.none=!1,o.blocked.left=!0))):d._dx<o._dx&&(l=d.x-o.width-o.x,-l>v&&!a||d.checkCollision.left===!1||o.checkCollision.right===!1?l=0:(d.touching.none=!1,d.touching.left=!0,o.touching.none=!1,o.touching.right=!0,o.physicsType===u.STATIC_BODY&&!a&&(d.blocked.none=!1,d.blocked.left=!0),d.physicsType===u.STATIC_BODY&&!a&&(o.blocked.none=!1,o.blocked.right=!0))),d.overlapX=l,o.overlapX=l,l};n.exports=x},45170:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37747),x=function(d,o,a,r){var l=0,v=d.deltaAbsY()+o.deltaAbsY()+r;return d._dy===0&&o._dy===0?(d.embedded=!0,o.embedded=!0):d._dy>o._dy?(l=d.bottom-o.y,l>v&&!a||d.checkCollision.down===!1||o.checkCollision.up===!1?l=0:(d.touching.none=!1,d.touching.down=!0,o.touching.none=!1,o.touching.up=!0,o.physicsType===u.STATIC_BODY&&!a&&(d.blocked.none=!1,d.blocked.down=!0),d.physicsType===u.STATIC_BODY&&!a&&(o.blocked.none=!1,o.blocked.up=!0))):d._dy<o._dy&&(l=d.y-o.bottom,-l>v&&!a||d.checkCollision.up===!1||o.checkCollision.down===!1?l=0:(d.touching.none=!1,d.touching.up=!0,o.touching.none=!1,o.touching.down=!0,o.physicsType===u.STATIC_BODY&&!a&&(d.blocked.none=!1,d.blocked.up=!0),d.physicsType===u.STATIC_BODY&&!a&&(o.blocked.none=!1,o.blocked.down=!0))),d.overlapY=l,o.overlapY=l,l};n.exports=x},60758:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13759),x=e(83419),d=e(78389),o=e(37747),a=e(95540),r=e(26479),l=e(41212),v=new x({Extends:r,Mixins:[d],initialize:function(c,p,g,m){if(!g&&!m)m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(l(g))m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(g)&&l(g[0])){var y=this;g.forEach(function(S){S.internalCreateCallback=y.createCallbackHandler,S.internalRemoveCallback=y.removeCallbackHandler,S.classType=a(S,"classType",u)}),m=null}else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=c,m&&(m.classType=a(m,"classType",u)),this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:a(m,"collideWorldBounds",!1),setBoundsRectangle:a(m,"customBoundsRectangle",null),setAccelerationX:a(m,"accelerationX",0),setAccelerationY:a(m,"accelerationY",0),setAllowDrag:a(m,"allowDrag",!0),setAllowGravity:a(m,"allowGravity",!0),setAllowRotation:a(m,"allowRotation",!0),setDamping:a(m,"useDamping",!1),setBounceX:a(m,"bounceX",0),setBounceY:a(m,"bounceY",0),setDragX:a(m,"dragX",0),setDragY:a(m,"dragY",0),setEnable:a(m,"enable",!0),setGravityX:a(m,"gravityX",0),setGravityY:a(m,"gravityY",0),setFrictionX:a(m,"frictionX",0),setFrictionY:a(m,"frictionY",0),setMaxSpeed:a(m,"maxSpeed",-1),setMaxVelocityX:a(m,"maxVelocityX",1e4),setMaxVelocityY:a(m,"maxVelocityY",1e4),setVelocityX:a(m,"velocityX",0),setVelocityY:a(m,"velocityY",0),setAngularVelocity:a(m,"angularVelocity",0),setAngularAcceleration:a(m,"angularAcceleration",0),setAngularDrag:a(m,"angularDrag",0),setMass:a(m,"mass",1),setImmovable:a(m,"immovable",!1)},r.call(this,p,g,m),this.type="PhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,o.DYNAMIC_BODY);var c=h.body;for(var p in this.defaults)c[p](this.defaults[p])},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},setVelocity:function(h,c,p){p===void 0&&(p=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.set(h+m*p,c+m*p);return this},setVelocityX:function(h,c){c===void 0&&(c=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.x=h+g*c;return this},setVelocityY:function(h,c){c===void 0&&(c=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.y=h+g*c;return this}});n.exports=v},3017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,e,u,x,d,o,a,r,l,v,h,c,p,g,m,y,S,M=function(F,O,b){C=F,e=O;var B=C.velocity.x,I=e.velocity.x;return u=C.pushable,l=C._dx<0,v=C._dx>0,h=C._dx===0,m=Math.abs(C.right-e.x)<=Math.abs(e.right-C.x),a=I-B*C.bounce.x,x=e.pushable,c=e._dx<0,p=e._dx>0,g=e._dx===0,y=!m,r=B-I*e.bounce.x,S=Math.abs(b),P()},P=function(){return v&&m&&e.blocked.right?(C.processX(-S,a,!1,!0),1):l&&y&&e.blocked.left?(C.processX(S,a,!0),1):p&&y&&C.blocked.right?(e.processX(-S,r,!1,!0),2):c&&m&&C.blocked.left?(e.processX(S,r,!0),2):0},w=function(){var F=C.velocity.x,O=e.velocity.x,b=Math.sqrt(O*O*e.mass/C.mass)*(O>0?1:-1),B=Math.sqrt(F*F*C.mass/e.mass)*(F>0?1:-1),I=(b+B)*.5;return b-=I,B-=I,d=I+b*C.bounce.x,o=I+B*e.bounce.x,l&&y?R(0):c&&m?R(1):v&&m?R(2):p&&y?R(3):!1},R=function(F){if(u&&x)S*=.5,F===0||F===3?(C.processX(S,d),e.processX(-S,o)):(C.processX(-S,d),e.processX(S,o));else if(u&&!x)F===0||F===3?C.processX(S,a,!0):C.processX(-S,a,!1,!0);else if(!u&&x)F===0||F===3?e.processX(-S,r,!1,!0):e.processX(S,r,!0);else{var O=S*.5;F===0?g?(C.processX(S,0,!0),e.processX(0,null,!1,!0)):p?(C.processX(O,0,!0),e.processX(-O,0,!1,!0)):(C.processX(O,e.velocity.x,!0),e.processX(-O,null,!1,!0)):F===1?h?(C.processX(0,null,!1,!0),e.processX(S,0,!0)):v?(C.processX(-O,0,!1,!0),e.processX(O,0,!0)):(C.processX(-O,null,!1,!0),e.processX(O,C.velocity.x,!0)):F===2?g?(C.processX(-S,0,!1,!0),e.processX(0,null,!0)):c?(C.processX(-O,0,!1,!0),e.processX(O,0,!0)):(C.processX(-O,e.velocity.x,!1,!0),e.processX(O,null,!0)):F===3&&(h?(C.processX(0,null,!0),e.processX(-S,0,!1,!0)):l?(C.processX(O,0,!0),e.processX(-O,0,!1,!0)):(C.processX(O,e.velocity.y,!0),e.processX(-O,null,!1,!0)))}return!0},A=function(F){F===1?e.velocity.x=0:m?e.processX(S,r,!0):e.processX(-S,r,!1,!0),C.moves&&(e.y+=(C.y-C.prev.y)*C.friction.y,e._dy=e.y-e.prev.y)},L=function(F){F===2?C.velocity.x=0:y?C.processX(S,a,!0):C.processX(-S,a,!1,!0),e.moves&&(C.y+=(e.y-e.prev.y)*e.friction.y,C._dy=C.y-C.prev.y)};n.exports={BlockCheck:P,Check:w,Set:M,Run:R,RunImmovableBody1:A,RunImmovableBody2:L}},47962:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,e,u,x,d,o,a,r,l,v,h,c,p,g,m,y,S,M=function(F,O,b){C=F,e=O;var B=C.velocity.y,I=e.velocity.y;return u=C.pushable,l=C._dy<0,v=C._dy>0,h=C._dy===0,m=Math.abs(C.bottom-e.y)<=Math.abs(e.bottom-C.y),a=I-B*C.bounce.y,x=e.pushable,c=e._dy<0,p=e._dy>0,g=e._dy===0,y=!m,r=B-I*e.bounce.y,S=Math.abs(b),P()},P=function(){return v&&m&&e.blocked.down?(C.processY(-S,a,!1,!0),1):l&&y&&e.blocked.up?(C.processY(S,a,!0),1):p&&y&&C.blocked.down?(e.processY(-S,r,!1,!0),2):c&&m&&C.blocked.up?(e.processY(S,r,!0),2):0},w=function(){var F=C.velocity.y,O=e.velocity.y,b=Math.sqrt(O*O*e.mass/C.mass)*(O>0?1:-1),B=Math.sqrt(F*F*C.mass/e.mass)*(F>0?1:-1),I=(b+B)*.5;return b-=I,B-=I,d=I+b*C.bounce.y,o=I+B*e.bounce.y,l&&y?R(0):c&&m?R(1):v&&m?R(2):p&&y?R(3):!1},R=function(F){if(u&&x)S*=.5,F===0||F===3?(C.processY(S,d),e.processY(-S,o)):(C.processY(-S,d),e.processY(S,o));else if(u&&!x)F===0||F===3?C.processY(S,a,!0):C.processY(-S,a,!1,!0);else if(!u&&x)F===0||F===3?e.processY(-S,r,!1,!0):e.processY(S,r,!0);else{var O=S*.5;F===0?g?(C.processY(S,0,!0),e.processY(0,null,!1,!0)):p?(C.processY(O,0,!0),e.processY(-O,0,!1,!0)):(C.processY(O,e.velocity.y,!0),e.processY(-O,null,!1,!0)):F===1?h?(C.processY(0,null,!1,!0),e.processY(S,0,!0)):v?(C.processY(-O,0,!1,!0),e.processY(O,0,!0)):(C.processY(-O,null,!1,!0),e.processY(O,C.velocity.y,!0)):F===2?g?(C.processY(-S,0,!1,!0),e.processY(0,null,!0)):c?(C.processY(-O,0,!1,!0),e.processY(O,0,!0)):(C.processY(-O,e.velocity.y,!1,!0),e.processY(O,null,!0)):F===3&&(h?(C.processY(0,null,!0),e.processY(-S,0,!1,!0)):l?(C.processY(O,0,!0),e.processY(-O,0,!1,!0)):(C.processY(O,e.velocity.y,!0),e.processY(-O,null,!1,!0)))}return!0},A=function(F){F===1?e.velocity.y=0:m?e.processY(S,r,!0):e.processY(-S,r,!1,!0),C.moves&&(e.x+=(C.x-C.prev.x)*C.friction.x,e._dx=e.x-e.prev.x)},L=function(F){F===2?C.velocity.y=0:y?C.processY(S,a,!0):C.processY(-S,a,!1,!0),e.moves&&(C.x+=(e.x-e.prev.x)*e.friction.x,C._dx=C.x-C.prev.x)};n.exports={BlockCheck:P,Check:w,Set:M,Run:R,RunImmovableBody1:A,RunImmovableBody2:L}},14087:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(64897),x=e(3017),d=function(o,a,r,l,v){v===void 0&&(v=u(o,a,r,l));var h=o.immovable,c=a.immovable;if(r||v===0||h&&c||o.customSeparateX||a.customSeparateX)return v!==0||o.embedded&&a.embedded;var p=x.Set(o,a,v);return!h&&!c?p>0?!0:x.Check():(h?x.RunImmovableBody1(p):c&&x.RunImmovableBody2(p),!0)};n.exports=d},89936:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45170),x=e(47962),d=function(o,a,r,l,v){v===void 0&&(v=u(o,a,r,l));var h=o.immovable,c=a.immovable;if(r||v===0||h&&c||o.customSeparateY||a.customSeparateY)return v!==0||o.embedded&&a.embedded;var p=x.Set(o,a,v);return!h&&!c?p>0?!0:x.Check():(h?x.RunImmovableBody1(p):c&&x.RunImmovableBody2(p),!0)};n.exports=d},95829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===void 0&&(u={}),u.none=e,u.up=!1,u.down=!1,u.left=!1,u.right=!1,e||(u.up=!0,u.down=!0,u.left=!0,u.right=!0),u};n.exports=C},72624:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87902),x=e(83419),d=e(78389),o=e(37747),a=e(37303),r=e(95829),l=e(26099),v=new x({Mixins:[d],initialize:function(c,p){var g=64,m=64,y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=p!==void 0;S&&p.displayWidth&&(g=p.displayWidth,m=p.displayHeight),S||(p=y),this.world=c,this.gameObject=S?p:void 0,this.isBody=!0,this.debugShowBody=c.defaults.debugShowStaticBody,this.debugBodyColor=c.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new l,this.position=new l(p.x-g*p.originX,p.y-m*p.originY),this.width=g,this.height=m,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new l(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=l.ZERO,this.allowGravity=!1,this.gravity=l.ZERO,this.bounce=l.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=r(!1),this.touching=r(!0),this.wasTouching=r(!0),this.blocked=r(!0),this.physicsType=o.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(h,c){return h&&h!==this.gameObject&&(this.gameObject.body=null,h.body=this,this.gameObject=h),c&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var h=this.gameObject;return h.getTopLeft(this.position),this.width=h.displayWidth,this.height=h.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(h,c){return c===void 0&&(c=h),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(h,c),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(h,c,p){p===void 0&&(p=!0);var g=this.gameObject;if(g&&g.frame&&(h||(h=g.frame.realWidth),c||(c=g.frame.realHeight)),this.world.staticTree.remove(this),this.width=h,this.height=c,this.halfWidth=Math.floor(h/2),this.halfHeight=Math.floor(c/2),p&&g&&g.getCenter){var m=g.displayWidth/2,y=g.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(m-this.halfWidth,y-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(h,c,p){return c===void 0&&(c=this.offset.x),p===void 0&&(p=this.offset.y),h>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=h,this.width=h*2,this.height=h*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(h,c){var p=this.gameObject;h===void 0&&(h=p.x),c===void 0&&(c=p.y),this.world.staticTree.remove(this),p.setPosition(h,c),p.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(h){return h.x=this.x,h.y=this.y,h.right=this.right,h.bottom=this.bottom,h},hitTest:function(h,c){return this.isCircle?u(this,h,c):a(this,h,c)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(h){var c=this.position,p=c.x+this.halfWidth,g=c.y+this.halfHeight;this.debugShowBody&&(h.lineStyle(h.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?h.strokeCircle(p,g,this.width/2):h.strokeRect(c.x,c.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(h){return h<=0&&(h=.1),this.mass=h,this},x:{get:function(){return this.position.x},set:function(h){this.world.staticTree.remove(this),this.position.x=h,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(h){this.world.staticTree.remove(this),this.position.y=h,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=v},71464:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13759),x=e(83419),d=e(78389),o=e(37747),a=e(95540),r=e(26479),l=e(41212),v=new x({Extends:r,Mixins:[d],initialize:function(c,p,g,m){!g&&!m?m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:u}:l(g)?(m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=a(m,"classType",u)):Array.isArray(g)&&l(g[0])?(m=g,g=null,m.forEach(function(y){y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=a(y,"classType",u)})):m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=c,this.physicsType=o.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,r.call(this,p,g,m),this.type="StaticPhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,o.STATIC_BODY)},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var h=this.children.entries,c=0;c<h.length;c++)h[c].body.reset();return this}});n.exports=v},82248:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55495),x=e(37742),d=e(45319),o=e(83419),a=e(79342),r=e(37747),l=e(20339),v=e(52816),h=e(50792),c=e(63012),p=e(43855),g=e(5470),m=e(94977),y=e(64897),S=e(45170),M=e(96523),P=e(35154),w=e(36383),R=e(25774),A=e(96602),L=e(87841),F=e(59542),O=e(40012),b=e(14087),B=e(89936),I=e(35072),N=e(72624),X=e(2483),k=e(61340),H=e(26099),V=e(15994),W=new o({Extends:h,initialize:function(G,z){h.call(this),this.scene=G,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new R,this.gravity=new H(P(z,"gravity.x",0),P(z,"gravity.y",0)),this.bounds=new L(P(z,"x",0),P(z,"y",0),P(z,"width",G.sys.scale.width),P(z,"height",G.sys.scale.height)),this.checkCollision={up:P(z,"checkCollision.up",!0),down:P(z,"checkCollision.down",!0),left:P(z,"checkCollision.left",!0),right:P(z,"checkCollision.right",!0)},this.fps=P(z,"fps",60),this.fixedStep=P(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=P(z,"timeScale",1),this.OVERLAP_BIAS=P(z,"overlapBias",4),this.TILE_BIAS=P(z,"tileBias",16),this.forceX=P(z,"forceX",!1),this.isPaused=P(z,"isPaused",!1),this._total=0,this.drawDebug=P(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:P(z,"debugShowBody",!0),debugShowStaticBody:P(z,"debugShowStaticBody",!0),debugShowVelocity:P(z,"debugShowVelocity",!0),bodyDebugColor:P(z,"debugBodyColor",16711935),staticBodyDebugColor:P(z,"debugStaticBodyColor",255),velocityDebugColor:P(z,"debugVelocityColor",65280)},this.maxEntries=P(z,"maxEntries",16),this.useTree=P(z,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new k,this._tempMatrix2=new k,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(D,G){G===void 0&&(G=r.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var z=0;z<D.length;z++){var U=D[z];if(U.isParent)for(var Y=U.getChildren(),$=0;$<Y.length;$++){var K=Y[$];K.isParent?this.enable(K,G):this.enableBody(K,G)}else this.enableBody(U,G)}},enableBody:function(D,G){return G===void 0&&(G=r.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(G===r.DYNAMIC_BODY?D.body=new x(this,D):G===r.STATIC_BODY&&(D.body=new N(this,D))),this.add(D.body)),D},add:function(D){return D.physicsType===r.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===r.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var z=D[G];if(z.isParent)for(var U=z.getChildren(),Y=0;Y<U.length;Y++){var $=U[Y];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(z.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===r.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===r.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,G,z,U,Y,$,K,Z){return this.bounds.setTo(D,G,z,U),Y!==void 0&&this.setBoundsCollision(Y,$,K,Z),this},setBoundsCollision:function(D,G,z,U){return D===void 0&&(D=!0),G===void 0&&(G=!0),z===void 0&&(z=!0),U===void 0&&(U=!0),this.checkCollision.left=D,this.checkCollision.right=G,this.checkCollision.up=z,this.checkCollision.down=U,this},pause:function(){return this.isPaused=!0,this.emit(c.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(c.RESUME),this},addCollider:function(D,G,z,U,Y){z===void 0&&(z=null),U===void 0&&(U=null),Y===void 0&&(Y=z);var $=new a(this,!1,D,G,z,U,Y);return this.colliders.add($),$},addOverlap:function(D,G,z,U,Y){z===void 0&&(z=null),U===void 0&&(U=null),Y===void 0&&(Y=z);var $=new a(this,!0,D,G,z,U,Y);return this.colliders.add($),$},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,G){if(!(this.isPaused||this.bodies.size===0)){var z,U=this._frameTime,Y=this._frameTimeMS*this.timeScale;this._elapsed+=G;var $,K=this.bodies.entries,Z=this._elapsed>=Y;for(this.fixedStep||(U=G*.001,Z=!0,this._elapsed=0),z=0;z<K.length;z++)$=K[z],$.enable&&$.preUpdate(Z,U);if(Z){this._elapsed-=Y,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var J=this.colliders.update();for(z=0;z<J.length;z++){var Q=J[z];Q.active&&Q.update()}this.emit(c.WORLD_STEP,U)}for(;this._elapsed>=Y;)this._elapsed-=Y,this.step(U)}},step:function(D){var G,z,U=this.bodies.entries,Y=U.length;for(G=0;G<Y;G++)z=U[G],z.enable&&z.update(D);this.useTree&&(this.tree.clear(),this.tree.load(U));var $=this.colliders.update();for(G=0;G<$.length;G++){var K=$[G];K.active&&K.update()}this.emit(c.WORLD_STEP,D),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var D,G,z=this.bodies.entries,U=z.length,Y=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<U;D++)G=z[D],G.enable&&G.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),D=0;D<U;D++)G=z[D],G.willDrawDebug()&&G.drawDebug(K);for(z=$.entries,U=z.length,D=0;D<U;D++)G=z[D],G.willDrawDebug()&&G.drawDebug(K)}var Z=this.pendingDestroy;if(Z.size>0){var J=this.tree,Q=this.staticTree;for(z=Z.entries,U=z.length,D=0;D<U;D++)G=z[D],G.physicsType===r.DYNAMIC_BODY?(J.remove(G),Y.delete(G)):G.physicsType===r.STATIC_BODY&&(Q.remove(G),$.delete(G)),G.world=void 0,G.gameObject=void 0;Z.clear()}},updateMotion:function(D,G){D.allowRotation&&this.computeAngularVelocity(D,G),this.computeVelocity(D,G)},computeAngularVelocity:function(D,G){var z=D.angularVelocity,U=D.angularAcceleration,Y=D.angularDrag,$=D.maxAngular;U?z+=U*G:D.allowDrag&&Y&&(Y*=G,g(z-Y,0,.1)?z-=Y:m(z+Y,0,.1)?z+=Y:z=0),z=d(z,-$,$);var K=z-D.angularVelocity;D.angularVelocity+=K,D.rotation+=D.angularVelocity*G},computeVelocity:function(D,G){var z=D.velocity.x,U=D.acceleration.x,Y=D.drag.x,$=D.maxVelocity.x,K=D.velocity.y,Z=D.acceleration.y,J=D.drag.y,Q=D.maxVelocity.y,j=D.speed,_=D.maxSpeed,q=D.allowDrag,it=D.useDamping;D.allowGravity&&(z+=(this.gravity.x+D.gravity.x)*G,K+=(this.gravity.y+D.gravity.y)*G),U?z+=U*G:q&&Y&&(it?(Y=Math.pow(Y,G),z*=Y,j=Math.sqrt(z*z+K*K),p(j,0,.001)&&(z=0)):(Y*=G,g(z-Y,0,.01)?z-=Y:m(z+Y,0,.01)?z+=Y:z=0)),Z?K+=Z*G:q&&J&&(it?(J=Math.pow(J,G),K*=J,j=Math.sqrt(z*z+K*K),p(j,0,.001)&&(K=0)):(J*=G,g(K-J,0,.01)?K-=J:m(K+J,0,.01)?K+=J:K=0)),z=d(z,-$,$),K=d(K,-Q,Q),D.velocity.set(z,K),_>-1&&D.velocity.length()>_&&(D.velocity.normalize().scale(_),j=_),D.speed=j},separate:function(D,G,z,U,Y){var $,K,Z=!1,J=!0;if(!D.enable||!G.enable||D.checkCollision.none||G.checkCollision.none||!this.intersects(D,G)||z&&z.call(U,D.gameObject,G.gameObject)===!1)return Z;if(D.isCircle||G.isCircle){var Q=this.separateCircle(D,G,Y);Q.result?(Z=!0,J=!1):($=Q.x,K=Q.y,J=!0)}if(J){var j=!1,_=!1,q=this.OVERLAP_BIAS;Y?(j=b(D,G,Y,q,$),_=B(D,G,Y,q,K)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(j=b(D,G,Y,q,$),this.intersects(D,G)&&(_=B(D,G,Y,q,K))):(_=B(D,G,Y,q,K),this.intersects(D,G)&&(j=b(D,G,Y,q,$))),Z=j||_}return Z&&(Y?(D.onOverlap||G.onOverlap)&&this.emit(c.OVERLAP,D.gameObject,G.gameObject,D,G):(D.onCollide||G.onCollide)&&this.emit(c.COLLIDE,D.gameObject,G.gameObject,D,G)),Z},separateCircle:function(D,G,z){y(D,G,!1,0),S(D,G,!1,0);var U=D.isCircle,Y=G.isCircle,$=D.center,K=G.center,Z=D.immovable,J=G.immovable,Q=D.velocity,j=G.velocity,_=0,q=!0;if(U!==Y){q=!1;var it=$.x,at=$.y,ot=D.halfWidth,ht=G.position.x,tt=G.position.y,nt=G.right,rt=G.bottom;Y&&(it=K.x,at=K.y,ot=G.halfWidth,ht=D.position.x,tt=D.position.y,nt=D.right,rt=D.bottom),at<tt?it<ht?_=l(it,at,ht,tt)-ot:it>nt&&(_=l(it,at,nt,tt)-ot):at>rt&&(it<ht?_=l(it,at,ht,rt)-ot:it>nt&&(_=l(it,at,nt,rt)-ot)),_*=-1}else _=D.halfWidth+G.halfWidth-v($,K);D.overlapR=_,G.overlapR=_;var vt=u($,K),ct=(_+w.EPSILON)*Math.cos(vt),bt=(_+w.EPSILON)*Math.sin(vt),Ot={overlap:_,result:!1,x:ct,y:bt};if(z&&(!q||q&&_!==0))return Ot.result=!0,Ot;if(!q&&_===0||Z&&J||D.customSeparateX||G.customSeparateX)return Ot.x=void 0,Ot.y=void 0,Ot;var yt=!D.pushable&&!G.pushable;if(q){var mt=$.x-K.x,Xt=$.y-K.y,Lt=Math.sqrt(Math.pow(mt,2)+Math.pow(Xt,2)),jt=(K.x-$.x)/Lt||0,se=(K.y-$.y)/Lt||0,Se=2*(Q.x*jt+Q.y*se-j.x*jt-j.y*se)/(D.mass+G.mass);(Z||J)&&(Se*=2),Z||(Q.x=Q.x-Se/D.mass*jt,Q.y=Q.y-Se/D.mass*se,Q.multiply(D.bounce)),J||(j.x=j.x+Se/G.mass*jt,j.y=j.y+Se/G.mass*se,j.multiply(G.bounce)),!Z&&!J&&(ct*=.5,bt*=.5),Z||(D.x-=ct,D.y-=bt,D.updateCenter()),J||(G.x+=ct,G.y+=bt,G.updateCenter()),Ot.result=!0}else!Z||D.pushable||yt?(D.x-=ct,D.y-=bt,D.updateCenter()):(!J||G.pushable||yt)&&(G.x+=ct,G.y+=bt,G.updateCenter()),Ot.x=void 0,Ot.y=void 0;return Ot},intersects:function(D,G){return D===G?!1:!D.isCircle&&!G.isCircle?!(D.right<=G.left||D.bottom<=G.top||D.left>=G.right||D.top>=G.bottom):D.isCircle?G.isCircle?v(D.center,G.center)<=D.halfWidth+G.halfWidth:this.circleBodyIntersects(D,G):this.circleBodyIntersects(G,D)},circleBodyIntersects:function(D,G){var z=d(D.center.x,G.left,G.right),U=d(D.center.y,G.top,G.bottom),Y=(D.center.x-z)*(D.center.x-z),$=(D.center.y-U)*(D.center.y-U);return Y+$<=D.halfWidth*D.halfWidth},overlap:function(D,G,z,U,Y){return z===void 0&&(z=null),U===void 0&&(U=null),Y===void 0&&(Y=z),this.collideObjects(D,G,z,U,Y,!0)},collide:function(D,G,z,U,Y){return z===void 0&&(z=null),U===void 0&&(U=null),Y===void 0&&(Y=z),this.collideObjects(D,G,z,U,Y,!1)},collideObjects:function(D,G,z,U,Y,$){var K,Z;D.isParent&&(D.physicsType===void 0||G===void 0||D===G)&&(D=D.children.entries),G&&G.isParent&&G.physicsType===void 0&&(G=G.children.entries);var J=Array.isArray(D),Q=Array.isArray(G);if(this._total=0,!J&&!Q)this.collideHandler(D,G,z,U,Y,$);else if(!J&&Q)for(K=0;K<G.length;K++)this.collideHandler(D,G[K],z,U,Y,$);else if(J&&!Q)if(G)for(K=0;K<D.length;K++)this.collideHandler(D[K],G,z,U,Y,$);else for(K=0;K<D.length;K++){var j=D[K];for(Z=K+1;Z<D.length;Z++)K!==Z&&this.collideHandler(j,D[Z],z,U,Y,$)}else for(K=0;K<D.length;K++)for(Z=0;Z<G.length;Z++)this.collideHandler(D[K],G[Z],z,U,Y,$);return this._total>0},collideHandler:function(D,G,z,U,Y,$){if(G===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,z,U,Y,$);if(!D||!G)return!1;if(D.body||D.isBody){if(G.body||G.isBody)return this.collideSpriteVsSprite(D,G,z,U,Y,$);if(G.isParent)return this.collideSpriteVsGroup(D,G,z,U,Y,$);if(G.isTilemap)return this.collideSpriteVsTilemapLayer(D,G,z,U,Y,$)}else if(D.isParent){if(G.body||G.isBody)return this.collideSpriteVsGroup(G,D,z,U,Y,$);if(G.isParent)return this.collideGroupVsGroup(D,G,z,U,Y,$);if(G.isTilemap)return this.collideGroupVsTilemapLayer(D,G,z,U,Y,$)}else if(D.isTilemap){if(G.body||G.isBody)return this.collideSpriteVsTilemapLayer(G,D,z,U,Y,$);if(G.isParent)return this.collideGroupVsTilemapLayer(G,D,z,U,Y,$)}},canCollide:function(D,G){return D&&G&&(D.collisionMask&G.collisionCategory)!==0&&(G.collisionMask&D.collisionCategory)!==0},collideSpriteVsSprite:function(D,G,z,U,Y,$){var K=D.isBody?D:D.body,Z=G.isBody?G:G.body;return this.canCollide(K,Z)?(this.separate(K,Z,U,Y,$)&&(z&&z.call(Y,D,G),this._total++),!0):!1},collideSpriteVsGroup:function(D,G,z,U,Y,$){var K=D.isBody?D:D.body;if(!(G.length===0||!K||!K.enable||K.checkCollision.none||!this.canCollide(K,G))){var Z,J,Q;if(this.useTree||G.physicsType===r.STATIC_BODY){var j=this.treeMinMax;j.minX=K.left,j.minY=K.top,j.maxX=K.right,j.maxY=K.bottom;var _=G.physicsType===r.DYNAMIC_BODY?this.tree.search(j):this.staticTree.search(j);for(J=_.length,Z=0;Z<J;Z++)Q=_[Z],!(K===Q||!Q.enable||Q.checkCollision.none||!G.contains(Q.gameObject))&&this.separate(K,Q,U,Y,$)&&(z&&z.call(Y,K.gameObject,Q.gameObject),this._total++)}else{var q=G.getChildren(),it=G.children.entries.indexOf(D);for(J=q.length,Z=0;Z<J;Z++)Q=q[Z].body,!(!Q||Z===it||!Q.enable)&&this.separate(K,Q,U,Y,$)&&(z&&z.call(Y,K.gameObject,Q.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,G,z,U,Y,$){if(!this.canCollide(D,G))return!1;var K=D.getChildren();if(K.length===0)return!1;for(var Z=!1,J=0;J<K.length;J++)(K[J].body||K[J].isBody)&&this.collideSpriteVsTilemapLayer(K[J],G,z,U,Y,$)&&(Z=!0);return Z},collideTiles:function(D,G,z,U,Y){return G.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,G,z,U,Y,!1,!1)},overlapTiles:function(D,G,z,U,Y){return G.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,G,z,U,Y,!0,!1)},collideSpriteVsTilemapLayer:function(D,G,z,U,Y,$){var K=D.isBody?D:D.body;if(!K.enable||K.checkCollision.none||!this.canCollide(K,G))return!1;var Z=G.layer,J=K.x-Z.tileWidth*G.scaleX,Q=K.y-Z.tileHeight*G.scaleY,j=K.width+Z.tileWidth*G.scaleX,_=K.height+Z.tileHeight*G.scaleY,q=$?null:this.tileFilterOptions,it=M(J,Q,j,_,q,G.scene.cameras.main,G.layer);return it.length===0?!1:this.collideSpriteVsTilesHandler(D,it,z,U,Y,$,!0)},collideSpriteVsTilesHandler:function(D,G,z,U,Y,$,K){for(var Z=D.isBody?D:D.body,J,Q={left:0,right:0,top:0,bottom:0},j,_=!1,q=0;q<G.length;q++){J=G[q],j=J.tilemapLayer;var it=j.tileToWorldXY(J.x,J.y);Q.left=it.x,Q.top=it.y,Q.right=Q.left+J.width*j.scaleX,Q.bottom=Q.top+J.height*j.scaleY,X(Q,Z)&&(!U||U.call(Y,D,J))&&A(J,D)&&($||O(q,Z,J,Q,j,this.TILE_BIAS,K))&&(this._total++,_=!0,z&&z.call(Y,D,J),$&&Z.onOverlap?this.emit(c.TILE_OVERLAP,D,J,Z):Z.onCollide&&this.emit(c.TILE_COLLIDE,D,J,Z))}return _},collideGroupVsGroup:function(D,G,z,U,Y,$){if(!(D.length===0||G.length===0||!this.canCollide(D,G)))for(var K=D.getChildren(),Z=0;Z<K.length;Z++)this.collideSpriteVsGroup(K[Z],G,z,U,Y,$)},wrap:function(D,G){D.body?this.wrapObject(D,G):D.getChildren?this.wrapArray(D.getChildren(),G):Array.isArray(D)?this.wrapArray(D,G):this.wrapObject(D,G)},wrapArray:function(D,G){for(var z=0;z<D.length;z++)this.wrapObject(D[z],G)},wrapObject:function(D,G){G===void 0&&(G=0),D.x=V(D.x,this.bounds.left-G,this.bounds.right+G),D.y=V(D.y,this.bounds.top-G,this.bounds.bottom+G)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});n.exports=W},1093:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAcceleration:function(e,u){return this.body.acceleration.set(e,u),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};n.exports=C},59023:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};n.exports=C},62069:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:function(e,u){return this.body.bounce.set(e,u),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,u,x,d){return this.body.setCollideWorldBounds(e,u,x,d),this}};n.exports=C},78389:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79599),x={setCollisionCategory:function(d){var o=this.body?this.body:this;return o.collisionCategory=d,this},willCollideWith:function(d){var o=this.body?this.body:this;return(o.collisionMask&d)!==0},addCollidesWith:function(d){var o=this.body?this.body:this;return o.collisionMask=o.collisionMask|d,this},removeCollidesWith:function(d){var o=this.body?this.body:this;return o.collisionMask=o.collisionMask&~d,this},setCollidesWith:function(d){var o=this.body?this.body:this;return o.collisionMask=u(d),this},resetCollisionCategory:function(){var d=this.body?this.body:this;return d.collisionCategory=1,d.collisionMask=1,this}};n.exports=x},87118:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDebug:function(e,u,x){return this.debugShowBody=e,this.debugShowVelocity=u,this.debugBodyColor=x,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};n.exports=C},52819:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDrag:function(e,u){return this.body.drag.set(e,u),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};n.exports=C},4074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDirectControl:function(e){return this.body.setDirectControl(e),this},enableBody:function(e,u,x,d,o){return e&&this.body.reset(u,x),d&&(this.body.gameObject.active=!0),o&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,u){return e===void 0&&(e=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};n.exports=C},40831:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:function(e,u){return this.body.friction.set(e,u),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};n.exports=C},26775:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setGravity:function(e,u){return this.body.gravity.set(e,u),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};n.exports=C},9437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};n.exports=C},30621:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setMass:function(e){return this.body.mass=e,this}};n.exports=C},72441:(n,C,e)=>{var u=e(47956),x=e(96503),d=e(2044),o=e(81491),a=function(r,l,v,h,c,p){var g=u(r,l-h,v-h,2*h,2*h,c,p);if(g.length===0)return g;for(var m=new x(l,v,h),y=new x,S=[],M=0;M<g.length;M++){var P=g[M];P.isCircle?(y.setTo(P.center.x,P.center.y,P.halfWidth),d(m,y)&&S.push(P)):o(m,P)&&S.push(P)}return S};n.exports=a},47956:n=>{var C=function(e,u,x,d,o,a,r){a===void 0&&(a=!0),r===void 0&&(r=!1);var l=[],v=[],h=e.treeMinMax;if(h.minX=u,h.minY=x,h.maxX=u+d,h.maxY=x+o,r&&(v=e.staticTree.search(h)),a&&e.useTree)l=e.tree.search(h);else if(a){var c=e.bodies,p={position:{x:u,y:x},left:u,top:x,right:u+d,bottom:x+o,isCircle:!1},g=e.intersects;c.iterate(function(m){g(m,p)&&l.push(m)})}return v.concat(l)};n.exports=C},62121:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};n.exports=C},29384:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setOffset:function(e,u){return this.body.setOffset(e,u),this},setSize:function(e,u,x){return this.body.setSize(e,u,x),this},setBodySize:function(e,u,x){return this.body.setSize(e,u,x),this},setCircle:function(e,u,x){return this.body.setCircle(e,u,x),this}};n.exports=C},15098:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setVelocity:function(e,u){return this.body.setVelocity(e,u),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,u){return this.body.maxVelocity.set(e,u),this}};n.exports=C},92209:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:e(1093),Angular:e(59023),Bounce:e(62069),Collision:e(78389),Debug:e(87118),Drag:e(52819),Enable:e(4074),Friction:e(40831),Gravity:e(26775),Immovable:e(9437),Mass:e(30621),OverlapCirc:e(72441),OverlapRect:e(47956),Pushable:e(62121),Size:e(29384),Velocity:e(15098)}},37747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=C},20009:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"},36768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"},60473:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},89954:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},61804:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"},7161:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"},34689:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"},16006:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"},63012:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:e(20009),OVERLAP:e(36768),PAUSE:e(60473),RESUME:e(89954),TILE_COLLIDE:e(61804),TILE_OVERLAP:e(7161),WORLD_BOUNDS:e(34689),WORLD_STEP:e(16006)}},27064:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37747),x=e(79291),d={ArcadePhysics:e(86689),Body:e(37742),Collider:e(79342),Components:e(92209),Events:e(63012),Factory:e(66022),GetCollidesWith:e(79599),GetOverlapX:e(64897),GetOverlapY:e(45170),SeparateX:e(14087),SeparateY:e(89936),Group:e(60758),Image:e(71289),Sprite:e(13759),StaticBody:e(72624),StaticGroup:e(71464),Tilemap:e(55173),World:e(82248)};d=x(!1,d,u),n.exports=d},96602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,u,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,u,e):!0};n.exports=C},36294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u<0?(e.blocked.none=!1,e.blocked.left=!0):u>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=u,e.updateCenter(),e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};n.exports=C},67013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u<0?(e.blocked.none=!1,e.blocked.up=!0):u>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=u,e.updateCenter(),e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};n.exports=C},40012:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21329),x=e(53442),d=e(2483),o=function(a,r,l,v,h,c,p){var g=v.left,m=v.top,y=v.right,S=v.bottom,M=l.faceLeft||l.faceRight,P=l.faceTop||l.faceBottom;if(p||(M=!0,P=!0),!M&&!P)return!1;var w=0,R=0,A=0,L=1;if(r.deltaAbsX()>r.deltaAbsY()?A=-1:r.deltaAbsX()<r.deltaAbsY()&&(L=-1),r.deltaX()!==0&&r.deltaY()!==0&&M&&P&&(A=Math.min(Math.abs(r.position.x-y),Math.abs(r.right-g)),L=Math.min(Math.abs(r.position.y-S),Math.abs(r.bottom-m))),A<L){if(M&&(w=u(r,l,g,y,c,p),w!==0&&!d(v,r)))return!0;P&&(R=x(r,l,m,S,c,p))}else{if(P&&(R=x(r,l,m,S,c,p),R!==0&&!d(v,r)))return!0;M&&(w=u(r,l,g,y,c,p))}return w!==0||R!==0};n.exports=o},21329:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36294),x=function(d,o,a,r,l,v){var h=0,c=o.faceLeft,p=o.faceRight,g=o.collideLeft,m=o.collideRight;return v||(c=!0,p=!0,g=!0,m=!0),d.deltaX()<0&&m&&d.checkCollision.left?p&&d.x<r&&(h=d.x-r,h<-l&&(h=0)):d.deltaX()>0&&g&&d.checkCollision.right&&c&&d.right>a&&(h=d.right-a,h>l&&(h=0)),h!==0&&(d.customSeparateX?d.overlapX=h:u(d,h)),h};n.exports=x},53442:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(67013),x=function(d,o,a,r,l,v){var h=0,c=o.faceTop,p=o.faceBottom,g=o.collideUp,m=o.collideDown;return v||(c=!0,p=!0,g=!0,m=!0),d.deltaY()<0&&m&&d.checkCollision.up?p&&d.y<r&&(h=d.y-r,h<-l&&(h=0)):d.deltaY()>0&&g&&d.checkCollision.down&&c&&d.bottom>a&&(h=d.bottom-a,h>l&&(h=0)),h!==0&&(d.customSeparateY?d.overlapY=h:u(d,h)),h};n.exports=x},2483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return!(u.right<=e.left||u.bottom<=e.top||u.position.x>=e.right||u.position.y>=e.bottom)};n.exports=C},55173:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ProcessTileCallbacks:e(96602),ProcessTileSeparationX:e(36294),ProcessTileSeparationY:e(67013),SeparateTile:e(40012),TileCheckX:e(21329),TileCheckY:e(53442),TileIntersectsBody:e(2483)};n.exports=u},44563:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:e(27064),Matter:e(3875)}},68174:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(26099),d=new u({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(o){if(o=o.hasOwnProperty("body")?o.body:o,!o.hasOwnProperty("bounds")||!o.hasOwnProperty("centerOfMass"))return!1;var a=this.boundsCenter,r=this.centerDiff,l=o.bounds.max.x-o.bounds.min.x,v=o.bounds.max.y-o.bounds.min.y,h=l*o.centerOfMass.x,c=v*o.centerOfMass.y;return a.set(l/2,v/2),r.set(h-a.x,c-a.y),!0},getTopLeft:function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),this.parseBody(o)){var l=this.boundsCenter,v=this.centerDiff;return new x(a+l.x+v.x,r+l.y+v.y)}return!1},getTopCenter:function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),this.parseBody(o)){var l=this.boundsCenter,v=this.centerDiff;return new x(a+v.x,r+l.y+v.y)}return!1},getTopRight:function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),this.parseBody(o)){var l=this.boundsCenter,v=this.centerDiff;return new x(a-(l.x-v.x),r+l.y+v.y)}return!1},getLeftCenter:function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),this.parseBody(o)){var l=this.boundsCenter,v=this.centerDiff;return new x(a+l.x+v.x,r+v.y)}return!1},getCenter:function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),this.parseBody(o)){var l=this.centerDiff;return new x(a+l.x,r+l.y)}return!1},getRightCenter:function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),this.parseBody(o)){var l=this.boundsCenter,v=this.centerDiff;return new x(a-(l.x-v.x),r+v.y)}return!1},getBottomLeft:function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),this.parseBody(o)){var l=this.boundsCenter,v=this.centerDiff;return new x(a+l.x+v.x,r-(l.y-v.y))}return!1},getBottomCenter:function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),this.parseBody(o)){var l=this.boundsCenter,v=this.centerDiff;return new x(a+v.x,r-(l.y-v.y))}return!1},getBottomRight:function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),this.parseBody(o)){var l=this.boundsCenter,v=this.centerDiff;return new x(a-(l.x-v.x),r-(l.y-v.y))}return!1}});n.exports=d},19933:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6790);u.Body=e(22562),u.Composite=e(69351),u.World=e(4372),u.Collision=e(52284),u.Detector=e(81388),u.Pairs=e(99561),u.Pair=e(4506),u.Query=e(73296),u.Resolver=e(66272),u.Constraint=e(48140),u.Common=e(53402),u.Engine=e(48413),u.Events=e(35810),u.Sleeping=e(53614),u.Plugin=e(73832),u.Bodies=e(66280),u.Composites=e(74116),u.Axes=e(66615),u.Bounds=e(15647),u.Svg=e(74058),u.Vector=e(31725),u.Vertices=e(41598),u.World.add=u.Composite.add,u.World.remove=u.Composite.remove,u.World.addComposite=u.Composite.addComposite,u.World.addBody=u.Composite.addBody,u.World.addConstraint=u.Composite.addConstraint,u.World.clear=u.Composite.clear,n.exports=u},28137:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),x=e(83419),d=e(74116),o=e(48140),a=e(74058),r=e(75803),l=e(23181),v=e(34803),h=e(73834),c=e(19496),p=e(85791),g=e(98713),m=e(41598),y=new x({initialize:function(M){this.world=M,this.scene=M.scene,this.sys=M.scene.sys},rectangle:function(S,M,P,w,R){var A=u.rectangle(S,M,P,w,R);return this.world.add(A),A},trapezoid:function(S,M,P,w,R,A){var L=u.trapezoid(S,M,P,w,R,A);return this.world.add(L),L},circle:function(S,M,P,w,R){var A=u.circle(S,M,P,w,R);return this.world.add(A),A},polygon:function(S,M,P,w,R){var A=u.polygon(S,M,P,w,R);return this.world.add(A),A},fromVertices:function(S,M,P,w,R,A,L){typeof P=="string"&&(P=m.fromPath(P));var F=u.fromVertices(S,M,P,w,R,A,L);return this.world.add(F),F},fromPhysicsEditor:function(S,M,P,w,R){R===void 0&&(R=!0);var A=c.parseBody(S,M,P,w);return R&&!this.world.has(A)&&this.world.add(A),A},fromSVG:function(S,M,P,w,R,A){w===void 0&&(w=1),R===void 0&&(R={}),A===void 0&&(A=!0);for(var L=P.getElementsByTagName("path"),F=[],O=0;O<L.length;O++){var b=a.pathToVertices(L[O],30);w!==1&&m.scale(b,w,w),F.push(b)}var B=u.fromVertices(S,M,F,R);return A&&this.world.add(B),B},fromJSON:function(S,M,P,w,R){w===void 0&&(w={}),R===void 0&&(R=!0);var A=p.parseBody(S,M,P,w);return A&&R&&this.world.add(A),A},imageStack:function(S,M,P,w,R,A,L,F,O){L===void 0&&(L=0),F===void 0&&(F=0),O===void 0&&(O={});var b=this.world,B=this.sys.displayList;O.addToWorld=!1;var I=d.stack(P,w,R,A,L,F,function(N,X){var k=new l(b,N,X,S,M,O);return B.add(k),k.body});return b.add(I),I},stack:function(S,M,P,w,R,A,L){var F=d.stack(S,M,P,w,R,A,L);return this.world.add(F),F},pyramid:function(S,M,P,w,R,A,L){var F=d.pyramid(S,M,P,w,R,A,L);return this.world.add(F),F},chain:function(S,M,P,w,R,A){return d.chain(S,M,P,w,R,A)},mesh:function(S,M,P,w,R){return d.mesh(S,M,P,w,R)},newtonsCradle:function(S,M,P,w,R){var A=d.newtonsCradle(S,M,P,w,R);return this.world.add(A),A},car:function(S,M,P,w,R){var A=d.car(S,M,P,w,R);return this.world.add(A),A},softBody:function(S,M,P,w,R,A,L,F,O,b){var B=d.softBody(S,M,P,w,R,A,L,F,O,b);return this.world.add(B),B},joint:function(S,M,P,w,R){return this.constraint(S,M,P,w,R)},spring:function(S,M,P,w,R){return this.constraint(S,M,P,w,R)},constraint:function(S,M,P,w,R){w===void 0&&(w=1),R===void 0&&(R={}),R.bodyA=S.type==="body"?S:S.body,R.bodyB=M.type==="body"?M:M.body,isNaN(P)||(R.length=P),R.stiffness=w;var A=o.create(R);return this.world.add(A),A},worldConstraint:function(S,M,P,w){P===void 0&&(P=1),w===void 0&&(w={}),w.bodyB=S.type==="body"?S:S.body,isNaN(M)||(w.length=M),w.stiffness=P;var R=o.create(w);return this.world.add(R),R},mouseSpring:function(S){return this.pointerConstraint(S)},pointerConstraint:function(S){S===void 0&&(S={}),S.hasOwnProperty("render")||(S.render={visible:!1});var M=new g(this.scene,this.world,S);return this.world.add(M.constraint),M},image:function(S,M,P,w,R){var A=new l(this.world,S,M,P,w,R);return this.sys.displayList.add(A),A},tileBody:function(S,M){return new h(this.world,S,M)},sprite:function(S,M,P,w,R){var A=new v(this.world,S,M,P,w,R);return this.sys.displayList.add(A),this.sys.updateList.add(A),A},gameObject:function(S,M,P){return r(this.world,S,M,P)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=y},75803:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(31884),x=e(95540),d=e(26099);function o(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}var a=function(r,l,v,h){v===void 0&&(v={}),h===void 0&&(h=!0);var c=l.x,p=l.y;l.body={temp:!0,position:{x:c,y:p}};var g=[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity];if(g.forEach(function(y){for(var S in y)o(y[S])?Object.defineProperty(l,S,{get:y[S].get,set:y[S].set}):Object.defineProperty(l,S,{value:y[S]})}),l.world=r,l._tempVec2=new d(c,p),v.hasOwnProperty("type")&&v.type==="body")l.setExistingBody(v,h);else{var m=x(v,"shape",null);m||(m="rectangle"),v.addToWorld=h,l.setBody(m,v)}return l};n.exports=a},23181:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31884),d=e(95643),o=e(95540),a=e(88571),r=e(72699),l=e(26099),v=new u({Extends:a,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,r],initialize:function(c,p,g,m,y,S){d.call(this,c.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,y),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new l(p,g);var M=o(S,"shape",null);M?this.setBody(M,S):this.setRectangle(this.width,this.height,S),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=v},42045:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60461),x=e(66615),d=e(66280),o=e(22562),a=e(68174),r=e(15647),l=e(83419),v=e(52284),h=e(53402),c=e(69351),p=e(74116),g=e(48140),m=e(81388),y=e(20339),S=e(28137),M=e(95540),P=e(35154),w=e(18210),R=e(40178),A=e(6790),L=e(74507),F=e(46975),O=e(4506),b=e(99561),B=e(73832),I=e(37277),N=e(73296),X=e(66272),k=e(44594),H=e(74058),V=e(31725),W=e(41598),D=e(68243);h.setDecomp(e(55973));var G=new l({initialize:function(U){this.scene=U,this.systems=U.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=o,this.composite=c,this.collision=v,this.detector=m,this.pair=O,this.pairs=b,this.query=N,this.resolver=X,this.constraint=g,this.bodies=d,this.composites=p,this.axes=x,this.bounds=r,this.svg=H,this.vector=V,this.vertices=W,this.verts=W,this._tempVec2=V.create(),P(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),P(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),P(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),X._restingThresh=P(this.config,"restingThresh",4),X._restingThreshTangent=P(this.config,"restingThreshTangent",6),X._positionDampen=P(this.config,"positionDampen",.9),X._positionWarming=P(this.config,"positionWarming",.8),X._frictionNormalMultiplier=P(this.config,"frictionNormalMultiplier",5),U.sys.events.once(k.BOOT,this.boot,this),U.sys.events.on(k.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new S(this.world),this.bodyBounds=new a,this.systems.events.once(k.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new S(this.world));var z=this.systems.events;z.on(k.UPDATE,this.world.update,this.world),z.on(k.POST_UPDATE,this.world.postUpdate,this.world),z.once(k.SHUTDOWN,this.shutdown,this)},getConfig:function(){var z=this.systems.game.config.physics,U=this.systems.settings.physics,Y=F(M(U,"matter",{}),M(z,"matter",{}));return Y},enableAttractorPlugin:function(){return B.register(w),B.use(A,w),this},enableWrapPlugin:function(){return B.register(L),B.use(A,L),this},enableCollisionEventsPlugin:function(){return B.register(R),B.use(A,R),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(z,U){this.world.step(z,U)},containsPoint:function(z,U,Y){z=this.getMatterBodies(z);var $=V.create(U,Y),K=N.point(z,$);return K.length>0},intersectPoint:function(z,U,Y){Y=this.getMatterBodies(Y);var $=V.create(z,U),K=[],Z=N.point(Y,$);return Z.forEach(function(J){K.indexOf(J)===-1&&K.push(J)}),K},intersectRect:function(z,U,Y,$,K,Z){K===void 0&&(K=!1),Z=this.getMatterBodies(Z);var J={min:{x:z,y:U},max:{x:z+Y,y:U+$}},Q=[],j=N.region(Z,J,K);return j.forEach(function(_){Q.indexOf(_)===-1&&Q.push(_)}),Q},intersectRay:function(z,U,Y,$,K,Z){K===void 0&&(K=1),Z=this.getMatterBodies(Z);for(var J=[],Q=N.ray(Z,V.create(z,U),V.create(Y,$),K),j=0;j<Q.length;j++)J.push(Q[j].body);return J},intersectBody:function(z,U){U=this.getMatterBodies(U);for(var Y=[],$=N.collides(z,U),K=0;K<$.length;K++){var Z=$[K];Z.bodyA===z?Y.push(Z.bodyB):Y.push(Z.bodyA)}return Y},overlap:function(z,U,Y,$,K){Y===void 0&&(Y=null),$===void 0&&($=null),K===void 0&&(K=Y),Array.isArray(z)||(z=[z]),z=this.getMatterBodies(z),U=this.getMatterBodies(U);for(var Z=!1,J=0;J<z.length;J++)for(var Q=z[J],j=N.collides(Q,U),_=0;_<j.length;_++){var q=j[_],it=q.bodyA.id===Q.id?q.bodyB:q.bodyA;if(!$||$.call(K,Q,it,q)){if(Z=!0,Y)Y.call(K,Q,it,q);else if(!$)return!0}}return Z},setCollisionCategory:function(z,U){return z=this.getMatterBodies(z),z.forEach(function(Y){Y.collisionFilter.category=U}),this},setCollisionGroup:function(z,U){return z=this.getMatterBodies(z),z.forEach(function(Y){Y.collisionFilter.group=U}),this},setCollidesWith:function(z,U){z=this.getMatterBodies(z);var Y=0;if(!Array.isArray(U))Y=U;else for(var $=0;$<U.length;$++)Y|=U[$];return z.forEach(function(K){K.collisionFilter.mask=Y}),this},getMatterBodies:function(z){if(!z)return this.world.getAllBodies();Array.isArray(z)||(z=[z]);for(var U=[],Y=0;Y<z.length;Y++){var $=z[Y].hasOwnProperty("body")?z[Y].body:z[Y];U.push($)}return U},setVelocity:function(z,U,Y){z=this.getMatterBodies(z);var $=this._tempVec2;return $.x=U,$.y=Y,z.forEach(function(K){o.setVelocity(K,$)}),this},setVelocityX:function(z,U){z=this.getMatterBodies(z);var Y=this._tempVec2;return Y.x=U,z.forEach(function($){Y.y=$.velocity.y,o.setVelocity($,Y)}),this},setVelocityY:function(z,U){z=this.getMatterBodies(z);var Y=this._tempVec2;return Y.y=U,z.forEach(function($){Y.x=$.velocity.x,o.setVelocity($,Y)}),this},setAngularVelocity:function(z,U){return z=this.getMatterBodies(z),z.forEach(function(Y){o.setAngularVelocity(Y,U)}),this},applyForce:function(z,U){z=this.getMatterBodies(z);var Y=this._tempVec2;return z.forEach(function($){Y.x=$.position.x,Y.y=$.position.y,o.applyForce($,Y,U)}),this},applyForceFromPosition:function(z,U,Y,$){z=this.getMatterBodies(z);var K=this._tempVec2;return z.forEach(function(Z){$===void 0&&($=Z.angle),K.x=Y*Math.cos($),K.y=Y*Math.sin($),o.applyForce(Z,U,K)}),this},applyForceFromAngle:function(z,U,Y){z=this.getMatterBodies(z);var $=this._tempVec2;return z.forEach(function(K){Y===void 0&&(Y=K.angle),$.x=U*Math.cos(Y),$.y=U*Math.sin(Y),o.applyForce(K,{x:K.position.x,y:K.position.y},$)}),this},getConstraintLength:function(z){var U=z.pointA.x,Y=z.pointA.y,$=z.pointB.x,K=z.pointB.y;return z.bodyA&&(U+=z.bodyA.position.x,Y+=z.bodyA.position.y),z.bodyB&&($+=z.bodyB.position.x,K+=z.bodyB.position.y),y(U,Y,$,K)},alignBody:function(z,U,Y,$){z=z.hasOwnProperty("body")?z.body:z;var K;switch($){case u.TOP_LEFT:case u.LEFT_TOP:K=this.bodyBounds.getTopLeft(z,U,Y);break;case u.TOP_CENTER:K=this.bodyBounds.getTopCenter(z,U,Y);break;case u.TOP_RIGHT:case u.RIGHT_TOP:K=this.bodyBounds.getTopRight(z,U,Y);break;case u.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(z,U,Y);break;case u.CENTER:K=this.bodyBounds.getCenter(z,U,Y);break;case u.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(z,U,Y);break;case u.LEFT_BOTTOM:case u.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(z,U,Y);break;case u.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(z,U,Y);break;case u.BOTTOM_RIGHT:case u.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(z,U,Y);break}return K&&o.setPosition(z,K),this},shutdown:function(){var z=this.systems.events;this.world&&(z.off(k.UPDATE,this.world.update,this.world),z.off(k.POST_UPDATE,this.world.postUpdate,this.world)),z.off(k.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(k.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",G,"matterPhysics"),n.exports=G},34803:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9674),x=e(83419),d=e(31884),o=e(95643),a=e(95540),r=e(72699),l=e(68287),v=e(26099),h=new x({Extends:l,Mixins:[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity,r],initialize:function(p,g,m,y,S,M){o.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(y,S),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new v(g,m);var P=a(M,"shape",null);P?this.setBody(P,M):this.setRectangle(this.width,this.height,M),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=h},73834:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),x=e(22562),d=e(83419),o=e(31884),a=e(62644),r=e(50792),l=e(95540),v=e(97022),h=e(41598),c=new d({Extends:r,Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:function(g,m,y){r.call(this),this.tile=m,this.world=g,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var S=l(y,"body",null),M=l(y,"addToWorld",!0);if(S)this.setBody(S,M);else{var P=m.getCollisionGroup(),w=l(P,"objects",[]);w.length>0?this.setFromTileCollision(y):this.setFromTileRectangle(y)}if(m.flipX||m.flipY){var R={x:m.getCenterX(),y:m.getCenterY()},A=m.flipX?-1:1,L=m.flipY?-1:1;x.scale(S,A,L,R)}},setFromTileRectangle:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);var g=this.tile.getBounds(),m=g.x+g.width/2,y=g.y+g.height/2,S=u.rectangle(m,y,g.width,g.height,p);return this.setBody(S,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);for(var g=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,y=this.tile.getLeft(),S=this.tile.getTop(),M=this.tile.getCollisionGroup(),P=l(M,"objects",[]),w=[],R=0;R<P.length;R++){var A=P[R],L=y+A.x*g,F=S+A.y*m,O=A.width*g,b=A.height*m,B=null;if(A.rectangle)B=u.rectangle(L+O/2,F+b/2,O,b,p);else if(A.ellipse)B=u.circle(L+O/2,F+b/2,O/2,p);else if(A.polygon||A.polyline){var I=A.polygon?A.polygon:A.polyline,N=I.map(function(V){return{x:V.x*g,y:V.y*m}}),X=h.create(N),k=h.centre(X);L+=k.x,F+=k.y,B=u.fromVertices(L,F,X,p)}B&&w.push(B)}if(w.length===1)this.setBody(w[0],p.addToWorld);else if(w.length>1){var H=a(p);H.parts=w,this.setBody(x.create(H),H.addToWorld)}return this},setBody:function(p,g){return g===void 0&&(g=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,g&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});n.exports=c},19496:(n,C,e)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),x=e(22562),d=e(53402),o=e(95540),a=e(41598),r={parseBody:function(l,v,h,c){c===void 0&&(c={});for(var p=o(h,"fixtures",[]),g=[],m=0;m<p.length;m++)for(var y=this.parseFixture(p[m]),S=0;S<y.length;S++)g.push(y[S]);var M=d.clone(h,!0);d.extend(M,c,!0),delete M.fixtures,delete M.type;var P=x.create(M);return x.setParts(P,g),x.setPosition(P,{x:l,y:v}),P},parseFixture:function(l){var v=d.extend({},!1,l);delete v.circle,delete v.vertices;var h;if(l.circle){var c=o(l.circle,"x"),p=o(l.circle,"y"),g=o(l.circle,"radius");h=[u.circle(c,p,g,v)]}else l.vertices&&(h=this.parseVertices(l.vertices,v));return h},parseVertices:function(l,v){v===void 0&&(v={});for(var h=[],c=0;c<l.length;c++)a.clockwiseSort(l[c]),h.push(x.create(d.extend({position:a.centre(l[c]),vertices:l[c]},v)));return u.flagCoincidentParts(h)}};n.exports=r},85791:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),x=e(22562),d={parseBody:function(o,a,r,l){l===void 0&&(l={});var v,h=r.vertices;if(h.length===1)l.vertices=h[0],v=x.create(l),u.flagCoincidentParts(v.parts);else{for(var c=[],p=0;p<h.length;p++){var g=x.create({vertices:h[p]});c.push(g)}u.flagCoincidentParts(c),l.parts=c,v=x.create(l)}return v.label=r.label,x.setPosition(v,{x:o,y:a}),v}};n.exports=d},98713:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15647),x=e(83419),d=e(69351),o=e(48140),a=e(81388),r=e(1121),l=e(8214),v=e(46975),h=e(53614),c=e(26099),p=e(41598),g=new x({initialize:function(y,S,M){M===void 0&&(M={});var P={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=y,this.world=S,this.camera=null,this.pointer=null,this.active=!0,this.position=new c,this.body=null,this.part=null,this.constraint=o.create(v(M,P)),this.world.on(r.BEFORE_UPDATE,this.update,this),y.sys.input.on(l.POINTER_DOWN,this.onDown,this),y.sys.input.on(l.POINTER_UP,this.onUp,this)},onDown:function(m){this.pointer||(this.pointer=m,this.camera=m.camera)},onUp:function(m){m===this.pointer&&(this.pointer=null)},getBody:function(m){var y=this.position,S=this.constraint;this.camera.getWorldPoint(m.x,m.y,y);for(var M=d.allBodies(this.world.localWorld),P=0;P<M.length;P++){var w=M[P];if(!w.ignorePointer&&u.contains(w.bounds,y)&&a.canCollide(w.collisionFilter,S.collisionFilter)&&this.hitTestBody(w,y))return this.world.emit(r.DRAG_START,w,this.part,this),!0}return!1},hitTestBody:function(m,y){for(var S=this.constraint,M=m.parts.length,P=M>1?1:0,w=P;w<M;w++){var R=m.parts[w];if(p.contains(R.vertices,y))return S.pointA=y,S.pointB={x:y.x-m.position.x,y:y.y-m.position.y},S.bodyB=m,S.angleB=m.angle,h.set(m,!1),this.part=R,this.body=m,!0}return!1},update:function(){var m=this.pointer,y=this.body;if(!this.active||!m){y&&this.stopDrag();return}if(!m.isDown&&y){this.stopDrag();return}else if(m.isDown){if(!this.camera||!y&&!this.getBody(m))return;y=this.body;var S=this.position,M=this.constraint;this.camera.getWorldPoint(m.x,m.y,S),M.pointA.x=S.x,M.pointA.y=S.y,h.set(y,!1),this.world.emit(r.DRAG,y,this)}},stopDrag:function(){var m=this.body,y=this.constraint;y.bodyB=null,y.pointB=null,this.pointer=null,this.body=null,this.part=null,m&&this.world.emit(r.DRAG_END,m,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(r.BEFORE_UPDATE,this.update),this.scene.sys.input.off(l.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(l.POINTER_UP,this.onUp,this)}});n.exports=g},68243:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),x=e(22562),d=e(83419),o=e(53402),a=e(69351),r=e(48413),l=e(50792),v=e(1121),h=e(95540),c=e(35154),p=e(22562),g=e(35810),m=e(73834),y=e(4372),S=e(31725),M=new d({Extends:l,initialize:function(w,R){l.call(this),this.scene=w,this.engine=r.create(R),this.localWorld=this.engine.world;var A=c(R,"gravity",null);A?this.setGravity(A.x,A.y,A.scale):A===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=c(R,"enabled",!0),this.getDelta=c(R,"getDelta",this.update60Hz);var L=h(R,"runner",{}),F=h(L,"fps",!1),O=h(L,"fps",60),b=h(L,"delta",1e3/O),B=h(L,"deltaMin",1e3/O),I=h(L,"deltaMax",1e3/(O*.5));F||(O=1e3/b),this.runner={fps:O,deltaSampleSize:h(L,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:h(L,"isFixed",!1),delta:b,deltaMin:B,deltaMax:I},this.autoUpdate=c(R,"autoUpdate",!0);var N=c(R,"debug",!1);if(this.drawDebug=typeof N=="object"?!0:N,this.debugGraphic,this.debugConfig={showAxes:h(N,"showAxes",!1),showAngleIndicator:h(N,"showAngleIndicator",!1),angleColor:h(N,"angleColor",15208787),showBroadphase:h(N,"showBroadphase",!1),broadphaseColor:h(N,"broadphaseColor",16757760),showBounds:h(N,"showBounds",!1),boundsColor:h(N,"boundsColor",16777215),showVelocity:h(N,"showVelocity",!1),velocityColor:h(N,"velocityColor",44783),showCollisions:h(N,"showCollisions",!1),collisionColor:h(N,"collisionColor",16094476),showSeparations:h(N,"showSeparations",!1),separationColor:h(N,"separationColor",16753920),showBody:h(N,"showBody",!0),showStaticBody:h(N,"showStaticBody",!0),showInternalEdges:h(N,"showInternalEdges",!1),renderFill:h(N,"renderFill",!1),renderLine:h(N,"renderLine",!0),fillColor:h(N,"fillColor",1075465),fillOpacity:h(N,"fillOpacity",1),lineColor:h(N,"lineColor",2678297),lineOpacity:h(N,"lineOpacity",1),lineThickness:h(N,"lineThickness",1),staticFillColor:h(N,"staticFillColor",857979),staticLineColor:h(N,"staticLineColor",1255396),showSleeping:h(N,"showSleeping",!1),staticBodySleepOpacity:h(N,"staticBodySleepOpacity",.7),sleepFillColor:h(N,"sleepFillColor",4605510),sleepLineColor:h(N,"sleepLineColor",10066585),showSensors:h(N,"showSensors",!0),sensorFillColor:h(N,"sensorFillColor",857979),sensorLineColor:h(N,"sensorLineColor",1255396),showPositions:h(N,"showPositions",!0),positionSize:h(N,"positionSize",4),positionColor:h(N,"positionColor",14697178),showJoint:h(N,"showJoint",!0),jointColor:h(N,"jointColor",14737474),jointLineOpacity:h(N,"jointLineOpacity",1),jointLineThickness:h(N,"jointLineThickness",2),pinSize:h(N,"pinSize",4),pinColor:h(N,"pinColor",4382944),springColor:h(N,"springColor",14697184),anchorColor:h(N,"anchorColor",15724527),anchorSize:h(N,"anchorSize",4),showConvexHulls:h(N,"showConvexHulls",!1),hullColor:h(N,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),h(R,"setBounds",!1)){var X=R.setBounds;if(typeof X=="boolean")this.setBounds();else{var k=h(X,"x",0),H=h(X,"y",0),V=h(X,"width",w.sys.scale.width),W=h(X,"height",w.sys.scale.height),D=h(X,"thickness",64),G=h(X,"left",!0),z=h(X,"right",!0),U=h(X,"top",!0),Y=h(X,"bottom",!0);this.setBounds(k,H,V,W,D,G,z,U,Y)}}},setCompositeRenderStyle:function(P){var w=P.bodies,R=P.constraints,A=P.composites,L,F,O;for(L=0;L<w.length;L++)F=w[L],O=F.render,this.setBodyRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity);for(L=0;L<R.length;L++)F=R[L],O=F.render,this.setConstraintRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize);for(L=0;L<A.length;L++)F=A[L],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(P,w,R,A,L,F){var O=P.render,b=this.debugConfig;return O?(w==null&&(w=P.isStatic?b.staticLineColor:b.lineColor),R==null&&(R=b.lineOpacity),A==null&&(A=b.lineThickness),L==null&&(L=P.isStatic?b.staticFillColor:b.fillColor),F==null&&(F=b.fillOpacity),w!==!1&&(O.lineColor=w),R!==!1&&(O.lineOpacity=R),A!==!1&&(O.lineThickness=A),L!==!1&&(O.fillColor=L),F!==!1&&(O.fillOpacity=F),this):this},setConstraintRenderStyle:function(P,w,R,A,L,F,O){var b=P.render,B=this.debugConfig;if(!b)return this;if(w==null){var I=b.type;I==="line"?w=B.jointColor:I==="pin"?w=B.pinColor:I==="spring"&&(w=B.springColor)}return R==null&&(R=B.jointLineOpacity),A==null&&(A=B.jointLineThickness),L==null&&(L=B.pinSize),F==null&&(F=B.anchorColor),O==null&&(O=B.anchorSize),w!==!1&&(b.lineColor=w),R!==!1&&(b.lineOpacity=R),A!==!1&&(b.lineThickness=A),L!==!1&&(b.pinSize=L),F!==!1&&(b.anchorColor=F),O!==!1&&(b.anchorSize=O),this},setEventsProxy:function(){var P=this,w=this.engine,R=this.localWorld;this.drawDebug&&(g.on(R,"compositeModified",function(A){P.setCompositeRenderStyle(A)}),g.on(R,"beforeAdd",function(A){for(var L=[].concat(A.object),F=0;F<L.length;F++){var O=L[F],b=O.render;O.type==="body"?P.setBodyRenderStyle(O,b.lineColor,b.lineOpacity,b.lineThickness,b.fillColor,b.fillOpacity):O.type==="composite"?P.setCompositeRenderStyle(O):O.type==="constraint"&&P.setConstraintRenderStyle(O,b.lineColor,b.lineOpacity,b.lineThickness,b.pinSize,b.anchorColor,b.anchorSize)}})),g.on(R,"beforeAdd",function(A){P.emit(v.BEFORE_ADD,A)}),g.on(R,"afterAdd",function(A){P.emit(v.AFTER_ADD,A)}),g.on(R,"beforeRemove",function(A){P.emit(v.BEFORE_REMOVE,A)}),g.on(R,"afterRemove",function(A){P.emit(v.AFTER_REMOVE,A)}),g.on(w,"beforeUpdate",function(A){P.emit(v.BEFORE_UPDATE,A)}),g.on(w,"afterUpdate",function(A){P.emit(v.AFTER_UPDATE,A)}),g.on(w,"collisionStart",function(A){var L=A.pairs,F,O;L.length>0&&(F=L[0].bodyA,O=L[0].bodyB),P.emit(v.COLLISION_START,A,F,O)}),g.on(w,"collisionActive",function(A){var L=A.pairs,F,O;L.length>0&&(F=L[0].bodyA,O=L[0].bodyB),P.emit(v.COLLISION_ACTIVE,A,F,O)}),g.on(w,"collisionEnd",function(A){var L=A.pairs,F,O;L.length>0&&(F=L[0].bodyA,O=L[0].bodyB),P.emit(v.COLLISION_END,A,F,O)})},setBounds:function(P,w,R,A,L,F,O,b,B){return P===void 0&&(P=0),w===void 0&&(w=0),R===void 0&&(R=this.scene.sys.scale.width),A===void 0&&(A=this.scene.sys.scale.height),L===void 0&&(L=64),F===void 0&&(F=!0),O===void 0&&(O=!0),b===void 0&&(b=!0),B===void 0&&(B=!0),this.updateWall(F,"left",P-L,w-L,L,A+L*2),this.updateWall(O,"right",P+R,w-L,L,A+L*2),this.updateWall(b,"top",P,w-L,R,L),this.updateWall(B,"bottom",P,w+A,R,L),this},updateWall:function(P,w,R,A,L,F){var O=this.walls[w];P?(O&&y.remove(this.localWorld,O),R+=L/2,A+=F/2,this.walls[w]=this.create(R,A,L,F,{isStatic:!0,friction:0,frictionStatic:0})):(O&&y.remove(this.localWorld,O),this.walls[w]=null)},createDebugGraphic:function(){var P=this.scene.sys.add.graphics({x:0,y:0});return P.setDepth(Number.MAX_VALUE),this.debugGraphic=P,this.drawDebug=!0,P},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(P,w,R){return P===void 0&&(P=0),w===void 0&&(w=1),R===void 0&&(R=.001),this.localWorld.gravity.x=P,this.localWorld.gravity.y=w,this.localWorld.gravity.scale=R,this},create:function(P,w,R,A,L){var F=u.rectangle(P,w,R,A,L);return y.add(this.localWorld,F),F},add:function(P){return y.add(this.localWorld,P),this},remove:function(P,w){Array.isArray(P)||(P=[P]);for(var R=0;R<P.length;R++){var A=P[R],L=A.body?A.body:A;a.remove(this.localWorld,L,w)}return this},removeConstraint:function(P,w){return a.remove(this.localWorld,P,w),this},convertTilemapLayer:function(P,w){var R=P.layer,A=P.getTilesWithin(0,0,R.width,R.height,{isColliding:!0});return this.convertTiles(A,w),this},convertTiles:function(P,w){if(P.length===0)return this;for(var R=0;R<P.length;R++)new m(this,P[R],w);return this},nextGroup:function(P){return p.nextGroup(P)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(v.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(v.RESUME),this},update:function(P,w){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,A=this.runner,L=R.timing;A.isFixed?w=this.getDelta(P,w):(w=P-A.timePrev||A.delta,A.timePrev=P,A.deltaHistory.push(w),A.deltaHistory=A.deltaHistory.slice(-A.deltaSampleSize),w=Math.min.apply(null,A.deltaHistory),w=w<A.deltaMin?A.deltaMin:w,w=w>A.deltaMax?A.deltaMax:w,A.delta=w),A.timeScalePrev=L.timeScale,A.frameCounter+=1,P-A.counterTimestamp>=1e3&&(A.fps=A.frameCounter*((P-A.counterTimestamp)/1e3),A.counterTimestamp=P,A.frameCounter=0),r.update(R,w)}},step:function(P){r.update(this.engine,P)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(P){var w=P.hasOwnProperty("body")?P.body:P;return a.get(this.localWorld,w.id,w.type)!==null},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(!!this.drawDebug){var P=this.debugConfig,w=this.engine,R=this.debugGraphic,A=a.allBodies(this.localWorld);this.debugGraphic.clear(),P.showBroadphase&&w.broadphase.controller&&this.renderGrid(w.broadphase,R,P.broadphaseColor,.5),P.showBounds&&this.renderBodyBounds(A,R,P.boundsColor,.5),(P.showBody||P.showStaticBody)&&this.renderBodies(A),P.showJoint&&this.renderJoints(),(P.showAxes||P.showAngleIndicator)&&this.renderBodyAxes(A,R,P.showAxes,P.angleColor,.5),P.showVelocity&&this.renderBodyVelocity(A,R,P.velocityColor,1,2),P.showSeparations&&this.renderSeparations(w.pairs.list,R,P.separationColor),P.showCollisions&&this.renderCollisions(w.pairs.list,R,P.collisionColor)}},renderGrid:function(P,w,R,A){w.lineStyle(1,R,A);for(var L=o.keys(P.buckets),F=0;F<L.length;F++){var O=L[F];if(!(P.buckets[O].length<2)){var b=O.split(/C|R/);w.strokeRect(parseInt(b[1],10)*P.bucketWidth,parseInt(b[2],10)*P.bucketHeight,P.bucketWidth,P.bucketHeight)}}return this},renderSeparations:function(P,w,R){w.lineStyle(1,R,1);for(var A=0;A<P.length;A++){var L=P[A];if(!!L.isActive){var F=L.collision,O=F.bodyA,b=F.bodyB,B=O.position,I=b.position,N=F.penetration,X=!O.isStatic&&!b.isStatic?4:1;b.isStatic&&(X=0),w.lineBetween(I.x,I.y,I.x-N.x*X,I.y-N.y*X),X=!O.isStatic&&!b.isStatic?4:1,O.isStatic&&(X=0),w.lineBetween(B.x,B.y,B.x-N.x*X,B.y-N.y*X)}}return this},renderCollisions:function(P,w,R){w.lineStyle(1,R,.5),w.fillStyle(R,1);var A,L;for(A=0;A<P.length;A++)if(L=P[A],!!L.isActive)for(var F=0;F<L.activeContacts.length;F++){var O=L.activeContacts[F],b=O.vertex;w.fillRect(b.x-2,b.y-2,5,5)}for(A=0;A<P.length;A++)if(L=P[A],!!L.isActive){var B=L.collision,I=L.activeContacts;if(I.length>0){var N=I[0].vertex.x,X=I[0].vertex.y;I.length===2&&(N=(I[0].vertex.x+I[1].vertex.x)/2,X=(I[0].vertex.y+I[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?w.lineBetween(N-B.normal.x*8,X-B.normal.y*8,N,X):w.lineBetween(N+B.normal.x*8,X+B.normal.y*8,N,X)}}return this},renderBodyBounds:function(P,w,R,A){w.lineStyle(1,R,A);for(var L=0;L<P.length;L++){var F=P[L];if(!!F.render.visible){var O=F.bounds;if(O)w.strokeRect(O.min.x,O.min.y,O.max.x-O.min.x,O.max.y-O.min.y);else for(var b=F.parts,B=b.length>1?1:0;B<b.length;B++){var I=b[B];w.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(P,w,R,A,L){w.lineStyle(1,A,L);for(var F=0;F<P.length;F++){var O=P[F],b=O.parts;if(!!O.render.visible){var B,I,N;if(R)for(I=b.length>1?1:0;I<b.length;I++)for(B=b[I],N=0;N<B.axes.length;N++){var X=B.axes[N];w.lineBetween(B.position.x,B.position.y,B.position.x+X.x*20,B.position.y+X.y*20)}else for(I=b.length>1?1:0;I<b.length;I++)for(B=b[I],N=0;N<B.axes.length;N++)w.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(P,w,R,A,L){w.lineStyle(L,R,A);for(var F=0;F<P.length;F++){var O=P[F];!O.render.visible||w.lineBetween(O.position.x,O.position.y,O.position.x+(O.position.x-O.positionPrev.x)*2,O.position.y+(O.position.y-O.positionPrev.y)*2)}return this},renderBodies:function(P){for(var w=this.debugGraphic,R=this.debugConfig,A=R.showBody,L=R.showStaticBody,F=R.showSleeping,O=R.showInternalEdges,b=R.showConvexHulls,B=R.renderFill,I=R.renderLine,N=R.staticBodySleepOpacity,X=R.sleepFillColor,k=R.sleepLineColor,H=R.hullColor,V=0;V<P.length;V++){var W=P[V];if(!!W.render.visible&&!(!L&&W.isStatic||!A&&!W.isStatic)){var D=W.render.lineColor,G=W.render.lineOpacity,z=W.render.lineThickness,U=W.render.fillColor,Y=W.render.fillOpacity;F&&W.isSleeping&&(W.isStatic?(G*=N,Y*=N):(D=k,U=X)),B||(U=null),I||(D=null),this.renderBody(W,w,O,D,G,z,U,Y);var $=W.parts.length;b&&$>1&&this.renderConvexHull(W,w,H,z)}}},renderBody:function(P,w,R,A,L,F,O,b){A===void 0&&(A=null),L===void 0&&(L=null),F===void 0&&(F=1),O===void 0&&(O=null),b===void 0&&(b=null);for(var B=this.debugConfig,I=B.sensorFillColor,N=B.sensorLineColor,X=P.parts,k=X.length,H=k>1?1:0;H<k;H++){var V=X[H],W=V.render,D=W.opacity;if(!(!W.visible||D===0||V.isSensor&&!B.showSensors)){var G=V.circleRadius;if(w.beginPath(),V.isSensor?(O!==null&&w.fillStyle(I,b*D),A!==null&&w.lineStyle(F,N,L*D)):(O!==null&&w.fillStyle(O,b*D),A!==null&&w.lineStyle(F,A,L*D)),G)w.arc(V.position.x,V.position.y,G,0,2*Math.PI);else{var z=V.vertices,U=z.length;w.moveTo(z[0].x,z[0].y);for(var Y=1;Y<U;Y++){var $=z[Y];if(!z[Y-1].isInternal||R?w.lineTo($.x,$.y):w.moveTo($.x,$.y),Y<U&&$.isInternal&&!R){var K=(Y+1)%U;w.moveTo(z[K].x,z[K].y)}}w.closePath()}O!==null&&w.fillPath(),A!==null&&w.strokePath()}}if(B.showPositions&&!P.isStatic){var Z=P.position.x,J=P.position.y,Q=Math.ceil(B.positionSize/2);w.fillStyle(B.positionColor,1),w.fillRect(Z-Q,J-Q,B.positionSize,B.positionSize)}return this},renderConvexHull:function(P,w,R,A){A===void 0&&(A=1);var L=P.parts,F=L.length;if(F>1){var O=P.vertices;w.lineStyle(A,R),w.beginPath(),w.moveTo(O[0].x,O[0].y);for(var b=1;b<O.length;b++)w.lineTo(O[b].x,O[b].y);w.lineTo(O[0].x,O[0].y),w.strokePath()}return this},renderJoints:function(){for(var P=this.debugGraphic,w=a.allConstraints(this.localWorld),R=0;R<w.length;R++){var A=w[R].render,L=A.lineColor,F=A.lineOpacity,O=A.lineThickness,b=A.pinSize,B=A.anchorColor,I=A.anchorSize;this.renderConstraint(w[R],P,L,F,O,b,B,I)}},renderConstraint:function(P,w,R,A,L,F,O,b){var B=P.render;if(!B.visible||!P.pointA||!P.pointB)return this;w.lineStyle(L,R,A);var I=P.bodyA,N=P.bodyB,X,k;if(I?X=S.add(I.position,P.pointA):X=P.pointA,B.type==="pin")w.strokeCircle(X.x,X.y,F);else{if(N?k=S.add(N.position,P.pointB):k=P.pointB,w.beginPath(),w.moveTo(X.x,X.y),B.type==="spring")for(var H=S.sub(k,X),V=S.perp(S.normalise(H)),W=Math.ceil(o.clamp(P.length/5,12,20)),D,G=1;G<W;G+=1)D=G%2===0?1:-1,w.lineTo(X.x+H.x*(G/W)+V.x*D*4,X.y+H.y*(G/W)+V.y*D*4);w.lineTo(k.x,k.y)}return w.strokePath(),B.anchors&&b>0&&(w.fillStyle(O),w.fillCircle(X.x,X.y,b),w.fillCircle(k.x,k.y,b)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){g.off(this.engine),this.removeAllListeners(),y.clear(this.localWorld,!1),r.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});n.exports=M},70410:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:function(e){return this.body.restitution=e,this}};n.exports=C},66968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var u=0;if(!Array.isArray(e))u=e;else for(var x=0;x<e.length;x++)u|=e[x];return this.body.collisionFilter.mask=u,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,u){Array.isArray(e)||(e=[e]);for(var x=0;x<e.length;x++){var d=e[x].hasOwnProperty("body")?e[x].body:e[x];this.body.setOnCollideWith(d,u)}return this}};n.exports=C},51607:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),x={applyForce:function(d){return this._tempVec2.set(this.body.position.x,this.body.position.y),u.applyForce(this.body,this._tempVec2,d),this},applyForceFrom:function(d,o){return u.applyForce(this.body,d,o),this},thrust:function(d){var o=this.body.angle;return this._tempVec2.set(d*Math.cos(o),d*Math.sin(o)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(d){var o=this.body.angle-Math.PI/2;return this._tempVec2.set(d*Math.cos(o),d*Math.sin(o)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(d){var o=this.body.angle+Math.PI/2;return this._tempVec2.set(d*Math.cos(o),d*Math.sin(o)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(d){var o=this.body.angle-Math.PI;return this._tempVec2.set(d*Math.cos(o),d*Math.sin(o)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};n.exports=x},5436:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:function(e,u,x){return this.body.friction=e,u!==void 0&&(this.body.frictionAir=u),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};n.exports=C},39858:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};n.exports=C},37302:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),x=e(26099),d={setMass:function(o){return u.setMass(this.body,o),this},setDensity:function(o){return u.setDensity(this.body,o),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};n.exports=d},39132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};n.exports=C},57772:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66280),x=e(22562),d=e(43855),o=e(95540),a=e(19496),r=e(85791),l=e(41598),v={setRectangle:function(h,c,p){return this.setBody({type:"rectangle",width:h,height:c},p)},setCircle:function(h,c){return this.setBody({type:"circle",radius:h},c)},setPolygon:function(h,c,p){return this.setBody({type:"polygon",sides:c,radius:h},p)},setTrapezoid:function(h,c,p,g){return this.setBody({type:"trapezoid",width:h,height:c,slope:p},g)},setExistingBody:function(h,c){c===void 0&&(c=!0),this.body&&this.world.remove(this.body,!0),this.body=h;for(var p=0;p<h.parts.length;p++)h.parts[p].gameObject=this;var g=this;if(h.destroy=function(){g.world.remove(g.body,!0),g.body.gameObject=null},c&&(this.world.has(h)&&this.world.remove(h,!0),this.world.add(h)),this._originComponent){var m=h.render.sprite.xOffset,y=h.render.sprite.yOffset,S=h.centerOfMass.x,M=h.centerOfMass.y;if(d(S,.5)&&d(M,.5))this.setOrigin(m+.5,y+.5);else{var P=h.centerOffset.x,w=h.centerOffset.y;this.setOrigin(m+P/this.displayWidth,y+w/this.displayHeight)}}return this},setBody:function(h,c){if(!h)return this;var p;typeof h=="string"&&(h={type:h});var g=o(h,"type","rectangle"),m=o(h,"x",this._tempVec2.x),y=o(h,"y",this._tempVec2.y),S=o(h,"width",this.width),M=o(h,"height",this.height);switch(g){case"rectangle":p=u.rectangle(m,y,S,M,c);break;case"circle":var P=o(h,"radius",Math.max(S,M)/2),w=o(h,"maxSides",25);p=u.circle(m,y,P,c,w);break;case"trapezoid":var R=o(h,"slope",.5);p=u.trapezoid(m,y,S,M,R,c);break;case"polygon":var A=o(h,"sides",5),L=o(h,"radius",Math.max(S,M)/2);p=u.polygon(m,y,A,L,c);break;case"fromVertices":case"fromVerts":var F=o(h,"verts",null);if(F)if(typeof F=="string"&&(F=l.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,F),p=this.body;else{var O=o(h,"flagInternal",!1),b=o(h,"removeCollinear",.01),B=o(h,"minimumArea",10);p=u.fromVertices(m,y,F,c,O,b,B)}break;case"fromPhysicsEditor":p=a.parseBody(m,y,h,c);break;case"fromPhysicsTracer":p=r.parseBody(m,y,h,c);break}return p&&this.setExistingBody(p,h.addToWorld),this}};n.exports=v},38083:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1121),x=e(53614),d=e(35810),o={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(a){return a===void 0&&(a=60),this.body.sleepThreshold=a,this},setSleepEvents:function(a,r){return this.setSleepStartEvent(a),this.setSleepEndEvent(r),this},setSleepStartEvent:function(a){if(a){var r=this.world;d.on(this.body,"sleepStart",function(l){r.emit(u.SLEEP_START,l,this)})}else d.off(this.body,"sleepStart");return this},setSleepEndEvent:function(a){if(a){var r=this.world;d.on(this.body,"sleepEnd",function(l){r.emit(u.SLEEP_END,l,this)})}else d.off(this.body,"sleepEnd");return this}};n.exports=o},90556:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),x={setStatic:function(d){return u.setStatic(this.body,d),this},isStatic:function(){return this.body.isStatic}};n.exports=x},85436:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),x=e(36383),d=e(86554),o=e(30954),a=4,r={x:{get:function(){return this.body.position.x},set:function(l){this._tempVec2.set(l,this.y),u.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(l){this._tempVec2.set(this.x,l),u.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(l){var v=1/this._scaleX,h=1/this._scaleY;this._scaleX=l,this._scaleX===0?this.renderFlags&=~a:this.renderFlags|=a,u.scale(this.body,v,h),u.scale(this.body,l,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(l){var v=1/this._scaleX,h=1/this._scaleY;this._scaleY=l,this._scaleY===0?this.renderFlags&=~a:this.renderFlags|=a,u.scale(this.body,v,h),u.scale(this.body,this._scaleX,l)}},angle:{get:function(){return o(this.body.angle*x.RAD_TO_DEG)},set:function(l){this.rotation=o(l)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(l){this._rotation=d(l),u.setAngle(this.body,this._rotation)}},setPosition:function(l,v){return l===void 0&&(l=0),v===void 0&&(v=l),this._tempVec2.set(l,v),u.setPosition(this.body,this._tempVec2),this},setRotation:function(l){return l===void 0&&(l=0),this._rotation=d(l),u.setAngle(this.body,l),this},setFixedRotation:function(){return u.setInertia(this.body,1/0),this},setAngle:function(l){return l===void 0&&(l=0),this.angle=l,u.setAngle(this.body,this.rotation),this},setScale:function(l,v,h){l===void 0&&(l=1),v===void 0&&(v=l);var c=1/this._scaleX,p=1/this._scaleY;return this._scaleX=l,this._scaleY=v,u.scale(this.body,c,p,h),u.scale(this.body,l,v,h),this}};n.exports=r},42081:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22562),x={setVelocityX:function(d){return this._tempVec2.set(d,this.body.velocity.y),u.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(d){return this._tempVec2.set(this.body.velocity.x,d),u.setVelocity(this.body,this._tempVec2),this},setVelocity:function(d,o){return this._tempVec2.set(d,o),u.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return u.getVelocity(this.body)},setAngularVelocity:function(d){return u.setAngularVelocity(this.body,d),this},getAngularVelocity:function(){return u.getAngularVelocity(this.body)},setAngularSpeed:function(d){return u.setAngularSpeed(this.body,d),this},getAngularSpeed:function(){return u.getAngularSpeed(this.body)}};n.exports=x},31884:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:e(70410),Collision:e(66968),Force:e(51607),Friction:e(5436),Gravity:e(39858),Mass:e(37302),Sensor:e(39132),SetBody:e(57772),Sleep:e(38083),Static:e(90556),Transform:e(85436),Velocity:e(42081)}},85608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"},1213:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"},25968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"},67205:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"},39438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"},44823:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"},92593:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"},60128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"},76861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"},92362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},76408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},93971:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},5656:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},47861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},79099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"},35906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"},1121:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:e(85608),AFTER_REMOVE:e(1213),AFTER_UPDATE:e(25968),BEFORE_ADD:e(67205),BEFORE_REMOVE:e(39438),BEFORE_UPDATE:e(44823),COLLISION_ACTIVE:e(92593),COLLISION_END:e(60128),COLLISION_START:e(76861),DRAG_END:e(92362),DRAG:e(76408),DRAG_START:e(93971),PAUSE:e(5656),RESUME:e(47861),SLEEP_END:e(79099),SLEEP_START:e(35906)}},3875:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:e(68174),Components:e(31884),Events:e(1121),Factory:e(28137),MatterGameObject:e(75803),Image:e(23181),Matter:e(19933),MatterPhysics:e(42045),PolyDecomp:e(55973),Sprite:e(34803),TileBody:e(73834),PhysicsEditorParser:e(19496),PhysicsJSONParser:e(85791),PointerConstraint:e(98713),World:e(68243)}},22562:(n,C,e)=>{var u={};n.exports=u;var x=e(41598),d=e(31725),o=e(53614),a=e(53402),r=e(15647),l=e(66615);(function(){u._timeCorrection=!0,u._inertiaScale=4,u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,u._baseDelta=16.666666666666668,u.create=function(h){var c={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!h.hasOwnProperty("position")&&h.hasOwnProperty("vertices")?h.position=x.centre(h.vertices):h.hasOwnProperty("vertices")||(c.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=a.extend(c,h);return v(p,h),p.setOnCollideWith=function(g,m){return m?this.onCollideWith[g.id]=m:delete this.onCollideWith[g.id],this},p},u.nextGroup=function(h){return h?u._nextNonCollidingGroupId--:u._nextCollidingGroupId++},u.nextCategory=function(){return u._nextCategory=u._nextCategory<<1,u._nextCategory};var v=function(h,c){if(c=c||{},u.set(h,{bounds:h.bounds||r.create(h.vertices),positionPrev:h.positionPrev||d.clone(h.position),anglePrev:h.anglePrev||h.angle,vertices:h.vertices,parts:h.parts||[h],isStatic:h.isStatic,isSleeping:h.isSleeping,parent:h.parent||h}),x.rotate(h.vertices,h.angle,h.position),l.rotate(h.axes,h.angle),r.update(h.bounds,h.vertices,h.velocity),u.set(h,{axes:c.axes||h.axes,area:c.area||h.area,mass:c.mass||h.mass,inertia:c.inertia||h.inertia}),h.parts.length===1){var p=h.bounds,g=h.centerOfMass,m=h.centerOffset,y=p.max.x-p.min.x,S=p.max.y-p.min.y;g.x=-(p.min.x-h.position.x)/y,g.y=-(p.min.y-h.position.y)/S,m.x=y*g.x,m.y=S*g.y}};u.set=function(h,c,p){var g;typeof c=="string"&&(g=c,c={},c[g]=p);for(g in c)if(!!Object.prototype.hasOwnProperty.call(c,g))switch(p=c[g],g){case"isStatic":u.setStatic(h,p);break;case"isSleeping":o.set(h,p);break;case"mass":u.setMass(h,p);break;case"density":u.setDensity(h,p);break;case"inertia":u.setInertia(h,p);break;case"vertices":u.setVertices(h,p);break;case"position":u.setPosition(h,p);break;case"angle":u.setAngle(h,p);break;case"velocity":u.setVelocity(h,p);break;case"angularVelocity":u.setAngularVelocity(h,p);break;case"speed":u.setSpeed(h,p);break;case"angularSpeed":u.setAngularSpeed(h,p);break;case"parts":u.setParts(h,p);break;case"centre":u.setCentre(h,p);break;default:h[g]=p}},u.setStatic=function(h,c){for(var p=0;p<h.parts.length;p++){var g=h.parts[p];c?(g.isStatic||(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia}),g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=1/0,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null),g.isStatic=c}},u.setMass=function(h,c){var p=h.inertia/(h.mass/6);h.inertia=p*(c/6),h.inverseInertia=1/h.inertia,h.mass=c,h.inverseMass=1/h.mass,h.density=h.mass/h.area},u.setDensity=function(h,c){u.setMass(h,c*h.area),h.density=c},u.setInertia=function(h,c){h.inertia=c,h.inverseInertia=1/h.inertia},u.setVertices=function(h,c){c[0].body===h?h.vertices=c:h.vertices=x.create(c,h),h.axes=l.fromVertices(h.vertices),h.area=x.area(h.vertices),u.setMass(h,h.density*h.area);var p=x.centre(h.vertices);x.translate(h.vertices,p,-1),u.setInertia(h,u._inertiaScale*x.inertia(h.vertices,h.mass)),x.translate(h.vertices,h.position),r.update(h.bounds,h.vertices,h.velocity)},u.setParts=function(h,c,p){var g;for(c=c.slice(0),h.parts.length=0,h.parts.push(h),h.parent=h,g=0;g<c.length;g++){var m=c[g];m!==h&&(m.parent=h,h.parts.push(m))}if(h.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var y=[];for(g=0;g<c.length;g++)y=y.concat(c[g].vertices);x.clockwiseSort(y);var S=x.hull(y),M=x.centre(S);u.setVertices(h,S),x.translate(h.vertices,M)}var P=u._totalProperties(h),w=P.centre.x,R=P.centre.y,A=h.bounds,L=h.centerOfMass,F=h.centerOffset;r.update(A,h.vertices,h.velocity),L.x=-(A.min.x-w)/(A.max.x-A.min.x),L.y=-(A.min.y-R)/(A.max.y-A.min.y),F.x=w,F.y=R,h.area=P.area,h.parent=h,h.position.x=w,h.position.y=R,h.positionPrev.x=w,h.positionPrev.y=R,u.setMass(h,P.mass),u.setInertia(h,P.inertia),u.setPosition(h,P.centre)}},u.setCentre=function(h,c,p){p?(h.positionPrev.x+=c.x,h.positionPrev.y+=c.y,h.position.x+=c.x,h.position.y+=c.y):(h.positionPrev.x=c.x-(h.position.x-h.positionPrev.x),h.positionPrev.y=c.y-(h.position.y-h.positionPrev.y),h.position.x=c.x,h.position.y=c.y)},u.setPosition=function(h,c,p){var g=d.sub(c,h.position);p?(h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.velocity.x=g.x,h.velocity.y=g.y,h.speed=d.magnitude(g)):(h.positionPrev.x+=g.x,h.positionPrev.y+=g.y);for(var m=0;m<h.parts.length;m++){var y=h.parts[m];y.position.x+=g.x,y.position.y+=g.y,x.translate(y.vertices,g),r.update(y.bounds,y.vertices,h.velocity)}},u.setAngle=function(h,c,p){var g=c-h.angle;p?(h.anglePrev=h.angle,h.angularVelocity=g,h.angularSpeed=Math.abs(g)):h.anglePrev+=g;for(var m=0;m<h.parts.length;m++){var y=h.parts[m];y.angle+=g,x.rotate(y.vertices,g,h.position),l.rotate(y.axes,g),r.update(y.bounds,y.vertices,h.velocity),m>0&&d.rotateAbout(y.position,g,h.position,y.position)}},u.setVelocity=function(h,c){var p=h.deltaTime/u._baseDelta;h.positionPrev.x=h.position.x-c.x*p,h.positionPrev.y=h.position.y-c.y*p,h.velocity.x=(h.position.x-h.positionPrev.x)/p,h.velocity.y=(h.position.y-h.positionPrev.y)/p,h.speed=d.magnitude(h.velocity)},u.getVelocity=function(h){var c=u._baseDelta/h.deltaTime;return{x:(h.position.x-h.positionPrev.x)*c,y:(h.position.y-h.positionPrev.y)*c}},u.getSpeed=function(h){return d.magnitude(u.getVelocity(h))},u.setSpeed=function(h,c){u.setVelocity(h,d.mult(d.normalise(u.getVelocity(h)),c))},u.setAngularVelocity=function(h,c){var p=h.deltaTime/u._baseDelta;h.anglePrev=h.angle-c*p,h.angularVelocity=(h.angle-h.anglePrev)/p,h.angularSpeed=Math.abs(h.angularVelocity)},u.getAngularVelocity=function(h){return(h.angle-h.anglePrev)*u._baseDelta/h.deltaTime},u.getAngularSpeed=function(h){return Math.abs(u.getAngularVelocity(h))},u.setAngularSpeed=function(h,c){u.setAngularVelocity(h,a.sign(u.getAngularVelocity(h))*c)},u.translate=function(h,c,p){u.setPosition(h,d.add(h.position,c),p)},u.rotate=function(h,c,p,g){if(!p)u.setAngle(h,h.angle+c,g);else{var m=Math.cos(c),y=Math.sin(c),S=h.position.x-p.x,M=h.position.y-p.y;u.setPosition(h,{x:p.x+(S*m-M*y),y:p.y+(S*y+M*m)},g),u.setAngle(h,h.angle+c,g)}},u.scale=function(h,c,p,g){var m=0,y=0;g=g||h.position;for(var S=h.inertia===1/0,M=0;M<h.parts.length;M++){var P=h.parts[M];P.scale.x=c,P.scale.y=p,x.scale(P.vertices,c,p,g),P.axes=l.fromVertices(P.vertices),P.area=x.area(P.vertices),u.setMass(P,h.density*P.area),x.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),u.setInertia(P,u._inertiaScale*x.inertia(P.vertices,P.mass)),x.translate(P.vertices,{x:P.position.x,y:P.position.y}),M>0&&(m+=P.area,y+=P.inertia),P.position.x=g.x+(P.position.x-g.x)*c,P.position.y=g.y+(P.position.y-g.y)*p,r.update(P.bounds,P.vertices,h.velocity)}h.parts.length>1&&(h.area=m,h.isStatic||(u.setMass(h,h.density*m),u.setInertia(h,y))),h.circleRadius&&(c===p?h.circleRadius*=c:h.circleRadius=null),S&&u.setInertia(h,1/0)},u.update=function(h,c){c=(typeof c<"u"?c:16.666666666666668)*h.timeScale;var p=c*c,g=u._timeCorrection?c/(h.deltaTime||c):1,m=1-h.frictionAir*(c/a._baseDelta),y=(h.position.x-h.positionPrev.x)*g,S=(h.position.y-h.positionPrev.y)*g;h.velocity.x=y*m+h.force.x/h.mass*p,h.velocity.y=S*m+h.force.y/h.mass*p,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.position.x+=h.velocity.x,h.position.y+=h.velocity.y,h.deltaTime=c,h.angularVelocity=(h.angle-h.anglePrev)*m*g+h.torque/h.inertia*p,h.anglePrev=h.angle,h.angle+=h.angularVelocity,h.speed=d.magnitude(h.velocity),h.angularSpeed=Math.abs(h.angularVelocity);for(var M=0;M<h.parts.length;M++){var P=h.parts[M];x.translate(P.vertices,h.velocity),M>0&&(P.position.x+=h.velocity.x,P.position.y+=h.velocity.y),h.angularVelocity!==0&&(x.rotate(P.vertices,h.angularVelocity,h.position),l.rotate(P.axes,h.angularVelocity),M>0&&d.rotateAbout(P.position,h.angularVelocity,h.position,P.position)),r.update(P.bounds,P.vertices,h.velocity)}},u.updateVelocities=function(h){var c=u._baseDelta/h.deltaTime,p=h.velocity;p.x=(h.position.x-h.positionPrev.x)*c,p.y=(h.position.y-h.positionPrev.y)*c,h.speed=Math.sqrt(p.x*p.x+p.y*p.y),h.angularVelocity=(h.angle-h.anglePrev)*c,h.angularSpeed=Math.abs(h.angularVelocity)},u.applyForce=function(h,c,p){var g={x:c.x-h.position.x,y:c.y-h.position.y};h.force.x+=p.x,h.force.y+=p.y,h.torque+=g.x*p.y-g.y*p.x},u._totalProperties=function(h){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=h.parts.length===1?0:1;p<h.parts.length;p++){var g=h.parts[p],m=g.mass!==1/0?g.mass:1;c.mass+=m,c.area+=g.area,c.inertia+=g.inertia,c.centre=d.add(c.centre,d.mult(g.position,m))}return c.centre=d.div(c.centre,c.mass),c}})()},69351:(n,C,e)=>{var u={};n.exports=u;var x=e(35810),d=e(53402),o=e(15647),a=e(22562);(function(){u.create=function(r){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},r)},u.setModified=function(r,l,v,h){if(x.trigger(r,"compositeModified",r),r.isModified=l,l&&r.cache&&(r.cache.allBodies=null,r.cache.allConstraints=null,r.cache.allComposites=null),v&&r.parent&&u.setModified(r.parent,l,v,h),h)for(var c=0;c<r.composites.length;c++){var p=r.composites[c];u.setModified(p,l,v,h)}},u.add=function(r,l){var v=[].concat(l);x.trigger(r,"beforeAdd",{object:l});for(var h=0;h<v.length;h++){var c=v[h];switch(c.type){case"body":if(c.parent!==c){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}u.addBody(r,c);break;case"constraint":u.addConstraint(r,c);break;case"composite":u.addComposite(r,c);break;case"mouseConstraint":u.addConstraint(r,c.constraint);break}}return x.trigger(r,"afterAdd",{object:l}),r},u.remove=function(r,l,v){var h=[].concat(l);x.trigger(r,"beforeRemove",{object:l});for(var c=0;c<h.length;c++){var p=h[c];switch(p.type){case"body":u.removeBody(r,p,v);break;case"constraint":u.removeConstraint(r,p,v);break;case"composite":u.removeComposite(r,p,v);break;case"mouseConstraint":u.removeConstraint(r,p.constraint);break}}return x.trigger(r,"afterRemove",{object:l}),r},u.addComposite=function(r,l){return r.composites.push(l),l.parent=r,u.setModified(r,!0,!0,!1),r},u.removeComposite=function(r,l,v){var h=d.indexOf(r.composites,l);if(h!==-1&&u.removeCompositeAt(r,h),v)for(var c=0;c<r.composites.length;c++)u.removeComposite(r.composites[c],l,!0);return r},u.removeCompositeAt=function(r,l){return r.composites.splice(l,1),u.setModified(r,!0,!0,!1),r},u.addBody=function(r,l){return r.bodies.push(l),u.setModified(r,!0,!0,!1),r},u.removeBody=function(r,l,v){var h=d.indexOf(r.bodies,l);if(h!==-1&&u.removeBodyAt(r,h),v)for(var c=0;c<r.composites.length;c++)u.removeBody(r.composites[c],l,!0);return r},u.removeBodyAt=function(r,l){return r.bodies.splice(l,1),u.setModified(r,!0,!0,!1),r},u.addConstraint=function(r,l){return r.constraints.push(l),u.setModified(r,!0,!0,!1),r},u.removeConstraint=function(r,l,v){var h=d.indexOf(r.constraints,l);if(h!==-1&&u.removeConstraintAt(r,h),v)for(var c=0;c<r.composites.length;c++)u.removeConstraint(r.composites[c],l,!0);return r},u.removeConstraintAt=function(r,l){return r.constraints.splice(l,1),u.setModified(r,!0,!0,!1),r},u.clear=function(r,l,v){if(v)for(var h=0;h<r.composites.length;h++)u.clear(r.composites[h],l,!0);return l?r.bodies=r.bodies.filter(function(c){return c.isStatic}):r.bodies.length=0,r.constraints.length=0,r.composites.length=0,u.setModified(r,!0,!0,!1),r},u.allBodies=function(r){if(r.cache&&r.cache.allBodies)return r.cache.allBodies;for(var l=[].concat(r.bodies),v=0;v<r.composites.length;v++)l=l.concat(u.allBodies(r.composites[v]));return r.cache&&(r.cache.allBodies=l),l},u.allConstraints=function(r){if(r.cache&&r.cache.allConstraints)return r.cache.allConstraints;for(var l=[].concat(r.constraints),v=0;v<r.composites.length;v++)l=l.concat(u.allConstraints(r.composites[v]));return r.cache&&(r.cache.allConstraints=l),l},u.allComposites=function(r){if(r.cache&&r.cache.allComposites)return r.cache.allComposites;for(var l=[].concat(r.composites),v=0;v<r.composites.length;v++)l=l.concat(u.allComposites(r.composites[v]));return r.cache&&(r.cache.allComposites=l),l},u.get=function(r,l,v){var h,c;switch(v){case"body":h=u.allBodies(r);break;case"constraint":h=u.allConstraints(r);break;case"composite":h=u.allComposites(r).concat(r);break}return h?(c=h.filter(function(p){return p.id.toString()===l.toString()}),c.length===0?null:c[0]):null},u.move=function(r,l,v){return u.remove(r,l),u.add(v,l),r},u.rebase=function(r){for(var l=u.allBodies(r).concat(u.allConstraints(r)).concat(u.allComposites(r)),v=0;v<l.length;v++)l[v].id=d.nextId();return r},u.translate=function(r,l,v){for(var h=v?u.allBodies(r):r.bodies,c=0;c<h.length;c++)a.translate(h[c],l);return r},u.rotate=function(r,l,v,h){for(var c=Math.cos(l),p=Math.sin(l),g=h?u.allBodies(r):r.bodies,m=0;m<g.length;m++){var y=g[m],S=y.position.x-v.x,M=y.position.y-v.y;a.setPosition(y,{x:v.x+(S*c-M*p),y:v.y+(S*p+M*c)}),a.rotate(y,l)}return r},u.scale=function(r,l,v,h,c){for(var p=c?u.allBodies(r):r.bodies,g=0;g<p.length;g++){var m=p[g],y=m.position.x-h.x,S=m.position.y-h.y;a.setPosition(m,{x:h.x+y*l,y:h.y+S*v}),a.scale(m,l,v)}return r},u.bounds=function(r){for(var l=u.allBodies(r),v=[],h=0;h<l.length;h+=1){var c=l[h];v.push(c.bounds.min,c.bounds.max)}return o.create(v)}})()},4372:(n,C,e)=>{var u={};n.exports=u;var x=e(69351);(function(){u.create=x.create,u.add=x.add,u.remove=x.remove,u.clear=x.clear,u.addComposite=x.addComposite,u.addBody=x.addBody,u.addConstraint=x.addConstraint})()},52284:(n,C,e)=>{var u={};n.exports=u;var x=e(41598),d=e(4506);(function(){var o=[],a={overlap:0,axis:null},r={overlap:0,axis:null};u.create=function(l,v){return{pair:null,collided:!1,bodyA:l,bodyB:v,parentA:l.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},u.collides=function(l,v,h){if(u._overlapAxes(a,l.vertices,v.vertices,l.axes),a.overlap<=0||(u._overlapAxes(r,v.vertices,l.vertices,v.axes),r.overlap<=0))return null;var c=h&&h.table[d.id(l,v)],p;c?p=c.collision:(p=u.create(l,v),p.collided=!0,p.bodyA=l.id<v.id?l:v,p.bodyB=l.id<v.id?v:l,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),l=p.bodyA,v=p.bodyB;var g;a.overlap<r.overlap?g=a:g=r;var m=p.normal,y=p.supports,S=g.axis,M=S.x,P=S.y;M*(v.position.x-l.position.x)+P*(v.position.y-l.position.y)<0?(m.x=M,m.y=P):(m.x=-M,m.y=-P),p.tangent.x=-m.y,p.tangent.y=m.x,p.depth=g.overlap,p.penetration.x=m.x*p.depth,p.penetration.y=m.y*p.depth;var w=u._findSupports(l,v,m,1),R=0;if(x.contains(l.vertices,w[0])&&(y[R++]=w[0]),x.contains(l.vertices,w[1])&&(y[R++]=w[1]),R<2){var A=u._findSupports(v,l,m,-1);x.contains(v.vertices,A[0])&&(y[R++]=A[0]),R<2&&x.contains(v.vertices,A[1])&&(y[R++]=A[1])}return R===0&&(y[R++]=w[0]),y.length=R,p},u._overlapAxes=function(l,v,h,c){var p=v.length,g=h.length,m=v[0].x,y=v[0].y,S=h[0].x,M=h[0].y,P=c.length,w=Number.MAX_VALUE,R=0,A,L,F,O,b,B;for(b=0;b<P;b++){var I=c[b],N=I.x,X=I.y,k=m*N+y*X,H=S*N+M*X,V=k,W=H;for(B=1;B<p;B+=1)O=v[B].x*N+v[B].y*X,O>V?V=O:O<k&&(k=O);for(B=1;B<g;B+=1)O=h[B].x*N+h[B].y*X,O>W?W=O:O<H&&(H=O);if(L=V-H,F=W-k,A=L<F?L:F,A<w&&(w=A,R=b,A<=0))break}l.axis=c[R],l.overlap=w},u._projectToAxis=function(l,v,h){for(var c=v[0].x*h.x+v[0].y*h.y,p=c,g=1;g<v.length;g+=1){var m=v[g].x*h.x+v[g].y*h.y;m>p?p=m:m<c&&(c=m)}l.min=c,l.max=p},u._findSupports=function(l,v,h,c){var p=v.vertices,g=p.length,m=l.position.x,y=l.position.y,S=h.x*c,M=h.y*c,P=Number.MAX_VALUE,w,R,A,L,F;for(F=0;F<g;F+=1)R=p[F],L=S*(m-R.x)+M*(y-R.y),L<P&&(P=L,w=R);return A=p[(g+w.index-1)%g],P=S*(m-A.x)+M*(y-A.y),R=p[(w.index+1)%g],S*(m-R.x)+M*(y-R.y)<P?(o[0]=w,o[1]=R,o):(o[0]=w,o[1]=A,o)}})()},43424:n=>{var C={};n.exports=C,function(){C.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},81388:(n,C,e)=>{var u={};n.exports=u;var x=e(53402),d=e(52284);(function(){u.create=function(o){var a={bodies:[],pairs:null};return x.extend(a,o)},u.setBodies=function(o,a){o.bodies=a.slice(0)},u.clear=function(o){o.bodies=[]},u.collisions=function(o){var a=[],r=o.pairs,l=o.bodies,v=l.length,h=u.canCollide,c=d.collides,p,g;for(l.sort(u._compareBoundsX),p=0;p<v;p++){var m=l[p],y=m.bounds,S=m.bounds.max.x,M=m.bounds.max.y,P=m.bounds.min.y,w=m.isStatic||m.isSleeping,R=m.parts.length,A=R===1;for(g=p+1;g<v;g++){var L=l[g],F=L.bounds;if(F.min.x>S)break;if(!(M<F.min.y||P>F.max.y)&&!(w&&(L.isStatic||L.isSleeping))&&!!h(m.collisionFilter,L.collisionFilter)){var O=L.parts.length;if(A&&O===1){var b=c(m,L,r);b&&a.push(b)}else for(var B=R>1?1:0,I=O>1?1:0,N=B;N<R;N++)for(var X=m.parts[N],y=X.bounds,k=I;k<O;k++){var H=L.parts[k],F=H.bounds;if(!(y.min.x>F.max.x||y.max.x<F.min.x||y.max.y<F.min.y||y.min.y>F.max.y)){var b=c(X,H,r);b&&a.push(b)}}}}}return a},u.canCollide=function(o,a){return o.group===a.group&&o.group!==0?o.group>0:(o.mask&a.category)!==0&&(a.mask&o.category)!==0},u._compareBoundsX=function(o,a){return o.bounds.min.x-a.bounds.min.x}})()},4506:(n,C,e)=>{var u={};n.exports=u;var x=e(43424);(function(){u.create=function(d,o){var a=d.bodyA,r=d.bodyB,l={id:u.id(a,r),bodyA:a,bodyB:r,collision:d,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:a.isSensor||r.isSensor,timeCreated:o,timeUpdated:o,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return u.update(l,d,o),l},u.update=function(d,o,a){var r=d.contacts,l=o.supports,v=d.activeContacts,h=o.parentA,c=o.parentB,p=h.vertices.length;d.isActive=!0,d.timeUpdated=a,d.collision=o,d.separation=o.depth,d.inverseMass=h.inverseMass+c.inverseMass,d.friction=h.friction<c.friction?h.friction:c.friction,d.frictionStatic=h.frictionStatic>c.frictionStatic?h.frictionStatic:c.frictionStatic,d.restitution=h.restitution>c.restitution?h.restitution:c.restitution,d.slop=h.slop>c.slop?h.slop:c.slop,o.pair=d,v.length=0;for(var g=0;g<l.length;g++){var m=l[g],y=m.body===h?m.index:p+m.index,S=r[y];S?v.push(S):v.push(r[y]=x.create(m))}},u.setActive=function(d,o,a){o?(d.isActive=!0,d.timeUpdated=a):(d.isActive=!1,d.activeContacts.length=0)},u.id=function(d,o){return d.id<o.id?"A"+d.id+"B"+o.id:"A"+o.id+"B"+d.id}})()},99561:(n,C,e)=>{var u={};n.exports=u;var x=e(4506),d=e(53402);(function(){u.create=function(o){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},o)},u.update=function(o,a,r){var l=o.list,v=l.length,h=o.table,c=a.length,p=o.collisionStart,g=o.collisionEnd,m=o.collisionActive,y,S,M,P;for(p.length=0,g.length=0,m.length=0,P=0;P<v;P++)l[P].confirmedActive=!1;for(P=0;P<c;P++)y=a[P],M=y.pair,M?(M.isActive?m.push(M):p.push(M),x.update(M,y,r),M.confirmedActive=!0):(M=x.create(y,r),h[M.id]=M,p.push(M),l.push(M));var w=[];for(v=l.length,P=0;P<v;P++)M=l[P],M.confirmedActive||(x.setActive(M,!1,r),g.push(M),!M.collision.bodyA.isSleeping&&!M.collision.bodyB.isSleeping&&w.push(P));for(P=0;P<w.length;P++)S=w[P]-P,M=l[S],l.splice(S,1),delete h[M.id]},u.clear=function(o){return o.table={},o.list.length=0,o.collisionStart.length=0,o.collisionActive.length=0,o.collisionEnd.length=0,o}})()},73296:(n,C,e)=>{var u={};n.exports=u;var x=e(31725),d=e(52284),o=e(15647),a=e(66280),r=e(41598);(function(){u.collides=function(l,v){for(var h=[],c=v.length,p=l.bounds,g=d.collides,m=o.overlaps,y=0;y<c;y++){var S=v[y],M=S.parts.length,P=M===1?0:1;if(l!==S&&m(S.bounds,p))for(var w=P;w<M;w++){var R=S.parts[w];if(m(R.bounds,p)){var A=g(R,l);if(A){h.push(A);break}}}}return h},u.ray=function(l,v,h,c){c=c||1e-100;for(var p=x.angle(v,h),g=x.magnitude(x.sub(v,h)),m=(h.x+v.x)*.5,y=(h.y+v.y)*.5,S=a.rectangle(m,y,g,c,{angle:p}),M=u.collides(S,l),P=0;P<M.length;P+=1){var w=M[P];w.body=w.bodyB=w.bodyA}return M},u.region=function(l,v,h){for(var c=[],p=0;p<l.length;p++){var g=l[p],m=o.overlaps(g.bounds,v);(m&&!h||!m&&h)&&c.push(g)}return c},u.point=function(l,v){for(var h=[],c=0;c<l.length;c++){var p=l[c];if(o.contains(p.bounds,v))for(var g=p.parts.length===1?0:1;g<p.parts.length;g++){var m=p.parts[g];if(o.contains(m.bounds,v)&&r.contains(m.vertices,v)){h.push(p);break}}}return h}})()},66272:(n,C,e)=>{var u={};n.exports=u;var x=e(41598),d=e(53402),o=e(15647);(function(){u._restingThresh=2,u._restingThreshTangent=Math.sqrt(6),u._positionDampen=.9,u._positionWarming=.8,u._frictionNormalMultiplier=5,u._frictionMaxStatic=Number.MAX_VALUE,u.preSolvePosition=function(a){var r,l,v,h=a.length;for(r=0;r<h;r++)l=a[r],l.isActive&&(v=l.activeContacts.length,l.collision.parentA.totalContacts+=v,l.collision.parentB.totalContacts+=v)},u.solvePosition=function(a,r,l){var v,h,c,p,g,m,y,S,M=u._positionDampen*(l||1),P=d.clamp(r/d._baseDelta,0,1),w=a.length;for(v=0;v<w;v++)h=a[v],!(!h.isActive||h.isSensor)&&(c=h.collision,p=c.parentA,g=c.parentB,m=c.normal,h.separation=m.x*(g.positionImpulse.x+c.penetration.x-p.positionImpulse.x)+m.y*(g.positionImpulse.y+c.penetration.y-p.positionImpulse.y));for(v=0;v<w;v++)h=a[v],!(!h.isActive||h.isSensor)&&(c=h.collision,p=c.parentA,g=c.parentB,m=c.normal,S=h.separation-h.slop*P,(p.isStatic||g.isStatic)&&(S*=2),p.isStatic||p.isSleeping||(y=M/p.totalContacts,p.positionImpulse.x+=m.x*S*y,p.positionImpulse.y+=m.y*S*y),g.isStatic||g.isSleeping||(y=M/g.totalContacts,g.positionImpulse.x-=m.x*S*y,g.positionImpulse.y-=m.y*S*y))},u.postSolvePosition=function(a){for(var r=u._positionWarming,l=a.length,v=x.translate,h=o.update,c=0;c<l;c++){var p=a[c],g=p.positionImpulse,m=g.x,y=g.y,S=p.velocity;if(p.totalContacts=0,m!==0||y!==0){for(var M=0;M<p.parts.length;M++){var P=p.parts[M];v(P.vertices,g),h(P.bounds,P.vertices,S),P.position.x+=m,P.position.y+=y}p.positionPrev.x+=m,p.positionPrev.y+=y,m*S.x+y*S.y<0?(g.x=0,g.y=0):(g.x*=r,g.y*=r)}}},u.preSolveVelocity=function(a){var r=a.length,l,v;for(l=0;l<r;l++){var h=a[l];if(!(!h.isActive||h.isSensor)){var c=h.activeContacts,p=c.length,g=h.collision,m=g.parentA,y=g.parentB,S=g.normal,M=g.tangent;for(v=0;v<p;v++){var P=c[v],w=P.vertex,R=P.normalImpulse,A=P.tangentImpulse;if(R!==0||A!==0){var L=S.x*R+M.x*A,F=S.y*R+M.y*A;m.isStatic||m.isSleeping||(m.positionPrev.x+=L*m.inverseMass,m.positionPrev.y+=F*m.inverseMass,m.anglePrev+=m.inverseInertia*((w.x-m.position.x)*F-(w.y-m.position.y)*L)),y.isStatic||y.isSleeping||(y.positionPrev.x-=L*y.inverseMass,y.positionPrev.y-=F*y.inverseMass,y.anglePrev-=y.inverseInertia*((w.x-y.position.x)*F-(w.y-y.position.y)*L))}}}}},u.solveVelocity=function(a,r){var l=r/d._baseDelta,v=l*l,h=v*l,c=-u._restingThresh*l,p=u._restingThreshTangent,g=u._frictionNormalMultiplier*l,m=u._frictionMaxStatic,y=a.length,S,M,P,w;for(P=0;P<y;P++){var R=a[P];if(!(!R.isActive||R.isSensor)){var A=R.collision,L=A.parentA,F=A.parentB,O=L.velocity,b=F.velocity,B=A.normal.x,I=A.normal.y,N=A.tangent.x,X=A.tangent.y,k=R.activeContacts,H=k.length,V=1/H,W=L.inverseMass+F.inverseMass,D=R.friction*R.frictionStatic*g;for(O.x=L.position.x-L.positionPrev.x,O.y=L.position.y-L.positionPrev.y,b.x=F.position.x-F.positionPrev.x,b.y=F.position.y-F.positionPrev.y,L.angularVelocity=L.angle-L.anglePrev,F.angularVelocity=F.angle-F.anglePrev,w=0;w<H;w++){var G=k[w],z=G.vertex,U=z.x-L.position.x,Y=z.y-L.position.y,$=z.x-F.position.x,K=z.y-F.position.y,Z=O.x-Y*L.angularVelocity,J=O.y+U*L.angularVelocity,Q=b.x-K*F.angularVelocity,j=b.y+$*F.angularVelocity,_=Z-Q,q=J-j,it=B*_+I*q,at=N*_+X*q,ot=R.separation+it,ht=Math.min(ot,1);ht=ot<0?0:ht;var tt=ht*D;at<-tt||at>tt?(M=at>0?at:-at,S=R.friction*(at>0?1:-1)*h,S<-M?S=-M:S>M&&(S=M)):(S=at,M=m);var nt=U*I-Y*B,rt=$*I-K*B,vt=V/(W+L.inverseInertia*nt*nt+F.inverseInertia*rt*rt),ct=(1+R.restitution)*it*vt;if(S*=vt,it<c)G.normalImpulse=0;else{var bt=G.normalImpulse;G.normalImpulse+=ct,G.normalImpulse>0&&(G.normalImpulse=0),ct=G.normalImpulse-bt}if(at<-p||at>p)G.tangentImpulse=0;else{var Ot=G.tangentImpulse;G.tangentImpulse+=S,G.tangentImpulse<-M&&(G.tangentImpulse=-M),G.tangentImpulse>M&&(G.tangentImpulse=M),S=G.tangentImpulse-Ot}var yt=B*ct+N*S,mt=I*ct+X*S;L.isStatic||L.isSleeping||(L.positionPrev.x+=yt*L.inverseMass,L.positionPrev.y+=mt*L.inverseMass,L.anglePrev+=(U*mt-Y*yt)*L.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=yt*F.inverseMass,F.positionPrev.y-=mt*F.inverseMass,F.anglePrev-=($*mt-K*yt)*F.inverseInertia)}}}}})()},48140:(n,C,e)=>{var u={};n.exports=u;var x=e(41598),d=e(31725),o=e(53614),a=e(15647),r=e(66615),l=e(53402);(function(){u._warming=.4,u._torqueDampen=1,u._minLength=1e-6,u.create=function(v){var h=v;h.bodyA&&!h.pointA&&(h.pointA={x:0,y:0}),h.bodyB&&!h.pointB&&(h.pointB={x:0,y:0});var c=h.bodyA?d.add(h.bodyA.position,h.pointA):h.pointA,p=h.bodyB?d.add(h.bodyB.position,h.pointB):h.pointB,g=d.magnitude(d.sub(c,p));h.length=typeof h.length<"u"?h.length:g,h.id=h.id||l.nextId(),h.label=h.label||"Constraint",h.type="constraint",h.stiffness=h.stiffness||(h.length>0?1:.7),h.damping=h.damping||0,h.angularStiffness=h.angularStiffness||0,h.angleA=h.bodyA?h.bodyA.angle:h.angleA,h.angleB=h.bodyB?h.bodyB.angle:h.angleB,h.plugin={};var m={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return h.length===0&&h.stiffness>.1?(m.type="pin",m.anchors=!1):h.stiffness<.9&&(m.type="spring"),h.render=l.extend(m,h.render),h},u.preSolveAll=function(v){for(var h=0;h<v.length;h+=1){var c=v[h],p=c.constraintImpulse;c.isStatic||p.x===0&&p.y===0&&p.angle===0||(c.position.x+=p.x,c.position.y+=p.y,c.angle+=p.angle)}},u.solveAll=function(v,h){for(var c=l.clamp(h/l._baseDelta,0,1),p=0;p<v.length;p+=1){var g=v[p],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,y=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(m||y)&&u.solve(v[p],c)}for(p=0;p<v.length;p+=1)g=v[p],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,y=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!m&&!y&&u.solve(v[p],c)},u.solve=function(v,h){var c=v.bodyA,p=v.bodyB,g=v.pointA,m=v.pointB;if(!(!c&&!p)){c&&!c.isStatic&&(d.rotate(g,c.angle-v.angleA,g),v.angleA=c.angle),p&&!p.isStatic&&(d.rotate(m,p.angle-v.angleB,m),v.angleB=p.angle);var y=g,S=m;if(c&&(y=d.add(c.position,g)),p&&(S=d.add(p.position,m)),!(!y||!S)){var M=d.sub(y,S),P=d.magnitude(M);P<u._minLength&&(P=u._minLength);var w=(P-v.length)/P,R=v.stiffness>=1||v.length===0,A=R?v.stiffness*h:v.stiffness*h*h,L=v.damping*h,F=d.mult(M,w*A),O=(c?c.inverseMass:0)+(p?p.inverseMass:0),b=(c?c.inverseInertia:0)+(p?p.inverseInertia:0),B=O+b,I,N,X,k,H;if(L>0){var V=d.create();X=d.div(M,P),H=d.sub(p&&d.sub(p.position,p.positionPrev)||V,c&&d.sub(c.position,c.positionPrev)||V),k=d.dot(X,H)}c&&!c.isStatic&&(N=c.inverseMass/O,c.constraintImpulse.x-=F.x*N,c.constraintImpulse.y-=F.y*N,c.position.x-=F.x*N,c.position.y-=F.y*N,L>0&&(c.positionPrev.x-=L*X.x*k*N,c.positionPrev.y-=L*X.y*k*N),I=d.cross(g,F)/B*u._torqueDampen*c.inverseInertia*(1-v.angularStiffness),c.constraintImpulse.angle-=I,c.angle-=I),p&&!p.isStatic&&(N=p.inverseMass/O,p.constraintImpulse.x+=F.x*N,p.constraintImpulse.y+=F.y*N,p.position.x+=F.x*N,p.position.y+=F.y*N,L>0&&(p.positionPrev.x+=L*X.x*k*N,p.positionPrev.y+=L*X.y*k*N),I=d.cross(m,F)/B*u._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle+=I,p.angle+=I)}}},u.postSolveAll=function(v){for(var h=0;h<v.length;h++){var c=v[h],p=c.constraintImpulse;if(!(c.isStatic||p.x===0&&p.y===0&&p.angle===0)){o.set(c,!1);for(var g=0;g<c.parts.length;g++){var m=c.parts[g];x.translate(m.vertices,p),g>0&&(m.position.x+=p.x,m.position.y+=p.y),p.angle!==0&&(x.rotate(m.vertices,p.angle,c.position),r.rotate(m.axes,p.angle),g>0&&d.rotateAbout(m.position,p.angle,c.position,m.position)),a.update(m.bounds,m.vertices,c.velocity)}p.angle*=u._warming,p.x*=u._warming,p.y*=u._warming}}},u.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},u.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},u.currentLength=function(v){var h=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),c=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),p=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),g=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),m=h-p,y=c-g;return Math.sqrt(m*m+y*y)}})()},53402:(n,C,e)=>{var u={};n.exports=u,function(){u._baseDelta=16.666666666666668,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(d,o){var a,r;typeof o=="boolean"?(a=2,r=o):(a=1,r=!0);for(var l=a;l<arguments.length;l++){var v=arguments[l];if(v)for(var h in v)r&&v[h]&&v[h].constructor===Object&&(!d[h]||d[h].constructor===Object)?(d[h]=d[h]||{},u.extend(d[h],r,v[h])):d[h]=v[h]}return d},u.clone=function(d,o){return u.extend({},o,d)},u.keys=function(d){if(Object.keys)return Object.keys(d);var o=[];for(var a in d)o.push(a);return o},u.values=function(d){var o=[];if(Object.keys){for(var a=Object.keys(d),r=0;r<a.length;r++)o.push(d[a[r]]);return o}for(var l in d)o.push(d[l]);return o},u.get=function(d,o,a,r){o=o.split(".").slice(a,r);for(var l=0;l<o.length;l+=1)d=d[o[l]];return d},u.set=function(d,o,a,r,l){var v=o.split(".").slice(r,l);return u.get(d,o,0,-1)[v[v.length-1]]=a,a},u.shuffle=function(d){for(var o=d.length-1;o>0;o--){var a=Math.floor(u.random()*(o+1)),r=d[o];d[o]=d[a],d[a]=r}return d},u.choose=function(d){return d[Math.floor(u.random()*d.length)]},u.isElement=function(d){return typeof HTMLElement<"u"?d instanceof HTMLElement:!!(d&&d.nodeType&&d.nodeName)},u.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},u.isFunction=function(d){return typeof d=="function"},u.isPlainObject=function(d){return typeof d=="object"&&d.constructor===Object},u.isString=function(d){return toString.call(d)==="[object String]"},u.clamp=function(d,o,a){return d<o?o:d>a?a:d},u.sign=function(d){return d<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(d,o){return d=typeof d<"u"?d:0,o=typeof o<"u"?o:1,d+x()*(o-d)};var x=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(d){return d=d.replace("#",""),d.length==3&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var d=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[d]||(u.warn(d),u._warnedOnce[d]=!0)},u.deprecated=function(d,o,a){d[o]=u.chain(function(){u.warnOnce("\u{1F505} deprecated \u{1F505}",a)},d[o])},u.nextId=function(){return u._nextId++},u.indexOf=function(d,o){if(d.indexOf)return d.indexOf(o);for(var a=0;a<d.length;a++)if(d[a]===o)return a;return-1},u.map=function(d,o){if(d.map)return d.map(o);for(var a=[],r=0;r<d.length;r+=1)a.push(o(d[r]));return a},u.topologicalSort=function(d){var o=[],a=[],r=[];for(var l in d)!a[l]&&!r[l]&&u._topologicalSort(l,a,r,d,o);return o},u._topologicalSort=function(d,o,a,r,l){var v=r[d]||[];a[d]=!0;for(var h=0;h<v.length;h+=1){var c=v[h];a[c]||o[c]||u._topologicalSort(c,o,a,r,l)}a[d]=!1,o[d]=!0,l.push(d)},u.chain=function(){for(var d=[],o=0;o<arguments.length;o+=1){var a=arguments[o];a._chained?d.push.apply(d,a._chained):d.push(a)}var r=function(){for(var l,v=new Array(arguments.length),h=0,c=arguments.length;h<c;h++)v[h]=arguments[h];for(h=0;h<d.length;h+=1){var p=d[h].apply(l,v);typeof p<"u"&&(l=p)}return l};return r._chained=d,r},u.chainPathBefore=function(d,o,a){return u.set(d,o,u.chain(a,u.get(d,o)))},u.chainPathAfter=function(d,o,a){return u.set(d,o,u.chain(u.get(d,o),a))},u.setDecomp=function(d){u._decomp=d},u.getDecomp=function(){var d=u._decomp;try{!d&&typeof window<"u"&&(d=window.decomp),!d&&typeof e.g<"u"&&(d=e.g.decomp)}catch{d=null}return d}}()},48413:(n,C,e)=>{var u={};n.exports=u;var x=e(53614),d=e(66272),o=e(81388),a=e(99561),r=e(35810),l=e(69351),v=e(48140),h=e(53402),c=e(22562);(function(){u.create=function(p){p=p||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},m=h.extend(g,p);return m.world=p.world||l.create({label:"World"}),m.pairs=p.pairs||a.create(),m.detector=p.detector||o.create(),m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},u.update=function(p,g){var m=h.now(),y=p.world,S=p.detector,M=p.pairs,P=p.timing,w=P.timestamp,R;g=typeof g<"u"?g:h._baseDelta,g*=P.timeScale,P.timestamp+=g,P.lastDelta=g;var A={timestamp:P.timestamp,delta:g};r.trigger(p,"beforeUpdate",A);var L=l.allBodies(y),F=l.allConstraints(y);for(y.isModified&&(o.setBodies(S,L),l.setModified(y,!1,!1,!0)),p.enableSleeping&&x.update(L,g),u._bodiesApplyGravity(L,p.gravity),g>0&&u._bodiesUpdate(L,g),r.trigger(p,"beforeSolve",A),v.preSolveAll(L),R=0;R<p.constraintIterations;R++)v.solveAll(F,g);v.postSolveAll(L),S.pairs=p.pairs;var O=o.collisions(S);a.update(M,O,w),p.enableSleeping&&x.afterCollisions(M.list),M.collisionStart.length>0&&r.trigger(p,"collisionStart",{pairs:M.collisionStart,timestamp:P.timestamp,delta:g});var b=h.clamp(20/p.positionIterations,0,1);for(d.preSolvePosition(M.list),R=0;R<p.positionIterations;R++)d.solvePosition(M.list,g,b);for(d.postSolvePosition(L),v.preSolveAll(L),R=0;R<p.constraintIterations;R++)v.solveAll(F,g);for(v.postSolveAll(L),d.preSolveVelocity(M.list),R=0;R<p.velocityIterations;R++)d.solveVelocity(M.list,g);return u._bodiesUpdateVelocities(L),M.collisionActive.length>0&&r.trigger(p,"collisionActive",{pairs:M.collisionActive,timestamp:P.timestamp,delta:g}),M.collisionEnd.length>0&&r.trigger(p,"collisionEnd",{pairs:M.collisionEnd,timestamp:P.timestamp,delta:g}),u._bodiesClearForces(L),r.trigger(p,"afterUpdate",A),p.timing.lastElapsed=h.now()-m,p},u.merge=function(p,g){if(h.extend(p,g),g.world){p.world=g.world,u.clear(p);for(var m=l.allBodies(p.world),y=0;y<m.length;y++){var S=m[y];x.set(S,!1),S.id=h.nextId()}}},u.clear=function(p){a.clear(p.pairs),o.clear(p.detector)},u._bodiesClearForces=function(p){for(var g=p.length,m=0;m<g;m++){var y=p[m];y.force.x=0,y.force.y=0,y.torque=0}},u._bodiesApplyGravity=function(p,g){var m=typeof g.scale<"u"?g.scale:.001,y=p.length;if(!(g.x===0&&g.y===0||m===0))for(var S=0;S<y;S++){var M=p[S];M.ignoreGravity||M.isStatic||M.isSleeping||(M.force.y+=M.mass*g.y*m,M.force.x+=M.mass*g.x*m)}},u._bodiesUpdate=function(p,g){for(var m=p.length,y=0;y<m;y++){var S=p[y];S.isStatic||S.isSleeping||c.update(S,g)}},u._bodiesUpdateVelocities=function(p){for(var g=p.length,m=0;m<g;m++)c.updateVelocities(p[m])}})()},35810:(n,C,e)=>{var u={};n.exports=u;var x=e(53402);(function(){u.on=function(d,o,a){for(var r=o.split(" "),l,v=0;v<r.length;v++)l=r[v],d.events=d.events||{},d.events[l]=d.events[l]||[],d.events[l].push(a);return a},u.off=function(d,o,a){if(!o){d.events={};return}typeof o=="function"&&(a=o,o=x.keys(d.events).join(" "));for(var r=o.split(" "),l=0;l<r.length;l++){var v=d.events[r[l]],h=[];if(a&&v)for(var c=0;c<v.length;c++)v[c]!==a&&h.push(v[c]);d.events[r[l]]=h}},u.trigger=function(d,o,a){var r,l,v,h,c=d.events;if(c&&x.keys(c).length>0){a||(a={}),r=o.split(" ");for(var p=0;p<r.length;p++)if(l=r[p],v=c[l],v){h=x.clone(a,!1),h.name=l,h.source=d;for(var g=0;g<v.length;g++)v[g].apply(d,[h])}}}})()},6790:(n,C,e)=>{var u={};n.exports=u;var x=e(73832),d=e(53402);(function(){u.name="matter-js",u.version="0.19.0",u.uses=[],u.used=[],u.use=function(){x.use(u,Array.prototype.slice.call(arguments))},u.before=function(o,a){return o=o.replace(/^Matter./,""),d.chainPathBefore(u,o,a)},u.after=function(o,a){return o=o.replace(/^Matter./,""),d.chainPathAfter(u,o,a)}})()},73832:(n,C,e)=>{var u={};n.exports=u;var x=e(53402);(function(){u._registry={},u.register=function(d){if(u.isPlugin(d)||x.warn("Plugin.register:",u.toString(d),"does not implement all required fields."),d.name in u._registry){var o=u._registry[d.name],a=u.versionParse(d.version).number,r=u.versionParse(o.version).number;a>r?(x.warn("Plugin.register:",u.toString(o),"was upgraded to",u.toString(d)),u._registry[d.name]=d):a<r?x.warn("Plugin.register:",u.toString(o),"can not be downgraded to",u.toString(d)):d!==o&&x.warn("Plugin.register:",u.toString(d),"is already registered to different plugin object")}else u._registry[d.name]=d;return d},u.resolve=function(d){return u._registry[u.dependencyParse(d).name]},u.toString=function(d){return typeof d=="string"?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")},u.isPlugin=function(d){return d&&d.name&&d.version&&d.install},u.isUsed=function(d,o){return d.used.indexOf(o)>-1},u.isFor=function(d,o){var a=d.for&&u.dependencyParse(d.for);return!d.for||o.name===a.name&&u.versionSatisfies(o.version,a.range)},u.use=function(d,o){if(d.uses=(d.uses||[]).concat(o||[]),d.uses.length===0){x.warn("Plugin.use:",u.toString(d),"does not specify any dependencies to install.");return}for(var a=u.dependencies(d),r=x.topologicalSort(a),l=[],v=0;v<r.length;v+=1)if(r[v]!==d.name){var h=u.resolve(r[v]);if(!h){l.push("\u274C "+r[v]);continue}u.isUsed(d,h.name)||(u.isFor(h,d)||(x.warn("Plugin.use:",u.toString(h),"is for",h.for,"but installed on",u.toString(d)+"."),h._warned=!0),h.install?h.install(d):(x.warn("Plugin.use:",u.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(l.push("\u{1F536} "+u.toString(h)),delete h._warned):l.push("\u2705 "+u.toString(h)),d.used.push(h.name))}l.length>0&&!h.silent&&x.info(l.join("  "))},u.dependencies=function(d,o){var a=u.dependencyParse(d),r=a.name;if(o=o||{},!(r in o)){d=u.resolve(d)||d,o[r]=x.map(d.uses||[],function(v){u.isPlugin(v)&&u.register(v);var h=u.dependencyParse(v),c=u.resolve(v);return c&&!u.versionSatisfies(c.version,h.range)?(x.warn("Plugin.dependencies:",u.toString(c),"does not satisfy",u.toString(h),"used by",u.toString(a)+"."),c._warned=!0,d._warned=!0):c||(x.warn("Plugin.dependencies:",u.toString(v),"used by",u.toString(a),"could not be resolved."),d._warned=!0),h.name});for(var l=0;l<o[r].length;l+=1)u.dependencies(o[r][l],o);return o}},u.dependencyParse=function(d){if(x.isString(d)){var o=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return o.test(d)||x.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}}return{name:d.name,range:d.range||d.version}},u.versionParse=function(d){var o=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;o.test(d)||x.warn("Plugin.versionParse:",d,"is not a valid version or range.");var a=o.exec(d),r=Number(a[4]),l=Number(a[5]),v=Number(a[6]);return{isRange:Boolean(a[1]||a[2]),version:a[3],range:d,operator:a[1]||a[2]||"",major:r,minor:l,patch:v,parts:[r,l,v],prerelease:a[7],number:r*1e8+l*1e4+v}},u.versionSatisfies=function(d,o){o=o||"*";var a=u.versionParse(o),r=u.versionParse(d);if(a.isRange){if(a.operator==="*"||d==="*")return!0;if(a.operator===">")return r.number>a.number;if(a.operator===">=")return r.number>=a.number;if(a.operator==="~")return r.major===a.major&&r.minor===a.minor&&r.patch>=a.patch;if(a.operator==="^")return a.major>0?r.major===a.major&&r.number>=a.number:a.minor>0?r.minor===a.minor&&r.patch>=a.patch:r.patch===a.patch}return d===o||d==="*"}})()},53614:(n,C,e)=>{var u={};n.exports=u;var x=e(22562),d=e(35810),o=e(53402);(function(){u._motionWakeThreshold=.18,u._motionSleepThreshold=.08,u._minBias=.9,u.update=function(a,r){for(var l=r/o._baseDelta,v=u._motionSleepThreshold,h=0;h<a.length;h++){var c=a[h],p=x.getSpeed(c),g=x.getAngularSpeed(c),m=p*p+g*g;if(c.force.x!==0||c.force.y!==0){u.set(c,!1);continue}var y=Math.min(c.motion,m),S=Math.max(c.motion,m);c.motion=u._minBias*y+(1-u._minBias)*S,c.sleepThreshold>0&&c.motion<v?(c.sleepCounter+=1,c.sleepCounter>=c.sleepThreshold/l&&u.set(c,!0)):c.sleepCounter>0&&(c.sleepCounter-=1)}},u.afterCollisions=function(a){for(var r=u._motionSleepThreshold,l=0;l<a.length;l++){var v=a[l];if(!!v.isActive){var h=v.collision,c=h.bodyA.parent,p=h.bodyB.parent;if(!(c.isSleeping&&p.isSleeping||c.isStatic||p.isStatic)&&(c.isSleeping||p.isSleeping)){var g=c.isSleeping&&!c.isStatic?c:p,m=g===c?p:c;!g.isStatic&&m.motion>r&&u.set(g,!1)}}}},u.set=function(a,r){var l=a.isSleeping;r?(a.isSleeping=!0,a.sleepCounter=a.sleepThreshold,a.positionImpulse.x=0,a.positionImpulse.y=0,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.speed=0,a.angularSpeed=0,a.motion=0,l||d.trigger(a,"sleepStart")):(a.isSleeping=!1,a.sleepCounter=0,l&&d.trigger(a,"sleepEnd"))}})()},66280:(n,C,e)=>{var u={};n.exports=u;var x=e(41598),d=e(53402),o=e(22562),a=e(15647),r=e(31725);(function(){u.rectangle=function(l,v,h,c,p){p=p||{};var g={label:"Rectangle Body",position:{x:l,y:v},vertices:x.fromPath("L 0 0 L "+h+" 0 L "+h+" "+c+" L 0 "+c)};if(p.chamfer){var m=p.chamfer;g.vertices=x.chamfer(g.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete p.chamfer}return o.create(d.extend({},g,p))},u.trapezoid=function(l,v,h,c,p,g){g=g||{},p*=.5;var m=(1-p*2)*h,y=h*p,S=y+m,M=S+y,P;p<.5?P="L 0 0 L "+y+" "+-c+" L "+S+" "+-c+" L "+M+" 0":P="L 0 0 L "+S+" "+-c+" L "+M+" 0";var w={label:"Trapezoid Body",position:{x:l,y:v},vertices:x.fromPath(P)};if(g.chamfer){var R=g.chamfer;w.vertices=x.chamfer(w.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete g.chamfer}return o.create(d.extend({},w,g))},u.circle=function(l,v,h,c,p){c=c||{};var g={label:"Circle Body",circleRadius:h};p=p||25;var m=Math.ceil(Math.max(10,Math.min(p,h)));return m%2===1&&(m+=1),u.polygon(l,v,m,h,d.extend({},g,c))},u.polygon=function(l,v,h,c,p){if(p=p||{},h<3)return u.circle(l,v,c,p);for(var g=2*Math.PI/h,m="",y=g*.5,S=0;S<h;S+=1){var M=y+S*g,P=Math.cos(M)*c,w=Math.sin(M)*c;m+="L "+P.toFixed(3)+" "+w.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:l,y:v},vertices:x.fromPath(m)};if(p.chamfer){var A=p.chamfer;R.vertices=x.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete p.chamfer}return o.create(d.extend({},R,p))},u.fromVertices=function(l,v,h,c,p,g,m,y){var S=d.getDecomp(),M,P,w,R,A,L,F,O,b,B,I;for(M=Boolean(S&&S.quickDecomp),c=c||{},w=[],p=typeof p<"u"?p:!1,g=typeof g<"u"?g:.01,m=typeof m<"u"?m:10,y=typeof y<"u"?y:.01,d.isArray(h[0])||(h=[h]),B=0;B<h.length;B+=1)if(L=h[B],R=x.isConvex(L),A=!R,A&&!M&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!M)R?L=x.clockwiseSort(L):L=x.hull(L),w.push({position:{x:l,y:v},vertices:L});else{var N=L.map(function($){return[$.x,$.y]});S.makeCCW(N),g!==!1&&S.removeCollinearPoints(N,g),y!==!1&&S.removeDuplicatePoints&&S.removeDuplicatePoints(N,y);var X=S.quickDecomp(N);for(F=0;F<X.length;F++){var k=X[F],H=k.map(function($){return{x:$[0],y:$[1]}});m>0&&x.area(H)<m||w.push({position:x.centre(H),vertices:H})}}for(F=0;F<w.length;F++)w[F]=o.create(d.extend(w[F],c));if(p){var V=5;for(F=0;F<w.length;F++){var W=w[F];for(O=F+1;O<w.length;O++){var D=w[O];if(a.overlaps(W.bounds,D.bounds)){var G=W.vertices,z=D.vertices;for(b=0;b<W.vertices.length;b++)for(I=0;I<D.vertices.length;I++){var U=r.magnitudeSquared(r.sub(G[(b+1)%G.length],z[I])),Y=r.magnitudeSquared(r.sub(G[b],z[(I+1)%z.length]));U<V&&Y<V&&(G[b].isInternal=!0,z[I].isInternal=!0)}}}}}return w.length>1?(P=o.create(d.extend({parts:w.slice(0)},c)),o.setPosition(P,{x:l,y:v}),P):w[0]},u.flagCoincidentParts=function(l,v){v===void 0&&(v=5);for(var h=0;h<l.length;h++)for(var c=l[h],p=h+1;p<l.length;p++){var g=l[p];if(a.overlaps(c.bounds,g.bounds))for(var m=c.vertices,y=g.vertices,S=0;S<c.vertices.length;S++)for(var M=0;M<g.vertices.length;M++){var P=r.magnitudeSquared(r.sub(m[(S+1)%m.length],y[M])),w=r.magnitudeSquared(r.sub(m[S],y[(M+1)%y.length]));P<v&&w<v&&(m[S].isInternal=!0,y[M].isInternal=!0)}}return l}})()},74116:(n,C,e)=>{var u={};n.exports=u;var x=e(69351),d=e(48140),o=e(53402),a=e(22562),r=e(66280);(function(){u.stack=function(l,v,h,c,p,g,m){for(var y=x.create({label:"Stack"}),S=l,M=v,P,w=0,R=0;R<c;R++){for(var A=0,L=0;L<h;L++){var F=m(S,M,L,R,P,w);if(F){var O=F.bounds.max.y-F.bounds.min.y,b=F.bounds.max.x-F.bounds.min.x;O>A&&(A=O),a.translate(F,{x:b*.5,y:O*.5}),S=F.bounds.max.x+p,x.addBody(y,F),P=F,w+=1}else S+=p}M+=A+g,S=l}return y},u.chain=function(l,v,h,c,p,g){for(var m=l.bodies,y=1;y<m.length;y++){var S=m[y-1],M=m[y],P=S.bounds.max.y-S.bounds.min.y,w=S.bounds.max.x-S.bounds.min.x,R=M.bounds.max.y-M.bounds.min.y,A=M.bounds.max.x-M.bounds.min.x,L={bodyA:S,pointA:{x:w*v,y:P*h},bodyB:M,pointB:{x:A*c,y:R*p}},F=o.extend(L,g);x.addConstraint(l,d.create(F))}return l.label+=" Chain",l},u.mesh=function(l,v,h,c,p){var g=l.bodies,m,y,S,M,P;for(m=0;m<h;m++){for(y=1;y<v;y++)S=g[y-1+m*v],M=g[y+m*v],x.addConstraint(l,d.create(o.extend({bodyA:S,bodyB:M},p)));if(m>0)for(y=0;y<v;y++)S=g[y+(m-1)*v],M=g[y+m*v],x.addConstraint(l,d.create(o.extend({bodyA:S,bodyB:M},p))),c&&y>0&&(P=g[y-1+(m-1)*v],x.addConstraint(l,d.create(o.extend({bodyA:P,bodyB:M},p)))),c&&y<v-1&&(P=g[y+1+(m-1)*v],x.addConstraint(l,d.create(o.extend({bodyA:P,bodyB:M},p))))}return l.label+=" Mesh",l},u.pyramid=function(l,v,h,c,p,g,m){return u.stack(l,v,h,c,p,g,function(y,S,M,P,w,R){var A=Math.min(c,Math.ceil(h/2)),L=w?w.bounds.max.x-w.bounds.min.x:0;if(!(P>A)){P=A-P;var F=P,O=h-1-P;if(!(M<F||M>O)){R===1&&a.translate(w,{x:(M+(h%2===1?1:-1))*L,y:0});var b=w?M*L:0;return m(l+b+M*p,S,M,P,w,R)}}})},u.newtonsCradle=function(l,v,h,c,p){for(var g=x.create({label:"Newtons Cradle"}),m=0;m<h;m++){var y=1.9,S=r.circle(l+m*(c*y),v+p,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),M=d.create({pointA:{x:l+m*(c*y),y:v},bodyB:S});x.addBody(g,S),x.addConstraint(g,M)}return g},u.car=function(l,v,h,c,p){var g=a.nextGroup(!0),m=20,y=-h*.5+m,S=h*.5-m,M=0,P=x.create({label:"Car"}),w=r.rectangle(l,v,h,c,{collisionFilter:{group:g},chamfer:{radius:c*.5},density:2e-4}),R=r.circle(l+y,v+M,p,{collisionFilter:{group:g},friction:.8}),A=r.circle(l+S,v+M,p,{collisionFilter:{group:g},friction:.8}),L=d.create({bodyB:w,pointB:{x:y,y:M},bodyA:R,stiffness:1,length:0}),F=d.create({bodyB:w,pointB:{x:S,y:M},bodyA:A,stiffness:1,length:0});return x.addBody(P,w),x.addBody(P,R),x.addBody(P,A),x.addConstraint(P,L),x.addConstraint(P,F),P},u.softBody=function(l,v,h,c,p,g,m,y,S,M){S=o.extend({inertia:1/0},S),M=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},M);var P=u.stack(l,v,h,c,p,g,function(w,R){return r.circle(w,R,y,S)});return u.mesh(P,h,c,m,M),P.label="Soft Body",P}})()},66615:(n,C,e)=>{var u={};n.exports=u;var x=e(31725),d=e(53402);(function(){u.fromVertices=function(o){for(var a={},r=0;r<o.length;r++){var l=(r+1)%o.length,v=x.normalise({x:o[l].y-o[r].y,y:o[r].x-o[l].x}),h=v.y===0?1/0:v.x/v.y;h=h.toFixed(3).toString(),a[h]=v}return d.values(a)},u.rotate=function(o,a){if(a!==0)for(var r=Math.cos(a),l=Math.sin(a),v=0;v<o.length;v++){var h=o[v],c;c=h.x*r-h.y*l,h.y=h.x*l+h.y*r,h.x=c}}})()},15647:n=>{var C={};n.exports=C,function(){C.create=function(e){var u={min:{x:0,y:0},max:{x:0,y:0}};return e&&C.update(u,e),u},C.update=function(e,u,x){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var d=0;d<u.length;d++){var o=u[d];o.x>e.max.x&&(e.max.x=o.x),o.x<e.min.x&&(e.min.x=o.x),o.y>e.max.y&&(e.max.y=o.y),o.y<e.min.y&&(e.min.y=o.y)}x&&(x.x>0?e.max.x+=x.x:e.min.x+=x.x,x.y>0?e.max.y+=x.y:e.min.y+=x.y)},C.contains=function(e,u){return u.x>=e.min.x&&u.x<=e.max.x&&u.y>=e.min.y&&u.y<=e.max.y},C.overlaps=function(e,u){return e.min.x<=u.max.x&&e.max.x>=u.min.x&&e.max.y>=u.min.y&&e.min.y<=u.max.y},C.translate=function(e,u){e.min.x+=u.x,e.max.x+=u.x,e.min.y+=u.y,e.max.y+=u.y},C.shift=function(e,u){var x=e.max.x-e.min.x,d=e.max.y-e.min.y;e.min.x=u.x,e.max.x=u.x+x,e.min.y=u.y,e.max.y=u.y+d}}()},74058:(n,C,e)=>{var u={};n.exports=u,e(15647);var x=e(53402);(function(){u.pathToVertices=function(d,o){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var a,r,l,v,h,c,p,g,m,y,S=[],M,P,w=0,R=0,A=0;o=o||15;var L=function(O,b,B){var I=B%2===1&&B>1;if(!m||O!=m.x||b!=m.y){m&&I?(M=m.x,P=m.y):(M=0,P=0);var N={x:M+O,y:P+b};(I||!m)&&(m=N),S.push(N),R=M+O,A=P+b}},F=function(O){var b=O.pathSegTypeAsLetter.toUpperCase();if(b!=="Z"){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":R=O.x,A=O.y;break;case"H":R=O.x;break;case"V":A=O.y;break}L(R,A,O.pathSegType)}};for(u._svgPathToAbsolute(d),l=d.getTotalLength(),c=[],a=0;a<d.pathSegList.numberOfItems;a+=1)c.push(d.pathSegList.getItem(a));for(p=c.concat();w<l;){if(y=d.getPathSegAtLength(w),h=c[y],h!=g){for(;p.length&&p[0]!=h;)F(p.shift());g=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=d.getPointAtLength(w),L(v.x,v.y,0);break}w+=o}for(a=0,r=p.length;a<r;++a)F(p[a]);return S},u._svgPathToAbsolute=function(d){for(var o,a,r,l,v,h,c=d.pathSegList,p=0,g=0,m=c.numberOfItems,y=0;y<m;++y){var S=c.getItem(y),M=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(M))"x"in S&&(p=S.x),"y"in S&&(g=S.y);else switch("x1"in S&&(r=p+S.x1),"x2"in S&&(v=p+S.x2),"y1"in S&&(l=g+S.y1),"y2"in S&&(h=g+S.y2),"x"in S&&(p+=S.x),"y"in S&&(g+=S.y),M){case"m":c.replaceItem(d.createSVGPathSegMovetoAbs(p,g),y);break;case"l":c.replaceItem(d.createSVGPathSegLinetoAbs(p,g),y);break;case"h":c.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(p),y);break;case"v":c.replaceItem(d.createSVGPathSegLinetoVerticalAbs(g),y);break;case"c":c.replaceItem(d.createSVGPathSegCurvetoCubicAbs(p,g,r,l,v,h),y);break;case"s":c.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(p,g,v,h),y);break;case"q":c.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(p,g,r,l),y);break;case"t":c.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(p,g),y);break;case"a":c.replaceItem(d.createSVGPathSegArcAbs(p,g,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),y);break;case"z":case"Z":p=o,g=a;break}(M=="M"||M=="m")&&(o=p,a=g)}}})()},31725:n=>{var C={};n.exports=C,function(){C.create=function(e,u){return{x:e||0,y:u||0}},C.clone=function(e){return{x:e.x,y:e.y}},C.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},C.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},C.rotate=function(e,u,x){var d=Math.cos(u),o=Math.sin(u);x||(x={});var a=e.x*d-e.y*o;return x.y=e.x*o+e.y*d,x.x=a,x},C.rotateAbout=function(e,u,x,d){var o=Math.cos(u),a=Math.sin(u);d||(d={});var r=x.x+((e.x-x.x)*o-(e.y-x.y)*a);return d.y=x.y+((e.x-x.x)*a+(e.y-x.y)*o),d.x=r,d},C.normalise=function(e){var u=C.magnitude(e);return u===0?{x:0,y:0}:{x:e.x/u,y:e.y/u}},C.dot=function(e,u){return e.x*u.x+e.y*u.y},C.cross=function(e,u){return e.x*u.y-e.y*u.x},C.cross3=function(e,u,x){return(u.x-e.x)*(x.y-e.y)-(u.y-e.y)*(x.x-e.x)},C.add=function(e,u,x){return x||(x={}),x.x=e.x+u.x,x.y=e.y+u.y,x},C.sub=function(e,u,x){return x||(x={}),x.x=e.x-u.x,x.y=e.y-u.y,x},C.mult=function(e,u){return{x:e.x*u,y:e.y*u}},C.div=function(e,u){return{x:e.x/u,y:e.y/u}},C.perp=function(e,u){return u=u===!0?-1:1,{x:u*-e.y,y:u*e.x}},C.neg=function(e){return{x:-e.x,y:-e.y}},C.angle=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)},C._temp=[C.create(),C.create(),C.create(),C.create(),C.create(),C.create()]}()},41598:(n,C,e)=>{var u={};n.exports=u;var x=e(31725),d=e(53402);(function(){u.create=function(o,a){for(var r=[],l=0;l<o.length;l++){var v=o[l],h={x:v.x,y:v.y,index:l,body:a,isInternal:!1};r.push(h)}return r},u.fromPath=function(o,a){var r=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,l=[];return o.replace(r,function(v,h,c){l.push({x:parseFloat(h),y:parseFloat(c)})}),u.create(l,a)},u.centre=function(o){for(var a=u.area(o,!0),r={x:0,y:0},l,v,h,c=0;c<o.length;c++)h=(c+1)%o.length,l=x.cross(o[c],o[h]),v=x.mult(x.add(o[c],o[h]),l),r=x.add(r,v);return x.div(r,6*a)},u.mean=function(o){for(var a={x:0,y:0},r=0;r<o.length;r++)a.x+=o[r].x,a.y+=o[r].y;return x.div(a,o.length)},u.area=function(o,a){for(var r=0,l=o.length-1,v=0;v<o.length;v++)r+=(o[l].x-o[v].x)*(o[l].y+o[v].y),l=v;return a?r/2:Math.abs(r)/2},u.inertia=function(o,a){for(var r=0,l=0,v=o,h,c,p=0;p<v.length;p++)c=(p+1)%v.length,h=Math.abs(x.cross(v[c],v[p])),r+=h*(x.dot(v[c],v[c])+x.dot(v[c],v[p])+x.dot(v[p],v[p])),l+=h;return a/6*(r/l)},u.translate=function(o,a,r){r=typeof r<"u"?r:1;var l=o.length,v=a.x*r,h=a.y*r,c;for(c=0;c<l;c++)o[c].x+=v,o[c].y+=h;return o},u.rotate=function(o,a,r){if(a!==0){var l=Math.cos(a),v=Math.sin(a),h=r.x,c=r.y,p=o.length,g,m,y,S;for(S=0;S<p;S++)g=o[S],m=g.x-h,y=g.y-c,g.x=h+(m*l-y*v),g.y=c+(m*v+y*l);return o}},u.contains=function(o,a){for(var r=a.x,l=a.y,v=o.length,h=o[v-1],c,p=0;p<v;p++){if(c=o[p],(r-h.x)*(c.y-h.y)+(l-h.y)*(h.x-c.x)>0)return!1;h=c}return!0},u.scale=function(o,a,r,l){if(a===1&&r===1)return o;l=l||u.centre(o);for(var v,h,c=0;c<o.length;c++)v=o[c],h=x.sub(v,l),o[c].x=l.x+h.x*a,o[c].y=l.y+h.y*r;return o},u.chamfer=function(o,a,r,l,v){typeof a=="number"?a=[a]:a=a||[8],r=typeof r<"u"?r:-1,l=l||2,v=v||14;for(var h=[],c=0;c<o.length;c++){var p=o[c-1>=0?c-1:o.length-1],g=o[c],m=o[(c+1)%o.length],y=a[c<a.length?c:a.length-1];if(y===0){h.push(g);continue}var S=x.normalise({x:g.y-p.y,y:p.x-g.x}),M=x.normalise({x:m.y-g.y,y:g.x-m.x}),P=Math.sqrt(2*Math.pow(y,2)),w=x.mult(d.clone(S),y),R=x.normalise(x.mult(x.add(S,M),.5)),A=x.sub(g,x.mult(R,P)),L=r;r===-1&&(L=Math.pow(y,.32)*1.75),L=d.clamp(L,l,v),L%2===1&&(L+=1);for(var F=Math.acos(x.dot(S,M)),O=F/L,b=0;b<L;b++)h.push(x.add(x.rotate(w,O*b),A))}return h},u.clockwiseSort=function(o){var a=u.mean(o);return o.sort(function(r,l){return x.angle(a,r)-x.angle(a,l)}),o},u.isConvex=function(o){var a=0,r=o.length,l,v,h,c;if(r<3)return null;for(l=0;l<r;l++)if(v=(l+1)%r,h=(l+2)%r,c=(o[v].x-o[l].x)*(o[h].y-o[v].y),c-=(o[v].y-o[l].y)*(o[h].x-o[v].x),c<0?a|=1:c>0&&(a|=2),a===3)return!1;return a!==0?!0:null},u.hull=function(o){var a=[],r=[],l,v;for(o=o.slice(0),o.sort(function(h,c){var p=h.x-c.x;return p!==0?p:h.y-c.y}),v=0;v<o.length;v+=1){for(l=o[v];r.length>=2&&x.cross3(r[r.length-2],r[r.length-1],l)<=0;)r.pop();r.push(l)}for(v=o.length-1;v>=0;v-=1){for(l=o[v];a.length>=2&&x.cross3(a[a.length-2],a[a.length-1],l)<=0;)a.pop();a.push(l)}return a.pop(),r.pop(),a.concat(r)}})()},18210:(n,C,e)=>{var u=e(19933),x={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(d){d.after("Body.create",function(){x.Body.init(this)}),d.before("Engine.update",function(o){x.Engine.update(o)})},Body:{init:function(d){d.plugin.attractors=d.plugin.attractors||[]}},Engine:{update:function(d){for(var o=u.Composite.allBodies(d.world),a=0;a<o.length;a++){var r=o[a],l=r.plugin.attractors;if(l&&l.length>0)for(var v=0;v<o.length;v++){var h=o[v];if(a!==v)for(var c=0;c<l.length;c++){var p=l[c],g=p;u.Common.isFunction(p)&&(g=p(r,h)),g&&u.Body.applyForce(h,h.position,g)}}}}},Attractors:{gravityConstant:.001,gravity:function(d,o){var a=u.Vector.sub(o.position,d.position),r=u.Vector.magnitudeSquared(a)||1e-4,l=u.Vector.normalise(a),v=-x.Attractors.gravityConstant*(d.mass*o.mass/r),h=u.Vector.mult(l,v);u.Body.applyForce(d,d.position,u.Vector.neg(h)),u.Body.applyForce(o,o.position,h)}}};n.exports=x},40178:n=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(u){u.pairs.map(function(x){var d=x.bodyA,o=x.bodyB;d.gameObject&&d.gameObject.emit("collide",d,o,x),o.gameObject&&o.gameObject.emit("collide",o,d,x),e.Events.trigger(d,"onCollide",{pair:x}),e.Events.trigger(o,"onCollide",{pair:x}),d.onCollideCallback&&d.onCollideCallback(x),o.onCollideCallback&&o.onCollideCallback(x),d.onCollideWith[o.id]&&d.onCollideWith[o.id](o,x),o.onCollideWith[d.id]&&o.onCollideWith[d.id](d,x)})}),e.Events.on(this,"collisionActive",function(u){u.pairs.map(function(x){var d=x.bodyA,o=x.bodyB;d.gameObject&&d.gameObject.emit("collideActive",d,o,x),o.gameObject&&o.gameObject.emit("collideActive",o,d,x),e.Events.trigger(d,"onCollideActive",{pair:x}),e.Events.trigger(o,"onCollideActive",{pair:x}),d.onCollideActiveCallback&&d.onCollideActiveCallback(x),o.onCollideActiveCallback&&o.onCollideActiveCallback(x)})}),e.Events.on(this,"collisionEnd",function(u){u.pairs.map(function(x){var d=x.bodyA,o=x.bodyB;d.gameObject&&d.gameObject.emit("collideEnd",d,o,x),o.gameObject&&o.gameObject.emit("collideEnd",o,d,x),e.Events.trigger(d,"onCollideEnd",{pair:x}),e.Events.trigger(o,"onCollideEnd",{pair:x}),d.onCollideEndCallback&&d.onCollideEndCallback(x),o.onCollideEndCallback&&o.onCollideEndCallback(x)})})})}};n.exports=C},74507:(n,C,e)=>{var u=e(19933),x={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(d){d.after("Engine.update",function(){x.Engine.update(this)})},Engine:{update:function(d){for(var o=d.world,a=u.Composite.allBodies(o),r=u.Composite.allComposites(o),l=0;l<a.length;l+=1){var v=a[l];v.plugin.wrap&&x.Body.wrap(v,v.plugin.wrap)}for(l=0;l<r.length;l+=1){var h=r[l];h.plugin.wrap&&x.Composite.wrap(h,h.plugin.wrap)}}},Bounds:{wrap:function(d,o){var a=null,r=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(d.min.x>o.max.x?a=o.min.x-d.max.x:d.max.x<o.min.x&&(a=o.max.x-d.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(d.min.y>o.max.y?r=o.min.y-d.max.y:d.max.y<o.min.y&&(r=o.max.y-d.min.y)),a!==null||r!==null)return{x:a||0,y:r||0}}},Body:{wrap:function(d,o){var a=x.Bounds.wrap(d.bounds,o);return a&&u.Body.translate(d,a),a}},Composite:{bounds:function(d){for(var o=u.Composite.allBodies(d),a=[],r=0;r<o.length;r+=1){var l=o[r];a.push(l.bounds.min,l.bounds.max)}return u.Bounds.create(a)},wrap:function(d,o){var a=x.Bounds.wrap(x.Composite.bounds(d),o);return a&&u.Composite.translate(d,a),a}}};n.exports=x},55973:n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:F,quickDecomp:I,isSimple:b,removeCollinearPoints:N,removeDuplicatePoints:X,makeCCW:m};function C(V,W,D){D=D||0;var G=[0,0],z,U,Y,$,K,Z,J;return z=V[1][1]-V[0][1],U=V[0][0]-V[1][0],Y=z*V[0][0]+U*V[0][1],$=W[1][1]-W[0][1],K=W[0][0]-W[1][0],Z=$*W[0][0]+K*W[0][1],J=z*K-$*U,k(J,0,D)||(G[0]=(K*Y-U*Z)/J,G[1]=(z*Z-$*Y)/J),G}function e(V,W,D,G){var z=W[0]-V[0],U=W[1]-V[1],Y=G[0]-D[0],$=G[1]-D[1];if(Y*U-$*z===0)return!1;var K=(z*(D[1]-V[1])+U*(V[0]-D[0]))/(Y*U-$*z),Z=(Y*(V[1]-D[1])+$*(D[0]-V[0]))/($*z-Y*U);return K>=0&&K<=1&&Z>=0&&Z<=1}function u(V,W,D){return(W[0]-V[0])*(D[1]-V[1])-(D[0]-V[0])*(W[1]-V[1])}function x(V,W,D){return u(V,W,D)>0}function d(V,W,D){return u(V,W,D)>=0}function o(V,W,D){return u(V,W,D)<0}function a(V,W,D){return u(V,W,D)<=0}var r=[],l=[];function v(V,W,D,G){if(G){var z=r,U=l;z[0]=W[0]-V[0],z[1]=W[1]-V[1],U[0]=D[0]-W[0],U[1]=D[1]-W[1];var Y=z[0]*U[0]+z[1]*U[1],$=Math.sqrt(z[0]*z[0]+z[1]*z[1]),K=Math.sqrt(U[0]*U[0]+U[1]*U[1]),Z=Math.acos(Y/($*K));return Z<G}else return u(V,W,D)===0}function h(V,W){var D=W[0]-V[0],G=W[1]-V[1];return D*D+G*G}function c(V,W){var D=V.length;return V[W<0?W%D+D:W%D]}function p(V){V.length=0}function g(V,W,D,G){for(var z=D;z<G;z++)V.push(W[z])}function m(V){for(var W=0,D=V,G=1;G<V.length;++G)(D[G][1]<D[W][1]||D[G][1]===D[W][1]&&D[G][0]>D[W][0])&&(W=G);return x(c(V,W-1),c(V,W),c(V,W+1))?!1:(y(V),!0)}function y(V){for(var W=[],D=V.length,G=0;G!==D;G++)W.push(V.pop());for(var G=0;G!==D;G++)V[G]=W[G]}function S(V,W){return o(c(V,W-1),c(V,W),c(V,W+1))}var M=[],P=[];function w(V,W,D){var G,z,U=M,Y=P;if(d(c(V,W+1),c(V,W),c(V,D))&&a(c(V,W-1),c(V,W),c(V,D)))return!1;z=h(c(V,W),c(V,D));for(var $=0;$!==V.length;++$)if(!(($+1)%V.length===W||$===W)&&d(c(V,W),c(V,D),c(V,$+1))&&a(c(V,W),c(V,D),c(V,$))&&(U[0]=c(V,W),U[1]=c(V,D),Y[0]=c(V,$),Y[1]=c(V,$+1),G=C(U,Y),h(c(V,W),G)<z))return!1;return!0}function R(V,W,D){for(var G=0;G!==V.length;++G)if(!(G===W||G===D||(G+1)%V.length===W||(G+1)%V.length===D)&&e(c(V,W),c(V,D),c(V,G),c(V,G+1)))return!1;return!0}function A(V,W,D,G){var z=G||[];if(p(z),W<D)for(var U=W;U<=D;U++)z.push(V[U]);else{for(var U=0;U<=D;U++)z.push(V[U]);for(var U=W;U<V.length;U++)z.push(V[U])}return z}function L(V){for(var W=[],D=[],G=[],z=[],U=Number.MAX_VALUE,Y=0;Y<V.length;++Y)if(S(V,Y)){for(var $=0;$<V.length;++$)if(w(V,Y,$)){D=L(A(V,Y,$,z)),G=L(A(V,$,Y,z));for(var K=0;K<G.length;K++)D.push(G[K]);D.length<U&&(W=D,U=D.length,W.push([c(V,Y),c(V,$)]))}}return W}function F(V){var W=L(V);return W.length>0?O(V,W):[V]}function O(V,W){if(W.length===0)return[V];if(W instanceof Array&&W.length&&W[0]instanceof Array&&W[0].length===2&&W[0][0]instanceof Array){for(var D=[V],G=0;G<W.length;G++)for(var z=W[G],U=0;U<D.length;U++){var Y=D[U],$=O(Y,z);if($){D.splice(U,1),D.push($[0],$[1]);break}}return D}else{var z=W,G=V.indexOf(z[0]),U=V.indexOf(z[1]);return G!==-1&&U!==-1?[A(V,G,U),A(V,U,G)]:!1}}function b(V){var W=V,D;for(D=0;D<W.length-1;D++)for(var G=0;G<D-1;G++)if(e(W[D],W[D+1],W[G],W[G+1]))return!1;for(D=1;D<W.length-2;D++)if(e(W[0],W[W.length-1],W[D],W[D+1]))return!1;return!0}function B(V,W,D,G,z){z=z||0;var U=W[1]-V[1],Y=V[0]-W[0],$=U*V[0]+Y*V[1],K=G[1]-D[1],Z=D[0]-G[0],J=K*D[0]+Z*D[1],Q=U*Z-K*Y;return k(Q,0,z)?[0,0]:[(Z*$-Y*J)/Q,(U*J-K*$)/Q]}function I(V,W,D,G,z,U,Y){U=U||100,Y=Y||0,z=z||25,W=typeof W<"u"?W:[],D=D||[],G=G||[];var $=[0,0],K=[0,0],Z=[0,0],J=0,Q=0,j=0,_=0,q=0,it=0,at=0,ot=[],ht=[],tt=V,nt=V;if(nt.length<3)return W;if(Y++,Y>U)return console.warn("quickDecomp: max level ("+U+") reached."),W;for(var rt=0;rt<V.length;++rt)if(S(tt,rt)){D.push(tt[rt]),J=Q=Number.MAX_VALUE;for(var vt=0;vt<V.length;++vt)x(c(tt,rt-1),c(tt,rt),c(tt,vt))&&a(c(tt,rt-1),c(tt,rt),c(tt,vt-1))&&(Z=B(c(tt,rt-1),c(tt,rt),c(tt,vt),c(tt,vt-1)),o(c(tt,rt+1),c(tt,rt),Z)&&(j=h(tt[rt],Z),j<Q&&(Q=j,K=Z,it=vt))),x(c(tt,rt+1),c(tt,rt),c(tt,vt+1))&&a(c(tt,rt+1),c(tt,rt),c(tt,vt))&&(Z=B(c(tt,rt+1),c(tt,rt),c(tt,vt),c(tt,vt+1)),x(c(tt,rt-1),c(tt,rt),Z)&&(j=h(tt[rt],Z),j<J&&(J=j,$=Z,q=vt)));if(it===(q+1)%V.length)Z[0]=(K[0]+$[0])/2,Z[1]=(K[1]+$[1])/2,G.push(Z),rt<q?(g(ot,tt,rt,q+1),ot.push(Z),ht.push(Z),it!==0&&g(ht,tt,it,tt.length),g(ht,tt,0,rt+1)):(rt!==0&&g(ot,tt,rt,tt.length),g(ot,tt,0,q+1),ot.push(Z),ht.push(Z),g(ht,tt,it,rt+1));else{if(it>q&&(q+=V.length),_=Number.MAX_VALUE,q<it)return W;for(var vt=it;vt<=q;++vt)d(c(tt,rt-1),c(tt,rt),c(tt,vt))&&a(c(tt,rt+1),c(tt,rt),c(tt,vt))&&(j=h(c(tt,rt),c(tt,vt)),j<_&&R(tt,rt,vt)&&(_=j,at=vt%V.length));rt<at?(g(ot,tt,rt,at+1),at!==0&&g(ht,tt,at,nt.length),g(ht,tt,0,rt+1)):(rt!==0&&g(ot,tt,rt,nt.length),g(ot,tt,0,at+1),g(ht,tt,at,rt+1))}return ot.length<ht.length?(I(ot,W,D,G,z,U,Y),I(ht,W,D,G,z,U,Y)):(I(ht,W,D,G,z,U,Y),I(ot,W,D,G,z,U,Y)),W}return W.push(V),W}function N(V,W){for(var D=0,G=V.length-1;V.length>3&&G>=0;--G)v(c(V,G-1),c(V,G),c(V,G+1),W)&&(V.splice(G%V.length,1),D++);return D}function X(V,W){for(var D=V.length-1;D>=1;--D)for(var G=V[D],z=D-1;z>=0;--z)if(H(G,V[z],W)){V.splice(D,1);continue}}function k(V,W,D){return D=D||0,Math.abs(V-W)<=D}function H(V,W,D){return k(V[0],W[0],D)&&k(V[1],W[1],D)}},52018:(n,C,e)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=e(83419),x=new u({initialize:function(o){this.pluginManager=o,this.game=o.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=x},42363:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=C},37277:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},e={},u={};u.register=function(x,d,o,a){a===void 0&&(a=!1),C[x]={plugin:d,mapping:o,custom:a}},u.registerCustom=function(x,d,o,a){e[x]={plugin:d,mapping:o,data:a}},u.hasCore=function(x){return C.hasOwnProperty(x)},u.hasCustom=function(x){return e.hasOwnProperty(x)},u.getCore=function(x){return C[x]},u.getCustom=function(x){return e[x]},u.getCustomClass=function(x){return e.hasOwnProperty(x)?e[x].plugin:null},u.remove=function(x){C.hasOwnProperty(x)&&delete C[x]},u.removeCustom=function(x){e.hasOwnProperty(x)&&delete e[x]},u.destroyCorePlugins=function(){for(var x in C)C.hasOwnProperty(x)&&delete C[x]},u.destroyCustomPlugins=function(){for(var x in e)e.hasOwnProperty(x)&&delete e[x]},n.exports=u},77332:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(8443),d=e(50792),o=e(74099),a=e(44603),r=e(39429),l=e(95540),v=e(37277),h=e(72905),c=new u({Extends:d,initialize:function(g){d.call(this),this.game=g,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],g.isBooted?this.boot():g.events.once(x.BOOT,this.boot,this)},boot:function(){var p,g,m,y,S,M,P,w=this.game.config,R=w.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),p=0;p<R.length;p++)g=R[p],m=l(g,"key",null),y=l(g,"plugin",null),S=l(g,"start",!1),M=l(g,"mapping",null),P=l(g,"data",null),m&&(y?this.install(m,y,S,M,P):console.warn("Missing `plugin` for key: "+m));for(R=w.installScenePlugins,R=R.concat(this._pendingScene),p=0;p<R.length;p++)g=R[p],m=l(g,"key",null),y=l(g,"plugin",null),M=l(g,"mapping",null),m&&(y?this.installScenePlugin(m,y,M):console.warn("Missing `plugin` for key: "+m));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(p,g,m){var y,S,M,P=this.game,w=p.scene,R=p.settings.map,A=p.settings.isBooted;for(y=0;y<g.length;y++)S=g[y],P[S]?(p[S]=P[S],R.hasOwnProperty(S)&&(w[R[S]]=p[S])):S==="game"&&R.hasOwnProperty(S)&&(w[R[S]]=P);for(var L=0;L<m.length;L++)for(M=m[L],y=0;y<M.length;y++)if(S=M[y],!!v.hasCore(S)){var F=v.getCore(S),O=F.mapping,b=new F.plugin(w,this,O);p[O]=b,F.custom?w[O]=b:R.hasOwnProperty(O)&&(w[R[O]]=b),A&&b.boot()}for(M=this.plugins,y=0;y<M.length;y++){var B=M[y];B.mapping&&(w[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,g,m,y,S){if(S===void 0&&(S=!1),typeof g!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(v.hasCore(p)||v.register(p,g,m,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!S&&v.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(y){var M=new g(y,this,p);y.sys[p]=M,m&&m!==""&&(y[m]=M),M.boot()}},install:function(p,g,m,y,S){if(m===void 0&&(m=!1),y===void 0&&(y=null),S===void 0&&(S=null),typeof g!="function")return console.warn("Invalid Plugin: "+p),null;if(v.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(y!==null&&(m=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:g,start:m,mapping:y,data:S});else if(v.registerCustom(p,g,y,S),m)return this.start(p);return null},getIndex:function(p){for(var g=this.plugins,m=0;m<g.length;m++){var y=g[m];if(y.key===p)return m}return-1},getEntry:function(p){var g=this.getIndex(p);if(g!==-1)return this.plugins[g]},isActive:function(p){var g=this.getEntry(p);return g&&g.active},start:function(p,g){g===void 0&&(g=p);var m=this.getEntry(g);return m&&!m.active?(m.active=!0,m.plugin.start()):m||(m=this.createEntry(p,g)),m?m.plugin:null},createEntry:function(p,g){var m=v.getCustom(p);if(m){var y=new m.plugin(this);m={key:g,plugin:y,active:!0,mapping:m.mapping,data:m.data},this.plugins.push(m),y.init(m.data),y.start()}return m},stop:function(p){var g=this.getEntry(p);return g&&g.active&&(g.active=!1,g.plugin.stop()),this},get:function(p,g){g===void 0&&(g=!0);var m=this.getEntry(p);if(m)return m.plugin;var y=this.getClass(p);return y&&g?(m=this.createEntry(p,p),m?m.plugin:null):y||null},getClass:function(p){return v.getCustomClass(p)},removeGlobalPlugin:function(p){var g=this.getEntry(p);g&&h(this.plugins,g),v.removeCustom(p)},removeScenePlugin:function(p){h(this.scenePlugins,p),v.remove(p)},registerGameObject:function(p,g,m){return g&&r.register(p,g),m&&a.register(p,m),this},removeGameObject:function(p,g,m){return g===void 0&&(g=!0),m===void 0&&(m=!0),g&&r.remove(p),m&&a.remove(p),this},registerFileType:function(p,g,m){o.register(p,g),m&&m.sys.load&&(m.sys.load[p]=g)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});n.exports=c},45145:(n,C,e)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=e(52018),x=e(83419),d=e(44594),o=new x({Extends:u,initialize:function(r,l,v){u.call(this,l),this.scene=r,this.systems=r.sys,this.pluginKey=v,r.sys.events.once(d.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=o},18922:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:e(52018),DefaultPlugins:e(42363),PluginCache:e(37277),PluginManager:e(77332),ScenePlugin:e(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const C=performance.now(),e=this.getVideoPlaybackQuality(),u=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-e.droppedVideoFrames,x=(d,o)=>{const a=this.getVideoPlaybackQuality(),r=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames;if(r>u){const l=this.mozFrameDelay||a.totalFrameDelay-e.totalFrameDelay||0,v=o-d;n(o,{presentationTime:o+l*1e3,expectedDisplayTime:o+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:r,processingDuration:l}),delete this._rvfcpolyfillmap[C]}else this._rvfcpolyfillmap[C]=requestAnimationFrame(l=>x(o,l))};return this._rvfcpolyfillmap[C]=requestAnimationFrame(d=>x(C,d)),C},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})},10312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=C},68627:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19715),x=e(32880),d=e(83419),o=e(8054),a=e(50792),r=e(92503),l=e(56373),v=e(97480),h=e(69442),c=e(61340),p=new d({Extends:a,initialize:function(m){a.call(this);var y=m.config;this.config={clearBeforeRender:y.clearBeforeRender,backgroundColor:y.backgroundColor,antialias:y.antialias,roundPixels:y.roundPixels},this.game=m,this.type=o.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=m.canvas;var S={alpha:m.config.transparent,desynchronized:m.config.desynchronized,willReadFrequently:!1};this.gameContext=y.context?y.context:this.gameCanvas.getContext("2d",S),this.currentContext=this.gameContext,this.antialias=m.config.antialias,this.blendModes=l(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(h.READY,this.boot,this)},boot:function(){var g=this.game,m=g.scale.baseSize;this.width=m.width,this.height=m.height,this.isBooted=!0,g.scale.on(v.RESIZE,this.onResize,this),this.resize(m.width,m.height)},onResize:function(g,m){(m.width!==this.width||m.height!==this.height)&&this.resize(m.width,m.height)},resize:function(g,m){this.width=g,this.height=m,this.emit(r.RESIZE,g,m)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(g){return this.currentContext.globalCompositeOperation=g,this},setContext:function(g){return this.currentContext=g||this.gameContext,this},setAlpha:function(g){return this.currentContext.globalAlpha=g,this},preRender:function(){var g=this.gameContext,m=this.config,y=this.width,S=this.height;g.globalAlpha=1,g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0),m.clearBeforeRender&&(g.clearRect(0,0,y,S),m.transparent||(g.fillStyle=m.backgroundColor.rgba,g.fillRect(0,0,y,S))),g.save(),this.drawCount=0,this.emit(r.PRE_RENDER)},render:function(g,m,y){var S=m.length;this.emit(r.RENDER,g,y);var M=y.x,P=y.y,w=y.width,R=y.height,A=y.renderToTexture?y.context:g.sys.context;A.save(),this.game.scene.customViewports&&(A.beginPath(),A.rect(M,P,w,R),A.clip()),y.emit(u.PRE_RENDER,y),this.currentContext=A;var L=y.mask;L&&L.preRenderCanvas(this,null,y._maskCamera),y.transparent||(A.fillStyle=y.backgroundColor.rgba,A.fillRect(M,P,w,R)),A.globalAlpha=y.alpha,A.globalCompositeOperation="source-over",this.drawCount+=S,y.renderToTexture&&y.emit(u.PRE_RENDER,y),y.matrix.copyToContext(A);for(var F=0;F<S;F++){var O=m[F];O.mask&&O.mask.preRenderCanvas(this,O,y),O.renderCanvas(this,O,y),O.mask&&O.mask.postRenderCanvas(this,O,y)}A.setTransform(1,0,0,1,0,0),A.globalCompositeOperation="source-over",A.globalAlpha=1,y.flashEffect.postRenderCanvas(A),y.fadeEffect.postRenderCanvas(A),y.dirty=!1,L&&L.postRenderCanvas(this),A.restore(),y.renderToTexture&&(y.emit(u.POST_RENDER,y),y.renderToGame&&g.sys.context.drawImage(y.canvas,M,P)),y.emit(u.POST_RENDER,y)},postRender:function(){var g=this.gameContext;g.restore(),this.emit(r.POST_RENDER);var m=this.snapshotState;m.callback&&(x(this.gameCanvas,m),m.callback=null)},snapshotCanvas:function(g,m,y,S,M,P,w,R,A){y===void 0&&(y=!1),this.snapshotArea(S,M,P,w,m,R,A);var L=this.snapshotState;return L.getPixel=y,x(g,L),L.callback=null,this},snapshot:function(g,m,y){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,g,m,y)},snapshotArea:function(g,m,y,S,M,P,w){var R=this.snapshotState;return R.callback=M,R.type=P,R.encoder=w,R.getPixel=!1,R.x=g,R.y=m,R.width=Math.min(y,this.gameCanvas.width),R.height=Math.min(S,this.gameCanvas.height),this},snapshotPixel:function(g,m,y){return this.snapshotArea(g,m,1,1,y),this.snapshotState.getPixel=!0,this},batchSprite:function(g,m,y,S){var M=y.alpha*g.alpha;if(M!==0){var P=this.currentContext,w=this._tempMatrix1,R=this._tempMatrix2,A=m.canvasData,L=A.x,F=A.y,O=m.cutWidth,b=m.cutHeight,B=m.customPivot,I=m.source.resolution,N=g.displayOriginX,X=g.displayOriginY,k=-N+m.x,H=-X+m.y;if(g.isCropped){var V=g._crop;(V.flipX!==g.flipX||V.flipY!==g.flipY)&&m.updateCropUVs(V,g.flipX,g.flipY),O=V.cw,b=V.ch,L=V.cx,F=V.cy,k=-N+V.x,H=-X+V.y,g.flipX&&(k>=0?k=-(k+O):k<0&&(k=Math.abs(k)-O)),g.flipY&&(H>=0?H=-(H+b):H<0&&(H=Math.abs(H)-b))}var W=1,D=1;g.flipX&&(B||(k+=-m.realWidth+N*2),W=-1),g.flipY&&(B||(H+=-m.realHeight+X*2),D=-1);var G=g.x,z=g.y;R.applyITRS(G,z,g.rotation,g.scaleX*W,g.scaleY*D),w.copyFrom(y.matrix),S?(w.multiplyWithOffset(S,-y.scrollX*g.scrollFactorX,-y.scrollY*g.scrollFactorY),R.e=G,R.f=z):(R.e-=y.scrollX*g.scrollFactorX,R.f-=y.scrollY*g.scrollFactorY),w.multiply(R),y.roundPixels&&(w.e=Math.round(w.e),w.f=Math.round(w.f)),P.save(),w.setToContext(P),P.globalCompositeOperation=this.blendModes[g.blendMode],P.globalAlpha=M,P.imageSmoothingEnabled=!m.source.scaleMode,g.mask&&g.mask.preRenderCanvas(this,g,y),O>0&&b>0&&(y.roundPixels?P.drawImage(m.source.image,L,F,O,b,Math.round(k),Math.round(H),Math.round(O/I),Math.round(b/I)):P.drawImage(m.source.image,L,F,O,b,k,H,O/I,b/I)),g.mask&&g.mask.postRenderCanvas(this,g,y),P.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});n.exports=p},55830:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:e(68627),GetBlendModes:e(56373),SetTransform:e(20926)}},56373:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),x=e(89289),d=function(){var o=[],a=x.supportNewBlendModes,r="source-over";return o[u.NORMAL]=r,o[u.ADD]="lighter",o[u.MULTIPLY]=a?"multiply":r,o[u.SCREEN]=a?"screen":r,o[u.OVERLAY]=a?"overlay":r,o[u.DARKEN]=a?"darken":r,o[u.LIGHTEN]=a?"lighten":r,o[u.COLOR_DODGE]=a?"color-dodge":r,o[u.COLOR_BURN]=a?"color-burn":r,o[u.HARD_LIGHT]=a?"hard-light":r,o[u.SOFT_LIGHT]=a?"soft-light":r,o[u.DIFFERENCE]=a?"difference":r,o[u.EXCLUSION]=a?"exclusion":r,o[u.HUE]=a?"hue":r,o[u.SATURATION]=a?"saturation":r,o[u.COLOR]=a?"color":r,o[u.LUMINOSITY]=a?"luminosity":r,o[u.ERASE]="destination-out",o[u.SOURCE_IN]="source-in",o[u.SOURCE_OUT]="source-out",o[u.SOURCE_ATOP]="source-atop",o[u.DESTINATION_OVER]="destination-over",o[u.DESTINATION_IN]="destination-in",o[u.DESTINATION_OUT]="destination-out",o[u.DESTINATION_ATOP]="destination-atop",o[u.LIGHTER]="lighter",o[u.COPY]="copy",o[u.XOR]="xor",o};n.exports=d},20926:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91296),x=function(d,o,a,r,l){var v=r.alpha*a.alpha;if(v<=0)return!1;var h=u(a,r,l).calc;return o.globalCompositeOperation=d.blendModes[a.blendMode],o.globalAlpha=v,o.save(),h.setToContext(o),o.imageSmoothingEnabled=a.frame?!a.frame.source.scaleMode:d.antialias,!0};n.exports=x},63899:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"},6119:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},48070:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},15640:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},8912:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},87124:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"},92503:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:e(63899),POST_RENDER:e(6119),PRE_RENDER:e(48070),RENDER:e(15640),RESIZE:e(8912),RESTORE_WEBGL:e(87124)}},36909:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:e(92503),Snapshot:e(89966)},n.exports.Canvas=e(55830),n.exports.WebGL=e(4159)},32880:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),x=e(40987),d=e(95540),o=function(a,r){var l=d(r,"callback"),v=d(r,"type","image/png"),h=d(r,"encoder",.92),c=Math.abs(Math.round(d(r,"x",0))),p=Math.abs(Math.round(d(r,"y",0))),g=Math.floor(d(r,"width",a.width)),m=Math.floor(d(r,"height",a.height)),y=d(r,"getPixel",!1);if(y){var S=a.getContext("2d",{willReadFrequently:!1}),M=S.getImageData(c,p,1,1),P=M.data;l.call(null,new x(P[0],P[1],P[2],P[3]))}else if(c!==0||p!==0||g!==a.width||m!==a.height){var w=u.createWebGL(this,g,m),R=w.getContext("2d",{willReadFrequently:!0});g>0&&m>0&&R.drawImage(a,c,p,g,m,0,0,g,m);var A=new Image;A.onerror=function(){l.call(null),u.remove(w)},A.onload=function(){l.call(null,A),u.remove(w)},A.src=w.toDataURL(v,h)}else{var L=new Image;L.onerror=function(){l.call(null)},L.onload=function(){l.call(null,L)},L.src=a.toDataURL(v,h)}};n.exports=o},88815:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),x=e(40987),d=e(95540),o=function(a,r){var l=a,v=d(r,"callback"),h=d(r,"type","image/png"),c=d(r,"encoder",.92),p=Math.abs(Math.round(d(r,"x",0))),g=Math.abs(Math.round(d(r,"y",0))),m=d(r,"getPixel",!1),y=d(r,"isFramebuffer",!1),S=y?d(r,"bufferWidth",1):l.drawingBufferWidth,M=y?d(r,"bufferHeight",1):l.drawingBufferHeight;if(m){var P=new Uint8Array(4),w=y?g:M-g;l.readPixels(p,w,1,1,l.RGBA,l.UNSIGNED_BYTE,P),v.call(null,new x(P[0],P[1],P[2],P[3]))}else{var R=Math.floor(d(r,"width",S)),A=Math.floor(d(r,"height",M)),L=R*A*4,F=new Uint8Array(L);l.readPixels(p,M-g-A,R,A,l.RGBA,l.UNSIGNED_BYTE,F);for(var O=u.createWebGL(this,R,A),b=O.getContext("2d",{willReadFrequently:!0}),B=b.getImageData(0,0,R,A),I=B.data,N=0;N<A;N++)for(var X=0;X<R;X++){var k=((A-N-1)*R+X)*4,H=y?L-(N*R+(R-X))*4:(N*R+X)*4;I[H+0]=F[k+0],I[H+1]=F[k+1],I[H+2]=F[k+2],I[H+3]=F[k+3]}b.putImageData(B,0,0);var V=new Image;V.onerror=function(){v.call(null),u.remove(O)},V.onload=function(){v.call(null,V),u.remove(O)},V.src=O.toDataURL(h,c)}};n.exports=o},89966:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:e(32880),WebGL:e(88815)}},7530:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(36060),d=e(90330),o=e(82264),a=e(95540),r=e(32302),l=e(63448),v=e(31302),h=e(58918),c=e(14811),p=e(92651),g=e(96569),m=e(56527),y=e(57516),S=e(43439),M=e(81041),P=e(12385),w=e(7589),R=e(95428),A=e(72905),L=new u({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new d([[x.UTILITY_PIPELINE,w],[x.MULTI_PIPELINE,y],[x.BITMAPMASK_PIPELINE,v],[x.SINGLE_PIPELINE,P],[x.ROPE_PIPELINE,M],[x.LIGHT_PIPELINE,g],[x.POINTLIGHT_PIPELINE,S],[x.MOBILE_PIPELINE,m]]),this.postPipelineClasses=new d,this.pipelines=new d,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(F,O,b){var B=this.renderer,I=this.renderTargets;this.frameInc=Math.floor(a(F,"frameInc",32));var N=B.width,X=B.height,k=this.game.config.disablePreFX,H=this.game.config.disablePostFX;if(H||this.postPipelineClasses.setAll([[String(c.BARREL),h.Barrel],[String(c.BLOOM),h.Bloom],[String(c.BLUR),h.Blur],[String(c.BOKEH),h.Bokeh],[String(c.CIRCLE),h.Circle],[String(c.COLOR_MATRIX),h.ColorMatrix],[String(c.DISPLACEMENT),h.Displacement],[String(c.GLOW),h.Glow],[String(c.GRADIENT),h.Gradient],[String(c.PIXELATE),h.Pixelate],[String(c.SHADOW),h.Shadow],[String(c.SHINE),h.Shine],[String(c.VIGNETTE),h.Vignette],[String(c.WIPE),h.Wipe]]),!k){this.classes.set(x.FX_PIPELINE,p);for(var V=Math.min(N,X),W=Math.ceil(V/this.frameInc),D=1;D<W;D++){var G=D*this.frameInc;I.push(new r(B,G,G)),I.push(new r(B,G,G)),I.push(new r(B,G,G)),this.maxDimension=G}I.push(new r(B,N,X,1,0,!0,!0)),I.push(new r(B,N,X,1,0,!0,!0)),I.push(new r(B,N,X,1,0,!0,!0))}var z,U,Y=this,$=this.game;if(this.classes.each(function(Z,J){z=Y.add(Z,new J({game:$})),Z===x.UTILITY_PIPELINE&&(Y.UTILITY_PIPELINE=z,Y.fullFrame1=z.fullFrame1,Y.fullFrame2=z.fullFrame2,Y.halfFrame1=z.halfFrame1,Y.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),k||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),F)for(U in F){var K=F[U];z=new K($),z.name=U,z.isPostFX?this.postPipelineClasses.set(U,K):this.has(U)||(this.classes.set(U,K),this.add(U,z))}this.default=this.get(O),b&&!o.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(F){var O=this.get(F);return O&&(this.default=O),O},add:function(F,O){if(O.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var b=this.pipelines,B=this.renderer;return b.has(F)?console.warn("Pipeline exists: "+F):(O.name=F,O.manager=this,b.set(F,O)),O.hasBooted||O.boot(),B.width!==0&&B.height!==0&&!O.isPreFX&&O.resize(B.width,B.height),O},addPostPipeline:function(F,O){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,O)},flush:function(){this.current&&this.current.flush()},has:function(F){var O=this.pipelines;return typeof F=="string"?O.has(F):!!O.contains(F)},get:function(F){var O=this.pipelines;if(typeof F=="string")return O.get(F);if(O.contains(F))return F},getPostPipeline:function(F,O,b){var B=this.postPipelineClasses,I,N="",X=typeof F;if(X==="string"||X==="number"?(I=B.get(F),N=F):X==="function"?(B.contains(F)&&(I=F),N=F.name):X==="object"&&(I=B.get(F.name),N=F.name),I){var k=new I(this.game,b);return k.name=N,O&&(k.gameObject=O),this.postPipelineInstances.push(k),k}},removePostPipeline:function(F){A(this.postPipelineInstances,F)},remove:function(F,O,b){O===void 0&&(O=!0),b===void 0&&(b=!0),this.pipelines.delete(F),O&&this.classes.delete(F),b&&this.postPipelineClasses.delete(F)},set:function(F,O,b){if(!F.isPostFX)return this.isCurrent(F,b)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(b)),F.updateProjectionMatrix(),F.onBind(O),F},preBatch:function(F){if(F.hasPostPipeline){this.flush();for(var O=F.postPipelines,b=O.length-1;b>=0;b--){var B=O[b];B.active&&B.preBatch(F)}}},postBatch:function(F){if(F.hasPostPipeline){this.flush();for(var O=F.postPipelines,b=0;b<O.length;b++){var B=O[b];B.active&&B.postBatch(F)}}},preBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var O=F.postPipelines,b=O.length-1;b>=0;b--){var B=O[b];B.active&&B.preBatch(F)}}},postBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var O=F.postPipelines,b=0;b<O.length;b++){var B=O[b];B.active&&B.postBatch(F)}}},isCurrent:function(F,O){var b=this.renderer,B=this.current;return B&&!O&&(O=B.currentShader),!(B!==F||O.program!==b.currentProgram)},copyFrame:function(F,O,b,B,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,O,b,B,I),this},copyToGame:function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},drawFrame:function(F,O,b,B){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,O,b,B),this},blendFrames:function(F,O,b,B,I){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,O,b,B,I),this},blendFramesAdditive:function(F,O,b,B,I){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,O,b,B,I),this},clearFrame:function(F,O){return this.UTILITY_PIPELINE.clearFrame(F,O),this},blitFrame:function(F,O,b,B,I,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,O,b,B,I,N),this},copyFrameRect:function(F,O,b,B,I,N,X,k){return this.UTILITY_PIPELINE.copyFrameRect(F,O,b,B,I,N,X,k),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(F){return this.UTILITY_PIPELINE.bind(F)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(F,O){O.restoreContext()}),R(this.postPipelineInstances,function(F){F.restoreContext()})},rebind:function(F){F===void 0&&this.previous&&(F=this.previous);var O=this.renderer,b=O.gl;b.disable(b.DEPTH_TEST),b.disable(b.CULL_FACE),O.hasActiveStencilMask()?b.clear(b.DEPTH_BUFFER_BIT):(b.disable(b.STENCIL_TEST),b.clear(b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT)),b.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var B=O.vaoExtension;B&&B.bindVertexArrayOES(null);var I=this.pipelines.entries;for(var N in I)I[N].glReset=!0;F&&(this.current=F,F.rebind())},clear:function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var O=F.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(F){var O=this.renderTargets,b=3;if(F>this.maxDimension)return this.targetIndex=O.length-b,O[this.targetIndex];var B=(l(F,this.frameInc,0,!0)-1)*b;return this.targetIndex=B,O[B]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});n.exports=L},32302:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(92503),d=new u({initialize:function(a,r,l,v,h,c,p,g,m){v===void 0&&(v=1),h===void 0&&(h=0),c===void 0&&(c=!0),p===void 0&&(p=!1),g===void 0&&(g=!0),m===void 0&&(m=!0),this.renderer=a,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=h,this.autoClear=c,this.autoResize=!0,this.hasDepthBuffer=g,this.forceClamp=m,this.resize(r,l),p?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(o){return o&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!o&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(o,a){if(o=Math.round(o*this.scale),a=Math.round(a*this.scale),o<=0&&(o=1),a<=0&&(a=1),this.autoResize&&(o!==this.width||a!==this.height)){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.texture=r.createTextureFromSource(null,o,a,this.minFilter,this.forceClamp),this.framebuffer=r.createFramebuffer(o,a,this.texture,this.hasDepthBuffer),this.width=o,this.height=a}return this},willResize:function(o,a){return o=Math.round(o*this.scale),a=Math.round(a*this.scale),o<=0&&(o=1),a<=0&&(a=1),o!==this.width||a!==this.height},bind:function(o,a,r){o===void 0&&(o=!1);var l=this.renderer;if(o&&l.flush(),a&&r&&this.resize(a,r),l.pushFramebuffer(this.framebuffer,!1,!1),o&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}l.clearStencilMask()},adjustViewport:function(){var o=this.renderer.gl;o.viewport(0,0,this.width,this.height),o.disable(o.SCISSOR_TEST)},clear:function(){var o=this.renderer,a=o.gl;o.pushFramebuffer(this.framebuffer),a.disable(a.SCISSOR_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),o.popFramebuffer(),o.resetScissor()},unbind:function(o){o===void 0&&(o=!1);var a=this.renderer;return o&&a.flush(),a.popFramebuffer()},destroy:function(){var o=this.renderer;o.off(x.RESIZE,this.resize,this),o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});n.exports=d},70554:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:function(C,e,u,x){var d=(C*255|0)&255,o=(e*255|0)&255,a=(u*255|0)&255,r=(x*255|0)&255;return(r<<24|d<<16|o<<8|a)>>>0},getTintAppendFloatAlpha:function(C,e){var u=(e*255|0)&255;return(u<<24|C)>>>0},getTintAppendFloatAlphaAndSwap:function(C,e){var u=(C>>16|0)&255,x=(C>>8|0)&255,d=(C|0)&255,o=(e*255|0)&255;return(o<<24|d<<16|x<<8|u)>>>0},getFloatsFromUintRGB:function(C){var e=(C>>16|0)&255,u=(C>>8|0)&255,x=(C|0)&255;return[e/255,u/255,x/255]},checkShaderMax:function(C,e){var u=Math.min(16,C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS));return!e||e===-1?u:Math.min(u,e)},parseFragmentShaderMaxTextures:function(C,e){if(!C)return"";for(var u="",x=0;x<e;x++)x>0&&(u+=`
	else `),x<e-1&&(u+="if (outTexId < "+x+".5)"),u+=`
	{`,u+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",u+=`
	}`;return C=C.replace(/%count%/gi,e.toString()),C.replace(/%forloop%/gi,u)},setGlowQuality:function(C,e,u,x){return u===void 0&&(u=e.config.glowFXQuality),x===void 0&&(x=e.config.glowFXDistance),C=C.replace(/__SIZE__/gi,(1/u/x).toFixed(7)),C=C.replace(/__DIST__/gi,x.toFixed(0)+".0"),C}}},29100:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(62644),d=e(50792),o=e(77085),a=e(95540),r=e(37867),l=e(92503),v=e(32302),h=e(70554),c=e(38683),p=new u({Extends:d,initialize:function(m){d.call(this);var y=m.game,S=y.renderer,M=S.gl;this.name=a(m,"name","WebGLPipeline"),this.game=y,this.renderer=S,this.manager,this.gl=M,this.view=y.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=a(m,"topology",M.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=a(m,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=m,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=a(m,"resizeUniform","")},boot:function(){var g,m=this.gl,y=this.config,S=this.renderer;this.isPostFX||(this.projectionMatrix=new r().identity());var M=this.renderTargets,P=a(y,"renderTarget",!1);typeof P=="boolean"&&P&&(P=1);var w=S.width,R=S.height;if(typeof P=="number")for(g=0;g<P;g++)M.push(new v(S,w,R,1,0,!0));else if(Array.isArray(P))for(g=0;g<P.length;g++){var A=a(P[g],"scale",1),L=a(P[g],"minFilter",0),F=a(P[g],"autoClear",1),O=a(P[g],"autoResize",!1),b=a(P[g],"width",null),B=a(P[g],"height",b);b?M.push(new v(S,b,B,1,L,F,O)):M.push(new v(S,w,R,A,L,F,O))}M.length&&(this.currentRenderTarget=M[0]),this.setShadersFromConfig(y);var I=this.shaders,N=0;for(g=0;g<I.length;g++)I[g].vertexSize>N&&(N=I[g].vertexSize);var X=a(y,"batchSize",S.config.batchSize);this.vertexCapacity=X*6;var k=new ArrayBuffer(this.vertexCapacity*N);this.vertexData=k,this.bytes=new Uint8Array(k),this.vertexViewF32=new Float32Array(k),this.vertexViewU32=new Uint32Array(k);var H=a(y,"vertices",null);for(H?(this.vertexViewF32.set(H),this.vertexBuffer=S.createVertexBuffer(k,m.STATIC_DRAW)):this.vertexBuffer=S.createVertexBuffer(k.byteLength,m.DYNAMIC_DRAW),this.setVertexBuffer(),g=I.length-1;g>=0;g--)I[g].rebind();this.hasBooted=!0,S.on(l.RESIZE,this.resize,this),S.on(l.PRE_RENDER,this.onPreRender,this),S.on(l.RENDER,this.onRender,this),S.on(l.POST_RENDER,this.onPostRender,this),this.emit(o.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(g,m,y){var S=this.renderer;if(g!==this.currentShader||S.currentProgram!==this.currentShader.program){this.flush();var M=this.setVertexBuffer(y);M&&!m&&(m=!0),g.bind(m,!1),this.currentShader=g}return this},getShaderByName:function(g){for(var m=this.shaders,y=0;y<m.length;y++)if(m[y].name===g)return m[y]},setShadersFromConfig:function(g){var m,y=this.shaders,S=this.renderer;for(m=0;m<y.length;m++)y[m].destroy();var M="vertShader",P="fragShader",w="attributes",R=a(g,M,null),A=h.parseFragmentShaderMaxTextures(a(g,P,null),S.maxTextures),L=a(g,w,null),F=a(g,"shaders",[]),O=F.length;if(O===0)R&&A&&(this.shaders=[new c(this,"default",R,A,x(L))]);else{var b=[];for(m=0;m<O;m++){var B=F[m],I,N,X,k;if(typeof B=="string"?(I="default",N=R,X=h.parseFragmentShaderMaxTextures(B,S.maxTextures),k=L):(I=a(B,"name","default"),N=a(B,M,R),X=h.parseFragmentShaderMaxTextures(a(B,P,A),S.maxTextures),k=a(B,w,L)),I==="default"){var H=X.split(`
`),V=H[0].trim();V.indexOf("#define SHADER_NAME")>-1&&(I=V.substring(20))}N&&X&&b.push(new c(this,I,N,X,x(k)))}this.shaders=b}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(g){return this.currentBatch={start:this.vertexCount,count:0,texture:[g],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=g,this.batch.push(this.currentBatch),0},addTextureToBatch:function(g){var m=this.currentBatch;m&&(m.texture.push(g),m.unit++,m.maxUnit++)},pushBatch:function(g){if(!this.currentBatch||this.forceZero&&g!==this.currentTexture)return this.createBatch(g);if(g===this.currentTexture)return this.currentUnit;var m=this.currentBatch,y=m.texture.indexOf(g);return y===-1?m.texture.length===this.renderer.maxTextures?this.createBatch(g):(m.unit++,m.maxUnit++,m.texture.push(g),this.currentUnit=m.unit,this.currentTexture=g,m.unit):(this.currentUnit=y,this.currentTexture=g,y)},setGameObject:function(g,m){return m===void 0&&(m=g.frame),this.pushBatch(m.source.glTexture)},shouldFlush:function(g){return g===void 0&&(g=0),this.vertexCount+g>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(g,m){(g!==this.width||m!==this.height)&&this.flush(),this.width=g,this.height=m;for(var y=this.renderTargets,S=0;S<y.length;S++)y[S].resize(g,m);return this.setProjectionMatrix(g,m),this.resizeUniform&&this.set2f(this.resizeUniform,g,m),this.emit(o.RESIZE,g,m,this),this.onResize(g,m),this},setProjectionMatrix:function(g,m){var y=this.projectionMatrix;if(!y)return this;this.projectionWidth=g,this.projectionHeight=m,y.ortho(0,g,m,0,-1e3,1e3);for(var S=this.shaders,M="uProjectionMatrix",P=0;P<S.length;P++){var w=S[P];w.hasUniform(M)&&(w.resetUniform(M),w.setMatrix4fv(M,!1,y.val,w))}return this},flipProjectionMatrix:function(g){g===void 0&&(g=!0);var m=this.projectionMatrix;if(!m)return this;var y=this.projectionWidth,S=this.projectionHeight;g?m.ortho(0,y,0,S,-1e3,1e3):m.ortho(0,y,S,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,m.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var g=this.renderer.projectionWidth,m=this.renderer.projectionHeight;(this.projectionWidth!==g||this.projectionHeight!==m)&&this.setProjectionMatrix(g,m)}},bind:function(g){if(g===void 0&&(g=this.currentShader),this.glReset)return this.rebind(g);var m=!1,y=this.gl;return y.getParameter(y.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(y.bindBuffer(y.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,m=!0),g.bind(m),this.currentShader=g,this.activeTextures.length=0,this.emit(o.BIND,this,g),this.onActive(g),this},rebind:function(g){this.activeBuffer=null,this.setVertexBuffer();for(var m=this.shaders,y=m.length-1;y>=0;y--){var S=m[y].rebind();(!g||S===g)&&(this.currentShader=S)}return this.activeTextures.length=0,this.emit(o.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var g=this.shaders,m=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,m&&this.setVertexBuffer();for(var y=0;y<g.length;y++){var S=g[y];S.syncUniforms(),m&&S.rebind()}},setVertexBuffer:function(g){if(g===void 0&&(g=this.vertexBuffer),g!==this.activeBuffer){var m=this.gl;return this.gl.bindBuffer(m.ARRAY_BUFFER,g.webGLBuffer),this.activeBuffer=g,!0}return!1},preBatch:function(g){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(g),this},postBatch:function(g){return this.onDraw(this.currentRenderTarget),this.onPostBatch(g),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(g){if(g===void 0&&(g=!1),this.vertexCount>0){this.emit(o.BEFORE_FLUSH,this,g),this.onBeforeFlush(g);var m=this.gl,y=this.vertexCount,S=this.currentShader.vertexSize,M=this.topology;if(this.active){this.setVertexBuffer(),y===this.vertexCapacity?m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.DYNAMIC_DRAW):m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,y*S));var P,w,R,A=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||m.activeTexture(m.TEXTURE0),P=0;P<A.length;P++)w=A[P],R=w.texture[0],L[0]!==R&&(m.bindTexture(m.TEXTURE_2D,R.webGLTexture),L[0]=R),m.drawArrays(M,w.start,w.count);else for(P=0;P<A.length;P++){w=A[P];for(var F=0;F<=w.maxUnit;F++)R=w.texture[F],L[F]!==R&&(m.activeTexture(m.TEXTURE0+F),m.bindTexture(m.TEXTURE_2D,R.webGLTexture),L[F]=R);m.drawArrays(M,w.start,w.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(o.AFTER_FLUSH,this,g),this.onAfterFlush(g)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(g,m,y,S,M,P,w){var R=this.vertexViewF32,A=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++L]=g,R[++L]=m,R[++L]=y,R[++L]=S,R[++L]=M,R[++L]=P,A[++L]=w,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(g,m,y,S,M,P,w,R,A,L,F,O,b,B,I,N,X,k,H,V){V===void 0&&(V=this.currentUnit);var W=!1;this.shouldFlush(6)&&(this.flush(),W=!0),this.currentBatch||(V=this.setTexture2D(H));var D=this.vertexViewF32,G=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++z]=m,D[++z]=y,D[++z]=L,D[++z]=F,D[++z]=V,D[++z]=k,G[++z]=B,D[++z]=S,D[++z]=M,D[++z]=L,D[++z]=b,D[++z]=V,D[++z]=k,G[++z]=N,D[++z]=P,D[++z]=w,D[++z]=O,D[++z]=b,D[++z]=V,D[++z]=k,G[++z]=X,D[++z]=m,D[++z]=y,D[++z]=L,D[++z]=F,D[++z]=V,D[++z]=k,G[++z]=B,D[++z]=P,D[++z]=w,D[++z]=O,D[++z]=b,D[++z]=V,D[++z]=k,G[++z]=X,D[++z]=R,D[++z]=A,D[++z]=O,D[++z]=F,D[++z]=V,D[++z]=k,G[++z]=I,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),W},batchTri:function(g,m,y,S,M,P,w,R,A,L,F,O,b,B,I,N,X){X===void 0&&(X=this.currentUnit);var k=!1;this.shouldFlush(3)&&(this.flush(),k=!0),this.currentBatch||(X=this.setTexture2D(N));var H=this.vertexViewF32,V=this.vertexViewU32,W=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++W]=m,H[++W]=y,H[++W]=R,H[++W]=A,H[++W]=X,H[++W]=I,V[++W]=O,H[++W]=S,H[++W]=M,H[++W]=R,H[++W]=F,H[++W]=X,H[++W]=I,V[++W]=b,H[++W]=P,H[++W]=w,H[++W]=L,H[++W]=F,H[++W]=X,H[++W]=I,V[++W]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),k},drawFillRect:function(g,m,y,S,M,P,w,R){w===void 0&&(w=this.renderer.whiteTexture),R===void 0&&(R=!0),g=Math.floor(g),m=Math.floor(m);var A=Math.floor(g+y),L=Math.floor(m+S),F=this.setTexture2D(w),O=h.getTintAppendFloatAlphaAndSwap(M,P),b=0,B=0,I=1,N=1;R&&(B=1,N=0),this.batchQuad(null,g,m,g,L,A,L,A,m,b,B,I,N,O,O,O,O,0,w,F)},setTexture2D:function(g){return g===void 0&&(g=this.renderer.whiteTexture),this.pushBatch(g)},bindTexture:function(g,m){m===void 0&&(m=0);var y=this.gl;return y.activeTexture(y.TEXTURE0+m),y.bindTexture(y.TEXTURE_2D,g.webGLTexture),this},bindRenderTarget:function(g,m){return this.bindTexture(g.texture,m)},setTime:function(g,m){return this.set1f(g,this.game.loop.getDuration(),m),this},setBoolean:function(g,m,y){return y===void 0&&(y=this.currentShader),y.setBoolean(g,m),this},set1f:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set1f(g,m),this},set2f:function(g,m,y,S){return S===void 0&&(S=this.currentShader),S.set2f(g,m,y),this},set3f:function(g,m,y,S,M){return M===void 0&&(M=this.currentShader),M.set3f(g,m,y,S),this},set4f:function(g,m,y,S,M,P){return P===void 0&&(P=this.currentShader),P.set4f(g,m,y,S,M),this},set1fv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set1fv(g,m),this},set2fv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set2fv(g,m),this},set3fv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set3fv(g,m),this},set4fv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set4fv(g,m),this},set1iv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set1iv(g,m),this},set2iv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set2iv(g,m),this},set3iv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set3iv(g,m),this},set4iv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set4iv(g,m),this},set1i:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set1i(g,m),this},set2i:function(g,m,y,S){return S===void 0&&(S=this.currentShader),S.set2i(g,m,y),this},set3i:function(g,m,y,S,M){return M===void 0&&(M=this.currentShader),M.set3i(g,m,y,S),this},set4i:function(g,m,y,S,M,P){return P===void 0&&(P=this.currentShader),P.set4i(g,m,y,S,M),this},setMatrix2fv:function(g,m,y,S){return S===void 0&&(S=this.currentShader),S.setMatrix2fv(g,m,y),this},setMatrix3fv:function(g,m,y,S){return S===void 0&&(S=this.currentShader),S.setMatrix3fv(g,m,y),this},setMatrix4fv:function(g,m,y,S){return S===void 0&&(S=this.currentShader),S.setMatrix4fv(g,m,y),this},destroy:function(){this.emit(o.DESTROY,this);var g,m=this.shaders;for(g=0;g<m.length;g++)m[g].destroy();var y=this.renderTargets;for(g=0;g<y.length;g++)y[g].destroy();var S=this.renderer;return S.deleteBuffer(this.vertexBuffer),S.off(l.RESIZE,this.resize,this),S.off(l.PRE_RENDER,this.onPreRender,this),S.off(l.RENDER,this.onRender,this),S.off(l.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});n.exports=p},74797:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95428),x=e(72905),d=e(19715),o=e(83419),a=e(8054),r=e(50792),l=e(92503),v=e(50030),h=e(37867),c=e(29747),p=e(7530),g=e(32302),m=e(97480),y=e(69442),S=e(70554),M=e(88815),P=e(26128),w=e(1482),R=e(82751),A=e(84387),L=e(93567),F=e(57183),O=new o({Extends:r,initialize:function(B){r.call(this);var I=B.config,N={alpha:I.transparent,desynchronized:I.desynchronized,depth:!0,antialias:I.antialiasGL,premultipliedAlpha:I.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:I.failIfMajorPerformanceCaveat,powerPreference:I.powerPreference,preserveDrawingBuffer:I.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:I.clearBeforeRender,antialias:I.antialias,backgroundColor:I.backgroundColor,contextCreation:N,roundPixels:I.roundPixels,maxTextures:I.maxTextures,maxTextureSize:I.maxTextureSize,batchSize:I.batchSize,maxLights:I.maxLights,mipmapFilter:I.mipmapFilter},this.game=B,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=B.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=c,this.contextRestoredHandler=c,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(b){var B,I=this.game,N=this.canvas,X=b.backgroundColor;if(I.config.context?B=I.config.context:B=N.getContext("webgl",b.contextCreation)||N.getContext("experimental-webgl",b.contextCreation),!B||B.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=B;var k=this,H=function(){var D=B.getSupportedExtensions();k.supportedExtensions=D;var G="ANGLE_instanced_arrays";k.instancedArraysExtension=D.indexOf(G)>-1?B.getExtension(G):null;var z="OES_vertex_array_object";k.vaoExtension=D.indexOf(z)>-1?B.getExtension(z):null};H(),this.contextLostHandler=function(D){k.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),k.emit(l.LOSE_WEBGL,k),D.preventDefault()},N.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(D){if(B.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}k.currentProgram=null,k.currentFramebuffer=null,k.setBlendMode(a.BlendModes.NORMAL),B.disable(B.BLEND),B.disable(B.DEPTH_TEST),B.enable(B.CULL_FACE),k.compression=k.getCompressedTextures();var G=function(z){z.createResource()};u(k.glTextureWrappers,G),u(k.glBufferWrappers,G),u(k.glFramebufferWrappers,G),u(k.glProgramWrappers,G),u(k.glAttribLocationWrappers,G),u(k.glUniformLocationWrappers,G),k.createTemporaryTextures(),k.pipelines.restoreContext(),k.resize(k.game.scale.baseSize.width,k.game.scale.baseSize.height),H(),k.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),k.emit(l.RESTORE_WEBGL,k),D.preventDefault()},N.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),I.context=B;for(var V=0;V<=27;V++)this.blendModes.push({func:[B.ONE,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_ADD});this.blendModes[1].func=[B.ONE,B.DST_ALPHA],this.blendModes[2].func=[B.DST_COLOR,B.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[B.ONE,B.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[B.ZERO,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_REVERSE_SUBTRACT},this.glFormats=[B.BYTE,B.SHORT,B.UNSIGNED_BYTE,B.UNSIGNED_SHORT,B.FLOAT],this.glFuncMap={mat2:{func:B.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:B.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:B.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:B.uniform1f,length:1},"1fv":{func:B.uniform1fv,length:1},"1i":{func:B.uniform1i,length:1},"1iv":{func:B.uniform1iv,length:1},"2f":{func:B.uniform2f,length:2},"2fv":{func:B.uniform2fv,length:1},"2i":{func:B.uniform2i,length:2},"2iv":{func:B.uniform2iv,length:1},"3f":{func:B.uniform3f,length:3},"3fv":{func:B.uniform3fv,length:1},"3i":{func:B.uniform3i,length:3},"3iv":{func:B.uniform3iv,length:1},"4f":{func:B.uniform4f,length:4},"4fv":{func:B.uniform4fv,length:1},"4i":{func:B.uniform4i,length:4},"4iv":{func:B.uniform4iv,length:1}},(!b.maxTextures||b.maxTextures===-1)&&(b.maxTextures=B.getParameter(B.MAX_TEXTURE_IMAGE_UNITS)),b.maxTextureSize||(b.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),B.enable(B.BLEND),B.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL);var W=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return W.indexOf(b.mipmapFilter)!==-1&&(this.mipmapFilter=B[b.mipmapFilter]),this.maxTextures=S.checkShaderMax(B,b.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new p(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new h().identity(),I.textures.once(y.READY,this.boot,this),this},boot:function(){var b=this.game,B=this.pipelines,I=b.scale.baseSize,N=I.width,X=I.height;this.width=N,this.height=X,this.isBooted=!0,this.renderTarget=new g(this,N,X,1,0,!0,!0),this.maskTarget=new g(this,N,X,1,0,!0,!0),this.maskSource=new g(this,N,X,1,0,!0,!0);var k=b.config;B.boot(k.pipeline,k.defaultPipeline,k.autoMobilePipeline),this.blankTexture=b.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=b.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=b.textures.getFrame("__WHITE").glTexture;var H=this.gl;H.bindFramebuffer(H.FRAMEBUFFER,null),H.enable(H.SCISSOR_TEST),b.scale.on(m.RESIZE,this.onResize,this),this.resize(N,X)},createTemporaryTextures:function(){for(var b=this.gl,B=0;B<this.maxTextures;B++){var I=b.createTexture();b.activeTexture(b.TEXTURE0+B),b.bindTexture(b.TEXTURE_2D,I),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(B)}},captureFrame:function(b,B){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(b,B,I){},stopCapture:function(){},onCapture:function(b){},onResize:function(b,B){(B.width!==this.width||B.height!==this.height)&&this.resize(B.width,B.height)},beginCapture:function(b,B){b===void 0&&(b=this.width),B===void 0&&(B=this.height),this.renderTarget.bind(!0,b,B),this.setProjectionMatrix(b,B)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(b,B){var I=this.gl;return this.width=b,this.height=B,this.setProjectionMatrix(b,B),I.viewport(0,0,b,B),this.drawingBufferHeight=I.drawingBufferHeight,I.scissor(0,I.drawingBufferHeight-B,b,B),this.defaultScissor[2]=b,this.defaultScissor[3]=B,this.emit(l.RESIZE,b,B),this},getCompressedTextures:function(){var b="WEBGL_compressed_texture_",B="WEBKIT_"+b,I="EXT_texture_compression_",N=function(k,H){var V=k.getExtension(b+H)||k.getExtension(B+H)||k.getExtension(I+H);if(V){var W={};for(var D in V)W[V[D]]=D;return W}},X=this.gl;return{ETC:N(X,"etc"),ETC1:N(X,"etc1"),ATC:N(X,"atc"),ASTC:N(X,"astc"),BPTC:N(X,"bptc"),RGTC:N(X,"rgtc"),PVRTC:N(X,"pvrtc"),S3TC:N(X,"s3tc"),S3TCSRGB:N(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(b,B){var I=this.compression[b.toUpperCase()];if(B in I)return I[B]},supportsCompressedTexture:function(b,B){var I=this.compression[b.toUpperCase()];return I?B?B in I:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(b,B){return(b!==this.projectionWidth||B!==this.projectionHeight)&&(this.projectionWidth=b,this.projectionHeight=B,this.projectionMatrix.ortho(0,b,B,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(b){return this.supportedExtensions?this.supportedExtensions.indexOf(b):!1},getExtension:function(b){return this.hasExtension(b)?(b in this.extensions||(this.extensions[b]=this.gl.getExtension(b)),this.extensions[b]):null},flush:function(){this.pipelines.flush()},pushScissor:function(b,B,I,N,X){X===void 0&&(X=this.drawingBufferHeight);var k=this.scissorStack,H=[b,B,I,N];return k.push(H),this.setScissor(b,B,I,N,X),this.currentScissor=H,H},setScissor:function(b,B,I,N,X){X===void 0&&(X=this.drawingBufferHeight);var k=this.gl,H=this.currentScissor,V=I>0&&N>0;if(H&&V){var W=H[0],D=H[1],G=H[2],z=H[3];V=W!==b||D!==B||G!==I||z!==N}V&&(this.flush(),k.scissor(b,X-B-N,I,N))},resetScissor:function(){var b=this.gl;b.enable(b.SCISSOR_TEST);var B=this.currentScissor;if(B){var I=B[0],N=B[1],X=B[2],k=B[3];X>0&&k>0&&b.scissor(I,this.drawingBufferHeight-N-k,X,k)}},popScissor:function(){var b=this.scissorStack;b.pop();var B=b[b.length-1];B&&this.setScissor(B[0],B[1],B[2],B[3]),this.currentScissor=B},hasActiveStencilMask:function(){var b=this.currentMask.mask,B=this.currentCameraMask.mask;return b&&b.isStencil||B&&B.isStencil},resetViewport:function(){var b=this.gl;b.viewport(0,0,this.width,this.height),this.drawingBufferHeight=b.drawingBufferHeight},setBlendMode:function(b,B){B===void 0&&(B=!1);var I=this.gl,N=this.blendModes[b];return B||b!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==b?(this.flush(),I.enable(I.BLEND),I.blendEquation(N.equation),N.func.length>2?I.blendFuncSeparate(N.func[0],N.func[1],N.func[2],N.func[3]):I.blendFunc(N.func[0],N.func[1]),this.currentBlendMode=b,!0):!1},addBlendMode:function(b,B){var I=this.blendModes.push({func:b,equation:B});return I-1},updateBlendMode:function(b,B,I){return this.blendModes[b]&&(this.blendModes[b].func=B,I&&(this.blendModes[b].equation=I)),this},removeBlendMode:function(b){return b>17&&this.blendModes[b]&&this.blendModes.splice(b,1),this},pushFramebuffer:function(b,B,I,N,X){return b===this.currentFramebuffer?this:(this.fboStack.push(b),this.setFramebuffer(b,B,I,N,X))},setFramebuffer:function(b,B,I,N,X){if(B===void 0&&(B=!1),I===void 0&&(I=!0),N===void 0&&(N=null),X===void 0&&(X=!1),b===this.currentFramebuffer)return this;var k=this.gl,H=this.width,V=this.height;return b&&b.renderTexture&&I?(H=b.renderTexture.width,V=b.renderTexture.height):this.flush(),b?k.bindFramebuffer(k.FRAMEBUFFER,b.webGLFramebuffer):k.bindFramebuffer(k.FRAMEBUFFER,null),I&&k.viewport(0,0,H,V),N&&k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,N.webGLTexture,0),X&&(k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT)),B&&(b?(this.drawingBufferHeight=V,this.pushScissor(0,0,H,V)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=b,this},popFramebuffer:function(b,B){b===void 0&&(b=!1),B===void 0&&(B=!0);var I=this.fboStack;I.pop();var N=I[I.length-1];return N||(N=null),this.setFramebuffer(N,b,B),N},restoreFramebuffer:function(b,B){b===void 0&&(b=!1),B===void 0&&(B=!0);var I=this.fboStack,N=I[I.length-1];N||(N=null),this.currentFramebuffer=null,this.setFramebuffer(N,b,B)},setProgram:function(b){return b!==this.currentProgram?(this.flush(),this.gl.useProgram(b.webGLProgram),this.currentProgram=b,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(b,B,I,N,X){X===void 0&&(X=!1);var k=this.gl,H=k.NEAREST,V=k.NEAREST,W=k.CLAMP_TO_EDGE,D=null;B=b?b.width:B,I=b?b.height:I;var G=v(B,I);if(G&&!X&&(W=k.REPEAT),N===a.ScaleModes.LINEAR&&this.config.antialias){var z=b&&b.compressed,U=!z&&G||z&&b.mipmaps.length>1;H=this.mipmapFilter&&U?this.mipmapFilter:k.LINEAR,V=k.LINEAR}return!b&&typeof B=="number"&&typeof I=="number"?D=this.createTexture2D(0,H,V,W,W,k.RGBA,null,B,I):D=this.createTexture2D(0,H,V,W,W,k.RGBA,b),D},createTexture2D:function(b,B,I,N,X,k,H,V,W,D,G,z){typeof V!="number"&&(V=H?H.width:1),typeof W!="number"&&(W=H?H.height:1);var U=new R(this.gl,b,B,I,N,X,k,H,V,W,D,G,z);return this.glTextureWrappers.push(U),U},createFramebuffer:function(b,B,I,N){this.currentFramebuffer=null;var X=new A(this.gl,b,B,I,N);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(b,B){var I=this.gl;I&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==b&&(this.currentMask.mask=b,this.currentMask.camera=B))},drawBitmapMask:function(b,B,I){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),b.renderWebGL(this,b,B),this.maskSource.unbind(!0),this.maskTarget.unbind();var N=this.gl,X=this.getCurrentStencilMask();X?(N.enable(N.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(I),N.activeTexture(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,this.maskTarget.texture.webGLTexture),N.activeTexture(N.TEXTURE1),N.bindTexture(N.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(b,B){var I=new w(this.gl,b,B);return this.glProgramWrappers.push(I),I},createVertexBuffer:function(b,B){var I=this.gl,N=new P(I,b,I.ARRAY_BUFFER,B);return this.glBufferWrappers.push(N),N},createAttribLocation:function(b,B){var I=new L(this.gl,b,B);return this.glAttribLocationWrappers.push(I),I},createUniformLocation:function(b,B){var I=new F(this.gl,b,B);return this.glUniformLocationWrappers.push(I),I},createIndexBuffer:function(b,B){var I=this.gl,N=new P(I,b,I.ELEMENT_ARRAY_BUFFER,B);return this.glBufferWrappers.push(N),N},deleteTexture:function(b){if(!!b)return x(this.glTextureWrappers,b),b.destroy(),this},deleteFramebuffer:function(b){return b?(x(this.fboStack,b),x(this.glFramebufferWrappers,b),b.destroy(),this):this},deleteProgram:function(b){return b&&(x(this.glProgramWrappers,b),b.destroy()),this},deleteAttribLocation:function(b){return b&&(x(this.glAttribLocationWrappers,b),b.destroy()),this},deleteUniformLocation:function(b){return b&&(x(this.glUniformLocationWrappers,b),b.destroy()),this},deleteBuffer:function(b){return b?(x(this.glBufferWrappers,b),b.destroy(),this):this},preRenderCamera:function(b){var B=b.x,I=b.y,N=b.width,X=b.height,k=b.backgroundColor;if(b.emit(d.PRE_RENDER,b),this.pipelines.preBatchCamera(b),this.pushScissor(B,I,N,X),b.mask&&(this.currentCameraMask.mask=b.mask,this.currentCameraMask.camera=b._maskCamera,b.mask.preRenderWebGL(this,b,b._maskCamera)),k.alphaGL>0){var H=this.pipelines.setMulti();H.drawFillRect(B,I,N,X,S.getTintFromFloats(k.blueGL,k.greenGL,k.redGL,1),k.alphaGL)}},getCurrentStencilMask:function(){var b=null,B=this.maskStack,I=this.currentCameraMask;return B.length>0?b=B[B.length-1]:I.mask&&I.mask.isStencil&&(b=I),b},postRenderCamera:function(b){var B=b.flashEffect,I=b.fadeEffect;if(B.isRunning||I.isRunning||I.isComplete){var N=this.pipelines.setMulti();B.postRenderWebGL(N,S.getTintFromFloats),I.postRenderWebGL(N,S.getTintFromFloats)}b.dirty=!1,this.popScissor(),b.mask&&(this.currentCameraMask.mask=null,b.mask.postRenderWebGL(this,b._maskCamera)),this.pipelines.postBatchCamera(b),b.emit(d.POST_RENDER,b)},preRender:function(){if(!this.contextLost){var b=this.gl;if(b.bindFramebuffer(b.FRAMEBUFFER,null),this.config.clearBeforeRender){var B=this.config.backgroundColor;b.clearColor(B.redGL,B.greenGL,B.blueGL,B.alphaGL),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT)}b.enable(b.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&b.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(l.PRE_RENDER)}},render:function(b,B,I){if(!this.contextLost){var N=B.length;if(this.emit(l.RENDER,b,I),this.preRenderCamera(I),N===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(I);return}this.currentType="";for(var X=this.currentMask,k=0;k<N;k++){this.finalType=k===N-1;var H=B[k],V=H.mask;X=this.currentMask,X.mask&&X.mask!==V&&X.mask.postRenderWebGL(this,X.camera),V&&X.mask!==V&&V.preRenderWebGL(this,H,I),H.blendMode!==this.currentBlendMode&&this.setBlendMode(H.blendMode);var W=H.type;W!==this.currentType&&(this.newType=!0,this.currentType=W),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=B[k+1].type===this.currentType,H.renderWebGL(this,H,I),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(I)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(l.POST_RENDER);var b=this.snapshotState;b.callback&&(M(this.gl,b),b.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var b=this.gl,B=this.getCurrentStencilMask();if(B){var I=B.mask;b.enable(b.STENCIL_TEST),I.invertAlpha?b.stencilFunc(b.NOTEQUAL,I.level,255):b.stencilFunc(b.EQUAL,I.level,255)}},snapshot:function(b,B,I){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,b,B,I)},snapshotArea:function(b,B,I,N,X,k,H){var V=this.snapshotState;return V.callback=X,V.type=k,V.encoder=H,V.getPixel=!1,V.x=b,V.y=B,V.width=I,V.height=N,this},snapshotPixel:function(b,B,I){return this.snapshotArea(b,B,1,1,I),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(b,B,I,N,X,k,H,V,W,D,G){X===void 0&&(X=!1),k===void 0&&(k=0),H===void 0&&(H=0),V===void 0&&(V=B),W===void 0&&(W=I),D==="pixel"&&(X=!0,D="image/png");var z=this.currentFramebuffer;this.snapshotArea(k,H,V,W,N,D,G);var U=this.snapshotState;return U.getPixel=X,U.isFramebuffer=!0,U.bufferWidth=B,U.bufferHeight=I,U.width=Math.min(U.width,B),U.height=Math.min(U.height,I),this.setFramebuffer(b),M(this.gl,U),this.setFramebuffer(z),U.callback=null,U.isFramebuffer=!1,this},canvasToTexture:function(b,B,I,N){I===void 0&&(I=!1),N===void 0&&(N=!1);var X=this.gl,k=X.NEAREST,H=X.NEAREST,V=b.width,W=b.height,D=X.CLAMP_TO_EDGE,G=v(V,W);return!I&&G&&(D=X.REPEAT),this.config.antialias&&(k=G&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,H=X.LINEAR),B?(B.update(b,V,W,N,D,D,k,H,B.format),B):this.createTexture2D(0,k,H,D,D,X.RGBA,b,V,W,!0,!1,N)},createCanvasTexture:function(b,B,I){return B===void 0&&(B=!1),I===void 0&&(I=!1),this.canvasToTexture(b,null,B,I)},updateCanvasTexture:function(b,B,I,N){return I===void 0&&(I=!1),N===void 0&&(N=!1),this.canvasToTexture(b,B,N,I)},videoToTexture:function(b,B,I,N){I===void 0&&(I=!1),N===void 0&&(N=!1);var X=this.gl,k=X.NEAREST,H=X.NEAREST,V=b.videoWidth,W=b.videoHeight,D=X.CLAMP_TO_EDGE,G=v(V,W);return!I&&G&&(D=X.REPEAT),this.config.antialias&&(k=G&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,H=X.LINEAR),B?(B.update(b,V,W,N,D,D,k,H,B.format),B):this.createTexture2D(0,k,H,D,D,X.RGBA,b,V,W,!0,!0,N)},createVideoTexture:function(b,B,I){return B===void 0&&(B=!1),I===void 0&&(I=!1),this.videoToTexture(b,null,B,I)},updateVideoTexture:function(b,B,I,N){return I===void 0&&(I=!1),N===void 0&&(N=!1),this.videoToTexture(b,B,N,I)},createUint8ArrayTexture:function(b,B,I){var N=this.gl,X=N.NEAREST,k=N.NEAREST,H=N.CLAMP_TO_EDGE,V=v(B,I);return V&&(H=N.REPEAT),this.createTexture2D(0,X,k,H,H,N.RGBA,b,B,I)},setTextureFilter:function(b,B){var I=this.gl,N=B===0?I.LINEAR:I.NEAREST;I.activeTexture(I.TEXTURE0);var X=I.getParameter(I.TEXTURE_BINDING_2D);return I.bindTexture(I.TEXTURE_2D,b.webGLTexture),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,N),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,N),b.minFilter=N,b.magFilter=N,X&&I.bindTexture(I.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var b=function(B){B.destroy()};u(this.glAttribLocationWrappers,b),u(this.glBufferWrappers,b),u(this.glFramebufferWrappers,b),u(this.glProgramWrappers,b),u(this.glTextureWrappers,b),u(this.glUniformLocationWrappers,b),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});n.exports=O},38683:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95428),d=e(95540),o=e(14500),a=new u({initialize:function(l,v,h,c,p){this.pipeline=l,this.name=v,this.renderer=l.renderer,this.gl=this.renderer.gl,this.fragSrc=c,this.vertSrc=h,this.program=this.renderer.createProgram(h,c),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(p),this.createUniforms()},createAttributes:function(r){var l=0,v=0,h=[];this.vertexComponentCount=0;for(var c=0;c<r.length;c++){var p=r[c],g=p.name,m=d(p,"size",1),y=d(p,"type",o.FLOAT),S=y.enum,M=y.size,P=!!p.normalized;h.push({name:g,size:m,type:S,normalized:P,offset:v,enabled:!1,location:-1}),M===4?l+=m:l++,v+=m*M}this.vertexSize=v,this.vertexComponentCount=l,this.attributes=h},bind:function(r,l){return r===void 0&&(r=!1),l===void 0&&(l=!1),l&&this.pipeline.flush(),this.renderer.setProgram(this.program),r&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(r){r===void 0&&(r=!1);for(var l=this.gl,v=this.renderer,h=this.vertexSize,c=this.attributes,p=this.program,g=0;g<c.length;g++){var m=c[g],y=m.size,S=m.type,M=m.offset,P=m.enabled,w=m.location,R=!!m.normalized;if(r){w!==-1&&v.deleteAttribLocation(w);var A=this.renderer.createAttribLocation(p,m.name);A.webGLAttribLocation>=0?(l.enableVertexAttribArray(A.webGLAttribLocation),l.vertexAttribPointer(A.webGLAttribLocation,y,S,R,h,M),m.enabled=!0,m.location=A):A.webGLAttribLocation!==-1&&l.disableVertexAttribArray(A.webGLAttribLocation)}else P?l.vertexAttribPointer(w.webGLAttribLocation,y,S,R,h,M):!P&&w!==-1&&w.webGLAttribLocation>-1&&(l.disableVertexAttribArray(w.webGLAttribLocation),m.location=-1)}return this},createUniforms:function(){var r=this.gl,l=this.program,v=this.uniforms,h,c,p,g=r.getProgramParameter(l.webGLProgram,r.ACTIVE_UNIFORMS);for(h=0;h<g;h++){var m=r.getActiveUniform(l.webGLProgram,h);if(m){c=m.name,p=this.renderer.createUniformLocation(l,c),p!==null&&(v[c]={name:c,location:p,setter:null,value1:null,value2:null,value3:null,value4:null});var y=c.indexOf("[");y>0&&(c=c.substr(0,y),v.hasOwnProperty(c)||(p=this.renderer.createUniformLocation(l,c),p!==null&&(v[c]={name:c,location:p,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var r=this.gl;this.renderer.setProgram(this.program);for(var l in this.uniforms){var v=this.uniforms[l];v.setter&&v.setter.call(r,v.location.webGLUniformLocation,v.value1,v.value2,v.value3,v.value4)}},hasUniform:function(r){return this.uniforms.hasOwnProperty(r)},resetUniform:function(r){var l=this.uniforms[r];return l&&(l.value1=null,l.value2=null,l.value3=null,l.value4=null),this},setUniform1:function(r,l,v,h){var c=this.uniforms[l];return c?((h||c.value1!==v)&&(c.setter||(c.setter=r),c.value1=v,this.renderer.setProgram(this.program),r.call(this.gl,c.location.webGLUniformLocation,v),this.pipeline.currentShader=this),this):this},setUniform2:function(r,l,v,h,c){var p=this.uniforms[l];return p?((c||p.value1!==v||p.value2!==h)&&(p.setter||(p.setter=r),p.value1=v,p.value2=h,this.renderer.setProgram(this.program),r.call(this.gl,p.location.webGLUniformLocation,v,h),this.pipeline.currentShader=this),this):this},setUniform3:function(r,l,v,h,c,p){var g=this.uniforms[l];return g?((p||g.value1!==v||g.value2!==h||g.value3!==c)&&(g.setter||(g.setter=r),g.value1=v,g.value2=h,g.value3=c,this.renderer.setProgram(this.program),r.call(this.gl,g.location.webGLUniformLocation,v,h,c),this.pipeline.currentShader=this),this):this},setUniform4:function(r,l,v,h,c,p,g){var m=this.uniforms[l];return m?((g||m.value1!==v||m.value2!==h||m.value3!==c||m.value4!==p)&&(m.setter||(m.setter=r),m.value1=v,m.value2=h,m.value3=c,m.value4=p,this.renderer.setProgram(this.program),r.call(this.gl,m.location.webGLUniformLocation,v,h,c,p),this.pipeline.currentShader=this),this):this},setBoolean:function(r,l){return this.setUniform1(this.gl.uniform1i,r,Number(l))},set1f:function(r,l){return this.setUniform1(this.gl.uniform1f,r,l)},set2f:function(r,l,v){return this.setUniform2(this.gl.uniform2f,r,l,v)},set3f:function(r,l,v,h){return this.setUniform3(this.gl.uniform3f,r,l,v,h)},set4f:function(r,l,v,h,c){return this.setUniform4(this.gl.uniform4f,r,l,v,h,c)},set1fv:function(r,l){return this.setUniform1(this.gl.uniform1fv,r,l,!0)},set2fv:function(r,l){return this.setUniform1(this.gl.uniform2fv,r,l,!0)},set3fv:function(r,l){return this.setUniform1(this.gl.uniform3fv,r,l,!0)},set4fv:function(r,l){return this.setUniform1(this.gl.uniform4fv,r,l,!0)},set1iv:function(r,l){return this.setUniform1(this.gl.uniform1iv,r,l,!0)},set2iv:function(r,l){return this.setUniform1(this.gl.uniform2iv,r,l,!0)},set3iv:function(r,l){return this.setUniform1(this.gl.uniform3iv,r,l,!0)},set4iv:function(r,l){return this.setUniform1(this.gl.uniform4iv,r,l,!0)},set1i:function(r,l){return this.setUniform1(this.gl.uniform1i,r,l)},set2i:function(r,l,v){return this.setUniform2(this.gl.uniform2i,r,l,v)},set3i:function(r,l,v,h){return this.setUniform3(this.gl.uniform3i,r,l,v,h)},set4i:function(r,l,v,h,c){return this.setUniform4(this.gl.uniform4i,r,l,v,h,c)},setMatrix2fv:function(r,l,v){return this.setUniform2(this.gl.uniformMatrix2fv,r,l,v,!0)},setMatrix3fv:function(r,l,v){return this.setUniform2(this.gl.uniformMatrix3fv,r,l,v,!0)},setMatrix4fv:function(r,l,v){return this.setUniform2(this.gl.uniformMatrix4fv,r,l,v,!0)},createProgram:function(r,l){return r===void 0&&(r=this.vertSrc),l===void 0&&(l=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=r,this.fragSrc=l,this.program=this.renderer.createProgram(r,l),this.createUniforms(),this.rebind()},destroy:function(){var r=this.renderer;x(this.uniforms,function(l){r.deleteUniformLocation(l.location)}),this.uniforms=null,x(this.attributes,function(l){r.deleteAttribLocation(l.location)}),this.attributes=null,r.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});n.exports=a},14500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=C},4159:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14500),x=e(79291),d={PipelineManager:e(7530),Pipelines:e(96615),RenderTarget:e(32302),Utils:e(70554),WebGLPipeline:e(29100),WebGLRenderer:e(74797),WebGLShader:e(38683),Wrappers:e(9503)};d=x(!1,d,u),n.exports=d},31302:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=e(78908),o=e(85191),a=e(14500),r=e(29100),l=new u({Extends:r,initialize:function(h){h.fragShader=x(h,"fragShader",d),h.vertShader=x(h,"vertShader",o),h.batchSize=x(h,"batchSize",1),h.vertices=x(h,"vertices",[-1,1,-1,-7,7,1]),h.attributes=x(h,"attributes",[{name:"inPosition",size:2,type:a.FLOAT}]),r.call(this,h)},boot:function(){r.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(v,h){r.prototype.resize.call(this,v,h),this.set2f("uResolution",v,h)},beginMask:function(v,h,c){this.renderer.beginBitmapMask(v,c)},endMask:function(v,h,c){var p=this.gl,g=this.renderer,m=v.bitmapMask;m&&p&&(g.drawBitmapMask(m,h,this),c&&this.set2f("uResolution",c.width,c.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),p.drawArrays(this.topology,0,3),c&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});n.exports=l},92651:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(58918),d=e(14811),o=e(95540),a=e(43558),r=e(89350),l=e(70554),v=new u({Extends:a,initialize:function(c){c.shaders=[l.setGlowQuality(r.FXGlowFrag,c.game),r.FXShadowFrag,r.FXPixelateFrag,r.FXVignetteFrag,r.FXShineFrag,r.FXBlurLowFrag,r.FXBlurMedFrag,r.FXBlurHighFrag,r.FXGradientFrag,r.FXBloomFrag,r.ColorMatrixFrag,r.FXCircleFrag,r.FXBarrelFrag,r.FXDisplacementFrag,r.FXWipeFrag,r.FXBokehFrag],a.call(this,c);var p=this.game;this.glow=new x.Glow(p),this.shadow=new x.Shadow(p),this.pixelate=new x.Pixelate(p),this.vignette=new x.Vignette(p),this.shine=new x.Shine(p),this.gradient=new x.Gradient(p),this.circle=new x.Circle(p),this.barrel=new x.Barrel(p),this.wipe=new x.Wipe(p),this.bokeh=new x.Bokeh(p);var g=[];g[d.GLOW]=this.onGlow,g[d.SHADOW]=this.onShadow,g[d.PIXELATE]=this.onPixelate,g[d.VIGNETTE]=this.onVignette,g[d.SHINE]=this.onShine,g[d.BLUR]=this.onBlur,g[d.GRADIENT]=this.onGradient,g[d.BLOOM]=this.onBloom,g[d.COLOR_MATRIX]=this.onColorMatrix,g[d.CIRCLE]=this.onCircle,g[d.BARREL]=this.onBarrel,g[d.DISPLACEMENT]=this.onDisplacement,g[d.WIPE]=this.onWipe,g[d.BOKEH]=this.onBokeh,this.fxHandlers=g,this.source,this.target,this.swap},onDraw:function(h,c,p){this.source=h,this.target=c,this.swap=p;var g=h.width,m=h.height,y=this.tempSprite,S=this.fxHandlers;if(y&&y.preFX)for(var M=y.preFX.list,P=0;P<M.length;P++){var w=M[P];w.active&&S[w.type].call(this,w,g,m)}this.drawToGame(this.source)},runDraw:function(){var h=this.source,c=this.target;this.copy(h,c),this.source=c,this.target=h},onGlow:function(h,c,p){var g=this.shaders[d.GLOW];this.setShader(g),this.glow.onPreRender(h,g,c,p),this.runDraw()},onShadow:function(h){var c=this.shaders[d.SHADOW];this.setShader(c),this.shadow.onPreRender(h,c),this.runDraw()},onPixelate:function(h,c,p){var g=this.shaders[d.PIXELATE];this.setShader(g),this.pixelate.onPreRender(h,g,c,p),this.runDraw()},onVignette:function(h){var c=this.shaders[d.VIGNETTE];this.setShader(c),this.vignette.onPreRender(h,c),this.runDraw()},onShine:function(h,c,p){var g=this.shaders[d.SHINE];this.setShader(g),this.shine.onPreRender(h,g,c,p),this.runDraw()},onBlur:function(h,c,p){var g=o(h,"quality"),m=this.shaders[d.BLUR+g];this.setShader(m),this.set1i("uMainSampler",0),this.set2f("resolution",c,p),this.set1f("strength",o(h,"strength")),this.set3fv("color",o(h,"glcolor"));for(var y=o(h,"x"),S=o(h,"y"),M=o(h,"steps"),P=0;P<M;P++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,S),this.runDraw()},onGradient:function(h){var c=this.shaders[d.GRADIENT];this.setShader(c),this.gradient.onPreRender(h,c),this.runDraw()},onBloom:function(h,c,p){var g=this.shaders[d.BLOOM];this.copySprite(this.source,this.swap),this.setShader(g),this.set1i("uMainSampler",0),this.set1f("strength",o(h,"blurStrength")),this.set3fv("color",o(h,"glcolor"));for(var m=2/c*o(h,"offsetX"),y=2/p*o(h,"offsetY"),S=o(h,"steps"),M=0;M<S;M++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw();this.blendFrames(this.swap,this.source,this.target,o(h,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(h){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",h.getData()),this.set1f("uAlpha",h.alpha),this.runDraw()},onCircle:function(h,c,p){var g=this.shaders[d.CIRCLE];this.setShader(g),this.circle.onPreRender(h,g,c,p),this.runDraw()},onBarrel:function(h){var c=this.shaders[d.BARREL];this.setShader(c),this.barrel.onPreRender(h,c),this.runDraw()},onDisplacement:function(h){this.setShader(this.shaders[d.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",h.x,h.y),this.bindTexture(h.glTexture,1),this.runDraw()},onWipe:function(h){var c=this.shaders[d.WIPE];this.setShader(c),this.wipe.onPreRender(h,c),this.runDraw()},onBokeh:function(h,c,p){var g=this.shaders[d.BOKEH];this.setShader(g),this.bokeh.onPreRender(h,g,c,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,a.prototype.destroy.call(this),this}});n.exports=v},96569:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=e(31063),o=e(57516),a=e(61340),r=e(26099),l=e(29100),v=new u({Extends:o,initialize:function(c){var p=x(c,"fragShader",d);c.fragShader=p.replace("%LIGHT_COUNT%",c.game.renderer.config.maxLights),o.call(this,c),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new r,this._tempMatrix=new a,this._tempMatrix2=new a},boot:function(){l.prototype.boot.call(this)},onRender:function(h,c){var p=h.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var g=p.getLights(c),m=g.length;this.lightsActive=!0;var y,S=this.renderer,M=S.height,P=c.matrix,w=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",c.x,c.y,c.rotation,c.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",m),y=0;y<m;y++){var R=g[y].light,A=R.color,L="uLights["+y+"].";P.transformPoint(R.x,R.y,w),this.set2f(L+"position",w.x-c.scrollX*R.scrollFactorX*c.zoom,M-(w.y-c.scrollY*R.scrollFactorY*c.zoom)),this.set3f(L+"color",A.r,A.g,A.b),this.set1f(L+"intensity",R.intensity),this.set1f(L+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(h){if(h!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var c=this.inverseRotationMatrix;if(h){var p=-h,g=Math.cos(p),m=Math.sin(p);c[1]=m,c[3]=-m,c[0]=c[4]=g}else c[0]=c[4]=1,c[1]=c[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=h}},setTexture2D:function(h,c){var p=this.renderer;h===void 0&&(h=p.whiteTexture);var g=this.getNormalMap(c);this.isNewNormalMap(h,g)&&(this.flush(),this.createBatch(h),this.addTextureToBatch(g),this.currentNormalMap=g);var m=0;if(c&&c.parentContainer){var y=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);m=y.rotationNormalized}else c&&(m=c.rotation);return this.setNormalMapRotation(m),0},setGameObject:function(h,c){c===void 0&&(c=h.frame);var p=c.glTexture,g=this.getNormalMap(h);if(this.isNewNormalMap(p,g)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(g),this.currentNormalMap=g),h.parentContainer){var m=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(m.rotationNormalized)}else this.setNormalMapRotation(h.rotation);return 0},isNewNormalMap:function(h,c){return this.currentTexture!==h||this.currentNormalMap!==c},getNormalMap:function(h){var c;if(h)h.displayTexture?c=h.displayTexture.dataSource[h.displayFrame.sourceIndex]:h.texture?c=h.texture.dataSource[h.frame.sourceIndex]:h.tileset&&(Array.isArray(h.tileset)?c=h.tileset[0].image.dataSource[0]:c=h.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return c?c.glTexture:this.renderer.normalTexture},batchSprite:function(h,c,p){this.lightsActive&&o.prototype.batchSprite.call(this,h,c,p)},batchTexture:function(h,c,p,g,m,y,S,M,P,w,R,A,L,F,O,b,B,I,N,X,k,H,V,W,D,G,z,U,Y,$,K,Z){this.lightsActive&&o.prototype.batchTexture.call(this,h,c,p,g,m,y,S,M,P,w,R,A,L,F,O,b,B,I,N,X,k,H,V,W,D,G,z,U,Y,$,K,Z)},batchTextureFrame:function(h,c,p,g,m,y,S){this.lightsActive&&o.prototype.batchTextureFrame.call(this,h,c,p,g,m,y,S)}});n.exports=v},56527:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=e(57516),o=e(45561),a=e(60722),r=e(14500),l=e(29100),v=new u({Extends:d,initialize:function(c){c.fragShader=x(c,"fragShader",o),c.vertShader=x(c,"vertShader",a),c.attributes=x(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:r.UNSIGNED_BYTE,normalized:!0}]),c.forceZero=!0,c.resizeUniform="uResolution",d.call(this,c)},boot:function(){l.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height),this.set1i("uRoundPixels",h.config.roundPixels)}});n.exports=v},57516:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(94811),d=e(95540),o=e(98840),a=e(44667),r=e(61340),l=e(70554),v=e(14500),h=e(29100),c=new u({Extends:h,initialize:function(g){var m=g.game.renderer,y=d(g,"fragShader",o);g.fragShader=l.parseFragmentShaderMaxTextures(y,m.maxTextures),g.vertShader=d(g,"vertShader",a),g.attributes=d(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),g.resizeUniform="uResolution",h.call(this,g),this._tempMatrix1=new r,this._tempMatrix2=new r,this._tempMatrix3=new r,this.calcMatrix=new r,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){h.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height),this.set1i("uRoundPixels",p.config.roundPixels)},batchSprite:function(p,g,m){this.manager.set(this,p);var y=this._tempMatrix1,S=this._tempMatrix2,M=this._tempMatrix3,P=p.frame,w=P.glTexture,R=P.u0,A=P.v0,L=P.u1,F=P.v1,O=P.x,b=P.y,B=P.cutWidth,I=P.cutHeight,N=P.customPivot,X=p.displayOriginX,k=p.displayOriginY,H=-X+O,V=-k+b;if(p.isCropped){var W=p._crop;(W.flipX!==p.flipX||W.flipY!==p.flipY)&&P.updateCropUVs(W,p.flipX,p.flipY),R=W.u0,A=W.v0,L=W.u1,F=W.v1,B=W.width,I=W.height,O=W.x,b=W.y,H=-X+O,V=-k+b}var D=1,G=1;p.flipX&&(N||(H+=-P.realWidth+X*2),D=-1),p.flipY&&(N||(V+=-P.realHeight+k*2),G=-1);var z=p.x,U=p.y;S.applyITRS(z,U,p.rotation,p.scaleX*D,p.scaleY*G),y.copyFrom(g.matrix),m?(y.multiplyWithOffset(m,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),S.e=z,S.f=U):(S.e-=g.scrollX*p.scrollFactorX,S.f-=g.scrollY*p.scrollFactorY),y.multiply(S,M);var Y=M.setQuad(H,V,H+B,V+I),$=l.getTintAppendFloatAlpha,K=g.alpha,Z=$(p.tintTopLeft,K*p._alphaTL),J=$(p.tintTopRight,K*p._alphaTR),Q=$(p.tintBottomLeft,K*p._alphaBL),j=$(p.tintBottomRight,K*p._alphaBR);this.shouldFlush(6)&&this.flush();var _=this.setGameObject(p,P);this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",g.roundPixels),this.batchQuad(p,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],R,A,L,F,Z,J,Q,j,p.tintFill,w,_),this.manager.postBatch(p)},batchTexture:function(p,g,m,y,S,M,P,w,R,A,L,F,O,b,B,I,N,X,k,H,V,W,D,G,z,U,Y,$,K,Z,J,Q,j){j===void 0&&(j=!1),this.manager.set(this,p);var _=this._tempMatrix1,q=this._tempMatrix2,it=this._tempMatrix3,at=X/m+Y,ot=k/y+$,ht=(X+H)/m+Y,tt=(k+V)/y+$,nt=P,rt=w,vt=-I,ct=-N;if(p.isCropped){var bt=p._crop,Ot=bt.width,yt=bt.height;nt=Ot,rt=yt,P=Ot,w=yt,X=bt.x,k=bt.y;var mt=X,Xt=k;F&&(mt=H-bt.x-Ot),O&&(Xt=V-bt.y-yt),at=mt/m+Y,ot=Xt/y+$,ht=(mt+Ot)/m+Y,tt=(Xt+yt)/y+$,vt=-I+X,ct=-N+k}O=O^(!J&&g.isRenderTexture?1:0),F&&(nt*=-1,vt+=P),O&&(rt*=-1,ct+=w),q.applyITRS(S,M,L,R,A),_.copyFrom(K.matrix),Z?(_.multiplyWithOffset(Z,-K.scrollX*b,-K.scrollY*B),q.e=S,q.f=M):(q.e-=K.scrollX*b,q.f-=K.scrollY*B),_.multiply(q,it);var Lt=it.setQuad(vt,ct,vt+nt,ct+rt);Q==null&&(Q=this.setTexture2D(g)),p&&!j&&this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",K.roundPixels),this.batchQuad(p,Lt[0],Lt[1],Lt[2],Lt[3],Lt[4],Lt[5],Lt[6],Lt[7],at,ot,ht,tt,W,D,G,z,U,g,Q),p&&!j&&this.manager.postBatch(p)},batchTextureFrame:function(p,g,m,y,S,M,P){this.manager.set(this);var w=this._tempMatrix1.copyFrom(M),R=this._tempMatrix2;P?w.multiply(P,R):R=w;var A=R.setQuad(g,m,g+p.width,m+p.height),L=this.setTexture2D(p.source.glTexture);y=l.getTintAppendFloatAlpha(y,S),this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],p.u0,p.v0,p.u1,p.v1,y,y,y,y,0,p.glTexture,L)},batchFillRect:function(p,g,m,y,S,M){this.renderer.pipelines.set(this);var P=this.calcMatrix;M&&M.multiply(S,P);var w=P.setQuad(p,g,p+m,g+y),R=this.fillTint;this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(p,g,m,y,S,M,P,w){this.renderer.pipelines.set(this);var R=this.calcMatrix;w&&w.multiply(P,R);var A=R.getX(p,g),L=R.getY(p,g),F=R.getX(m,y),O=R.getY(m,y),b=R.getX(S,M),B=R.getY(S,M),I=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,A,L,F,O,b,B,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(p,g,m,y,S,M,P,w,R){var A=this.tempTriangle;A[0].x=p,A[0].y=g,A[0].width=P,A[1].x=m,A[1].y=y,A[1].width=P,A[2].x=S,A[2].y=M,A[2].width=P,A[3].x=p,A[3].y=g,A[3].width=P,this.batchStrokePath(A,P,!1,w,R)},batchFillPath:function(p,g,m){this.renderer.pipelines.set(this);var y=this.calcMatrix;m&&m.multiply(g,y);for(var S=p.length,M=this.polygonCache,P,w,R=this.fillTint.TL,A=this.fillTint.TR,L=this.fillTint.BL,F=0;F<S;++F)w=p[F],M.push(w.x,w.y);P=x(M),S=P.length,this.currentShader.set1i("uRoundPixels",!1);for(var O=0;O<S;O+=3){var b=P[O+0]*2,B=P[O+1]*2,I=P[O+2]*2,N=M[b+0],X=M[b+1],k=M[B+0],H=M[B+1],V=M[I+0],W=M[I+1],D=y.getX(N,X),G=y.getY(N,X),z=y.getX(k,H),U=y.getY(k,H),Y=y.getX(V,W),$=y.getY(V,W);this.batchTri(null,D,G,z,U,Y,$,0,0,1,1,R,A,L,2)}M.length=0},batchStrokePath:function(p,g,m,y,S){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var M=p.length-1,P=0;P<M;P++){var w=p[P],R=p[P+1];this.batchLine(w.x,w.y,R.x,R.y,w.width/2,R.width/2,g,P,!m&&P===M-1,y,S)}},batchLine:function(p,g,m,y,S,M,P,w,R,A,L){this.renderer.pipelines.set(this);var F=this.calcMatrix;L&&L.multiply(A,F);var O=m-p,b=y-g,B=Math.sqrt(O*O+b*b);if(B!==0){var I=S*(y-g)/B,N=S*(p-m)/B,X=M*(y-g)/B,k=M*(p-m)/B,H=m-X,V=y-k,W=p-I,D=g-N,G=m+X,z=y+k,U=p+I,Y=g+N,$=F.getX(H,V),K=F.getY(H,V),Z=F.getX(W,D),J=F.getY(W,D),Q=F.getX(G,z),j=F.getY(G,z),_=F.getX(U,Y),q=F.getY(U,Y),it=this.strokeTint,at=it.TL,ot=it.TR,ht=it.BL,tt=it.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,_,q,Z,J,$,K,Q,j,0,0,1,1,at,ot,ht,tt,2),!(P<=2)){var nt=this.prevQuad,rt=this.firstQuad;w>0&&nt[4]?this.batchQuad(null,_,q,Z,J,nt[0],nt[1],nt[2],nt[3],0,0,1,1,at,ot,ht,tt,2):(rt[0]=_,rt[1]=q,rt[2]=Z,rt[3]=J,rt[4]=1),R&&rt[4]?this.batchQuad(null,$,K,Q,j,rt[0],rt[1],rt[2],rt[3],0,0,1,1,at,ot,ht,tt,2):(nt[0]=$,nt[1]=K,nt[2]=Q,nt[3]=j,nt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,h.prototype.destroy.call(this),this}});n.exports=c},43439:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=e(4127),o=e(89924),a=e(29100),r=new u({Extends:a,initialize:function(v){v.vertShader=x(v,"vertShader",o),v.fragShader=x(v,"fragShader",d),v.attributes=x(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),a.call(this,v)},onRender:function(l,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},batchPointLight:function(l,v,h,c,p,g,m,y,S,M,P,w){var R=l.color,A=l.intensity,L=l.radius,F=l.attenuation,O=R.r*A,b=R.g*A,B=R.b*A,I=v.alpha*l.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(h,c,P,w,L,F,O,b,B,I),this.batchLightVert(p,g,P,w,L,F,O,b,B,I),this.batchLightVert(m,y,P,w,L,F,O,b,B,I),this.batchLightVert(h,c,P,w,L,F,O,b,B,I),this.batchLightVert(m,y,P,w,L,F,O,b,B,I),this.batchLightVert(S,M,P,w,L,F,O,b,B,I),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(l,v,h,c,p,g,m,y,S,M){var P=this.vertexViewF32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++w]=l,P[++w]=v,P[++w]=h,P[++w]=c,P[++w]=p,P[++w]=g,P[++w]=m,P[++w]=y,P[++w]=S,P[++w]=M,this.vertexCount++}});n.exports=r},84057:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(89422),d=e(95540),o=e(27681),a=e(49627),r=e(29100),l=new u({Extends:r,initialize:function(h){h.renderTarget=d(h,"renderTarget",1),h.fragShader=d(h,"fragShader",o),h.vertShader=d(h,"vertShader",a),h.attributes=d(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),h.batchSize=1,h.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],r.call(this,h),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){r.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height),this.set1i("uRoundPixels",h.config.roundPixels);for(var c=this.renderTargets,p=0;p<c.length;p++)c[p].autoResize=!0},postBatch:function(v){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(v){this.bindAndDraw(v)},getController:function(v){return v!==void 0?v:this.controller?this.controller:this},copySprite:function(v,h,c){c===void 0&&(c=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,v.texture.webGLTexture);var g=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,h.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,h.texture.webGLTexture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),c&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,g))},copyFrame:function(v,h,c,p,g){this.manager.copyFrame(v,h,c,p,g)},copyToGame:function(v){this.manager.copyToGame(v)},drawFrame:function(v,h,c){this.manager.drawFrame(v,h,c,this.colorMatrix)},blendFrames:function(v,h,c,p,g){this.manager.blendFrames(v,h,c,p,g)},blendFramesAdditive:function(v,h,c,p,g){this.manager.blendFramesAdditive(v,h,c,p,g)},clearFrame:function(v,h){this.manager.clearFrame(v,h)},blitFrame:function(v,h,c,p,g,m){this.manager.blitFrame(v,h,c,p,g,m)},copyFrameRect:function(v,h,c,p,g,m,y,S){this.manager.copyFrameRect(v,h,c,p,g,m,y,S)},bindAndDraw:function(v,h,c,p,g){c===void 0&&(c=!0),p===void 0&&(p=!0);var m=this.gl,y=this.renderer;this.bind(g),this.set1i("uMainSampler",0),h?(m.viewport(0,0,h.width,h.height),m.bindFramebuffer(m.FRAMEBUFFER,h.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,h.texture.webGLTexture,0),c&&(p?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT))):(y.popFramebuffer(!1,!1),y.currentFramebuffer||m.viewport(0,0,y.width,y.height)),y.restoreStencilMask(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,v.texture.webGLTexture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),h&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,y.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),r.prototype.destroy.call(this),this}});n.exports=l},43558:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),x=e(67502),d=e(83419),o=e(96293),a=e(95540),r=e(57516),l=e(27681),v=e(87841),h=e(32302),c=e(45561),p=e(60722),g=e(29100),m=new d({Extends:r,initialize:function(S){var M=a(S,"fragShader",l),P=a(S,"vertShader",p),w=a(S,"drawShader",l),R=[{name:"DrawSprite",fragShader:c,vertShader:p},{name:"CopySprite",fragShader:M,vertShader:P},{name:"DrawGame",fragShader:w,vertShader:p},{name:"ColorMatrix",fragShader:o}],A=a(S,"shaders",[]);S.shaders=R.concat(A),S.vertShader||(S.vertShader=P),S.batchSize=1,r.call(this,S),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){g.prototype.boot.call(this);var y=this.shaders,S=this.renderer;this.drawSpriteShader=y[0],this.copyShader=y[1],this.gameShader=y[2],this.colorMatrixShader=y[3],this.fsTarget=new h(S,S.width,S.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var M=new ArrayBuffer(168);this.quadVertexData=M,this.quadVertexViewF32=new Float32Array(M),this.quadVertexBuffer=S.createVertexBuffer(M,this.gl.STATIC_DRAW),this.onResize(S.width,S.height),this.currentShader=this.copyShader,this.set2f("uResolution",S.width,S.height),this.set1i("uRoundPixels",S.config.roundPixels)},onResize:function(y,S){var M=this.quadVertexViewF32;M[1]=S,M[22]=S,M[14]=y,M[28]=y,M[35]=y,M[36]=S},batchQuad:function(y,S,M,P,w,R,A,L,F,O,b,B,I,N,X,k,H,V,W){var D=Math.min(S,P,R,L),G=Math.min(M,w,A,F),z=Math.max(S,P,R,L),U=Math.max(M,w,A,F),Y=z-D,$=U-G,K=this.spriteBounds.setTo(D,G,Y,$),Z=y?y.preFX.padding:0,J=Y+Z*2,Q=$+Z*2,j=Math.abs(Math.max(J,Q)),_=this.manager.getRenderTarget(j),q=this.targetBounds.setTo(0,0,_.width,_.height);x(q,K.centerX,K.centerY),this.tempSprite=y;var it=this.gl,at=this.renderer;at.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",at.width,at.height),this.set1i("uRoundPixels",at.config.roundPixels),this.flipProjectionMatrix(!0),y&&(this.onDrawSprite(y,_),y.preFX.onFX(this));var ot=this.fsTarget;return this.flush(),it.viewport(0,0,at.width,at.height),it.bindFramebuffer(it.FRAMEBUFFER,ot.framebuffer.webGLFramebuffer),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,ot.texture.webGLTexture,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT),this.setTexture2D(W),this.batchVert(S,M,O,b,0,V,N),this.batchVert(P,w,O,I,0,V,k),this.batchVert(R,A,B,I,0,V,H),this.batchVert(S,M,O,b,0,V,N),this.batchVert(R,A,B,I,0,V,H),this.batchVert(L,F,B,b,0,V,X),this.flush(),this.flipProjectionMatrix(!1),it.activeTexture(it.TEXTURE0),it.bindTexture(it.TEXTURE_2D,_.texture.webGLTexture),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,q.x,q.y,q.width,q.height),it.bindFramebuffer(it.FRAMEBUFFER,null),it.bindTexture(it.TEXTURE_2D,null),this.onBatch(y),this.currentShader=this.copyShader,this.onDraw(_,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(y,S,M,P,w,R,A){M===void 0&&(M=!0),P===void 0&&(P=!0),w===void 0&&(w=!1),A===void 0&&(A=this.copyShader);var L=this.gl,F=this.tempSprite;R&&(A=this.colorMatrixShader),this.currentShader=A;var O=this.setVertexBuffer(this.quadVertexBuffer);A.bind(O,!1);var b=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",b.width,b.height),this.set1i("uRoundPixels",b.config.roundPixels),F.preFX.onFXCopy(this),this.onCopySprite(y,S,F),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,y.texture.webGLTexture),y.height>S.height)L.viewport(0,0,y.width,y.height),this.setTargetUVs(y,S);else{var B=S.height-y.height;L.viewport(0,B,y.width,y.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,S.texture.webGLTexture,0),M&&(L.clearColor(0,0,0,Number(!P)),L.clear(L.COLOR_BUFFER_BIT)),w){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),w&&this.renderer.setBlendMode(I),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(y,S){var M=this.gl;this.set1i("uMainSampler",0),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,y.texture.webGLTexture),M.viewport(0,0,y.width,y.height),this.setUVs(0,0,0,1,1,1,1,0),M.bindFramebuffer(M.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,S.texture.webGLTexture,0),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null)},blendFrames:function(y,S,M,P,w){this.manager.blendFrames(y,S,M,P,w)},blendFramesAdditive:function(y,S,M,P,w){this.manager.blendFramesAdditive(y,S,M,P,w)},drawToGame:function(y){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(y)},copyToGame:function(y){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(y)},bindAndDraw:function(y){var S=this.gl,M=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(y.texture);var P=this._tempMatrix1.loadIdentity(),w=this.targetBounds.x,R=this.targetBounds.y,A=w+y.width,L=R+y.height,F=P.getX(w,R),O=P.getX(w,L),b=P.getX(A,L),B=P.getX(A,R),I=P.getY(w,R),N=P.getY(w,L),X=P.getY(A,L),k=P.getY(A,R),H=16777215;this.batchVert(F,I,0,0,0,0,H),this.batchVert(O,N,0,1,0,0,H),this.batchVert(b,X,1,1,0,0,H),this.batchVert(F,I,0,0,0,0,H),this.batchVert(b,X,1,1,0,0,H),this.batchVert(B,k,1,0,0,0,H),M.restoreFramebuffer(!1,!0),M.currentFramebuffer||S.viewport(0,0,M.width,M.height),M.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(y){this.drawToGame(y)},setUVs:function(y,S,M,P,w,R,A,L){var F=this.quadVertexViewF32;F[2]=y,F[3]=S,F[9]=M,F[10]=P,F[16]=w,F[17]=R,F[23]=y,F[24]=S,F[30]=w,F[31]=R,F[37]=A,F[38]=L},setTargetUVs:function(y,S){var M=S.height/y.height;M>.5?M=.5-(M-.5):M=.5+(.5-M),this.setUVs(0,M,0,1+M,1,1+M,1,M)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,r.prototype.destroy.call(this),this}});n.exports=m},81041:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=e(57516),o=new u({Extends:d,initialize:function(r){r.topology=5,r.batchSize=x(r,"batchSize",256),d.call(this,r)}});n.exports=o},12385:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=e(57516),o=e(45561),a=e(60722),r=e(29100),l=new u({Extends:d,initialize:function(h){h.fragShader=x(h,"fragShader",o),h.vertShader=x(h,"vertShader",a),h.forceZero=!0,d.call(this,h)},boot:function(){r.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height),this.set1i("uRoundPixels",v.config.roundPixels)}});n.exports=l},7589:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35407),x=e(10312),d=e(83419),o=e(89422),a=e(96293),r=e(36682),l=e(95540),v=e(48247),h=e(49627),c=e(29100),p=new d({Extends:c,initialize:function(m){m.renderTarget=l(m,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),m.vertShader=l(m,"vertShader",h),m.shaders=l(m,"shaders",[{name:"Copy",fragShader:r},{name:"AddBlend",fragShader:u},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:a}]),m.attributes=l(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),m.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],m.batchSize=1,c.call(this,m),this.colorMatrix=new o,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){c.prototype.boot.call(this);var g=this.shaders,m=this.renderTargets;this.copyShader=g[0],this.addShader=g[1],this.linearShader=g[2],this.colorMatrixShader=g[3],this.fullFrame1=m[0],this.fullFrame2=m[1],this.halfFrame1=m[2],this.halfFrame2=m[3]},copyFrame:function(g,m,y,S,M){y===void 0&&(y=1),S===void 0&&(S=!0),M===void 0&&(M=!0);var P=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,g.texture.webGLTexture),m?(P.viewport(0,0,m.width,m.height),P.bindFramebuffer(P.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,m.texture.webGLTexture,0)):P.viewport(0,0,g.width,g.height),S&&(M?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blitFrame:function(g,m,y,S,M,P,w){y===void 0&&(y=1),S===void 0&&(S=!0),M===void 0&&(M=!0),P===void 0&&(P=!1),w===void 0&&(w=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,g.texture.webGLTexture),g.height>m.height)R.viewport(0,0,g.width,g.height),this.setTargetUVs(g,m);else{var A=m.height-g.height;R.viewport(0,A,g.width,g.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,m.texture.webGLTexture,0),S&&(M?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),P){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}w&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),P&&this.renderer.setBlendMode(L),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(g,m,y,S,M,P,w,R){w===void 0&&(w=!0),R===void 0&&(R=!0);var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,g.texture.webGLTexture,0),w&&(R?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,m.texture.webGLTexture),A.copyTexSubImage2D(A.TEXTURE_2D,0,0,0,y,S,M,P),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},copyToGame:function(g){var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,g.texture.webGLTexture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6)},drawFrame:function(g,m,y,S){y===void 0&&(y=!0),S===void 0&&(S=this.colorMatrix);var M=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,g.texture.webGLTexture),m?(M.viewport(0,0,m.width,m.height),M.bindFramebuffer(M.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,m.texture.webGLTexture,0)):M.viewport(0,0,g.width,g.height),y?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blendFrames:function(g,m,y,S,M,P){S===void 0&&(S=1),M===void 0&&(M=!0),P===void 0&&(P=this.linearShader);var w=this.gl;this.setShader(P),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",S),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,g.texture.webGLTexture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,m.texture.webGLTexture),y?(w.bindFramebuffer(w.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,y.texture.webGLTexture,0),w.viewport(0,0,y.width,y.height)):w.viewport(0,0,g.width,g.height),M?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFramesAdditive:function(g,m,y,S,M){this.blendFrames(g,m,y,S,M,this.addShader)},clearFrame:function(g,m){m===void 0&&(m=!0);var y=this.gl;y.viewport(0,0,g.width,g.height),y.bindFramebuffer(y.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT);var S=this.renderer.currentFramebuffer;y.bindFramebuffer(y.FRAMEBUFFER,S.webGLFramebuffer)},setUVs:function(g,m,y,S,M,P,w,R){var A=this.vertexViewF32;A[2]=g,A[3]=m,A[6]=y,A[7]=S,A[10]=M,A[11]=P,A[14]=g,A[15]=m,A[18]=M,A[19]=P,A[22]=w,A[23]=R},setTargetUVs:function(g,m){var y=m.height/g.height;y>.5?y=.5-(y-.5):y=.5+(.5-y),this.setUVs(0,y,0,1+y,1,1+y,1,y)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});n.exports=p},36060:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=C},84817:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"},36712:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"},40285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"},65918:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"},92852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"},56072:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"},57566:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"},77085:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:e(84817),BEFORE_FLUSH:e(36712),BIND:e(40285),BOOT:e(65918),DESTROY:e(92852),REBIND:e(56072),RESIZE:e(57566)}},54812:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(99155),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.amount=1},onPreRender:function(a,r){a=this.getController(a),this.set1f("amount",a.amount,r)}});n.exports=o},67329:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(24400),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(a){a=this.getController(a),this.set1f("strength",a.blurStrength),this.set3fv("color",a.glcolor)},onDraw:function(a){var r=this.getController(),l=this.fullFrame1,v=this.fullFrame2;this.copyFrame(a,v);for(var h=2/a.width*r.offsetX,c=2/a.height*r.offsetY,p=0;p<r.steps;p++)this.set2f("offset",h,0),this.copySprite(a,l),this.set2f("offset",0,c),this.copySprite(l,a);this.blendFrames(v,a,l,r.strength),this.copyToGame(l)}});n.exports=o},8861:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(41514),d=e(51078),o=e(94328),a=e(84057),r=new u({Extends:a,initialize:function(v){a.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:d},{name:"Gaussian13",fragShader:o}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(l){var v=this.getController(),h=this.gl,c=this.fullFrame1,p=h.getParameter(h.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),h.activeTexture(h.TEXTURE0),h.viewport(0,0,l.width,l.height),this.set1i("uMainSampler",0),this.set2f("resolution",l.width,l.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var g=0;g<v.steps;g++)this.set2f("offset",v.x,0),this.copySprite(l,c),this.set2f("offset",0,v.y),this.copySprite(c,l);h.bindFramebuffer(h.FRAMEBUFFER,p),h.bindTexture(h.TEXTURE_2D,null),this.copyToGame(l)}});n.exports=r},51051:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(90610),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(a,r,l,v){a=this.getController(a),this.set1f("radius",a.radius,r),this.set1f("amount",a.amount,r),this.set1f("contrast",a.contrast,r),this.set1f("strength",a.strength,r),this.set2f("blur",a.blurX,a.blurY,r),this.setBoolean("isTiltShift",a.isTiltShift,r),l&&v&&this.set2f("resolution",l,v,r)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});n.exports=o},89428:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(91899),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(a,r,l,v){a=this.getController(a),this.set1f("scale",a.scale,r),this.set1f("feather",a.feather,r),this.set1f("thickness",a.thickness,r),this.set3fv("color",a.glcolor,r),this.set4fv("backgroundColor",a.glcolor2,r),l&&v&&this.set2f("resolution",l,v,r)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});n.exports=o},88904:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(84057),d=new u({Extends:x,initialize:function(a){x.call(this,{game:a})},onDraw:function(o){var a=this.fullFrame1;this.controller?this.manager.drawFrame(o,a,!0,this.controller):this.drawFrame(o,a),this.copyToGame(a)}});n.exports=d},63563:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(47838),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(a){var r=this.game.textures.getFrame(a);r&&(this.glTexture=r.glTexture)},onDraw:function(a){var r=this.getController(),l=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",r.x,r.y),this.bindTexture(r.glTexture,1),this.copySprite(a,l),this.copyToGame(l)}});n.exports=o},94045:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=e(98656),o=e(84057),a=e(70554),r=new u({Extends:o,initialize:function(v,h){var c=x(h,"quality",.1),p=x(h,"distance",10);o.call(this,{game:v,fragShader:a.setGlowQuality(d,v,c,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(l,v,h,c){l=this.getController(l),this.set1f("outerStrength",l.outerStrength,v),this.set1f("innerStrength",l.innerStrength,v),this.set4fv("glowColor",l.glcolor,v),this.setBoolean("knockout",l.knockout,v),h&&c&&this.set2f("resolution",h,c,v)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=r},74088:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(70463),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(a,r){a=this.getController(a),this.set1f("alpha",a.alpha,r),this.set1i("size",a.size,r),this.set3fv("color1",a.glcolor1,r),this.set3fv("color2",a.glcolor2,r),this.set2f("positionFrom",a.fromX,a.fromY,r),this.set2f("positionTo",a.toX,a.toY,r)}});n.exports=o},99636:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50831),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.amount=1},onPreRender:function(a,r,l,v){a=this.getController(a),this.set1f("amount",a.amount,r),l&&v&&this.set2f("resolution",l,v,r)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});n.exports=o},34700:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(92595),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(a,r){a=this.getController(a);var l=a.samples;this.set1i("samples",l,r),this.set1f("intensity",a.intensity,r),this.set1f("decay",a.decay,r),this.set1f("power",a.power/l,r),this.set2f("lightPosition",a.x,a.y,r),this.set4fv("color",a.glcolor,r)}});n.exports=o},91157:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(72464),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(a,r,l,v){a=this.getController(a),this.setTime("time",r),this.set1f("speed",a.speed,r),this.set1f("lineWidth",a.lineWidth,r),this.set1f("gradient",a.gradient,r),this.setBoolean("reveal",a.reveal,r),l&&v&&this.set2f("resolution",l,v,r)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});n.exports=o},27797:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(39249),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(a,r){a=this.getController(a),this.set1f("radius",a.radius,r),this.set1f("strength",a.strength,r),this.set2f("position",a.x,a.y,r)}});n.exports=o},67603:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(2878),d=e(84057),o=new u({Extends:d,initialize:function(r){d.call(this,{game:r,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(a,r){a=this.getController(a);var l=a.progress,v=a.wipeWidth,h=a.direction,c=a.axis;this.set4f("config",l,v,h,c,r),this.setBoolean("reveal",a.reveal,r)}});n.exports=o},58918:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Barrel:e(54812),Bloom:e(67329),Blur:e(8861),Bokeh:e(51051),Circle:e(89428),ColorMatrix:e(88904),Displacement:e(63563),Glow:e(94045),Gradient:e(74088),Pixelate:e(99636),Shadow:e(34700),Shine:e(91157),Vignette:e(27797),Wipe:e(67603)};n.exports=u},96615:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36060),x=e(79291),d={FX:e(58918),BitmapMaskPipeline:e(31302),Events:e(77085),FXPipeline:e(92651),LightPipeline:e(96569),MobilePipeline:e(56527),MultiPipeline:e(57516),PointLightPipeline:e(43439),PostFXPipeline:e(84057),PreFXPipeline:e(43558),RopePipeline:e(81041),SinglePipeline:e(12385),UtilityPipeline:e(7589)};d=x(!1,d,u),n.exports=d},35407:n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:e(35407),BitmapMaskFrag:e(78908),BitmapMaskVert:e(85191),ColorMatrixFrag:e(96293),CopyFrag:e(36682),FXBarrelFrag:e(99155),FXBloomFrag:e(24400),FXBlurHighFrag:e(94328),FXBlurLowFrag:e(41514),FXBlurMedFrag:e(51078),FXBokehFrag:e(90610),FXCircleFrag:e(91899),FXDisplacementFrag:e(47838),FXGlowFrag:e(98656),FXGradientFrag:e(70463),FXPixelateFrag:e(50831),FXShadowFrag:e(92595),FXShineFrag:e(72464),FXVignetteFrag:e(39249),FXWipeFrag:e(2878),LightFrag:e(31063),LinearBlendFrag:e(48247),MeshFrag:e(41214),MeshVert:e(39653),MobileFrag:e(62143),MobileVert:e(47940),MultiFrag:e(98840),MultiVert:e(44667),PointLightFrag:e(4127),PointLightVert:e(89924),PostFXFrag:e(27681),QuadVert:e(49627),SingleFrag:e(45561),SingleVert:e(60722)}},93567:(n,C,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r){this.webGLAttribLocation=-1,this.gl=o,this.program=a,this.name=r,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var d=this.gl;d.isContextLost()||(this.webGLAttribLocation=d.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});n.exports=x},26128:(n,C,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r,l){this.webGLBuffer=null,this.gl=o,this.initialDataOrSize=a,this.bufferType=r,this.bufferUsage=l,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var d=this.gl;if(!d.isContextLost()){var o=this.bufferType,a=d.createBuffer();this.webGLBuffer=a,d.bindBuffer(o,this.webGLBuffer),d.bufferData(o,this.initialDataOrSize,this.bufferUsage),d.bindBuffer(o,null)}}},destroy:function(){var d=this.gl;d.isContextLost()||d.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});n.exports=x},84387:(n,C,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},d=new u({initialize:function(a,r,l,v,h){this.webGLFramebuffer=null,this.gl=a,this.width=r,this.height=l,this.renderTexture=v,this.addDepthStencilBuffer=!!h,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var a=this.renderTexture,r=0,l=o.createFramebuffer();if(this.webGLFramebuffer=l,o.bindFramebuffer(o.FRAMEBUFFER,l),a.isRenderTexture=!0,a.isAlphaPremultiplied=!1,o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,a.webGLTexture,0),r=o.checkFramebufferStatus(o.FRAMEBUFFER),r!==o.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(x[r]||r));if(this.addDepthStencilBuffer){var v=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,v),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,this.width,this.height),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,v)}o.bindFramebuffer(o.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var o=this.gl;if(!o.isContextLost()){o.bindFramebuffer(o.FRAMEBUFFER,this.webGLFramebuffer);var a=o.getFramebufferAttachmentParameter(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&(o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,null,0),o.deleteTexture(a));var r=o.getFramebufferAttachmentParameter(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&o.deleteRenderbuffer(r),o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});n.exports=d},1482:(n,C,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r){this.webGLProgram=null,this.gl=o,this.vertexSource=a,this.fragmentSource=r,this.createResource()},createResource:function(){var d=this.gl;if(!d.isContextLost()){var o=d.createProgram(),a=d.createShader(d.VERTEX_SHADER),r=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(a,this.vertexSource),d.shaderSource(r,this.fragmentSource),d.compileShader(a),d.compileShader(r);var l=`Shader failed:
`;if(!d.getShaderParameter(a,d.COMPILE_STATUS))throw new Error("Vertex "+l+d.getShaderInfoLog(a));if(!d.getShaderParameter(r,d.COMPILE_STATUS))throw new Error("Fragment "+l+d.getShaderInfoLog(r));if(d.attachShader(o,a),d.attachShader(o,r),d.linkProgram(o),!d.getProgramParameter(o,d.LINK_STATUS))throw new Error("Link "+l+d.getProgramInfoLog(o));d.useProgram(o),this.webGLProgram=o}},destroy:function(){!this.webGLProgram||(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});n.exports=x},82751:(n,C,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50030),d=new u({initialize:function(a,r,l,v,h,c,p,g,m,y,S,M,P){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=a,this.mipLevel=r,this.minFilter=l,this.magFilter=v,this.wrapT=h,this.wrapS=c,this.format=p,this.pixels=g,this.width=m,this.height=y,this.pma=S==null?!0:S,this.forceSize=!!M,this.flipY=!!P,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){if(this.pixels instanceof d){this.webGLTexture=this.pixels.webGLTexture;return}var a=o.createTexture();a.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=a,this._processTexture()}},update:function(o,a,r,l,v,h,c,p,g){if(!(a===0||r===0)){this.pixels=o,this.width=a,this.height=r,this.flipY=l,this.wrapS=v,this.wrapT=h,this.minFilter=c,this.magFilter=p,this.format=g;var m=this.gl;m.isContextLost()||this._processTexture()}},_processTexture:function(){var o=this.gl;o.activeTexture(o.TEXTURE0);var a=o.getParameter(o.TEXTURE_BINDING_2D);o.bindTexture(o.TEXTURE_2D,this.webGLTexture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.minFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,this.magFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,this.wrapS),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,this.wrapT),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,this.flipY);var r=this.pixels,l=this.mipLevel,v=this.width,h=this.height,c=this.format,p=!1;if(r==null)o.texImage2D(o.TEXTURE_2D,l,c,v,h,0,c,o.UNSIGNED_BYTE,null),p=x(v,h);else if(r.compressed){v=r.width,h=r.height,p=r.generateMipmap;for(var g=0;g<r.mipmaps.length;g++)o.compressedTexImage2D(o.TEXTURE_2D,g,r.internalFormat,r.mipmaps[g].width,r.mipmaps[g].height,0,r.mipmaps[g].data)}else r instanceof Uint8Array?(o.texImage2D(o.TEXTURE_2D,l,c,v,h,0,c,o.UNSIGNED_BYTE,r),p=x(v,h)):(this.forceSize||(v=r.width,h=r.height),o.texImage2D(o.TEXTURE_2D,l,c,c,o.UNSIGNED_BYTE,r),p=x(v,h));p&&o.generateMipmap(o.TEXTURE_2D),a?o.bindTexture(o.TEXTURE_2D,a):o.bindTexture(o.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(o){this.__SPECTOR_Metadata=o,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=o)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof d||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});n.exports=d},57183:(n,C,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r){this.webGLUniformLocation=null,this.gl=o,this.program=a,this.name=r,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var d=this.gl;d.isContextLost()||(this.webGLUniformLocation=d.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});n.exports=x},9503:(n,C,e)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={WebGLAttribLocationWrapper:e(93567),WebGLBufferWrapper:e(26128),WebGLProgramWrapper:e(1482),WebGLTextureWrapper:e(82751),WebGLFramebufferWrapper:e(84387),WebGLUniformLocationWrapper:e(57183)};n.exports=u},76531:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13560),x=e(83419),d=e(50792),o=e(97480),a=e(8443),r=e(57811),l=e(74403),v=e(45818),h=e(29747),c=e(87841),p=e(86555),g=e(56583),m=e(26099),y=e(38058),S=new x({Extends:d,initialize:function(P){d.call(this),this.game=P,this.canvas,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=u.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=u.CENTER.NO_CENTER,this.orientation=u.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:h,windowResize:h,fullScreenChange:h,fullScreenError:h}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var M=this.game;this.canvas=M.canvas,this.fullscreen=M.device.fullscreen,this.scaleMode!==u.SCALE_MODE.RESIZE&&this.scaleMode!==u.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===u.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),M.events.on(a.PRE_STEP,this.step,this),M.events.once(a.READY,this.refresh,this),M.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(M){this.getParent(M),this.getParentBounds();var P=M.width,w=M.height,R=M.scaleMode,A=M.zoom,L=M.autoRound;if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var O=parseInt(P,10)/100;P=Math.floor(F*O)}if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var b=this.parentSize.height;b===0&&(b=window.innerHeight);var B=parseInt(w,10)/100;w=Math.floor(b*B)}this.scaleMode=R,this.autoRound=L,this.autoCenter=M.autoCenter,this.resizeInterval=M.resizeInterval,L&&(P=Math.floor(P),w=Math.floor(w)),this.gameSize.setSize(P,w),A===u.ZOOM.MAX_ZOOM&&(A=this.getMaxZoom()),this.zoom=A,A!==1&&(this._resetZoom=!0),this.baseSize.setSize(P,w),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),M.minWidth>0&&this.displaySize.setMin(M.minWidth*A,M.minHeight*A),M.maxWidth>0&&this.displaySize.setMax(M.maxWidth*A,M.maxHeight*A),this.displaySize.setSize(P,w),(M.snapWidth>0||M.snapHeight>0)&&this.displaySize.setSnap(M.snapWidth,M.snapHeight),this.orientation=v(P,w)},getParent:function(M){var P=M.parent;if(P!==null){if(this.parent=l(P),this.parentIsWindow=this.parent===document.body,M.expandParent&&M.scaleMode!==u.SCALE_MODE.NONE){var w=this.parent.getBoundingClientRect();(this.parentIsWindow||w.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",w=this.parent.getBoundingClientRect(),!this.parentIsWindow&&w.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}M.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=l(M.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var M=this.parentSize,P=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(P.height=r(!0));var w=P.width,R=P.height;if(M.width!==w||M.height!==R)return M.setSize(w,R),!0;if(this.canvas){var A=this.canvasBounds,L=this.canvas.getBoundingClientRect();if(L.x!==A.x||L.y!==A.y)return!0}return!1},lockOrientation:function(M){var P=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return P?P.call(screen,M):!1},setParentSize:function(M,P){return this.parentSize.setSize(M,P),this.refresh()},setGameSize:function(M,P){var w=this.autoRound;w&&(M=Math.floor(M),P=Math.floor(P));var R=this.width,A=this.height;return this.gameSize.resize(M,P),this.baseSize.resize(M,P),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(M/P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,A)},resize:function(M,P){var w=this.zoom,R=this.autoRound;R&&(M=Math.floor(M),P=Math.floor(P));var A=this.width,L=this.height;this.gameSize.resize(M,P),this.baseSize.resize(M,P),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(M*w,P*w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,O=M*w,b=P*w;return R&&(O=Math.floor(O),b=Math.floor(b)),(O!==M||b!==P)&&(F.width=O+"px",F.height=b+"px"),this.refresh(A,L)},setZoom:function(M){return this.zoom=M,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(M,P){return M===void 0&&(M=0),P===void 0&&(P=M),this.displaySize.setSnap(M,P),this.refresh()},refresh:function(M,P){M===void 0&&(M=this.width),P===void 0&&(P=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var w=this.game.domContainer;if(w){this.baseSize.setCSS(w);var R=this.canvas.style,A=w.style;A.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",A.marginLeft=R.marginLeft,A.marginTop=R.marginTop}return this.emit(o.RESIZE,this.gameSize,this.baseSize,this.displaySize,M,P),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var M=v(this.width,this.height);M!==this.orientation&&(this.orientation=M,this.emit(o.ORIENTATION_CHANGE,M))}},updateScale:function(){var M=this.canvas.style,P=this.gameSize.width,w=this.gameSize.height,R,A,L=this.zoom,F=this.autoRound;if(this.scaleMode===u.SCALE_MODE.NONE)this.displaySize.setSize(P*L,w*L),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),this._resetZoom&&(M.width=R+"px",M.height=A+"px",this._resetZoom=!1);else if(this.scaleMode===u.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),this.canvas.width=R,this.canvas.height=A;else if(this.scaleMode===u.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),M.width=R+"px",M.height=A+"px";var O=this.parentSize.width/this.gameSize.width,b=this.parentSize.height/this.gameSize.height;O<b?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/O):this.baseSize.setSize(this.displaySize.width/b,this.gameSize.height),R=this.baseSize.width,A=this.baseSize.height,F&&(R=Math.floor(R),A=Math.floor(A)),this.canvas.width=R,this.canvas.height=A}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),M.width=R+"px",M.height=A+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var M=g(this.parentSize.width,this.gameSize.width,0,!0),P=g(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(M,P),1)},updateCenter:function(){var M=this.autoCenter;if(M!==u.CENTER.NO_CENTER){var P=this.canvas,w=P.style,R=P.getBoundingClientRect(),A=R.width,L=R.height,F=Math.floor((this.parentSize.width-A)/2),O=Math.floor((this.parentSize.height-L)/2);M===u.CENTER.CENTER_HORIZONTALLY?O=0:M===u.CENTER.CENTER_VERTICALLY&&(F=0),w.marginLeft=F+"px",w.marginTop=O+"px"}},updateBounds:function(){var M=this.canvasBounds,P=this.canvas.getBoundingClientRect();M.x=P.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),M.y=P.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),M.width=P.width,M.height=P.height},transformX:function(M){return(M-this.canvasBounds.left)*this.displayScale.x},transformY:function(M){return(M-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(M){M===void 0&&(M={navigationUI:"hide"});var P=this.fullscreen;if(!P.available){this.emit(o.FULLSCREEN_UNSUPPORTED);return}if(!P.active){var w=this.getFullscreenTarget();P.keyboard?w[P.request](Element.ALLOW_KEYBOARD_INPUT):w[P.request](M)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(o.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(M){this.removeFullscreenTarget(),this.emit(o.FULLSCREEN_FAILED,M)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var M=document.createElement("div");M.style.margin="0",M.style.padding="0",M.style.width="100%",M.style.height="100%",this.fullscreenTarget=M,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var P=this.canvas.parentNode;P.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var M=this.fullscreenTarget;if(M&&M.parentNode){var P=M.parentNode;P.insertBefore(this.canvas,M),P.removeChild(M)}}},stopFullscreen:function(){var M=this.fullscreen;if(!M.available)return this.emit(o.FULLSCREEN_UNSUPPORTED),!1;M.active&&document[M.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(o.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(M){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(M)},startListeners:function(){var M=this,P=this.domlisteners;if(P.orientationChange=function(){M.updateBounds(),M._checkOrientation=!0,M.dirty=!0,M.refresh()},P.windowResize=function(){M.updateBounds(),M.dirty=!0},window.addEventListener("orientationchange",P.orientationChange,!1),window.addEventListener("resize",P.windowResize,!1),this.fullscreen.available){P.fullScreenChange=function(R){return M.onFullScreenChange(R)},P.fullScreenError=function(R){return M.onFullScreenError(R)};var w=["webkit","moz",""];w.forEach(function(R){document.addEventListener(R+"fullscreenchange",P.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",P.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.addEventListener("MSFullscreenError",P.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(M,P){M instanceof y||(P=M,M=void 0),P===void 0&&(P=new c);var w=this.baseSize,R=this.parentSize,A=this.canvasBounds,L=this.displayScale,F=A.x>=0?0:-(A.x*L.x),O=A.y>=0?0:-(A.y*L.y),b;R.width>=A.width?b=w.width:b=w.width-(A.width-R.width)*L.x;var B;return R.height>=A.height?B=w.height:B=w.height-(A.height-R.height)*L.y,P.setTo(F,O,b,B),M&&(P.width/=M.zoomX,P.height/=M.zoomY,P.centerX=M.centerX+M.scrollX,P.centerY=M.centerY+M.scrollY),P},step:function(M,P){!this.parent||(this._lastCheck+=P,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var M=this.domlisteners;window.removeEventListener("orientationchange",M.orientationChange,!1),window.removeEventListener("resize",M.windowResize,!1);var P=["webkit","moz",""];P.forEach(function(w){document.removeEventListener(w+"fullscreenchange",M.fullScreenChange,!1),document.removeEventListener(w+"fullscreenerror",M.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",M.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===u.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===u.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});n.exports=S},64743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={CENTER:e(64743),ORIENTATION:e(39218),SCALE_MODE:e(81050),ZOOM:e(80805)};n.exports=u},56139:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"},2336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"},47412:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"},51452:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"},20666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"},47945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},97480:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:e(56139),FULLSCREEN_FAILED:e(2336),FULLSCREEN_UNSUPPORTED:e(47412),LEAVE_FULLSCREEN:e(51452),ORIENTATION_CHANGE:e(20666),RESIZE:e(47945)}},93364:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),x=e(13560),d={Center:e(64743),Events:e(97480),Orientation:e(39218),ScaleManager:e(76531),ScaleModes:e(81050),Zoom:e(80805)};d=u(!1,d,x.CENTER),d=u(!1,d,x.ORIENTATION),d=u(!1,d,x.SCALE_MODE),d=u(!1,d,x.ZOOM),n.exports=d},27397:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),x=e(35355),d=function(o){var a=o.game.config.defaultPhysicsSystem,r=u(o.settings,"physics",!1);if(!(!a&&!r)){var l=[];if(a&&l.push(x(a+"Physics")),r)for(var v in r)v=x(v.concat("Physics")),l.indexOf(v)===-1&&l.push(v);return l}};n.exports=d},52106:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),x=function(d){var o=d.plugins.getDefaultScenePlugins(),a=u(d.settings,"plugins",!1);return Array.isArray(a)?a:o||[]};n.exports=x},87033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=C},97482:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(2368),d=new u({initialize:function(a){this.sys=new x(this,a),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});n.exports=d},60903:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(89993),d=e(44594),o=e(8443),a=e(35154),r=e(54899),l=e(29747),v=e(97482),h=e(2368),c=new u({initialize:function(g,m){if(this.game=g,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++)this._pending.push({key:"default",scene:m[y],autoStart:y===0,data:{}})}g.events.once(o.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(o.SYSTEM_READY,this.systemScene,this);var p,g,m,y;for(p=0;p<this._pending.length;p++){g=this._pending[p],m=g.key,y=g.scene;var S;y instanceof v?S=this.createSceneFromInstance(m,y):typeof y=="object"?S=this.createSceneFromObject(m,y):typeof y=="function"&&(S=this.createSceneFromFunction(m,y)),m=S.sys.settings.key,this.keys[m]=S,this.scenes.push(S),this._data[m]&&(S.sys.settings.data=this._data[m].data,this._data[m].autoStart&&(g.autoStart=!0)),(g.autoStart||S.sys.settings.active)&&this._start.push(m)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)g=this._start[p],this.start(g);this._start.length=0}},processQueue:function(){var p=this._pending.length,g=this._queue.length;if(!(p===0&&g===0)){var m,y;if(p){for(m=0;m<p;m++)y=this._pending[m],this.add(y.key,y.scene,y.autoStart,y.data);for(m=0;m<this._start.length;m++)y=this._start[m],this.start(y);this._start.length=0,this._pending.length=0}for(m=0;m<this._queue.length;m++)y=this._queue[m],this[y.op](y.keyA,y.keyB);this._queue.length=0}},add:function(p,g,m,y){if(m===void 0&&(m=!1),y===void 0&&(y={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:g,autoStart:m,data:y}),this.isBooted||(this._data[p]={data:y}),null;p=this.getKey(p,g);var S;return g instanceof v?S=this.createSceneFromInstance(p,g):typeof g=="object"?(g.key=p,S=this.createSceneFromObject(p,g)):typeof g=="function"&&(S=this.createSceneFromFunction(p,g)),S.sys.settings.data=y,p=S.sys.settings.key,this.keys[p]=S,this.scenes.push(S),(m||S.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),S},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var g=this.getScene(p);if(!g||g.sys.isTransitioning())return this;var m=this.scenes.indexOf(g),y=g.sys.settings.key;m>-1&&(delete this.keys[y],this.scenes.splice(m,1),this._start.indexOf(y)>-1&&(m=this._start.indexOf(y),this._start.splice(m,1)),g.sys.destroy())}return this},bootScene:function(p){var g=p.sys,m=g.settings;g.sceneUpdate=l,p.init&&(p.init.call(p,m.data),m.status=x.INIT,m.isTransition&&g.events.emit(d.TRANSITION_INIT,m.transitionFrom,m.transitionDuration));var y;g.load&&(y=g.load,y.reset()),y&&p.preload?(p.preload.call(p),m.status=x.LOADING,y.once(r.COMPLETE,this.loadComplete,this),y.start()):this.create(p)},loadComplete:function(p){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,g){this.processQueue(),this.isProcessing=!0;for(var m=this.scenes.length-1;m>=0;m--){var y=this.scenes[m].sys;y.settings.status>x.START&&y.settings.status<=x.RUNNING&&y.step(p,g),y.scenePlugin&&y.scenePlugin._target&&y.scenePlugin.step(p,g)}},render:function(p){for(var g=0;g<this.scenes.length;g++){var m=this.scenes[g].sys;m.settings.visible&&m.settings.status>=x.LOADING&&m.settings.status<x.SLEEPING&&m.render(p)}this.isProcessing=!1},create:function(p){var g=p.sys,m=g.settings;p.create&&(m.status=x.CREATING,p.create.call(p,m.data),m.status===x.DESTROYED)||(m.isTransition&&g.events.emit(d.TRANSITION_START,m.transitionFrom,m.transitionDuration),p.update&&(g.sceneUpdate=p.update),m.status=x.RUNNING,g.events.emit(d.CREATE,p))},createSceneFromFunction:function(p,g){var m=new g;if(m instanceof v){var y=m.sys.settings.key;if(y!==""&&(p=y),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,m)}else return m.sys=new h(m),m.sys.settings.key=p,m.sys.init(this.game),m},createSceneFromInstance:function(p,g){var m=g.sys.settings.key;return m===""&&(g.sys.settings.key=p),g.sys.init(this.game),g},createSceneFromObject:function(p,g){var m=new v(g),y=m.sys.settings.key;y!==""?p=y:m.sys.settings.key=p,m.sys.init(this.game);for(var S=["init","preload","create","update","render"],M=0;M<S.length;M++){var P=a(g,S[M],null);P&&(m[S[M]]=P)}if(g.hasOwnProperty("extend")){for(var w in g.extend)if(!!g.extend.hasOwnProperty(w)){var R=g.extend[w];w==="data"&&m.hasOwnProperty("data")&&typeof R=="object"?m.data.merge(R):w!=="sys"&&(m[w]=R)}}return m},getKey:function(p,g){if(p||(p="default"),typeof g=="function")return p;if(g instanceof v?p=g.sys.settings.key:typeof g=="object"&&g.hasOwnProperty("key")&&(p=g.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,g){p===void 0&&(p=!0),g===void 0&&(g=!1);for(var m=[],y=this.scenes,S=0;S<y.length;S++){var M=y[S];M&&(!p||p&&M.sys.isActive())&&m.push(M)}return g?m.reverse():m},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var g=0;g<this.scenes.length;g++)if(p===this.scenes[g])return p;return null},isActive:function(p){var g=this.getScene(p);return g?g.sys.isActive():null},isPaused:function(p){var g=this.getScene(p);return g?g.sys.isPaused():null},isVisible:function(p){var g=this.getScene(p);return g?g.sys.isVisible():null},isSleeping:function(p){var g=this.getScene(p);return g?g.sys.isSleeping():null},pause:function(p,g){var m=this.getScene(p);return m&&m.sys.pause(g),this},resume:function(p,g){var m=this.getScene(p);return m&&m.sys.resume(g),this},sleep:function(p,g){var m=this.getScene(p);return m&&!m.sys.isTransitioning()&&m.sys.sleep(g),this},wake:function(p,g){var m=this.getScene(p);return m&&m.sys.wake(g),this},run:function(p,g){var m=this.getScene(p);if(!m){for(var y=0;y<this._pending.length;y++)if(this._pending[y].key===p){this.queueOp("start",p,g);break}return this}m.sys.isSleeping()?m.sys.wake(g):m.sys.isPaused()?m.sys.resume(g):this.start(p,g)},start:function(p,g){if(!this.isBooted)return this._data[p]={autoStart:!0,data:g},this;var m=this.getScene(p);if(!m)return console.warn("Scene not found for key: "+p),this;var y=m.sys,S=y.settings.status;if(S>=x.START&&S<=x.CREATING)return this;if(S>=x.RUNNING&&S<=x.SLEEPING)y.shutdown(),y.sceneUpdate=l,y.start(g);else{y.sceneUpdate=l,y.start(g);var M;if(y.load&&(M=y.load),M&&y.settings.hasOwnProperty("pack")&&(M.reset(),M.addPack({payload:y.settings.pack})))return y.settings.status=x.LOADING,M.once(r.COMPLETE,this.payloadComplete,this),M.start(),this}return this.bootScene(m),this},stop:function(p,g){var m=this.getScene(p);if(m&&!m.sys.isTransitioning()&&m.sys.settings.status!==x.SHUTDOWN){var y=m.sys.load;y&&(y.off(r.COMPLETE,this.loadComplete,this),y.off(r.COMPLETE,this.payloadComplete,this)),m.sys.shutdown(g)}return this},switch:function(p,g){var m=this.getScene(p),y=this.getScene(g);return m&&y&&m!==y&&(this.sleep(p),this.isSleeping(g)?this.wake(g):this.start(g)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var g=this.getScene(p);return this.scenes.indexOf(g)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g!==-1&&g<this.scenes.length){var m=this.getScene(p);this.scenes.splice(g,1),this.scenes.push(m)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g!==-1&&g>0){var m=this.getScene(p);this.scenes.splice(g,1),this.scenes.unshift(m)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g>0){var m=g-1,y=this.getScene(p),S=this.getAt(m);this.scenes[g]=S,this.scenes[m]=y}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g<this.scenes.length-1){var m=g+1,y=this.getScene(p),S=this.getAt(m);this.scenes[g]=S,this.scenes[m]=y}}return this},moveAbove:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:g});else{var m=this.getIndex(p),y=this.getIndex(g);if(m!==-1&&y!==-1&&y<m){var S=this.getAt(y);this.scenes.splice(y,1),this.scenes.splice(m+(y>m),0,S)}}return this},moveBelow:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:g});else{var m=this.getIndex(p),y=this.getIndex(g);if(m!==-1&&y!==-1&&y>m){var S=this.getAt(y);this.scenes.splice(y,1),m===0?this.scenes.unshift(S):this.scenes.splice(m-(y<m),0,S)}}return this},queueOp:function(p,g,m){return this._queue.push({op:p,keyA:g,keyB:m}),this},swapPosition:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:g});else{var m=this.getIndex(p),y=this.getIndex(g);if(m!==y&&m!==-1&&y!==-1){var S=this.getAt(m);this.scenes[m]=this.scenes[y],this.scenes[y]=S}}return this},dump:function(){for(var p=[],g=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],m=0;m<this.scenes.length;m++){var y=this.scenes[m].sys,S=y.settings.visible&&(y.settings.status===x.RUNNING||y.settings.status===x.PAUSED)?"[*] ":"[-] ";S+=y.settings.key+" ("+g[y.settings.status]+")",p.push(S)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var g=this.scenes[p].sys;g.destroy()}this.systemScene.sys.destroy(),this.update=l,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});n.exports=c},52209:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(44594),o=e(95540),a=e(37277),r=new x({initialize:function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(d.BOOT,this.boot,this),v.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},start:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",l,v),this},restart:function(l){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,l),this},transition:function(l){l===void 0&&(l={});var v=o(l,"target",!1),h=this.manager.getScene(v);if(!v||!this.checkValidTransition(h))return!1;var c=o(l,"duration",1e3);this._elapsed=0,this._target=h,this._duration=c,this._willSleep=o(l,"sleep",!1),this._willRemove=o(l,"remove",!1);var p=o(l,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=o(l,"onUpdateScope",this.scene));var g=o(l,"allowInput",!1);this.settings.transitionAllowInput=g;var m=h.sys.settings;m.isTransition=!0,m.transitionFrom=this.scene,m.transitionDuration=c,m.transitionAllowInput=g,o(l,"moveAbove",!1)?this.manager.moveAbove(this.key,v):o(l,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),h.sys.isSleeping()?h.sys.wake(o(l,"data")):this.manager.start(v,o(l,"data"));var y=o(l,"onStart",null),S=o(l,"onStartScope",this.scene);return y&&y.call(S,this.scene,h,c),this.systems.events.emit(d.TRANSITION_OUT,h,c),!0},checkValidTransition:function(l){return!(!l||l.sys.isActive()||l.sys.isTransitioning()||l===this.scene||this.systems.isTransitioning())},step:function(l,v){this._elapsed+=v,this.transitionProgress=u(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var l=this._target.sys,v=this._target.sys.settings;l.events.emit(d.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(l,v,h,c){return this.manager.add(l,v,h,c)},launch:function(l,v){return l&&l!==this.key&&this.manager.queueOp("start",l,v),this},run:function(l,v){return l&&l!==this.key&&this.manager.queueOp("run",l,v),this},pause:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("pause",l,v),this},resume:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("resume",l,v),this},sleep:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("sleep",l,v),this},wake:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("wake",l,v),this},switch:function(l){return l!==this.key&&this.manager.queueOp("switch",this.key,l),this},stop:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("stop",l,v),this},setActive:function(l,v,h){v===void 0&&(v=this.key);var c=this.manager.getScene(v);return c&&c.sys.setActive(l,h),this},setVisible:function(l,v){v===void 0&&(v=this.key);var h=this.manager.getScene(v);return h&&h.sys.setVisible(l),this},isSleeping:function(l){return l===void 0&&(l=this.key),this.manager.isSleeping(l)},isActive:function(l){return l===void 0&&(l=this.key),this.manager.isActive(l)},isPaused:function(l){return l===void 0&&(l=this.key),this.manager.isPaused(l)},isVisible:function(l){return l===void 0&&(l=this.key),this.manager.isVisible(l)},swapPosition:function(l,v){return v===void 0&&(v=this.key),l!==v&&this.manager.swapPosition(l,v),this},moveAbove:function(l,v){return v===void 0&&(v=this.key),l!==v&&this.manager.moveAbove(l,v),this},moveBelow:function(l,v){return v===void 0&&(v=this.key),l!==v&&this.manager.moveBelow(l,v),this},remove:function(l){return l===void 0&&(l=this.key),this.manager.remove(l),this},moveUp:function(l){return l===void 0&&(l=this.key),this.manager.moveUp(l),this},moveDown:function(l){return l===void 0&&(l=this.key),this.manager.moveDown(l),this},bringToTop:function(l){return l===void 0&&(l=this.key),this.manager.bringToTop(l),this},sendToBack:function(l){return l===void 0&&(l=this.key),this.manager.sendToBack(l),this},get:function(l){return this.manager.getScene(l)},getStatus:function(l){var v=this.manager.getScene(l);if(v)return v.sys.getStatus()},getIndex:function(l){return l===void 0&&(l=this.key),this.manager.getIndex(l)},shutdown:function(){var l=this.systems.events;l.off(d.SHUTDOWN,this.shutdown,this),l.off(d.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",r,"scenePlugin"),n.exports=r},55681:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89993),x=e(35154),d=e(46975),o=e(87033),a={create:function(r){return typeof r=="string"?r={key:r}:r===void 0&&(r={}),{status:u.PENDING,key:x(r,"key",""),active:x(r,"active",!1),visible:x(r,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(r,"pack",!1),cameras:x(r,"cameras",null),map:x(r,"map",d(o,x(r,"mapAdd",{}))),physics:x(r,"physics",{}),loader:x(r,"loader",{}),plugins:x(r,"plugins",!1),input:x(r,"input",{})}}};n.exports=a},2368:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(89993),d=e(42363),o=e(44594),a=e(27397),r=e(52106),l=e(29747),v=e(55681),h=new u({initialize:function(p,g){this.scene=p,this.game,this.renderer,this.config=g,this.settings=v.create(g),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=l},init:function(c){this.settings.status=x.INIT,this.sceneUpdate=l,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var p=c.plugins;this.plugins=p,p.addToScene(this,d.Global,[d.CoreScene,r(this),a(this)]),this.events.emit(o.BOOT,this),this.settings.isBooted=!0},step:function(c,p){var g=this.events;g.emit(o.PRE_UPDATE,c,p),g.emit(o.UPDATE,c,p),this.sceneUpdate.call(this.scene,c,p),g.emit(o.POST_UPDATE,c,p)},render:function(c){var p=this.displayList;p.depthSort(),this.events.emit(o.PRE_RENDER,c),this.cameras.render(c,p),this.events.emit(o.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var p=this.settings,g=this.getStatus();return g!==x.CREATING&&g!==x.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=x.PAUSED,p.active=!1,this.events.emit(o.PAUSE,this,c)),this},resume:function(c){var p=this.events,g=this.settings;return this.settings.active||(g.status=x.RUNNING,g.active=!0,p.emit(o.RESUME,this,c)),this},sleep:function(c){var p=this.settings,g=this.getStatus();return g!==x.CREATING&&g!==x.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=x.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(o.SLEEP,this,c)),this},wake:function(c){var p=this.events,g=this.settings;return g.status=x.RUNNING,g.active=!0,g.visible=!0,p.emit(o.WAKE,this,c),g.isTransition&&p.emit(o.TRANSITION_WAKE,g.transitionFrom,g.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var c=this.settings.status;return c>x.PENDING&&c<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,p){return c?this.resume(p):this.pause(p)},start:function(c){var p=this.events,g=this.settings;c&&(g.data=c),g.status=x.START,g.active=!0,g.visible=!0,p.emit(o.START,this),p.emit(o.READY,this,c)},shutdown:function(c){var p=this.events,g=this.settings;p.off(o.TRANSITION_INIT),p.off(o.TRANSITION_START),p.off(o.TRANSITION_COMPLETE),p.off(o.TRANSITION_OUT),g.status=x.SHUTDOWN,g.active=!1,g.visible=!1,p.emit(o.SHUTDOWN,this,c)},destroy:function(){var c=this.events,p=this.settings;p.status=x.DESTROYED,p.active=!1,p.visible=!1,c.emit(o.DESTROY,this),c.removeAllListeners();for(var g=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],m=0;m<g.length;m++)this[g[m]]=null}});n.exports=h},89993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=C},69830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},7919:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},46763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"},11763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},71555:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},36735:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"},3809:n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},90716:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},58262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},91633:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},10319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},87132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},81961:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},90194:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"},6265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},33178:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"},43063:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"},11259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"},61611:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"},45209:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"},22966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},21747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"},44594:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:e(69830),BOOT:e(7919),CREATE:e(46763),DESTROY:e(11763),PAUSE:e(71555),POST_UPDATE:e(36735),PRE_RENDER:e(3809),PRE_UPDATE:e(90716),READY:e(58262),REMOVED_FROM_SCENE:e(91633),RENDER:e(10319),RESUME:e(87132),SHUTDOWN:e(81961),SLEEP:e(90194),START:e(6265),TRANSITION_COMPLETE:e(33178),TRANSITION_INIT:e(43063),TRANSITION_OUT:e(11259),TRANSITION_START:e(61611),TRANSITION_WAKE:e(45209),UPDATE:e(22966),WAKE:e(21747)}},62194:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89993),x=e(79291),d={Events:e(44594),GetPhysicsPlugins:e(27397),GetScenePlugins:e(52106),SceneManager:e(60903),ScenePlugin:e(52209),Settings:e(55681),Systems:e(2368)};d=x(!1,d,u),n.exports=d},30341:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50792),d=e(14463),o=e(79291),a=e(29747),r=new u({Extends:x,initialize:function(v,h,c){x.call(this),this.manager=v,this.key=h,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=o(this.config,c),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(l){return!l||!l.name||typeof l.name!="string"?!1:this.markers[l.name]?(console.error("addMarker "+l.name+" already exists in Sound"),!1):(l=o(!0,{name:"",start:0,duration:this.totalDuration-(l.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},l),this.markers[l.name]=l,!0)},updateMarker:function(l){return!l||!l.name||typeof l.name!="string"?!1:this.markers[l.name]?(this.markers[l.name]=o(!0,this.markers[l.name],l),!0):(console.warn("Audio Marker: "+l.name+" missing in Sound: "+this.key),!1)},removeMarker:function(l){var v=this.markers[l];return v?(this.markers[l]=null,v):null},play:function(l,v){if(l===void 0&&(l=""),typeof l=="object"&&(v=l,l=""),typeof l!="string")return!1;if(!l)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[l])return console.warn("Marker: "+l+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[l],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=o(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var l=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,h=Math.pow(l,v);this.totalRate=this.currentConfig.rate*this.manager.rate*h},destroy:function(){this.pendingRemove||(this.stop(),this.emit(d.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});n.exports=r},85034:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(41786),d=e(50792),o=e(14463),a=e(8443),r=e(46710),l=e(58731),v=e(29747),h=e(26099),c=new u({Extends:d,initialize:function(g){d.call(this),this.game=g,this.jsonCache=g.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new h,g.events.on(a.BLUR,this.onGameBlur,this),g.events.on(a.FOCUS,this.onGameFocus,this),g.events.on(a.PRE_STEP,this.update,this),g.events.once(a.DESTROY,this.destroy,this)},add:v,addAudioSprite:function(p,g){g===void 0&&(g={});var m=this.add(p,g);m.spritemap=this.jsonCache.get(p).spritemap;for(var y in m.spritemap)if(!!m.spritemap.hasOwnProperty(y)){var S=x(g),M=m.spritemap[y];S.loop=M.hasOwnProperty("loop")?M.loop:!1,m.addMarker({name:y,start:M.start,duration:M.end-M.start,config:S})}return m},get:function(p){return l(this.sounds,"key",p)},getAll:function(p){return p?r(this.sounds,"key",p):r(this.sounds)},getAllPlaying:function(){return r(this.sounds,"isPlaying",!0)},play:function(p,g){var m=this.add(p);return m.once(o.COMPLETE,m.destroy,m),g?g.name?(m.addMarker(g),m.play(g.name)):m.play(g):m.play()},playAudioSprite:function(p,g,m){var y=this.addAudioSprite(p);return y.once(o.COMPLETE,y.destroy,y),y.play(g,m)},remove:function(p){var g=this.sounds.indexOf(p);return g!==-1?(p.destroy(),this.sounds.splice(g,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var g=0,m=this.sounds.length-1;m>=0;m--){var y=this.sounds[m];y.key===p&&(y.destroy(),this.sounds.splice(m,1),g++)}return g},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(o.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(o.RESUME_ALL,this)},setListenerPosition:v,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(o.STOP_ALL,this)},stopByKey:function(p){var g=0;return this.getAll(p).forEach(function(m){m.stop()&&g++}),g},unlock:v,onBlur:v,onFocus:v,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,g){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(o.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(y){y.update(p,g)})},destroy:function(){this.game.events.off(a.BLUR,this.onGameBlur,this),this.game.events.off(a.FOCUS,this.onGameFocus,this),this.game.events.off(a.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,g){var m=this;this.sounds.forEach(function(y,S){y&&!y.pendingRemove&&p.call(g||m,y,S,m.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(o.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(o.GLOBAL_DETUNE,this,p)}}});n.exports=c},14747:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33684),x=e(25960),d=e(57490),o={create:function(a){var r=a.config.audio,l=a.device.audio;return r.noAudio||!l.webAudio&&!l.audioData?new x(a):l.webAudio&&!r.disableWebAudio?new d(a):new u(a)}};n.exports=o},19723:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},98882:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"},57506:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"},73146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},11305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},40577:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},30333:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},20394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},21802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},1299:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"},99190:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},97125:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},89259:n=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"},79986:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},17586:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},19618:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},42306:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},10387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},48959:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},9960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"},19180:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"},98328:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},50401:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},52498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},14463:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:e(19723),DECODED:e(57506),DECODED_ALL:e(98882),DESTROY:e(73146),DETUNE:e(11305),GLOBAL_DETUNE:e(40577),GLOBAL_MUTE:e(30333),GLOBAL_RATE:e(20394),GLOBAL_VOLUME:e(21802),LOOP:e(99190),LOOPED:e(1299),MUTE:e(97125),PAN:e(89259),PAUSE_ALL:e(79986),PAUSE:e(17586),PLAY:e(19618),RATE:e(42306),RESUME_ALL:e(10387),RESUME:e(48959),SEEK:e(9960),STOP_ALL:e(19180),STOP:e(98328),UNLOCKED:e(50401),VOLUME:e(52498)}},64895:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30341),x=e(83419),d=e(14463),o=e(45319),a=new x({Extends:u,initialize:function(l,v,h){if(h===void 0&&(h={}),this.tags=l.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,u.call(this,l,v,h)},play:function(r,l){return this.manager.isLocked(this,"play",[r,l])||!u.prototype.play.call(this,r,l)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!u.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!u.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(d.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var r=this.currentConfig.seek,l=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+r;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),l===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+l*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var r=0;r<this.tags.length;r++){var l=this.tags[r];if(l.dataset.used==="false")return l.dataset.used="true",this.audio=l,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&v.push(c)},this),v.sort(function(c,p){return c.loop===p.loop?p.seek/p.duration-c.seek/c.duration:c.loop?1:-1});var h=v[0];return this.audio=h.audio,h.reset(),h.audio=null,h.startTime=0,h.previousTime=0,!0},playCatchPromise:function(){var r=this.audio.play();r&&r.catch(function(l){console.warn(l)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){u.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(r){if(!!this.isPlaying){if(this.startTime>0){this.startTime<r-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,r-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var l=this.currentMarker?this.currentMarker.start:0,v=l+this.duration,h=this.audio.currentTime;if(this.currentConfig.loop)h>=v-this.manager.loopEndOffset?(this.audio.currentTime=l+Math.max(0,h-v),h=this.audio.currentTime):h<l&&(this.audio.currentTime+=l,h=this.audio.currentTime),h<this.previousTime&&this.emit(d.LOOPED,this);else if(h>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(d.COMPLETE,this);return}this.previousTime=h}},destroy:function(){u.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=o(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){u.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(r){this.currentConfig.mute=r,!this.manager.isLocked(this,"mute",r)&&(this.updateMute(),this.emit(d.MUTE,this,r))}},setMute:function(r){return this.mute=r,this},volume:{get:function(){return this.currentConfig.volume},set:function(r){this.currentConfig.volume=r,!this.manager.isLocked(this,"volume",r)&&(this.updateVolume(),this.emit(d.VOLUME,this,r))}},setVolume:function(r){return this.volume=r,this},rate:{get:function(){return this.currentConfig.rate},set:function(r){this.currentConfig.rate=r,!this.manager.isLocked(this,d.RATE,r)&&(this.calculateRate(),this.emit(d.RATE,this,r))}},setRate:function(r){return this.rate=r,this},detune:{get:function(){return this.currentConfig.detune},set:function(r){this.currentConfig.detune=r,!this.manager.isLocked(this,d.DETUNE,r)&&(this.calculateRate(),this.emit(d.DETUNE,this,r))}},setDetune:function(r){return this.detune=r,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(r){this.manager.isLocked(this,"seek",r)||this.startTime>0||(this.isPlaying||this.isPaused)&&(r=Math.min(Math.max(0,r),this.duration),this.isPlaying?(this.previousTime=r,this.audio.currentTime=r):this.isPaused&&(this.currentConfig.seek=r),this.emit(d.SEEK,this,r))}},setSeek:function(r){return this.seek=r,this},loop:{get:function(){return this.currentConfig.loop},set:function(r){this.currentConfig.loop=r,!this.manager.isLocked(this,"loop",r)&&(this.audio&&(this.audio.loop=r),this.emit(d.LOOP,this,r))}},setLoop:function(r){return this.loop=r,this},pan:{get:function(){return this.currentConfig.pan},set:function(r){this.currentConfig.pan=r,this.emit(d.PAN,this,r)}},setPan:function(r){return this.pan=r,this}});n.exports=a},33684:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85034),x=e(83419),d=e(14463),o=e(64895),a=new x({Extends:u,initialize:function(l){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,u.call(this,l)},add:function(r,l){var v=new o(this,r,l);return this.sounds.push(v),v},unlock:function(){this.locked=!1;var r=this;if(this.game.cache.audio.entries.each(function(c,p){for(var g=0;g<p.length;g++)if(p[g].dataset.locked==="true")return r.locked=!0,!1;return!0}),!!this.locked){var l=!1,v=function(){l=!0},h=function(){if(l){l=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",h);var c=[];if(r.game.cache.audio.entries.each(function(g,m){for(var y=0;y<m.length;y++){var S=m[y];S.dataset.locked==="true"&&c.push(S)}return!0}),c.length!==0){var p=c[c.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,c.forEach(function(g){g.dataset.locked="false"}),r.unlocked=!0},c.forEach(function(g){g.load()})}};this.once(d.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var c=this.lockedActionsQueue.shift();c.sound[c.prop].apply?c.sound[c.prop].apply(c.sound,c.value||[]):c.sound[c.prop]=c.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",h,!1)}},onBlur:function(){this.forEachActiveSound(function(r){r.isPlaying&&(this.onBlurPausedSounds.push(r),r.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(r){r.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){u.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(r,l,v){return r.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:r,prop:l,value:v}),!0):!1},setMute:function(r){return this.mute=r,this},mute:{get:function(){return this._mute},set:function(r){this._mute=r,this.forEachActiveSound(function(l){l.updateMute()}),this.emit(d.GLOBAL_MUTE,this,r)}},setVolume:function(r){return this.volume=r,this},volume:{get:function(){return this._volume},set:function(r){this._volume=r,this.forEachActiveSound(function(l){l.updateVolume()}),this.emit(d.GLOBAL_VOLUME,this,r)}}});n.exports=a},23717:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:e(14747),Events:e(14463),BaseSound:e(30341),BaseSoundManager:e(85034),WebAudioSound:e(71741),WebAudioSoundManager:e(57490),HTML5AudioSound:e(64895),HTML5AudioSoundManager:e(33684),NoAudioSound:e(4603),NoAudioSoundManager:e(25960)}},4603:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30341),x=e(83419),d=e(50792),o=e(79291),a=e(29747),r=function(){return!1},l=function(){return null},v=function(){return this},h=new x({Extends:d,initialize:function(p,g,m){m===void 0&&(m={}),d.call(this),this.manager=p,this.key=g,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=o({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:r,updateMarker:r,removeMarker:l,play:r,pause:r,resume:r,stop:r,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:l,resetConfig:l,update:a,calculateRate:l,destroy:function(){u.prototype.destroy.call(this)}});n.exports=h},25960:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85034),x=e(83419),d=e(50792),o=e(4603),a=e(29747),r=new x({Extends:d,initialize:function(v){d.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(l,v){var h=new o(this,l,v);return this.sounds.push(h),h},addAudioSprite:function(l,v){var h=this.add(l,v);return h.spritemap={},h},get:function(l){return u.prototype.get.call(this,l)},getAll:function(l){return u.prototype.getAll.call(this,l)},play:function(l,v){return!1},playAudioSprite:function(l,v,h){return!1},remove:function(l){return u.prototype.remove.call(this,l)},removeAll:function(){return u.prototype.removeAll.call(this)},removeByKey:function(l){return u.prototype.removeByKey.call(this,l)},stopByKey:function(l){return u.prototype.stopByKey.call(this,l)},onBlur:a,onFocus:a,onGameBlur:a,onGameFocus:a,pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,unlock:a,forEachActiveSound:function(l,v){u.prototype.forEachActiveSound.call(this,l,v)},destroy:function(){u.prototype.destroy.call(this)}});n.exports=r},71741:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30341),x=e(83419),d=e(14463),o=e(95540),a=new x({Extends:u,initialize:function(l,v,h){if(h===void 0&&(h={}),this.audioBuffer=l.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=l.context.createGain(),this.volumeNode=l.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),l.context.createPanner&&(this.spatialNode=l.context.createPanner(),this.volumeNode.connect(this.spatialNode)),l.context.createStereoPanner?(this.pannerNode=l.context.createStereoPanner(),l.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(l.destination)):l.context.createPanner?this.spatialNode.connect(l.destination):this.volumeNode.connect(l.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,u.call(this,l,v,h)},play:function(r,l){return u.prototype.play.call(this,r,l)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(d.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(d.RESUME,this),!0)},stop:function(){return u.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(d.STOP,this),!0):!1},createAndStartBufferSource:function(){var r=this.currentConfig.seek,l=this.currentConfig.delay,v=this.manager.context.currentTime+l,h=(this.currentMarker?this.currentMarker.start:0)+r,c=this.duration-r;this.playTime=v-r,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,h),Math.max(0,c)),this.resetConfig()},createAndStartLoopBufferSource:function(){var r=this.getLoopTime(),l=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=r,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,r),Math.max(0,l),Math.max(0,v))},createBufferSource:function(){var r=this,l=this.manager.context.createBufferSource();return l.buffer=this.audioBuffer,l.connect(this.muteNode),l.onended=function(v){v.target===r.source&&(r.currentConfig.loop?r.hasLooped=!0:r.hasEnded=!0)},l},stopAndRemoveBufferSource:function(){if(this.source){var r=this.source;this.source=null,r.stop(),r.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var r=this.currentConfig.source;if(r&&this.manager.context.createPanner){var l=this.spatialNode;l.panningModel=o(r,"panningModel","equalpower"),l.distanceModel=o(r,"distanceModel","inverse"),l.orientationX.value=o(r,"orientationX",0),l.orientationY.value=o(r,"orientationY",0),l.orientationZ.value=o(r,"orientationZ",-1),l.refDistance=o(r,"refDistance",1),l.maxDistance=o(r,"maxDistance",1e4),l.rolloffFactor=o(r,"rolloffFactor",1),l.coneInnerAngle=o(r,"coneInnerAngle",360),l.coneOuterAngle=o(r,"coneOuterAngle",0),l.coneOuterGain=o(r,"coneOuterGain",0),this.spatialSource=o(r,"follow",null),this.spatialSource||(l.positionX.value=o(r,"x",0),l.positionY.value=o(r,"y",0),l.positionZ.value=o(r,"z",0))}u.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(r){this.spatialNode&&(this.spatialNode.positionX.value=r)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(r){this.spatialNode&&(this.spatialNode.positionY.value=r)}},update:function(){if(this.isPlaying&&this.spatialSource){var r=o(this.spatialSource,"x",null),l=o(this.spatialSource,"y",null);r&&r!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=r),l&&l!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=l)}this.hasEnded?(u.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(d.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(d.LOOPED,this))},destroy:function(){this.pendingRemove||(u.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){u.prototype.calculateRate.call(this);var r=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,r),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,r)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var r=0,l=0;l<this.rateUpdates.length;l++){var v=0;l<this.rateUpdates.length-1?v=this.rateUpdates[l+1].time:v=this.manager.context.currentTime-this.playTime,r+=(v-this.rateUpdates[l].time)*this.rateUpdates[l].rate}return r},getLoopTime:function(){for(var r=0,l=0;l<this.rateUpdates.length-1;l++)r+=(this.rateUpdates[l+1].time-this.rateUpdates[l].time)*this.rateUpdates[l].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-r)/v.rate},rate:{get:function(){return this.currentConfig.rate},set:function(r){this.currentConfig.rate=r,this.calculateRate(),this.emit(d.RATE,this,r)}},setRate:function(r){return this.rate=r,this},detune:{get:function(){return this.currentConfig.detune},set:function(r){this.currentConfig.detune=r,this.calculateRate(),this.emit(d.DETUNE,this,r)}},setDetune:function(r){return this.detune=r,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(r){this.currentConfig.mute=r,this.muteNode.gain.setValueAtTime(r?0:1,0),this.emit(d.MUTE,this,r)}},setMute:function(r){return this.mute=r,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(r){this.currentConfig.volume=r,this.volumeNode.gain.setValueAtTime(r,0),this.emit(d.VOLUME,this,r)}},setVolume:function(r){return this.volume=r,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(r){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(r=Math.min(Math.max(0,r),this.duration),this.currentConfig.seek=r,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(d.SEEK,this,r))}},setSeek:function(r){return this.seek=r,this},loop:{get:function(){return this.currentConfig.loop},set:function(r){this.currentConfig.loop=r,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),r&&this.createAndStartLoopBufferSource()),this.emit(d.LOOP,this,r)}},setLoop:function(r){return this.loop=r,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(r){this.currentConfig.pan=r,this.pannerNode&&this.pannerNode.pan.setValueAtTime(r,this.manager.context.currentTime),this.emit(d.PAN,this,r)}},setPan:function(r){return this.pan=r,this}});n.exports=a},57490:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53134),x=e(85034),d=e(83419),o=e(14463),a=e(8443),r=e(71741),l=e(95540),v=new d({Extends:x,initialize:function(c){this.context=this.createAudioContext(c),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),x.call(this,c),this.locked&&c.isBooted?this.unlock():c.events.once(a.BOOT,this.unlock,this)},createAudioContext:function(h){var c=h.config.audio;if(c.context)return c.context.resume(),c.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(h){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=h,this.masterMuteNode=h.createGain(),this.masterVolumeNode=h.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(h.destination),this.destination=this.masterMuteNode,this},add:function(h,c){var p=new r(this,h,c);return this.sounds.push(p),p},decodeAudio:function(h,c){var p;Array.isArray(h)?p=h:p=[{key:h,data:c}];for(var g=this.game.cache.audio,m=p.length,y=0;y<p.length;y++){var S=p[y],M=S.key,P=S.data;typeof P=="string"&&(P=u(P));var w=function(A,L){g.add(A,L),this.emit(o.DECODED,A),m--,m===0&&this.emit(o.DECODED_ALL)}.bind(this,M),R=function(A,L){console.error("Error decoding audio: "+A+" - ",L?L.message:""),m--,m===0&&this.emit(o.DECODED_ALL)}.bind(this,M);this.context.decodeAudioData(P,w,R)}},setListenerPosition:function(h,c){return h===void 0&&(h=this.game.scale.width/2),c===void 0&&(c=this.game.scale.height/2),this.listenerPosition.set(h,c),this},unlock:function(){var h=this,c=document.body,p=function g(){if(h.context&&c){var m=c.removeEventListener.bind(c);h.context.resume().then(function(){m("touchstart",g),m("touchend",g),m("click",g),m("keydown",g),h.unlocked=!0},function(){m("touchstart",g),m("touchend",g),m("click",g),m("keydown",g)})}};c&&(c.addEventListener("touchstart",p,!1),c.addEventListener("touchend",p,!1),c.addEventListener("click",p,!1),c.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var h=this.context;h&&!this.locked&&(h.state==="suspended"||h.state==="interrupted")&&h.resume()},update:function(h,c){var p=this.context.listener;if(p&&p.positionX!==void 0){var g=l(this.listenerPosition,"x",null),m=l(this.listenerPosition,"y",null);g&&g!==this._spatialx&&(this._spatialx=p.positionX.value=g),m&&m!==this._spatialy&&(this._spatialy=p.positionY.value=m)}x.prototype.update.call(this,h,c),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var h=this;this.context.close().then(function(){h.context=null})}x.prototype.destroy.call(this)},setMute:function(h){return this.mute=h,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(h){this.masterMuteNode.gain.setValueAtTime(h?0:1,0),this.emit(o.GLOBAL_MUTE,this,h)}},setVolume:function(h){return this.volume=h,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(h){this.masterVolumeNode.gain.setValueAtTime(h,0),this.emit(o.GLOBAL_VOLUME,this,h)}}});n.exports=v},73162:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37105),x=e(83419),d=e(29747),o=e(19186),a=new x({initialize:function(l){this.parent=l,this.list=[],this.position=0,this.addCallback=d,this.removeCallback=d,this._sortKey=""},add:function(r,l){return l?u.Add(this.list,r):u.Add(this.list,r,0,this.addCallback,this)},addAt:function(r,l,v){return v?u.AddAt(this.list,r,l):u.AddAt(this.list,r,l,0,this.addCallback,this)},getAt:function(r){return this.list[r]},getIndex:function(r){return this.list.indexOf(r)},sort:function(r,l){return r?(l===void 0&&(l=function(v,h){return v[r]-h[r]}),o(this.list,l),this):this},getByName:function(r){return u.GetFirst(this.list,"name",r)},getRandom:function(r,l){return u.GetRandom(this.list,r,l)},getFirst:function(r,l,v,h){return u.GetFirst(this.list,r,l,v,h)},getAll:function(r,l,v,h){return u.GetAll(this.list,r,l,v,h)},count:function(r,l){return u.CountAllMatching(this.list,r,l)},swap:function(r,l){u.Swap(this.list,r,l)},moveTo:function(r,l){return u.MoveTo(this.list,r,l)},moveAbove:function(r,l){return u.MoveAbove(this.list,r,l)},moveBelow:function(r,l){return u.MoveBelow(this.list,r,l)},remove:function(r,l){return l?u.Remove(this.list,r):u.Remove(this.list,r,this.removeCallback,this)},removeAt:function(r,l){return l?u.RemoveAt(this.list,r):u.RemoveAt(this.list,r,this.removeCallback,this)},removeBetween:function(r,l,v){return v?u.RemoveBetween(this.list,r,l):u.RemoveBetween(this.list,r,l,this.removeCallback,this)},removeAll:function(r){for(var l=this.list.length;l--;)this.remove(this.list[l],r);return this},bringToTop:function(r){return u.BringToTop(this.list,r)},sendToBack:function(r){return u.SendToBack(this.list,r)},moveUp:function(r){return u.MoveUp(this.list,r),r},moveDown:function(r){return u.MoveDown(this.list,r),r},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(r,l){return u.Replace(this.list,r,l)},exists:function(r){return this.list.indexOf(r)>-1},setAll:function(r,l,v,h){return u.SetAll(this.list,r,l,v,h),this},each:function(r,l){for(var v=[null],h=2;h<arguments.length;h++)v.push(arguments[h]);for(h=0;h<this.list.length;h++)v[0]=this.list[h],r.apply(l,v)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});n.exports=a},90330:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o){this.entries={},this.size=0,this.setAll(o)},setAll:function(d){if(Array.isArray(d))for(var o=0;o<d.length;o++)this.set(d[o][0],d[o][1]);return this},set:function(d,o){return this.has(d)||this.size++,this.entries[d]=o,this},get:function(d){if(this.has(d))return this.entries[d]},getArray:function(){var d=[],o=this.entries;for(var a in o)d.push(o[a]);return d},has:function(d){return this.entries.hasOwnProperty(d)},delete:function(d){return this.has(d)&&(delete this.entries[d],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(d){delete this.entries[d]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var d=[],o=this.entries;for(var a in o)d.push(o[a]);return d},dump:function(){var d=this.entries;console.group("Map");for(var o in d)console.log(o,d[o]);console.groupEnd()},each:function(d){var o=this.entries;for(var a in o)if(d(a,o[a])===!1)break;return this},contains:function(d){var o=this.entries;for(var a in o)if(o[a]===d)return!0;return!1},merge:function(d,o){o===void 0&&(o=!1);var a=this.entries,r=d.entries;for(var l in r)a.hasOwnProperty(l)&&o?a[l]=r[l]:this.set(l,r[l]);return this}});n.exports=x},25774:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50792),d=e(82348),o=new u({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(a){return this._active.indexOf(a)>-1},isPending:function(a){return this._toProcess>0&&this._pending.indexOf(a)>-1},isDestroying:function(a){return this._destroy.indexOf(a)>-1},add:function(a){return this.checkQueue&&this.isActive(a)&&!this.isDestroying(a)||this.isPending(a)||(this._pending.push(a),this._toProcess++),a},remove:function(a){if(this.isPending(a)){var r=this._pending,l=r.indexOf(a);l!==-1&&r.splice(l,1)}else this.isActive(a)&&(this._destroy.push(a),this._toProcess++);return a},removeAll:function(){for(var a=this._active,r=this._destroy,l=a.length;l--;)r.push(a[l]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var a=this._destroy,r=this._active,l,v;for(l=0;l<a.length;l++){v=a[l];var h=r.indexOf(v);h!==-1&&(r.splice(h,1),this.emit(d.PROCESS_QUEUE_REMOVE,v))}for(a.length=0,a=this._pending,l=0;l<a.length;l++)v=a[l],(!this.checkQueue||this.checkQueue&&r.indexOf(v)===-1)&&(r.push(v),this.emit(d.PROCESS_QUEUE_ADD,v));return a.length=0,this._toProcess=0,r},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});n.exports=o},59542:(n,C,e)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43886);function x(P){if(!(this instanceof x))return new x(P);this._maxEntries=Math.max(4,P||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(P){var w=this.data,R=[],A=this.toBBox;if(!y(P,w))return R;for(var L=[],F,O,b,B;w;){for(F=0,O=w.children.length;F<O;F++)b=w.children[F],B=w.leaf?A(b):b,y(P,B)&&(w.leaf?R.push(b):m(P,B)?this._all(b,R):L.push(b));w=L.pop()}return R},collides:function(P){var w=this.data,R=this.toBBox;if(!y(P,w))return!1;for(var A=[],L,F,O,b;w;){for(L=0,F=w.children.length;L<F;L++)if(O=w.children[L],b=w.leaf?R(O):O,y(P,b)){if(w.leaf||m(P,b))return!0;A.push(O)}w=A.pop()}return!1},load:function(P){if(!(P&&P.length))return this;if(P.length<this._minEntries){for(var w=0,R=P.length;w<R;w++)this.insert(P[w]);return this}var A=this._build(P.slice(),0,P.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var L=this.data;this.data=A,A=L}this._insert(A,this.data.height-A.height-1,!0)}return this},insert:function(P){return P&&this._insert(P,this.data.height-1),this},clear:function(){return this.data=S([]),this},remove:function(P,w){if(!P)return this;for(var R=this.data,A=this.toBBox(P),L=[],F=[],O,b,B,I;R||L.length;){if(R||(R=L.pop(),b=L[L.length-1],O=F.pop(),I=!0),R.leaf&&(B=d(P,R.children,w),B!==-1))return R.children.splice(B,1),L.push(R),this._condense(L),this;!I&&!R.leaf&&m(R,A)?(L.push(R),F.push(O),O=0,b=R,R=R.children[0]):b?(O++,R=b.children[O],I=!1):R=null}return this},toBBox:function(P){return P},compareMinX:l,compareMinY:v,toJSON:function(){return this.data},fromJSON:function(P){return this.data=P,this},_all:function(P,w){for(var R=[];P;)P.leaf?w.push.apply(w,P.children):R.push.apply(R,P.children),P=R.pop();return w},_build:function(P,w,R,A){var L=R-w+1,F=this._maxEntries,O;if(L<=F)return O=S(P.slice(w,R+1)),o(O,this.toBBox),O;A||(A=Math.ceil(Math.log(L)/Math.log(F)),F=Math.ceil(L/Math.pow(F,A-1))),O=S([]),O.leaf=!1,O.height=A;var b=Math.ceil(L/F),B=b*Math.ceil(Math.sqrt(F)),I,N,X,k;for(M(P,w,R,B,this.compareMinX),I=w;I<=R;I+=B)for(X=Math.min(I+B-1,R),M(P,I,X,b,this.compareMinY),N=I;N<=X;N+=b)k=Math.min(N+b-1,X),O.children.push(this._build(P,N,k,A-1));return o(O,this.toBBox),O},_chooseSubtree:function(P,w,R,A){for(var L,F,O,b,B,I,N,X;A.push(w),!(w.leaf||A.length-1===R);){for(N=X=1/0,L=0,F=w.children.length;L<F;L++)O=w.children[L],B=h(O),I=p(P,O)-B,I<X?(X=I,N=B<N?B:N,b=O):I===X&&B<N&&(N=B,b=O);w=b||w.children[0]}return w},_insert:function(P,w,R){var A=this.toBBox,L=R?P:A(P),F=[],O=this._chooseSubtree(L,this.data,w,F);for(O.children.push(P),r(O,L);w>=0&&F[w].children.length>this._maxEntries;)this._split(F,w),w--;this._adjustParentBBoxes(L,F,w)},_split:function(P,w){var R=P[w],A=R.children.length,L=this._minEntries;this._chooseSplitAxis(R,L,A);var F=this._chooseSplitIndex(R,L,A),O=S(R.children.splice(F,R.children.length-F));O.height=R.height,O.leaf=R.leaf,o(R,this.toBBox),o(O,this.toBBox),w?P[w-1].children.push(O):this._splitRoot(R,O)},_splitRoot:function(P,w){this.data=S([P,w]),this.data.height=P.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(P,w,R){var A,L,F,O,b,B,I,N;for(B=I=1/0,A=w;A<=R-w;A++)L=a(P,0,A,this.toBBox),F=a(P,A,R,this.toBBox),O=g(L,F),b=h(L)+h(F),O<B?(B=O,N=A,I=b<I?b:I):O===B&&b<I&&(I=b,N=A);return N},_chooseSplitAxis:function(P,w,R){var A=P.leaf?this.compareMinX:l,L=P.leaf?this.compareMinY:v,F=this._allDistMargin(P,w,R,A),O=this._allDistMargin(P,w,R,L);F<O&&P.children.sort(A)},_allDistMargin:function(P,w,R,A){P.children.sort(A);var L=this.toBBox,F=a(P,0,w,L),O=a(P,R-w,R,L),b=c(F)+c(O),B,I;for(B=w;B<R-w;B++)I=P.children[B],r(F,P.leaf?L(I):I),b+=c(F);for(B=R-w-1;B>=w;B--)I=P.children[B],r(O,P.leaf?L(I):I),b+=c(O);return b},_adjustParentBBoxes:function(P,w,R){for(var A=R;A>=0;A--)r(w[A],P)},_condense:function(P){for(var w=P.length-1,R;w>=0;w--)P[w].children.length===0?w>0?(R=P[w-1].children,R.splice(R.indexOf(P[w]),1)):this.clear():o(P[w],this.toBBox)},compareMinX:function(P,w){return P.left-w.left},compareMinY:function(P,w){return P.top-w.top},toBBox:function(P){return{minX:P.left,minY:P.top,maxX:P.right,maxY:P.bottom}}};function d(P,w,R){if(!R)return w.indexOf(P);for(var A=0;A<w.length;A++)if(R(P,w[A]))return A;return-1}function o(P,w){a(P,0,P.children.length,w,P)}function a(P,w,R,A,L){L||(L=S(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var F=w,O;F<R;F++)O=P.children[F],r(L,P.leaf?A(O):O);return L}function r(P,w){return P.minX=Math.min(P.minX,w.minX),P.minY=Math.min(P.minY,w.minY),P.maxX=Math.max(P.maxX,w.maxX),P.maxY=Math.max(P.maxY,w.maxY),P}function l(P,w){return P.minX-w.minX}function v(P,w){return P.minY-w.minY}function h(P){return(P.maxX-P.minX)*(P.maxY-P.minY)}function c(P){return P.maxX-P.minX+(P.maxY-P.minY)}function p(P,w){return(Math.max(w.maxX,P.maxX)-Math.min(w.minX,P.minX))*(Math.max(w.maxY,P.maxY)-Math.min(w.minY,P.minY))}function g(P,w){var R=Math.max(P.minX,w.minX),A=Math.max(P.minY,w.minY),L=Math.min(P.maxX,w.maxX),F=Math.min(P.maxY,w.maxY);return Math.max(0,L-R)*Math.max(0,F-A)}function m(P,w){return P.minX<=w.minX&&P.minY<=w.minY&&w.maxX<=P.maxX&&w.maxY<=P.maxY}function y(P,w){return w.minX<=P.maxX&&w.minY<=P.maxY&&w.maxX>=P.minX&&w.maxY>=P.minY}function S(P){return{children:P,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function M(P,w,R,A,L){for(var F=[w,R],O;F.length;)R=F.pop(),w=F.pop(),!(R-w<=A)&&(O=w+Math.ceil((R-w)/A/2)*A,u(P,O,w,R,L),F.push(w,O,O,R))}n.exports=x},35072:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o){if(this.entries=[],Array.isArray(o))for(var a=0;a<o.length;a++)this.set(o[a])},set:function(d){return this.entries.indexOf(d)===-1&&this.entries.push(d),this},get:function(d,o){for(var a=0;a<this.entries.length;a++){var r=this.entries[a];if(r[d]===o)return r}},getArray:function(){return this.entries.slice(0)},delete:function(d){var o=this.entries.indexOf(d);return o>-1&&this.entries.splice(o,1),this},dump:function(){console.group("Set");for(var d=0;d<this.entries.length;d++){var o=this.entries[d];console.log(o)}console.groupEnd()},each:function(d,o){var a,r=this.entries.slice(),l=r.length;if(o)for(a=0;a<l&&d.call(o,r[a],a)!==!1;a++);else for(a=0;a<l&&d(r[a],a)!==!1;a++);return this},iterate:function(d,o){var a,r=this.entries.length;if(o)for(a=0;a<r&&d.call(o,this.entries[a],a)!==!1;a++);else for(a=0;a<r&&d(this.entries[a],a)!==!1;a++);return this},iterateLocal:function(d){var o,a=[];for(o=1;o<arguments.length;o++)a.push(arguments[o]);var r=this.entries.length;for(o=0;o<r;o++){var l=this.entries[o];l[d].apply(l,a)}return this},clear:function(){return this.entries.length=0,this},contains:function(d){return this.entries.indexOf(d)>-1},union:function(d){var o=new x;return d.entries.forEach(function(a){o.set(a)}),this.entries.forEach(function(a){o.set(a)}),o},intersect:function(d){var o=new x;return this.entries.forEach(function(a){d.contains(a)&&o.set(a)}),o},difference:function(d){var o=new x;return this.entries.forEach(function(a){d.contains(a)||o.set(a)}),o},size:{get:function(){return this.entries.length},set:function(d){return d<this.entries.length?this.entries.length=d:this.entries.length}}});n.exports=x},86555:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45319),x=e(83419),d=e(56583),o=e(26099),a=new x({initialize:function(l,v,h,c){l===void 0&&(l=0),v===void 0&&(v=l),h===void 0&&(h=0),c===void 0&&(c=null),this._width=l,this._height=v,this._parent=c,this.aspectMode=h,this.aspectRatio=v===0?1:l/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new o},setAspectMode:function(r){return r===void 0&&(r=0),this.aspectMode=r,this.setSize(this._width,this._height)},setSnap:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this.snapTo.set(r,l),this.setSize(this._width,this._height)},setParent:function(r){return this._parent=r,this.setSize(this._width,this._height)},setMin:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this.minWidth=u(r,0,this.maxWidth),this.minHeight=u(l,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(r,l){return r===void 0&&(r=Number.MAX_VALUE),l===void 0&&(l=r),this.maxWidth=u(r,this.minWidth,Number.MAX_VALUE),this.maxHeight=u(l,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(r,l){switch(r===void 0&&(r=0),l===void 0&&(l=r),this.aspectMode){case a.NONE:this._width=this.getNewWidth(d(r,this.snapTo.x)),this._height=this.getNewHeight(d(l,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(d(r,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(d(l,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(r,l,!0);break;case a.ENVELOP:this.constrain(r,l,!1);break}return this},setAspectRatio:function(r){return this.aspectRatio=r,this.setSize(this._width,this._height)},resize:function(r,l){return this._width=this.getNewWidth(d(r,this.snapTo.x)),this._height=this.getNewHeight(d(l,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(r,l){return l===void 0&&(l=!0),r=u(r,this.minWidth,this.maxWidth),l&&this._parent&&r>this._parent.width&&(r=Math.max(this.minWidth,this._parent.width)),r},getNewHeight:function(r,l){return l===void 0&&(l=!0),r=u(r,this.minHeight,this.maxHeight),l&&this._parent&&r>this._parent.height&&(r=Math.max(this.minHeight,this._parent.height)),r},constrain:function(r,l,v){r===void 0&&(r=0),l===void 0&&(l=r),v===void 0&&(v=!0),r=this.getNewWidth(r),l=this.getNewHeight(l);var h=this.snapTo,c=l===0?1:r/l;return v&&this.aspectRatio>c||!v&&this.aspectRatio<c?(r=d(r,h.x),l=r/this.aspectRatio,h.y>0&&(l=d(l,h.y),r=l*this.aspectRatio)):(v&&this.aspectRatio<c||!v&&this.aspectRatio>c)&&(l=d(l,h.y),r=l*this.aspectRatio,h.x>0&&(r=d(r,h.x),l=r*(1/this.aspectRatio))),this._width=r,this._height=l,this},fitTo:function(r,l){return this.constrain(r,l,!0)},envelop:function(r,l){return this.constrain(r,l,!1)},setWidth:function(r){return this.setSize(r,this._height)},setHeight:function(r){return this.setSize(this._width,r)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(r){r&&r.style&&(r.style.width=this._width+"px",r.style.height=this._height+"px")},copy:function(r){return r.setAspectMode(this.aspectMode),r.aspectRatio=this.aspectRatio,r.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(r){this.setSize(r,this._height)}},height:{get:function(){return this._height},set:function(r){this.setSize(this._width,r)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,n.exports=a},15238:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},56187:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},82348:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:e(15238),PROCESS_QUEUE_REMOVE:e(56187)}},41392:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:e(82348),List:e(73162),Map:e(90330),ProcessQueue:e(25774),RTree:e(59542),Set:e(35072),Size:e(86555)}},57382:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(45319),d=e(40987),o=e(8054),a=e(50030),r=e(79237),l=new u({Extends:r,initialize:function(h,c,p,g,m){r.call(this,h,c,p,g,m),this.add("__BASE",0,0,0,g,m),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=g,this.height=m,this.imageData=this.context.getImageData(0,0,g,m),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===o.WEBGL&&this.refresh(),this},draw:function(v,h,c,p){return p===void 0&&(p=!0),this.context.drawImage(c,v,h),p&&this.update(),this},drawFrame:function(v,h,c,p,g){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=!0);var m=this.manager.getFrame(v,h);if(m){var y=m.canvasData,S=m.cutWidth,M=m.cutHeight,P=m.source.resolution;this.context.drawImage(m.source.image,y.x,y.y,S,M,c,p,S/P,M/P),g&&this.update()}return this},setPixel:function(v,h,c,p,g,m){m===void 0&&(m=255),v=Math.abs(Math.floor(v)),h=Math.abs(Math.floor(h));var y=this.getIndex(v,h);if(y>-1){var S=this.context.getImageData(v,h,1,1);S.data[0]=c,S.data[1]=p,S.data[2]=g,S.data[3]=m,this.context.putImageData(S,v,h)}return this},putData:function(v,h,c,p,g,m,y){return p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=v.width),y===void 0&&(y=v.height),this.context.putImageData(v,h,c,p,g,m,y),this},getData:function(v,h,c,p){v=x(Math.floor(v),0,this.width-1),h=x(Math.floor(h),0,this.height-1),c=x(c,1,this.width-v),p=x(p,1,this.height-h);var g=this.context.getImageData(v,h,c,p);return g},getPixel:function(v,h,c){c||(c=new d);var p=this.getIndex(v,h);if(p>-1){var g=this.data,m=g[p+0],y=g[p+1],S=g[p+2],M=g[p+3];c.setTo(m,y,S,M)}return c},getPixels:function(v,h,c,p){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=this.width),p===void 0&&(p=c),v=Math.abs(Math.round(v)),h=Math.abs(Math.round(h));for(var g=x(v,0,this.width),m=x(v+c,0,this.width),y=x(h,0,this.height),S=x(h+p,0,this.height),M=new d,P=[],w=y;w<S;w++){for(var R=[],A=g;A<m;A++)M=this.getPixel(A,w,M),R.push({x:A,y:w,color:M.color,alpha:M.alphaGL});P.push(R)}return P},getIndex:function(v,h){return v=Math.abs(Math.round(v)),h=Math.abs(Math.round(h)),v<this.width&&h<this.height?(v+h*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(v,h,c,p,g){return v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=this.width),p===void 0&&(p=this.height),g===void 0&&(g=!0),this.context.clearRect(v,h,c,p),g&&this.update(),this},setSize:function(v,h){return h===void 0&&(h=v),(v!==this.width||h!==this.height)&&(this.canvas.width=v,this.canvas.height=h,this._source.width=v,this._source.height=h,this._source.isPowerOf2=a(v,h),this.frames.__BASE.setSize(v,h,0,0),this.width=v,this.height=h,this.refresh()),this},destroy:function(){r.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});n.exports=l},81320:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10312),x=e(71911),d=e(27919),o=e(83419),a=e(8054),r=e(4327),l=e(95540),v=e(36060),h=e(32302),c=e(79237),p=e(70554),g=new o({Extends:c,initialize:function(y,S,M,P){M===void 0&&(M=256),P===void 0&&(P=256),this.type="DynamicTexture";var w=y.game.renderer,R=w&&w.type===a.CANVAS,A=R?d.create2D(this,M,P):[this];c.call(this,y,S,A,M,P),this.add("__BASE",0,0,0,M,P),this.renderer=w,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=R?A:null,this.context=R?A.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,M,P).setScene(y.game.scene.systemScene,!1),this.renderTarget=R?null:new h(w,M,P,1,0,!1,!0,!0,!1),this.pipeline=R?null:w.pipelines.get(v.SINGLE_PIPELINE),this.setSize(M,P)},setSize:function(m,y){y===void 0&&(y=m);var S=this.get(),M=S.source;if(m!==this.width||y!==this.height){this.canvas&&(this.canvas.width=m,this.canvas.height=y);var P=this.renderTarget;P&&(P.willResize(m,y)&&P.resize(m,y),P.texture!==M.glTexture&&this.renderer.deleteTexture(M.glTexture),this.setFromRenderTarget()),this.camera.setSize(m,y),M.width=m,M.height=y,S.setSize(m,y),this.width=m,this.height=y}else{var w=this.getSourceImage();S.cutX+m>w.width&&(m=w.width-S.cutX),S.cutY+y>w.height&&(y=w.height-S.cutY),S.setSize(m,y,S.cutX,S.cutY)}return this},setFromRenderTarget:function(){var m=this.get(),y=m.source,S=this.renderTarget;return y.isRenderTexture=!0,y.isGLTexture=!0,y.glTexture=S.texture,this},setIsSpriteTexture:function(m){return this.isSpriteTexture=m,this},fill:function(m,y,S,M,P,w){var R=this.camera,A=this.renderer;y===void 0&&(y=1),S===void 0&&(S=0),M===void 0&&(M=0),P===void 0&&(P=this.width),w===void 0&&(w=this.height);var L=m>>16&255,F=m>>8&255,O=m&255,b=this.renderTarget;if(R.preRender(),b){b.bind(!0);var B=this.pipeline.manager.set(this.pipeline),I=A.width/b.width,N=A.height/b.height,X=b.height-(M+w);B.drawFillRect(S*I,X*N,P*I,w*N,p.getTintFromFloats(O/255,F/255,L/255,1),y),b.unbind(!0)}else{var k=this.context;A.setContext(k),k.globalCompositeOperation="source-over",k.fillStyle="rgba("+L+","+F+","+O+","+y+")",k.fillRect(S,M,P,w),A.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var m=this.context,y=this.renderTarget;y?y.clear():m&&(m.save(),m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,this.width,this.height),m.restore()),this.dirty=!1}return this},stamp:function(m,y,S,M,P){S===void 0&&(S=0),M===void 0&&(M=0);var w=l(P,"alpha",1),R=l(P,"tint",16777215),A=l(P,"angle",0),L=l(P,"rotation",0),F=l(P,"scale",1),O=l(P,"scaleX",F),b=l(P,"scaleY",F),B=l(P,"originX",.5),I=l(P,"originY",.5),N=l(P,"blendMode",0),X=l(P,"erase",!1),k=l(P,"skipBatch",!1),H=this.manager.resetStamp(w,R);return H.setAngle(0),A!==0?H.setAngle(A):L!==0&&H.setRotation(L),H.setScale(O,b),H.setTexture(m,y),H.setOrigin(B,I),H.setBlendMode(N),X&&(this._eraseMode=!0),k?this.batchGameObject(H,S,M):this.draw(H,S,M),X&&(this._eraseMode=!1),this},erase:function(m,y,S){return this._eraseMode=!0,this.draw(m,y,S),this._eraseMode=!1,this},draw:function(m,y,S,M,P){return this.beginDraw(),this.batchDraw(m,y,S,M,P),this.endDraw(),this},drawFrame:function(m,y,S,M,P,w){return this.beginDraw(),this.batchDrawFrame(m,y,S,M,P,w),this.endDraw(),this},repeat:function(m,y,S,M,P,w,R,A,L){if(S===void 0&&(S=0),M===void 0&&(M=0),P===void 0&&(P=this.width),w===void 0&&(w=this.height),R===void 0&&(R=1),A===void 0&&(A=16777215),L===void 0&&(L=!1),m instanceof r?y=m:y=this.manager.getFrame(m,y),!y)return this;var F=this.manager.resetStamp(R,A);F.setFrame(y),F.setOrigin(0);var O=y.width,b=y.height;P=Math.floor(P),w=Math.floor(w);var B=Math.ceil(P/O),I=Math.ceil(w/b),N=B*O-P,X=I*b-w;N>0&&(N=O-N),X>0&&(X=b-X),S<0&&(B+=Math.ceil(Math.abs(S)/O)),M<0&&(I+=Math.ceil(Math.abs(M)/b));var k=S,H=M,V=!1,W=this.manager.stampCrop.setTo(0,0,O,b);L||this.beginDraw();for(var D=0;D<I;D++){if(H+b<0){H+=b;continue}for(var G=0;G<B;G++){if(V=!1,k+O<0){k+=O;continue}else k<0&&(V=!0,W.width=O+k,W.x=O-W.width);H<0&&(V=!0,W.height=b+H,W.y=b-W.height),N>0&&G===B-1&&(V=!0,W.width=N),X>0&&D===I-1&&(V=!0,W.height=X),V&&F.setCrop(W),this.batchGameObject(F,k,H),F.isCropped=!1,W.setTo(0,0,O,b),k+=O}k=S,H+=b}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var m=this.camera,y=this.renderer,S=this.renderTarget;m.preRender(),S?y.beginCapture(S.width,S.height):y.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(m,y,S,M,P){return Array.isArray(m)||(m=[m]),this.batchList(m,y,S,M,P),this},batchDrawFrame:function(m,y,S,M,P,w){S===void 0&&(S=0),M===void 0&&(M=0),P===void 0&&(P=1),w===void 0&&(w=16777215);var R=this.manager.getFrame(m,y);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,S,M,w,P,this.camera.matrix,null):this.batchTextureFrame(R,S,M,P,w)),this},endDraw:function(m){if(m===void 0&&(m=this._eraseMode),this.isDrawing){var y=this.renderer,S=this.renderTarget;if(S){var M=y.endCapture(),P=y.pipelines.setUtility();P.blitFrame(M,S,1,!1,!1,m,this.isSpriteTexture),y.resetScissor(),y.resetViewport()}else y.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(m,y,S,M,P){var w=m.length;if(w!==0)for(var R=0;R<w;R++){var A=m[R];!A||A===this||(A.renderWebGL||A.renderCanvas?this.batchGameObject(A,y,S):A.isParent||A.list?this.batchGroup(A.getChildren(),y,S):typeof A=="string"?this.batchTextureFrameKey(A,null,y,S,M,P):A instanceof r?this.batchTextureFrame(A,y,S,M,P):Array.isArray(A)&&this.batchList(A,y,S,M,P))}},batchGroup:function(m,y,S){y===void 0&&(y=0),S===void 0&&(S=0);for(var M=0;M<m.length;M++){var P=m[M];P.willRender(this.camera)&&this.batchGameObject(P,P.x+y,P.y+S)}},batchGameObject:function(m,y,S){y===void 0&&(y=m.x),S===void 0&&(S=m.y);var M=m.x,P=m.y,w=this.camera,R=this.renderer,A=this._eraseMode,L=m.mask;if(m.setPosition(y,S),this.canvas){if(A){var F=m.blendMode;m.blendMode=u.ERASE}L&&L.preRenderCanvas(R,m,w),m.renderCanvas(R,m,w,null),L&&L.postRenderCanvas(R,m,w),A&&(m.blendMode=F)}else R&&(L&&L.preRenderWebGL(R,m,w),A||R.setBlendMode(m.blendMode),m.renderWebGL(R,m,w),L&&L.postRenderWebGL(R,w,this.renderTarget));m.setPosition(M,P)},batchTextureFrameKey:function(m,y,S,M,P,w){var R=this.manager.getFrame(m,y);R&&this.batchTextureFrame(R,S,M,P,w)},batchTextureFrame:function(m,y,S,M,P){y===void 0&&(y=0),S===void 0&&(S=0),M===void 0&&(M=1),P===void 0&&(P=16777215);var w=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(m,y,S,P,M,w,null);else{var A=this.context,L=m.canvasData,F=m.source.image;A.save(),A.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",A.globalAlpha=M,w.setToContext(A),L.width>0&&L.height>0&&A.drawImage(F,L.x,L.y,L.width,L.height,y,S,L.width,L.height),A.restore()}},snapshotArea:function(m,y,S,M,P,w,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,m,y,S,M,w,R):this.renderer.snapshotCanvas(this.canvas,P,!1,m,y,S,M,w,R),this},snapshot:function(m,y,S){return this.snapshotArea(0,0,this.width,this.height,m,y,S)},snapshotPixel:function(m,y,S){return this.snapshotArea(m,y,1,1,S,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(m,y,S,M){var P=this.manager.resetStamp();P.setTexture(this),P.setOrigin(0),P.renderWebGL(m,P,S,M)},renderCanvas:function(){},destroy:function(){var m=this.manager.stamp;m&&m.texture===this&&this.manager.resetStamp(),c.prototype.destroy.call(this),d.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});n.exports=g},4327:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(45319),d=e(79291),o=new u({initialize:function(r,l,v,h,c,p,g){this.texture=r,this.name=l,this.source=r.source[v],this.sourceIndex=v,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,g,h,c)},setSize:function(a,r,l,v){l===void 0&&(l=0),v===void 0&&(v=0),this.cutX=l,this.cutY=v,this.cutWidth=a,this.cutHeight=r,this.width=a,this.height=r,this.halfWidth=Math.floor(a*.5),this.halfHeight=Math.floor(r*.5),this.centerX=Math.floor(a/2),this.centerY=Math.floor(r/2);var h=this.data,c=h.cut;c.x=l,c.y=v,c.w=a,c.h=r,c.r=l+a,c.b=v+r,h.sourceSize.w=a,h.sourceSize.h=r,h.spriteSourceSize.w=a,h.spriteSourceSize.h=r,h.radius=.5*Math.sqrt(a*a+r*r);var p=h.drawImage;return p.x=l,p.y=v,p.width=a,p.height=r,this.updateUVs()},setTrim:function(a,r,l,v,h,c){var p=this.data,g=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=a,p.sourceSize.h=r,g.x=l,g.y=v,g.w=h,g.h=c,g.r=l+h,g.b=v+c,this.x=l,this.y=v,this.width=h,this.height=c,this.halfWidth=h*.5,this.halfHeight=c*.5,this.centerX=Math.floor(h/2),this.centerY=Math.floor(c/2),this.updateUVs()},setScale9:function(a,r,l,v){var h=this.data;return h.scale9=!0,h.is3Slice=r===0&&v===this.height,h.scale9Borders.x=a,h.scale9Borders.y=r,h.scale9Borders.w=l,h.scale9Borders.h=v,this},setCropUVs:function(a,r,l,v,h,c,p){var g=this.cutX,m=this.cutY,y=this.cutWidth,S=this.cutHeight,M=this.realWidth,P=this.realHeight;r=x(r,0,M),l=x(l,0,P),v=x(v,0,M-r),h=x(h,0,P-l);var w=g+r,R=m+l,A=v,L=h,F=this.data;if(F.trim){var O=F.spriteSourceSize;v=x(v,0,y-r),h=x(h,0,S-l);var b=r+v,B=l+h,I=!(O.r<r||O.b<l||O.x>b||O.y>B);if(I){var N=Math.max(O.x,r),X=Math.max(O.y,l),k=Math.min(O.r,b)-N,H=Math.min(O.b,B)-X;A=k,L=H,c?w=g+(y-(N-O.x)-k):w=g+(N-O.x),p?R=m+(S-(X-O.y)-H):R=m+(X-O.y),r=N,l=X,v=k,h=H}else w=0,R=0,A=0,L=0}else c&&(w=g+(y-r-v)),p&&(R=m+(S-l-h));var V=this.source.width,W=this.source.height;return a.u0=Math.max(0,w/V),a.v0=Math.max(0,R/W),a.u1=Math.min(1,(w+A)/V),a.v1=Math.min(1,(R+L)/W),a.x=r,a.y=l,a.cx=w,a.cy=R,a.cw=A,a.ch=L,a.width=v,a.height=h,a.flipX=c,a.flipY=p,a},updateCropUVs:function(a,r,l){return this.setCropUVs(a,a.x,a.y,a.width,a.height,r,l)},setUVs:function(a,r,l,v,h,c){var p=this.data.drawImage;return p.width=a,p.height=r,this.u0=l,this.v0=v,this.u1=h,this.v1=c,this},updateUVs:function(){var a=this.cutX,r=this.cutY,l=this.cutWidth,v=this.cutHeight,h=this.data.drawImage;h.width=l,h.height=v;var c=this.source.width,p=this.source.height;return this.u0=a/c,this.v0=r/p,this.u1=(a+l)/c,this.v1=(r+v)/p,this},updateUVsInverted:function(){var a=this.source.width,r=this.source.height;return this.u0=(this.cutX+this.cutHeight)/a,this.v0=this.cutY/r,this.u1=this.cutX/a,this.v1=(this.cutY+this.cutWidth)/r,this},clone:function(){var a=new o(this.texture,this.name,this.sourceIndex);return a.cutX=this.cutX,a.cutY=this.cutY,a.cutWidth=this.cutWidth,a.cutHeight=this.cutHeight,a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,a.halfWidth=this.halfWidth,a.halfHeight=this.halfHeight,a.centerX=this.centerX,a.centerY=this.centerY,a.rotated=this.rotated,a.data=d(!0,a.data,this.data),a.updateUVs(),a},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});n.exports=o},79237:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(4327),d=e(11876),o='Texture "%s" has no frame "%s"',a=new u({initialize:function(l,v,h,c,p){Array.isArray(h)||(h=[h]),this.manager=l,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var g=0;g<h.length;g++)this.source.push(new d(this,h[g],c,p))},add:function(r,l,v,h,c,p){if(this.has(r))return null;var g=new x(this,r,l,v,h,c,p);return this.frames[r]=g,this.firstFrame==="__BASE"&&(this.firstFrame=r),this.frameTotal++,g},remove:function(r){if(this.has(r)){var l=this.get(r);return l.destroy(),delete this.frames[r],!0}return!1},has:function(r){return this.frames.hasOwnProperty(r)},get:function(r){r||(r=this.firstFrame);var l=this.frames[r];return l||(console.warn(o,this.key,r),l=this.frames[this.firstFrame]),l},getTextureSourceIndex:function(r){for(var l=0;l<this.source.length;l++)if(this.source[l]===r)return l;return-1},getFramesFromTextureSource:function(r,l){l===void 0&&(l=!1);var v=[];for(var h in this.frames)if(!(h==="__BASE"&&!l)){var c=this.frames[h];c.sourceIndex===r&&v.push(c)}return v},getFrameBounds:function(r){r===void 0&&(r=0);for(var l=this.getFramesFromTextureSource(r),v=1/0,h=1/0,c=0,p=0,g=0;g<l.length;g++){var m=l[g];m.cutX<v&&(v=m.cutX),m.cutY<h&&(h=m.cutY),m.cutX+m.cutWidth>c&&(c=m.cutX+m.cutWidth),m.cutY+m.cutHeight>p&&(p=m.cutY+m.cutHeight)}return{x:v,y:h,width:c-v,height:p-h}},getFrameNames:function(r){r===void 0&&(r=!1);var l=Object.keys(this.frames);if(!r){var v=l.indexOf("__BASE");v!==-1&&l.splice(v,1)}return l},getSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var l=this.frames[r];return l?l.source.image:(console.warn(o,this.key,r),this.frames.__BASE.source.image)},getDataSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var l=this.frames[r],v;return l?v=l.sourceIndex:(console.warn(o,this.key,r),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},setDataSource:function(r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var v=this.source[l];this.dataSource.push(new d(this,r[l],v.width,v.height))}},setFilter:function(r){var l;for(l=0;l<this.source.length;l++)this.source[l].setFilter(r);for(l=0;l<this.dataSource.length;l++)this.dataSource[l].setFilter(r)},destroy:function(){var r,l=this.source,v=this.dataSource;for(r=0;r<l.length;r++)l[r]&&l[r].destroy();for(r=0;r<v.length;r++)v[r]&&v[r].destroy();for(var h in this.frames){var c=this.frames[h];c&&c.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});n.exports=a},17130:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),x=e(57382),d=e(83419),o=e(40987),a=e(8054),r=e(81320),l=e(50792),v=e(69442),h=e(4327),c=e(8443),p=e(99584),g=e(35154),m=e(88571),y=e(41212),S=e(61309),M=e(87841),P=e(79237),w=new d({Extends:l,initialize:function(A){l.call(this),this.game=A,this.name="TextureManager",this.list={},this._tempCanvas=u.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new M,this.silentWarnings=!1,A.events.once(c.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var R=this.game.config;this.addBase64("__DEFAULT",R.defaultImage),this.addBase64("__MISSING",R.missingImage),this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(c.DESTROY,this.destroy,this),this.game.events.once(c.SYSTEM_READY,function(A){this.stamp=new m(A).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},checkKey:function(R){return this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var A=R.key;return this.list.hasOwnProperty(A)&&(R.destroy(),this.emit(v.REMOVE,A),this.emit(v.REMOVE_KEY+A)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,A){if(this.checkKey(R)){var L=this,F=new Image;F.onerror=function(){L.emit(v.ERROR,R)},F.onload=function(){var O=L.create(R,F);S.Image(O,0),L.emit(v.ADD,R,O),L.emit(v.ADD_KEY+R,O),L.emit(v.LOAD,R,O)},F.src=A}return this},getBase64:function(R,A,L,F){L===void 0&&(L="image/png"),F===void 0&&(F=.92);var O="",b=this.getFrame(R,A);if(b&&(b.source.isRenderTexture||b.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(b){var B=b.canvasData,I=u.create2D(this,B.width,B.height),N=I.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&N.drawImage(b.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),O=I.toDataURL(L,F),u.remove(I)}return O},addImage:function(R,A,L){var F=null;return this.checkKey(R)&&(F=this.create(R,A),S.Image(F,0),L&&F.setDataSource(L),this.emit(v.ADD,R,F),this.emit(v.ADD_KEY+R,F)),F},addGLTexture:function(R,A){var L=null;if(this.checkKey(R)){var F=A.width,O=A.height;L=this.create(R,A,F,O),L.add("__BASE",0,0,0,F,O),this.emit(v.ADD,R,L),this.emit(v.ADD_KEY+R,L)}return L},addCompressedTexture:function(R,A,L){var F=null;if(this.checkKey(R)){if(F=this.create(R,A),F.add("__BASE",0,0,0,A.width,A.height),L){var O=function(B,I,N){Array.isArray(N.textures)||Array.isArray(N.frames)?S.JSONArray(B,I,N):S.JSONHash(B,I,N)};if(Array.isArray(L))for(var b=0;b<L.length;b++)O(F,b,L[b]);else O(F,0,L)}this.emit(v.ADD,R,F),this.emit(v.ADD_KEY+R,F)}return F},addRenderTexture:function(R,A){var L=null;return this.checkKey(R)&&(L=this.create(R,A),L.add("__BASE",0,0,0,A.width,A.height),this.emit(v.ADD,R,L),this.emit(v.ADD_KEY+R,L)),L},generate:function(R,A){if(this.checkKey(R)){var L=u.create(this,1,1);return A.canvas=L,p(A),this.addCanvas(R,L)}else return null},createCanvas:function(R,A,L){if(A===void 0&&(A=256),L===void 0&&(L=256),this.checkKey(R)){var F=u.create(this,A,L,a.CANVAS,!0);return this.addCanvas(R,F)}return null},addCanvas:function(R,A,L){L===void 0&&(L=!1);var F=null;return L?F=new x(this,R,A,A.width,A.height):this.checkKey(R)&&(F=new x(this,R,A,A.width,A.height),this.list[R]=F,this.emit(v.ADD,R,F),this.emit(v.ADD_KEY+R,F)),F},addDynamicTexture:function(R,A,L){var F=null;return typeof R=="string"&&!this.exists(R)?F=new r(this,R,A,L):(F=R,R=F.key),this.checkKey(R)?(this.list[R]=F,this.emit(v.ADD,R,F),this.emit(v.ADD_KEY+R,F)):F=null,F},addAtlas:function(R,A,L,F){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(R,A,L,F):this.addAtlasJSONHash(R,A,L,F)},addAtlasJSONArray:function(R,A,L,F){var O=null;if(A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O){if(Array.isArray(L))for(var b=L.length===1,B=0;B<O.source.length;B++){var I=b?L[0]:L[B];S.JSONArray(O,B,I)}else S.JSONArray(O,0,L);F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)}return O},addAtlasJSONHash:function(R,A,L,F){var O=null;if(A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O){if(Array.isArray(L))for(var b=0;b<L.length;b++)S.JSONHash(O,b,L[b]);else S.JSONHash(O,0,L);F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)}return O},addAtlasXML:function(R,A,L,F){var O=null;return A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O&&(S.AtlasXML(O,0,L),F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)),O},addUnityAtlas:function(R,A,L,F){var O=null;return A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O&&(S.UnityYAML(O,0,L),F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)),O},addSpriteSheet:function(R,A,L,F){var O=null;if(A instanceof P?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O){var b=O.source[0].width,B=O.source[0].height;S.SpriteSheet(O,0,0,0,b,B,L),F&&O.setDataSource(F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)}return O},addSpriteSheetFromAtlas:function(R,A){if(!this.checkKey(R))return null;var L=g(A,"atlas",null),F=g(A,"frame",null);if(!(!L||!F)){var O=this.get(L),b=O.get(F);if(b){var B=b.source.image;B||(B=b.source.glTexture);var I=this.create(R,B);return b.trimmed?S.SpriteSheetFromAtlas(I,b,A):S.SpriteSheet(I,0,b.cutX,b.cutY,b.cutWidth,b.cutHeight,A),this.emit(v.ADD,R,I),this.emit(v.ADD_KEY+R,I),I}}},addUint8Array:function(R,A,L,F){if(!this.checkKey(R)||A.length/4!==L*F)return null;var O=this.create(R,A,L,F);return O.add("__BASE",0,0,0,L,F),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O),O},create:function(R,A,L,F){var O=null;return this.checkKey(R)&&(O=new P(this,R,A,L,F),this.list[R]=O),O},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof P?R:R instanceof h?R.texture:this.list.__MISSING},cloneFrame:function(R,A){if(this.list[R])return this.list[R].get(A).clone()},getFrame:function(R,A){if(this.list[R])return this.list[R].get(A)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(y(R))return this.getFrame(R.key,R.frame);if(R instanceof P)return R.get();if(R instanceof h)return R}else return},getTextureKeys:function(){var R=[];for(var A in this.list)A!=="__DEFAULT"&&A!=="__MISSING"&&A!=="__WHITE"&&A!=="__NORMAL"&&R.push(A);return R},getPixel:function(R,A,L,F){var O=this.getFrame(L,F);if(O){R-=O.x,A-=O.y;var b=O.data.cut;if(R+=b.x,A+=b.y,R>=b.x&&R<b.r&&A>=b.y&&A<b.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(O.source.image,R,A,1,1,0,0,1,1);var I=B.getImageData(0,0,1,1);return new o(I.data[0],I.data[1],I.data[2],I.data[3])}}return null},getPixelAlpha:function(R,A,L,F){var O=this.getFrame(L,F);if(O){R-=O.x,A-=O.y;var b=O.data.cut;if(R+=b.x,A+=b.y,R>=b.x&&R<b.r&&A>=b.y&&A<b.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(O.source.image,R,A,1,1,0,0,1,1);var I=B.getImageData(0,0,1,1);return I.data[3]}}return null},setTexture:function(R,A,L){return this.list[A]&&(R.texture=this.list[A],R.frame=R.texture.get(L)),R},renameTexture:function(R,A){var L=this.get(R);return L&&R!==A?(L.key=A,this.list[A]=L,delete this.list[R],!0):!1},each:function(R,A){for(var L=[null],F=1;F<arguments.length;F++)L.push(arguments[F]);for(var O in this.list)L[0]=this.list[O],R.apply(A,L)},resetStamp:function(R,A){R===void 0&&(R=1),A===void 0&&(A=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(R),L.setTint(A),L.setTexture("__WHITE"),L},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,u.remove(this._tempCanvas)}});n.exports=w},11876:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27919),x=e(83419),d=e(50030),o=e(29795),a=e(82751),r=new x({initialize:function(v,h,c,p,g){g===void 0&&(g=!1);var m=v.manager.game;this.renderer=m.renderer,this.texture=v,this.source=h,this.image=h.compressed?null:h,this.compressionAlgorithm=h.compressed?h.format:null,this.resolution=1,this.width=c||h.naturalWidth||h.videoWidth||h.width||0,this.height=p||h.naturalHeight||h.videoHeight||h.height||0,this.scaleMode=o.DEFAULT,this.isCanvas=h instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&h instanceof HTMLVideoElement,this.isRenderTexture=h.type==="RenderTexture"||h.type==="DynamicTexture",this.isGLTexture=h instanceof a,this.isPowerOf2=d(this.width,this.height),this.glTexture=null,this.flipY=g,this.init(m)},init:function(l){var v=this.renderer;if(v){var h=this.source;if(v.gl){var c=this.image,p=this.flipY,g=this.width,m=this.height,y=this.scaleMode;this.isCanvas?this.glTexture=v.createCanvasTexture(c,!1,p):this.isVideo?this.glTexture=v.createVideoTexture(c,!1,p):this.isRenderTexture?this.glTexture=v.createTextureFromSource(null,g,m,y):this.isGLTexture?this.glTexture=h:this.compressionAlgorithm?this.glTexture=v.createTextureFromSource(h,void 0,void 0,y):h instanceof Uint8Array?this.glTexture=v.createUint8ArrayTexture(h,g,m,y):this.glTexture=v.createTextureFromSource(c,g,m,y)}else this.isRenderTexture&&(this.image=h.canvas)}l.config.antialias||this.setFilter(1)},setFilter:function(l){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,l),this.scaleMode=l},setFlipY:function(l){return l===void 0&&(l=!0),l===this.flipY?this:(this.flipY=l,this.update(),this)},update:function(){var l=this.renderer,v=this.image,h=this.flipY,c=l.gl;c&&this.isCanvas?l.updateCanvasTexture(v,this.glTexture,h):c&&this.isVideo&&l.updateVideoTexture(v,this.glTexture,h)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&u.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});n.exports=r},19673:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LINEAR:0,NEAREST:1};n.exports=C},44538:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"},63486:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"},94851:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"},29099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"},8678:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},86415:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"},30879:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"},69442:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:e(44538),ADD_KEY:e(63486),ERROR:e(94851),LOAD:e(29099),READY:e(8678),REMOVE:e(86415),REMOVE_KEY:e(30879)}},27458:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),x=e(19673),d={CanvasTexture:e(57382),DynamicTexture:e(81320),Events:e(69442),FilterMode:x,Frame:e(4327),Parsers:e(61309),Texture:e(79237),TextureManager:e(17130),TextureSource:e(11876)};d=u(!1,d,x),n.exports=d},89905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var d=e.source[u];e.add("__BASE",u,0,0,d.width,d.height);for(var o=x.getElementsByTagName("SubTexture"),a,r=0;r<o.length;r++){var l=o[r].attributes,v=l.name.value,h=parseInt(l.x.value,10),c=parseInt(l.y.value,10),p=parseInt(l.width.value,10),g=parseInt(l.height.value,10);if(a=e.add(v,u,h,c,p,g),l.frameX){var m=Math.abs(parseInt(l.frameX.value,10)),y=Math.abs(parseInt(l.frameY.value,10)),S=parseInt(l.frameWidth.value,10),M=parseInt(l.frameHeight.value,10);a.setTrim(p,g,m,y,S,M)}}return e};n.exports=C},72893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.source[u];return e.add("__BASE",u,0,0,x.width,x.height),e};n.exports=C},4832:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.source[u];return e.add("__BASE",u,0,0,x.width,x.height),e};n.exports=C},78566:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41786),x=function(d,o,a){if(!a.frames&&!a.textures){console.warn("Invalid Texture Atlas JSON Array");return}var r=d.source[o];d.add("__BASE",o,0,0,r.width,r.height);for(var l=Array.isArray(a.textures)?a.textures[o].frames:a.frames,v,h=0;h<l.length;h++){var c=l[h];if(v=d.add(c.filename,o,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+c.filename);continue}c.trimmed&&v.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=c.anchor||c.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),c.scale9Borders&&v.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),v.customData=u(c)}for(var g in a)g!=="frames"&&(Array.isArray(a[g])?d.customData[g]=a[g].slice(0):d.customData[g]=a[g]);return d};n.exports=x},39711:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41786),x=function(d,o,a){if(!a.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var r=d.source[o];d.add("__BASE",o,0,0,r.width,r.height);var l=a.frames,v;for(var h in l)if(!!l.hasOwnProperty(h)){var c=l[h];if(v=d.add(h,o,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+h);continue}c.trimmed&&v.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=c.anchor||c.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),c.scale9Borders&&v.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),v.customData=u(c)}for(var g in a)g!=="frames"&&(Array.isArray(a[g])?d.customData[g]=a[g].slice(0):d.customData[g]=a[g]);return d};n.exports=x},31403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u=[171,75,84,88,32,49,49,187,13,10,26,10],x,d=new Uint8Array(e,0,12);for(x=0;x<d.length;x++)if(d[x]!==u[x]){console.warn("KTXParser - Invalid file format");return}var o=Uint32Array.BYTES_PER_ELEMENT,a=new DataView(e,12,13*o),r=a.getUint32(0,!0)===67305985,l=a.getUint32(1*o,r);if(l!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=a.getUint32(4*o,r),h=a.getUint32(6*o,r),c=a.getUint32(7*o,r),p=Math.max(1,a.getUint32(11*o,r)),g=a.getUint32(12*o,r),m=new Array(p),y=12+13*4+g,S=h,M=c;for(x=0;x<p;x++){var P=new Int32Array(e,y,1)[0];y+=4,m[x]={data:new Uint8Array(e,y,P),width:S,height:M},S=Math.max(1,S>>1),M=Math.max(1,M>>1),y+=P}return{mipmaps:m,width:h,height:c,internalFormat:v,compressed:!0,generateMipmap:!1}};n.exports=C},82038:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(A,L,F,O,b,B,I){return I===void 0&&(I=16),Math.floor((A+F)/b)*Math.floor((L+O)/B)*I}function e(A,L){return A=Math.max(A,16),L=Math.max(L,8),A*L/4}function u(A,L){return A=Math.max(A,8),L=Math.max(L,8),A*L/2}function x(A,L){return Math.ceil(A/4)*Math.ceil(L/4)*16}function d(A,L){return C(A,L,3,3,4,4,8)}function o(A,L){return C(A,L,3,3,4,4)}function a(A,L){return C(A,L,4,3,5,4)}function r(A,L){return C(A,L,4,4,5,5)}function l(A,L){return C(A,L,5,4,6,5)}function v(A,L){return C(A,L,5,5,6,6)}function h(A,L){return C(A,L,7,4,8,5)}function c(A,L){return C(A,L,7,5,8,6)}function p(A,L){return C(A,L,7,7,8,8)}function g(A,L){return C(A,L,9,4,10,5)}function m(A,L){return C(A,L,9,5,10,6)}function y(A,L){return C(A,L,9,7,10,8)}function S(A,L){return C(A,L,9,9,10,10)}function M(A,L){return C(A,L,11,9,12,10)}function P(A,L){return C(A,L,11,11,12,12)}var w={0:{sizeFunc:e,glFormat:[35841]},1:{sizeFunc:e,glFormat:[35843]},2:{sizeFunc:u,glFormat:[35840]},3:{sizeFunc:u,glFormat:[35842]},6:{sizeFunc:d,glFormat:[36196]},7:{sizeFunc:d,glFormat:[33776,35916]},8:{sizeFunc:o,glFormat:[33777,35917]},9:{sizeFunc:o,glFormat:[33778,35918]},11:{sizeFunc:o,glFormat:[33779,35919]},14:{sizeFunc:x,glFormat:[36494,36495]},15:{sizeFunc:x,glFormat:[36492,36493]},22:{sizeFunc:d,glFormat:[37492,37493]},23:{sizeFunc:o,glFormat:[37496,37497]},24:{sizeFunc:d,glFormat:[37494,37495]},25:{sizeFunc:d,glFormat:[37488]},26:{sizeFunc:o,glFormat:[37490]},27:{sizeFunc:o,glFormat:[37808,37840]},28:{sizeFunc:a,glFormat:[37809,37841]},29:{sizeFunc:r,glFormat:[37810,37842]},30:{sizeFunc:l,glFormat:[37811,37843]},31:{sizeFunc:v,glFormat:[37812,37844]},32:{sizeFunc:h,glFormat:[37813,37845]},33:{sizeFunc:c,glFormat:[37814,37846]},34:{sizeFunc:p,glFormat:[37815,37847]},35:{sizeFunc:g,glFormat:[37816,37848]},36:{sizeFunc:m,glFormat:[37817,37849]},37:{sizeFunc:y,glFormat:[37818,37850]},38:{sizeFunc:S,glFormat:[37819,37851]},39:{sizeFunc:M,glFormat:[37820,37852]},40:{sizeFunc:P,glFormat:[37821,37853]}},R=function(A){for(var L=new Uint32Array(A,0,13),F=L[0],O=F===55727696,b=O?L[2]:L[3],B=L[4],I=w[b].glFormat[B],N=w[b].sizeFunc,X=L[11],k=L[7],H=L[6],V=52+L[12],W=new Uint8Array(A,V),D=new Array(X),G=0,z=k,U=H,Y=0;Y<X;Y++){var $=N(z,U);D[Y]={data:new Uint8Array(W.buffer,W.byteOffset+G,$),width:z,height:U},z=Math.max(1,z>>1),U=Math.max(1,U>>1),G+=$}return{mipmaps:D,width:k,height:H,internalFormat:I,compressed:!0,generateMipmap:!1}};n.exports=R},75549:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),x=function(d,o,a,r,l,v,h){var c=u(h,"frameWidth",null),p=u(h,"frameHeight",c);if(c===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var g=d.source[o];d.add("__BASE",o,0,0,g.width,g.height);var m=u(h,"startFrame",0),y=u(h,"endFrame",-1),S=u(h,"margin",0),M=u(h,"spacing",0),P=Math.floor((l-S+M)/(c+M)),w=Math.floor((v-S+M)/(p+M)),R=P*w;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",d.key),(m>R||m<-R)&&(m=0),m<0&&(m=R+m),(y===-1||y>R||y<m)&&(y=R);for(var A=S,L=S,F=0,O=0,b=0,B=0;B<R;B++){F=0,O=0;var I=A+c,N=L+p;I>l&&(F=I-l),N>v&&(O=N-v),B>=m&&B<=y&&(d.add(b,o,a+A,r+L,c-F,p-O),b++),A+=c+M,A+c>l&&(A=S,L+=p+M)}return d};n.exports=x},47534:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),x=function(d,o,a){var r=u(a,"frameWidth",null),l=u(a,"frameHeight",r);if(!r)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=d.source[0];d.add("__BASE",0,0,0,v.width,v.height),u(a,"startFrame",0),u(a,"endFrame",-1);for(var h=u(a,"margin",0),c=u(a,"spacing",0),p=o.cutX,g=o.cutY,m=o.cutWidth,y=o.cutHeight,S=o.realWidth,M=o.realHeight,P=Math.floor((S-h+c)/(r+c)),w=Math.floor((M-h+c)/(l+c)),R=o.x,A=r-R,L=r-(S-m-R),F=o.y,O=l-F,b=l-(M-y-F),B,I=h,N=h,X=0,k=0,H=0;H<w;H++){for(var V=H===0,W=H===w-1,D=0;D<P;D++){var G=D===0,z=D===P-1;if(B=d.add(X,k,p+I,g+N,r,l),G||V||z||W){var U=G?R:0,Y=V?F:0,$=0,K=0;G&&($+=r-A),z&&($+=r-L),V&&(K+=l-O),W&&(K+=l-b);var Z=r-$,J=l-K;B.cutWidth=Z,B.cutHeight=J,B.setTrim(r,l,U,Y,Z,J)}I+=c,G?I+=A:z?I+=L:I+=r,X++}I=h,N+=c,V?N+=O:W?N+=b:N+=l}return d};n.exports=x},86147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=0,e=function(x,d,o,a){var r=C-a.y-a.height;x.add(o,d,a.x,r,a.width,a.height)},u=function(x,d,o){var a=x.source[d];x.add("__BASE",d,0,0,a.width,a.height),C=a.height;for(var r=o.split(`
`),l=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",h="",c={x:0,y:0,width:0,height:0},p=0;p<r.length;p++){var g=r[p].match(l);if(!!g){var m=g[1]==="- ",y=g[2],S=g[3];if(m&&(h!==v&&(e(x,d,h,c),v=h),c={x:0,y:0,width:0,height:0}),y==="name"){h=S;continue}switch(y){case"x":case"y":case"width":case"height":c[y]=parseInt(S,10);break}}}return h!==v&&e(x,d,h,c),x};n.exports=u},55222:(n,C,e)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50030),x=function(v){for(var h=v.mipmaps,c=1;c<h.length;c++){var p=h[c].width,g=h[c].height;if(!u(p,g))return console.warn("Mip level "+c+" is not a power-of-two size: "+p+"x"+g),!1}var m=l[v.internalFormat];return m?m(v):(console.warn("No format checker found for internal format "+v.internalFormat+". Assuming valid."),!0)};function d(v){for(var h=v.mipmaps,c=0;c<h.length;c++){var p=h[c].width,g=h[c].height;if((p<<c)%4!==0||(g<<c)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+c+" is "+p+"x"+g),!1}return!0}function o(){return!0}function a(v){var h=v.mipmaps,c=h[0];return u(c.width,c.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+c.width+"x"+c.height),!1)}function r(v){var h=v.mipmaps,c=h[0];return c.width%4!==0||c.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+c.width+"x"+c.height+" pixels"),!1):!0}var l={37488:o,37489:o,37490:o,37491:o,37492:o,37493:o,37494:o,37495:o,37496:o,37497:o,36196:o,37808:o,37809:o,37810:o,37811:o,37812:o,37813:o,37814:o,37815:o,37816:o,37817:o,37818:o,37819:o,37820:o,37821:o,37840:o,37841:o,37842:o,37843:o,37844:o,37845:o,37846:o,37847:o,37848:o,37849:o,37850:o,37851:o,37852:o,37853:o,36492:d,36493:d,36494:d,36495:d,36283:d,36284:d,36285:d,36286:d,35840:a,35841:a,35842:a,35843:a,33776:d,33777:d,33778:d,33779:d,35916:r,35917:r,35918:r,35919:r};n.exports=x},61309:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:e(89905),Canvas:e(72893),Image:e(4832),JSONArray:e(78566),JSONHash:e(39711),KTXParser:e(31403),PVRParser:e(82038),SpriteSheet:e(75549),SpriteSheetFromAtlas:e(47534),UnityYAML:e(86147)}},80341:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o,a,r,l,v,h,c){(r===void 0||r<=0)&&(r=32),(l===void 0||l<=0)&&(l=32),v===void 0&&(v=0),h===void 0&&(h=0),this.name=o,this.firstgid=a|0,this.imageWidth=r|0,this.imageHeight=l|0,this.imageMargin=v|0,this.imageSpacing=h|0,this.properties=c||{},this.images=[],this.total=0},containsImageIndex:function(d){return d>=this.firstgid&&d<this.firstgid+this.total},addImage:function(d,o){return this.images.push({gid:d,image:o}),this.total++,this}});n.exports=x},27462:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=new u({initialize:function(o){if(this.gids=[],o!==void 0)for(var a=0;a<o.length;++a)for(var r=o[a],l=0;l<r.total;++l)this.gids[r.firstgid+l]=r;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(d){this.gids=d?this._gids:void 0}},getTypeIncludingTile:function(d){if(d.type!==void 0&&d.type!=="")return d.type;if(!(!this.gids||d.gid===void 0)){var o=this.gids[d.gid];if(!!o){var a=o.getTileData(d.gid);if(!!a)return a.type}}},setTextureAndFrame:function(d,o,a,r){if(o===null&&this.gids&&r.gid!==void 0){var l=this.gids[r.gid];l&&(o===null&&l.image!==void 0&&(o=l.image.key),a===null&&(a=r.gid-l.firstgid),d.scene.textures.getFrame(o,a)||(o=null,a=null))}d.setTexture(o,a)},setPropertiesFromTiledObject:function(d,o){if(this.gids!==void 0&&o.gid!==void 0){var a=this.gids[o.gid];a!==void 0&&this.setFromJSON(d,a.getTileProperties(o.gid))}this.setFromJSON(d,o.properties)},setFromJSON:function(d,o){if(!!o){if(Array.isArray(o)){for(var a=0;a<o.length;a++){var r=o[a];d[r.name]!==void 0?d[r.name]=r.value:d.setData(r.name,r.value)}return}for(var l in o)d[l]!==void 0?d[l]=o[l]:d.setData(l,o[l])}}});n.exports=x},31989:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),x=e(87010),d=e(46177),o=e(49075),a=function(r,l,v,h,c,p,g,m){v===void 0&&(v=32),h===void 0&&(h=32),c===void 0&&(c=10),p===void 0&&(p=10),m===void 0&&(m=!1);var y=null;if(Array.isArray(g)){var S=l!==void 0?l:"map";y=d(S,u.ARRAY_2D,g,v,h,m)}else if(l!==void 0){var M=r.cache.tilemap.get(l);M?y=d(l,M.format,M.data,v,h,m):console.warn("No map data found for key "+l)}return y===null&&(y=new x({tileWidth:v,tileHeight:h,width:c,height:p})),new o(r,y)};n.exports=a},23029:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(31401),d=e(91907),o=e(62644),a=e(93232),r=new u({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(v,h,c,p,g,m,y,S){this.layer=v,this.index=h,this.x=c,this.y=p,this.width=g,this.height=m,this.right,this.bottom,this.baseWidth=y!==void 0?y:g,this.baseHeight=S!==void 0?S:m,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(l,v){return!(l<this.pixelX||v<this.pixelY||l>this.right||v>this.bottom)},copy:function(l){return this.index=l.index,this.alpha=l.alpha,this.properties=o(l.properties),this.visible=l.visible,this.setFlip(l.flipX,l.flipY),this.tint=l.tint,this.rotation=l.rotation,this.collideUp=l.collideUp,this.collideDown=l.collideDown,this.collideLeft=l.collideLeft,this.collideRight=l.collideRight,this.collisionCallback=l.collisionCallback,this.collisionCallbackContext=l.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(l){var v=this.tilemapLayer;if(v){var h=v.tileToWorldXY(this.x,this.y,void 0,l);return h.x}return this.x*this.baseWidth},getRight:function(l){var v=this.tilemapLayer;return v?this.getLeft(l)+this.width*v.scaleX:this.getLeft(l)+this.width},getTop:function(l){var v=this.tilemapLayer;if(v){var h=v.tileToWorldXY(this.x,this.y,void 0,l);return h.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(l){var v=this.tilemapLayer;return v?this.getTop(l)+this.height*v.scaleY:this.getTop(l)+this.height},getBounds:function(l,v){return v===void 0&&(v=new a),v.x=this.getLeft(l),v.y=this.getTop(l),v.width=this.getRight(l)-v.x,v.height=this.getBottom(l)-v.y,v},getCenterX:function(l){return(this.getLeft(l)+this.getRight(l))/2},getCenterY:function(l){return(this.getTop(l)+this.getBottom(l))/2},intersects:function(l,v,h,c){return!(h<=this.pixelX||c<=this.pixelY||l>=this.right||v>=this.bottom)},isInteresting:function(l,v){return l&&v?this.canCollide||this.hasInterestingFace:l?this.collides:v?this.hasInterestingFace:!1},resetCollision:function(l){if(l===void 0&&(l=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,l){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(l,v,h,c,p){if(v===void 0&&(v=l),h===void 0&&(h=l),c===void 0&&(c=l),p===void 0&&(p=!0),this.collideLeft=l,this.collideRight=v,this.collideUp=h,this.collideDown=c,this.faceLeft=l,this.faceRight=v,this.faceTop=h,this.faceBottom=c,p){var g=this.tilemapLayer;g&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(l,v){return l===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=l,this.collisionCallbackContext=v),this},setSize:function(l,v,h,c){return l!==void 0&&(this.width=l),v!==void 0&&(this.height=v),h!==void 0&&(this.baseWidth=h),c!==void 0&&(this.baseHeight=c),this.updatePixelXY(),this},updatePixelXY:function(){var l=this.layer.orientation;if(l===d.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(l===d.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(l===d.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(l===d.HEXAGONAL){var v=this.layer.staggerAxis,h=this.layer.staggerIndex,c=this.layer.hexSideLength,p,g;v==="y"?(g=(this.baseHeight-c)/2+c,h==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*g):v==="x"&&(p=(this.baseWidth-c)/2+c,this.pixelX=this.x*p,h==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var l=this.layer.tilemapLayer;if(l){var v=l.gidMap[this.index];if(v)return v}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var l=this.tilemapLayer;return l?l.tilemap:null}}});n.exports=r},49075:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84101),x=e(83419),d=e(39506),o=e(80341),a=e(95540),r=e(14977),l=e(27462),v=e(91907),h=e(36305),c=e(19133),p=e(68287),g=e(23029),m=e(81086),y=e(20442),S=e(33629),M=new x({initialize:function(w,R){this.scene=w,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var A=this.orientation;this._convert={WorldToTileXY:m.GetWorldToTileXYFunction(A),WorldToTileX:m.GetWorldToTileXFunction(A),WorldToTileY:m.GetWorldToTileYFunction(A),TileToWorldXY:m.GetTileToWorldXYFunction(A),TileToWorldX:m.GetTileToWorldXFunction(A),TileToWorldY:m.GetTileToWorldYFunction(A),GetTileCorners:m.GetTileCornersFunction(A)}},setRenderOrder:function(P){var w=["right-down","left-down","right-up","left-up"];return typeof P=="number"&&(P=w[P]),w.indexOf(P)>-1&&(this.renderOrder=P),this},addTilesetImage:function(P,w,R,A,L,F,O,b){if(P===void 0)return null;w==null&&(w=P);var B=this.scene.sys.textures;if(!B.exists(w))return console.warn('Texture key "%s" not found',w),null;var I=B.get(w),N=this.getTilesetIndex(P);if(N===null&&this.format===o.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',P,this.tilesets),null;var X=this.tilesets[N];return X?(X.setTileSize(R,A),X.setSpacing(L,F),X.setImage(I),X):(R===void 0&&(R=this.tileWidth),A===void 0&&(A=this.tileHeight),L===void 0&&(L=0),F===void 0&&(F=0),O===void 0&&(O=0),b===void 0&&(b={x:0,y:0}),X=new S(P,O,R,A,L,F,void 0,void 0,b),X.setImage(I),this.tilesets.push(X),this.tiles=u(this),X)},copy:function(P,w,R,A,L,F,O,b){return b=this.getLayer(b),b!==null?(m.Copy(P,w,R,A,L,F,O,b),this):null},createBlankLayer:function(P,w,R,A,L,F,O,b){R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L=this.width),F===void 0&&(F=this.height),O===void 0&&(O=this.tileWidth),b===void 0&&(b=this.tileHeight);var B=this.getLayerIndex(P);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+P),null;for(var I=new r({name:P,tileWidth:O,tileHeight:b,width:L,height:F,orientation:this.orientation}),N,X=0;X<F;X++){N=[];for(var k=0;k<L;k++)N.push(new g(I,-1,k,X,O,b,this.tileWidth,this.tileHeight));I.data.push(N)}this.layers.push(I),this.currentLayerIndex=this.layers.length-1;var H=new y(this.scene,this,this.currentLayerIndex,w,R,A);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(P,w,R,A){var L=this.getLayerIndex(P);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+P),typeof P=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[L];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+P),null;this.currentLayerIndex=L,R===void 0&&(R=F.x),A===void 0&&(A=F.y);var O=new y(this.scene,this,L,w,R,A);return O.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(O),O},createFromObjects:function(P,w,R){R===void 0&&(R=!0);var A=[],L=this.getObjectLayer(P);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+P),A;var F=new l(R?this.tilesets:void 0);Array.isArray(w)||(w=[w]);for(var O=L.objects,b=0;b<w.length;b++){var B=w[b],I=a(B,"id",null),N=a(B,"gid",null),X=a(B,"name",null),k=a(B,"type",null);F.enabled=!a(B,"ignoreTileset",null);for(var H,V=[],W=0;W<O.length;W++)H=O[W],(I===null&&N===null&&X===null&&k===null||I!==null&&H.id===I||N!==null&&H.gid===N||X!==null&&H.name===X||k!==null&&F.getTypeIncludingTile(H)===k)&&V.push(H);for(var D=a(B,"classType",p),G=a(B,"scene",this.scene),z=a(B,"container",null),U=a(B,"key",null),Y=a(B,"frame",null),$=0;$<V.length;$++){H=V[$];var K=new D(G);if(K.setName(H.name),K.setPosition(H.x,H.y),F.setTextureAndFrame(K,U,Y,H),H.width&&(K.displayWidth=H.width),H.height&&(K.displayHeight=H.height),this.orientation===v.ISOMETRIC){var Z=this.tileWidth/this.tileHeight,J={x:K.x-K.y,y:(K.x+K.y)/Z};K.x=J.x,K.y=J.y}var Q={x:K.originX*H.width,y:(K.originY-(H.gid?1:0))*H.height};if(H.rotation){var j=d(H.rotation);h(Q,j),K.rotation=j}K.x+=Q.x,K.y+=Q.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&K.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||(K.visible=!1),F.setPropertiesFromTiledObject(K,H),z?z.add(K):G.add.existing(K),A.push(K)}}return A},createFromTiles:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:m.CreateFromTiles(P,w,R,A,L,F)},fill:function(P,w,R,A,L,F,O){return F===void 0&&(F=!0),O=this.getLayer(O),O===null?null:(m.Fill(P,w,R,A,L,F,O),this)},filterObjects:function(P,w,R){if(typeof P=="string"){var A=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+A),null}return P.objects.filter(w,R)},filterTiles:function(P,w,R,A,L,F,O,b){return b=this.getLayer(b),b===null?null:m.FilterTiles(P,w,R,A,L,F,O,b)},findByIndex:function(P,w,R,A){return A=this.getLayer(A),A===null?null:m.FindByIndex(P,w,R,A)},findObject:function(P,w,R){if(typeof P=="string"){var A=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+A),null}return P.objects.find(w,R)||null},findTile:function(P,w,R,A,L,F,O,b){return b=this.getLayer(b),b===null?null:m.FindTile(P,w,R,A,L,F,O,b)},forEachTile:function(P,w,R,A,L,F,O,b){return b=this.getLayer(b),b===null?null:(m.ForEachTile(P,w,R,A,L,F,O,b),this)},getImageIndex:function(P){return this.getIndex(this.images,P)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(P){return P.name})},getIndex:function(P,w){for(var R=0;R<P.length;R++)if(P[R].name===w)return R;return null},getLayer:function(P){var w=this.getLayerIndex(P);return w!==null?this.layers[w]:null},getObjectLayer:function(P){var w=this.getIndex(this.objects,P);return w!==null?this.objects[w]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(P){return P.name})},getLayerIndex:function(P){return P===void 0?this.currentLayerIndex:typeof P=="string"?this.getLayerIndexByName(P):typeof P=="number"&&P<this.layers.length?P:P instanceof y&&P.tilemap===this?P.layerIndex:null},getLayerIndexByName:function(P){return this.getIndex(this.layers,P)},getTileAt:function(P,w,R,A){return A=this.getLayer(A),A===null?null:m.GetTileAt(P,w,R,A)},getTileAtWorldXY:function(P,w,R,A,L){return L=this.getLayer(L),L===null?null:m.GetTileAtWorldXY(P,w,R,A,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(P){return P.name})},getTilesWithin:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:m.GetTilesWithin(P,w,R,A,L,F)},getTilesWithinShape:function(P,w,R,A){return A=this.getLayer(A),A===null?null:m.GetTilesWithinShape(P,w,R,A)},getTilesWithinWorldXY:function(P,w,R,A,L,F,O){return O=this.getLayer(O),O===null?null:m.GetTilesWithinWorldXY(P,w,R,A,L,F,O)},getTileset:function(P){var w=this.getIndex(this.tilesets,P);return w!==null?this.tilesets[w]:null},getTilesetIndex:function(P){return this.getIndex(this.tilesets,P)},hasTileAt:function(P,w,R){return R=this.getLayer(R),R===null?null:m.HasTileAt(P,w,R)},hasTileAtWorldXY:function(P,w,R,A){return A=this.getLayer(A),A===null?null:m.HasTileAtWorldXY(P,w,R,A)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(P){this.setLayer(P)}},putTileAt:function(P,w,R,A,L){return A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:m.PutTileAt(P,w,R,A,L)},putTileAtWorldXY:function(P,w,R,A,L,F){return A===void 0&&(A=!0),F=this.getLayer(F),F===null?null:m.PutTileAtWorldXY(P,w,R,A,L,F)},putTilesAt:function(P,w,R,A,L){return A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(m.PutTilesAt(P,w,R,A,L),this)},randomize:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:(m.Randomize(P,w,R,A,L,F),this)},calculateFacesAt:function(P,w,R){return R=this.getLayer(R),R===null?null:(m.CalculateFacesAt(P,w,R),this)},calculateFacesWithin:function(P,w,R,A,L){return L=this.getLayer(L),L===null?null:(m.CalculateFacesWithin(P,w,R,A,L),this)},removeLayer:function(P){var w=this.getLayerIndex(P);if(w!==null){c(this.layers,w);for(var R=w;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===w&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(P){var w=this.getLayerIndex(P);return w!==null?(P=this.layers[w],P.tilemapLayer.destroy(),c(this.layers,w),this.currentLayerIndex===w&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var P=this.layers,w=0;w<P.length;w++)P[w].tilemapLayer&&P[w].tilemapLayer.destroy(!1);return P.length=0,this.currentLayerIndex=0,this},removeTile:function(P,w,R){w===void 0&&(w=-1),R===void 0&&(R=!0);var A=[];Array.isArray(P)||(P=[P]);for(var L=0;L<P.length;L++){var F=P[L];A.push(this.removeTileAt(F.x,F.y,!0,R,F.tilemapLayer)),w>-1&&this.putTileAt(w,F.x,F.y,R,F.tilemapLayer)}return A},removeTileAt:function(P,w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:m.RemoveTileAt(P,w,R,A,L)},removeTileAtWorldXY:function(P,w,R,A,L,F){return R===void 0&&(R=!0),A===void 0&&(A=!0),F=this.getLayer(F),F===null?null:m.RemoveTileAtWorldXY(P,w,R,A,L,F)},renderDebug:function(P,w,R){return R=this.getLayer(R),R===null?null:(this.orientation===v.ORTHOGONAL&&m.RenderDebug(P,w,R),this)},renderDebugFull:function(P,w){for(var R=this.layers,A=0;A<R.length;A++)m.RenderDebug(P,w,R[A]);return this},replaceByIndex:function(P,w,R,A,L,F,O){return O=this.getLayer(O),O===null?null:(m.ReplaceByIndex(P,w,R,A,L,F,O),this)},setCollision:function(P,w,R,A,L){return w===void 0&&(w=!0),R===void 0&&(R=!0),L===void 0&&(L=!0),A=this.getLayer(A),A===null?null:(m.SetCollision(P,w,R,A,L),this)},setCollisionBetween:function(P,w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(m.SetCollisionBetween(P,w,R,A,L),this)},setCollisionByProperty:function(P,w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(m.SetCollisionByProperty(P,w,R,A),this)},setCollisionByExclusion:function(P,w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(m.SetCollisionByExclusion(P,w,R,A),this)},setCollisionFromCollisionGroup:function(P,w,R){return P===void 0&&(P=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(m.SetCollisionFromCollisionGroup(P,w,R),this)},setTileIndexCallback:function(P,w,R,A){return A=this.getLayer(A),A===null?null:(m.SetTileIndexCallback(P,w,R,A),this)},setTileLocationCallback:function(P,w,R,A,L,F,O){return O=this.getLayer(O),O===null?null:(m.SetTileLocationCallback(P,w,R,A,L,F,O),this)},setLayer:function(P){var w=this.getLayerIndex(P);return w!==null&&(this.currentLayerIndex=w),this},setBaseTileSize:function(P,w){this.tileWidth=P,this.tileHeight=w,this.widthInPixels=this.width*P,this.heightInPixels=this.height*w;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=P,this.layers[R].baseTileHeight=w;for(var A=this.layers[R].data,L=this.layers[R].width,F=this.layers[R].height,O=0;O<F;O++)for(var b=0;b<L;b++){var B=A[O][b];B!==null&&B.setSize(void 0,void 0,P,w)}}return this},setLayerTileSize:function(P,w,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=P,R.tileHeight=w;for(var A=R.data,L=R.width,F=R.height,O=0;O<F;O++)for(var b=0;b<L;b++){var B=A[O][b];B!==null&&B.setSize(P,w)}return this},shuffle:function(P,w,R,A,L){return L=this.getLayer(L),L===null?null:(m.Shuffle(P,w,R,A,L),this)},swapByIndex:function(P,w,R,A,L,F,O){return O=this.getLayer(O),O===null?null:(m.SwapByIndex(P,w,R,A,L,F,O),this)},tileToWorldX:function(P,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(P,w,R)},tileToWorldY:function(P,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(P,w,R)},tileToWorldXY:function(P,w,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(P,w,R,A,L)},getTileCorners:function(P,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.GetTileCorners(P,w,R,A)},weightedRandomize:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:(m.WeightedRandomize(w,R,A,L,P,F),this)},worldToTileX:function(P,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileX(P,w,R,A)},worldToTileY:function(P,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileY(P,w,R,A)},worldToTileXY:function(P,w,R,A,L,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(P,w,R,A,L,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});n.exports=M},45939:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44603),x=e(31989);u.register("tilemap",function(d){var o=d!==void 0?d:{};return x(this.scene,o.key,o.tileWidth,o.tileHeight,o.width,o.height,o.data,o.insertNull)})},46029:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39429),x=e(31989);u.register("tilemap",function(d,o,a,r,l,v,h){return d===null&&(d=void 0),o===null&&(o=void 0),a===null&&(a=void 0),r===null&&(r=void 0),l===null&&(l=void 0),x(this.scene,d,o,a,r,l,v,h)})},20442:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(78389),d=e(31401),o=e(95643),a=e(81086),r=e(19218),l=e(26099),v=new u({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.Transform,d.Visible,d.ScrollFactor,x,r],initialize:function(c,p,g,m,y,S){o.call(this,c,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=g,this.layer=p.layers[g],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new l,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(m),this.setAlpha(this.layer.alpha),this.setPosition(y,S),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(h){var c=[],p=[],g=this.tilemap;Array.isArray(h)||(h=[h]);for(var m=0;m<h.length;m++){var y=h[m];if(typeof y=="string"&&(y=g.getTileset(y)),y){p.push(y);for(var S=y.firstgid,M=0;M<y.total;M++)c[S+M]=y}}this.gidMap=c,this.tileset=p},setRenderOrder:function(h){var c=["right-down","left-down","right-up","left-up"];return typeof h=="string"&&(h=c.indexOf(h)),h>=0&&h<4&&(this._renderOrder=h),this},calculateFacesAt:function(h,c){return a.CalculateFacesAt(h,c,this.layer),this},calculateFacesWithin:function(h,c,p,g){return a.CalculateFacesWithin(h,c,p,g,this.layer),this},createFromTiles:function(h,c,p,g,m){return a.CreateFromTiles(h,c,p,g,m,this.layer)},cull:function(h){return this.cullCallback(this.layer,h,this.culledTiles,this._renderOrder)},copy:function(h,c,p,g,m,y,S){return a.Copy(h,c,p,g,m,y,S,this.layer),this},fill:function(h,c,p,g,m,y){return a.Fill(h,c,p,g,m,y,this.layer),this},filterTiles:function(h,c,p,g,m,y,S){return a.FilterTiles(h,c,p,g,m,y,S,this.layer)},findByIndex:function(h,c,p){return a.FindByIndex(h,c,p,this.layer)},findTile:function(h,c,p,g,m,y,S){return a.FindTile(h,c,p,g,m,y,S,this.layer)},forEachTile:function(h,c,p,g,m,y,S){return a.ForEachTile(h,c,p,g,m,y,S,this.layer),this},setTint:function(h,c,p,g,m,y){h===void 0&&(h=16777215);var S=function(M){M.tint=h,M.tintFill=!1};return this.forEachTile(S,this,c,p,g,m,y)},setTintFill:function(h,c,p,g,m,y){h===void 0&&(h=16777215);var S=function(M){M.tint=h,M.tintFill=!0};return this.forEachTile(S,this,c,p,g,m,y)},getTileAt:function(h,c,p){return a.GetTileAt(h,c,p,this.layer)},getTileAtWorldXY:function(h,c,p,g){return a.GetTileAtWorldXY(h,c,p,g,this.layer)},getIsoTileAtWorldXY:function(h,c,p,g,m){p===void 0&&(p=!0);var y=this.tempVec;return a.IsometricWorldToTileXY(h,c,!0,y,m,this.layer,p),this.getTileAt(y.x,y.y,g)},getTilesWithin:function(h,c,p,g,m){return a.GetTilesWithin(h,c,p,g,m,this.layer)},getTilesWithinShape:function(h,c,p){return a.GetTilesWithinShape(h,c,p,this.layer)},getTilesWithinWorldXY:function(h,c,p,g,m,y){return a.GetTilesWithinWorldXY(h,c,p,g,m,y,this.layer)},hasTileAt:function(h,c){return a.HasTileAt(h,c,this.layer)},hasTileAtWorldXY:function(h,c,p){return a.HasTileAtWorldXY(h,c,p,this.layer)},putTileAt:function(h,c,p,g){return a.PutTileAt(h,c,p,g,this.layer)},putTileAtWorldXY:function(h,c,p,g,m){return a.PutTileAtWorldXY(h,c,p,g,m,this.layer)},putTilesAt:function(h,c,p,g){return a.PutTilesAt(h,c,p,g,this.layer),this},randomize:function(h,c,p,g,m){return a.Randomize(h,c,p,g,m,this.layer),this},removeTileAt:function(h,c,p,g){return a.RemoveTileAt(h,c,p,g,this.layer)},removeTileAtWorldXY:function(h,c,p,g,m){return a.RemoveTileAtWorldXY(h,c,p,g,m,this.layer)},renderDebug:function(h,c){return a.RenderDebug(h,c,this.layer),this},replaceByIndex:function(h,c,p,g,m,y){return a.ReplaceByIndex(h,c,p,g,m,y,this.layer),this},setSkipCull:function(h){return h===void 0&&(h=!0),this.skipCull=h,this},setCullPadding:function(h,c){return h===void 0&&(h=1),c===void 0&&(c=1),this.cullPaddingX=h,this.cullPaddingY=c,this},setCollision:function(h,c,p,g){return a.SetCollision(h,c,p,this.layer,g),this},setCollisionBetween:function(h,c,p,g){return a.SetCollisionBetween(h,c,p,g,this.layer),this},setCollisionByProperty:function(h,c,p){return a.SetCollisionByProperty(h,c,p,this.layer),this},setCollisionByExclusion:function(h,c,p){return a.SetCollisionByExclusion(h,c,p,this.layer),this},setCollisionFromCollisionGroup:function(h,c){return a.SetCollisionFromCollisionGroup(h,c,this.layer),this},setTileIndexCallback:function(h,c,p){return a.SetTileIndexCallback(h,c,p,this.layer),this},setTileLocationCallback:function(h,c,p,g,m,y){return a.SetTileLocationCallback(h,c,p,g,m,y,this.layer),this},shuffle:function(h,c,p,g){return a.Shuffle(h,c,p,g,this.layer),this},swapByIndex:function(h,c,p,g,m,y){return a.SwapByIndex(h,c,p,g,m,y,this.layer),this},tileToWorldX:function(h,c){return this.tilemap.tileToWorldX(h,c,this)},tileToWorldY:function(h,c){return this.tilemap.tileToWorldY(h,c,this)},tileToWorldXY:function(h,c,p,g){return this.tilemap.tileToWorldXY(h,c,p,g,this)},getTileCorners:function(h,c,p){return this.tilemap.getTileCorners(h,c,p,this)},weightedRandomize:function(h,c,p,g,m){return a.WeightedRandomize(c,p,g,m,h,this.layer),this},worldToTileX:function(h,c,p){return this.tilemap.worldToTileX(h,c,p,this)},worldToTileY:function(h,c,p){return this.tilemap.worldToTileY(h,c,p,this)},worldToTileXY:function(h,c,p,g,m){return this.tilemap.worldToTileXY(h,c,p,g,m,this)},destroy:function(h){h===void 0&&(h=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),h&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this))}});n.exports=v},16153:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61340),x=new u,d=new u,o=new u,a=function(r,l,v,h){var c=l.cull(v),p=c.length,g=v.alpha*l.alpha;if(!(p===0||g<=0)){var m=x,y=d,S=o;y.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),m.copyFrom(v.matrix);var M=r.currentContext,P=l.gidMap;M.save(),h?(m.multiplyWithOffset(h,-v.scrollX*l.scrollFactorX,-v.scrollY*l.scrollFactorY),y.e=l.x,y.f=l.y,m.multiply(y,S),S.copyToContext(M)):(y.e-=v.scrollX*l.scrollFactorX,y.f-=v.scrollY*l.scrollFactorY,y.copyToContext(M)),(!r.antialias||l.scaleX>1||l.scaleY>1)&&(M.imageSmoothingEnabled=!1);for(var w=0;w<p;w++){var R=c[w],A=P[R.index];if(!!A){var L=A.image.getSourceImage(),F=A.getTileTextureCoordinates(R.index),O=A.tileWidth,b=A.tileHeight;if(!(F===null||O===0||b===0)){var B=O*.5,I=b*.5;F.x+=A.tileOffset.x,F.y+=A.tileOffset.y,M.save(),M.translate(R.pixelX+B,R.pixelY+I),R.rotation!==0&&M.rotate(R.rotation),(R.flipX||R.flipY)&&M.scale(R.flipX?-1:1,R.flipY?-1:1),M.globalAlpha=g*R.alpha,M.drawImage(L,F.x,F.y,O,b,-B,-I,O,b),M.restore()}}}M.restore()}};n.exports=a},19218:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29747),x=u,d=u;x=e(99558),d=e(16153),n.exports={renderWebGL:x,renderCanvas:d}},99558:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70554),x=function(d,o,a){var r=o.cull(a),l=r.length,v=a.alpha*o.alpha;if(!(l===0||v<=0)){var h=o.gidMap,c=d.pipelines.set(o.pipeline,o),p=u.getTintAppendFloatAlpha,g=o.scrollFactorX,m=o.scrollFactorY,y=o.x,S=o.y,M=o.scaleX,P=o.scaleY;d.pipelines.preBatch(o);for(var w=0;w<l;w++){var R=r[w],A=h[R.index];if(!!A){var L=A.getTileTextureCoordinates(R.index),F=A.tileWidth,O=A.tileHeight;if(!(!L||F===0||O===0)){var b=F*.5,B=O*.5,I=A.glTexture,N=c.setTexture2D(I,o),X=F,k=O,H=L.x,V=L.y,W=A.tileOffset.x,D=A.tileOffset.y,G=p(R.tint,v*R.alpha);c.batchTexture(o,I,I.width,I.height,y+R.pixelX*M+(b*M-W),S+R.pixelY*P+(B*P-D),F,O,M,P,R.rotation,R.flipX,R.flipY,g,m,b,B,H,V,X,k,G,G,G,G,R.tintFill,0,0,a,null,!0,N,!0)}}}d.pipelines.postBatch(o)}};n.exports=x},33629:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(26099),d=new u({initialize:function(a,r,l,v,h,c,p,g,m){(l===void 0||l<=0)&&(l=32),(v===void 0||v<=0)&&(v=32),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p={}),g===void 0&&(g={}),this.name=a,this.firstgid=r,this.tileWidth=l,this.tileHeight=v,this.tileMargin=h,this.tileSpacing=c,this.tileProperties=p,this.tileData=g,this.tileOffset=new x,m!==void 0&&this.tileOffset.set(m.x,m.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(o){return this.containsTileIndex(o)?this.tileProperties[o-this.firstgid]:null},getTileData:function(o){return this.containsTileIndex(o)?this.tileData[o-this.firstgid]:null},getTileCollisionGroup:function(o){var a=this.getTileData(o);return a&&a.objectgroup?a.objectgroup:null},containsTileIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},getTileTextureCoordinates:function(o){return this.containsTileIndex(o)?this.texCoordinates[o-this.firstgid]:null},setImage:function(o){this.image=o;var a=o.get(),r=o.getFrameBounds();return this.glTexture=a.source.glTexture,a.width>r.width||a.height>r.height?this.updateTileData(a.width,a.height):this.updateTileData(r.width,r.height,r.x,r.y),this},setTileSize:function(o,a){return o!==void 0&&(this.tileWidth=o),a!==void 0&&(this.tileHeight=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(o,a){return o!==void 0&&(this.tileMargin=o),a!==void 0&&(this.tileSpacing=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(o,a,r,l){r===void 0&&(r=0),l===void 0&&(l=0);var v=(a-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),h=(o-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(v%1!==0||h%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),v=Math.floor(v),h=Math.floor(h),this.rows=v,this.columns=h,this.total=v*h,this.texCoordinates.length=0;for(var c=this.tileMargin+r,p=this.tileMargin+l,g=0;g<this.rows;g++){for(var m=0;m<this.columns;m++)this.texCoordinates.push({x:c,y:p}),c+=this.tileWidth+this.tileSpacing;c=this.tileMargin+r,p+=this.tileHeight+this.tileSpacing}return this}});n.exports=d},72023:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7423),x=function(d,o,a){var r=u(d,o,!0,a),l=u(d,o-1,!0,a),v=u(d,o+1,!0,a),h=u(d-1,o,!0,a),c=u(d+1,o,!0,a),p=r&&r.collides;return p&&(r.faceTop=!0,r.faceBottom=!0,r.faceLeft=!0,r.faceRight=!0),l&&l.collides&&(p&&(r.faceTop=!1),l.faceBottom=!p),v&&v.collides&&(p&&(r.faceBottom=!1),v.faceTop=!p),h&&h.collides&&(p&&(r.faceLeft=!1),h.faceRight=!p),c&&c.collides&&(p&&(r.faceRight=!1),c.faceLeft=!p),r&&!r.collides&&r.resetFaces(),r};n.exports=x},42573:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7423),x=e(7386),d=function(o,a,r,l,v){for(var h=null,c=null,p=null,g=null,m=x(o,a,r,l,null,v),y=0;y<m.length;y++){var S=m[y];S&&(S.collides?(h=u(S.x,S.y-1,!0,v),c=u(S.x,S.y+1,!0,v),p=u(S.x-1,S.y,!0,v),g=u(S.x+1,S.y,!0,v),S.faceTop=!(h&&h.collides),S.faceBottom=!(c&&c.collides),S.faceLeft=!(p&&p.collides),S.faceRight=!(g&&g.collides)):S.resetFaces())}};n.exports=d},33528:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=new u,d=function(o,a,r,l){var v=r.tilemapLayer,h=v.cullPaddingX,c=v.cullPaddingY,p=v.tilemap.tileToWorldXY(o,a,x,l,v);return p.x>l.worldView.x+v.scaleX*r.tileWidth*(-h-.5)&&p.x<l.worldView.right+v.scaleX*r.tileWidth*(h-.5)&&p.y>l.worldView.y+v.scaleY*r.tileHeight*(-c-1)&&p.y<l.worldView.bottom+v.scaleY*r.tileHeight*(c-.5)};n.exports=d},1785:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42573),x=e(7386),d=e(62991),o=e(23029),a=function(r,l,v,h,c,p,g,m){g===void 0&&(g=!0);var y=x(r,l,v,h,null,m),S=[];y.forEach(function(F){var O=new o(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);O.copy(F),S.push(O)});for(var M=c-r,P=p-l,w=0;w<S.length;w++){var R=S[w],A=R.x+M,L=R.y+P;d(A,L,m)&&m.data[L][A]&&(R.x=A,R.y=L,R.updatePixelXY(),m.data[L][A]=R)}g&&u(c-1,p-1,v+2,h+2,m),y.length=0,S.length=0};n.exports=a},78419:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62644),x=e(7386),d=e(27987),o=function(a,r,l,v,h,c){l||(l={}),Array.isArray(a)||(a=[a]);var p=c.tilemapLayer;v||(v=p.scene),h||(h=v.cameras.main);var g=c.width,m=c.height,y=x(0,0,g,m,null,c),S=[],M,P=function(L,F,O){for(var b=0;b<O.length;b++){var B=O[b];L.hasOwnProperty(B)||(L[B]=F[B])}};for(M=0;M<y.length;M++){var w=y[M],R=u(l);if(a.indexOf(w.index)!==-1){var A=p.tileToWorldXY(w.x,w.y,void 0,h,c);R.x=A.x,R.y=A.y,P(R,w,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=w.width*.5,R.y+=w.height*.5),R.hasOwnProperty("useSpriteSheet")&&(R.key=w.tileset.image,R.frame=w.index-1),S.push(v.make.sprite(R))}}if(Array.isArray(r))for(M=0;M<a.length;M++)d(a[M],r[M],0,0,g,m,c);else if(r!==null)for(M=0;M<a.length;M++)d(a[M],r,0,0,g,m,c);return S};n.exports=o},19545:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87841),x=e(63448),d=e(56583),o=new u,a=function(r,l){var v=r.tilemapLayer.tilemap,h=r.tilemapLayer,c=Math.floor(v.tileWidth*h.scaleX),p=Math.floor(v.tileHeight*h.scaleY),g=d(l.worldView.x-h.x,c,0,!0)-h.cullPaddingX,m=x(l.worldView.right-h.x,c,0,!0)+h.cullPaddingX,y=d(l.worldView.y-h.y,p,0,!0)-h.cullPaddingY,S=x(l.worldView.bottom-h.y,p,0,!0)+h.cullPaddingY;return o.setTo(g,y,m-g,S-y)};n.exports=a},30003:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19545),x=e(32483),d=function(o,a,r,l){r===void 0&&(r=[]),l===void 0&&(l=0),r.length=0;var v=o.tilemapLayer,h=u(o,a);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(h.left=0,h.right=o.width,h.top=0,h.bottom=o.height),x(o,h,l,r),r};n.exports=d},35137:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=e(42573),d=e(20576),o=function(a,r,l,v,h,c,p){for(var g=p.collideIndexes.indexOf(a)!==-1,m=u(r,l,v,h,null,p),y=0;y<m.length;y++)m[y].index=a,d(m[y],g);c&&x(r-1,l-1,v+2,h+2,p)};n.exports=o},40253:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=function(d,o,a,r,l,v,h,c){var p=u(a,r,l,v,h,c);return p.filter(d,o)};n.exports=x},52692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){u===void 0&&(u=0),x===void 0&&(x=!1);var o=0,a,r,l;if(x){for(r=d.height-1;r>=0;r--)for(a=d.width-1;a>=0;a--)if(l=d.data[r][a],l&&l.index===e){if(o===u)return l;o+=1}}else for(r=0;r<d.height;r++)for(a=0;a<d.width;a++)if(l=d.data[r][a],l&&l.index===e){if(o===u)return l;o+=1}return null};n.exports=C},66151:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=function(d,o,a,r,l,v,h,c){var p=u(a,r,l,v,h,c);return p.find(d,o)||null};n.exports=x},97560:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=function(d,o,a,r,l,v,h,c){var p=u(a,r,l,v,h,c);p.forEach(d,o)};n.exports=x},43305:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),x=e(30003),d=e(9474),o=e(14018),a=e(29747),r=e(54503),l=function(v){return v===u.ORTHOGONAL?x:v===u.HEXAGONAL?d:v===u.STAGGERED?r:v===u.ISOMETRIC?o:a};n.exports=l},7423:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62991),x=function(d,o,a,r){if(a===void 0&&(a=!1),u(d,o,r)){var l=r.data[o][d]||null;return l?l.index===-1?a?l:null:l:null}else return null};n.exports=x},60540:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7423),x=e(26099),d=new x,o=function(a,r,l,v,h){return h.tilemapLayer.worldToTileXY(a,r,!0,d,v),u(d.x,d.y,l,h)};n.exports=o},55826:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r){var l=r.baseTileWidth,v=r.baseTileHeight,h=r.tilemapLayer,c=0,p=0;h&&(a||(a=h.scene.cameras.main),c=h.x+a.scrollX*(1-h.scrollFactorX),p=h.y+a.scrollY*(1-h.scrollFactorY),l*=h.scaleX,v*=h.scaleY);var g=c+d*l,m=p+o*v;return[new u(g,m),new u(g+l,m),new u(g+l,m+v),new u(g,m+v)]};n.exports=x},11758:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),x=e(27229),d=e(29747),o=e(55826),a=function(r){return r===u.ORTHOGONAL?o:r===u.ISOMETRIC?d:r===u.HEXAGONAL?x:(r===u.STAGGERED,d)};n.exports=a},39167:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),x=e(29747),d=e(97281),o=function(a){return a===u.ORTHOGONAL?d:x};n.exports=o},62e3:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),x=e(19951),d=e(14127),o=e(29747),a=e(97202),r=e(70326),l=function(v){return v===u.ORTHOGONAL?r:v===u.ISOMETRIC?d:v===u.HEXAGONAL?x:v===u.STAGGERED?a:o};n.exports=l},5984:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),x=e(29747),d=e(28054),o=e(29650),a=function(r){return r===u.ORTHOGONAL?o:r===u.STAGGERED?d:x};n.exports=a},7386:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),x=function(d,o,a,r,l,v){d===void 0&&(d=0),o===void 0&&(o=0),a===void 0&&(a=v.width),r===void 0&&(r=v.height),l||(l={});var h=u(l,"isNotEmpty",!1),c=u(l,"isColliding",!1),p=u(l,"hasInterestingFace",!1);d<0&&(a+=d,d=0),o<0&&(r+=o,o=0),d+a>v.width&&(a=Math.max(v.width-d,0)),o+r>v.height&&(r=Math.max(v.height-o,0));for(var g=[],m=o;m<o+r;m++)for(var y=d;y<d+a;y++){var S=v.data[m][y];if(S!==null){if(h&&S.index===-1||c&&!S.collides||p&&!S.hasInterestingFace)continue;g.push(S)}}return g};n.exports=x},91141:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55738),x=e(7386),d=e(91865),o=e(29747),a=e(26099),r=function(p,g){return d.RectangleToTriangle(g,p)},l=new a,v=new a,h=new a,c=function(p,g,m,y){if(p===void 0)return[];var S=o;p instanceof u.Circle?S=d.CircleToRectangle:p instanceof u.Rectangle?S=d.RectangleToRectangle:p instanceof u.Triangle?S=r:p instanceof u.Line&&(S=d.LineToRectangle),y.tilemapLayer.worldToTileXY(p.left,p.top,!0,v,m);var M=v.x,P=v.y;y.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,h,m);var w=Math.ceil(h.x),R=Math.ceil(h.y),A=Math.max(w-M,1),L=Math.max(R-P,1),F=x(M,P,A,L,g,y),O=y.tileWidth,b=y.tileHeight;y.tilemapLayer&&(O*=y.tilemapLayer.scaleX,b*=y.tilemapLayer.scaleY);for(var B=[],I=new u.Rectangle(0,0,O,b),N=0;N<F.length;N++){var X=F[N];y.tilemapLayer.tileToWorldXY(X.x,X.y,l,m),I.x=l.x,I.y=l.y,S(p,I)&&B.push(X)}return B};n.exports=c},96523:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=e(26099),d=new x,o=new x,a=function(r,l,v,h,c,p,g){var m=g.tilemapLayer.tilemap._convert.WorldToTileXY;m(r,l,!0,d,p,g);var y=d.x,S=d.y;m(r+v,l+h,!1,o,p,g);var M=Math.ceil(o.x),P=Math.ceil(o.y);return u(y,S,M-y,P-S,c,g)};n.exports=a},96113:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),x=e(20242),d=e(10095),o=function(a){return a===u.ORTHOGONAL?d:x};n.exports=o},16926:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),x=e(86625),d=e(96897),o=e(29747),a=e(15108),r=e(85896),l=function(v){return v===u.ORTHOGONAL?r:v===u.ISOMETRIC?d:v===u.HEXAGONAL?x:v===u.STAGGERED?a:o};n.exports=l},55762:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),x=e(20242),d=e(51900),o=e(63288),a=function(r){return r===u.ORTHOGONAL?o:r===u.STAGGERED?d:x};n.exports=a},45091:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62991),x=function(d,o,a){if(u(d,o,a)){var r=a.data[o][d];return r!==null&&r.index>-1}else return!1};n.exports=x},24152:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45091),x=e(26099),d=new x,o=function(a,r,l,v){v.tilemapLayer.worldToTileXY(a,r,!0,d,l);var h=d.x,c=d.y;return u(h,c,v)};n.exports=o},90454:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63448),x=e(56583),d=function(o,a){var r=o.tilemapLayer.tilemap,l=o.tilemapLayer,v=Math.floor(r.tileWidth*l.scaleX),h=Math.floor(r.tileHeight*l.scaleY),c=o.hexSideLength,p,g,m,y;if(o.staggerAxis==="y"){var S=(h-c)/2+c;p=x(a.worldView.x-l.x,v,0,!0)-l.cullPaddingX,g=u(a.worldView.right-l.x,v,0,!0)+l.cullPaddingX,m=x(a.worldView.y-l.y,S,0,!0)-l.cullPaddingY,y=u(a.worldView.bottom-l.y,S,0,!0)+l.cullPaddingY}else{var M=(v-c)/2+c;p=x(a.worldView.x-l.x,M,0,!0)-l.cullPaddingX,g=u(a.worldView.right-l.x,M,0,!0)+l.cullPaddingX,m=x(a.worldView.y-l.y,h,0,!0)-l.cullPaddingY,y=u(a.worldView.bottom-l.y,h,0,!0)+l.cullPaddingY}return{left:p,right:g,top:m,bottom:y}};n.exports=d},9474:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90454),x=e(32483),d=function(o,a,r,l){r===void 0&&(r=[]),l===void 0&&(l=0),r.length=0;var v=o.tilemapLayer,h=u(o,a);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(h.left=0,h.right=o.width,h.top=0,h.bottom=o.height),x(o,h,l,r),r};n.exports=d},27229:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19951),x=e(26099),d=new x,o=function(a,r,l,v){var h=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(h*=p.scaleX,c*=p.scaleY);var g=u(a,r,d,l,v),m=[],y=.5773502691896257,S,M;v.staggerAxis==="y"?(S=y*h,M=c/2):(S=h/2,M=y*c);for(var P=0;P<6;P++){var w=2*Math.PI*(.5-P)/6;m.push(new x(g.x+S*Math.cos(w),g.y+M*Math.sin(w)))}return m};n.exports=o},19951:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r,l){a||(a=new u);var v=l.baseTileWidth,h=l.baseTileHeight,c=l.tilemapLayer,p=0,g=0;c&&(r||(r=c.scene.cameras.main),p=c.x+r.scrollX*(1-c.scrollFactorX),g=c.y+r.scrollY*(1-c.scrollFactorY),v*=c.scaleX,h*=c.scaleY);var m=v/2,y=h/2,S,M;return l.staggerAxis==="y"?(S=p+v*d+v,M=g+1.5*o*y+y,o%2===0&&(this.staggerIndex==="odd"?S-=m:S+=m)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(S=p+1.5*d*m+m,M=g+h*d+h,d%2===0&&(this.staggerIndex==="odd"?M-=y:M+=y)),a.set(S,M)};n.exports=x},86625:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r,l,v){r||(r=new u);var h=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(l||(l=p.scene.cameras.main),d=d-(p.x+l.scrollX*(1-p.scrollFactorX)),o=o-(p.y+l.scrollY*(1-p.scrollFactorY)),h*=p.scaleX,c*=p.scaleY);var g=.5773502691896257,m=-.3333333333333333,y=0,S=.6666666666666666,M=h/2,P=c/2,w,R,A,L,F;v.staggerAxis==="y"?(w=(d-M)/(g*h),R=(o-P)/P,A=g*w+m*R,L=y*w+S*R):(w=(d-M)/M,R=(o-P)/(g*c),A=m*w+g*R,L=S*w+y*R),F=-A-L;var O=Math.round(A),b=Math.round(L),B=Math.round(F),I=Math.abs(O-A),N=Math.abs(b-L),X=Math.abs(B-F);I>N&&I>X?O=-b-B:N>X&&(b=-O-B);var k,H=b;return v.staggerIndex==="odd"?k=H%2===0?b/2+O:b/2+O-.5:k=H%2===0?b/2+O:b/2+O+.5,r.set(k,H)};n.exports=x},62991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e>=0&&e<x.width&&u>=0&&u<x.height};n.exports=C},14018:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33528),x=function(d,o,a,r){a===void 0&&(a=[]),r===void 0&&(r=0),a.length=0;var l=d.tilemapLayer,v=d.data,h=d.width,c=d.height,p=l.skipCull,g=0,m=h,y=0,S=c,M,P,w;if(r===0)for(P=y;P<S;P++)for(M=g;M<m;M++)w=v[P][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!u(M,P,d,o)||a.push(w));else if(r===1)for(P=y;P<S;P++)for(M=m;M>=g;M--)w=v[P][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!u(M,P,d,o)||a.push(w));else if(r===2)for(P=S;P>=y;P--)for(M=g;M<m;M++)w=v[P][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!u(M,P,d,o)||a.push(w));else if(r===3)for(P=S;P>=y;P--)for(M=m;M>=g;M--)w=v[P][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!u(M,P,d,o)||a.push(w));return l.tilesDrawn=a.length,l.tilesTotal=h*c,a};n.exports=x},14127:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r,l){a||(a=new u);var v=l.baseTileWidth,h=l.baseTileHeight,c=l.tilemapLayer,p=0,g=0;c&&(r||(r=c.scene.cameras.main),p=c.x+r.scrollX*(1-c.scrollFactorX),v*=c.scaleX,g=c.y+r.scrollY*(1-c.scrollFactorY),h*=c.scaleY);var m=p+(d-o)*(v/2),y=g+(d+o)*(h/2);return a.set(m,y)};n.exports=x},96897:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r,l,v,h){r||(r=new u);var c=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(l||(l=g.scene.cameras.main),o=o-(g.y+l.scrollY*(1-g.scrollFactorY)),p*=g.scaleY,d=d-(g.x+l.scrollX*(1-g.scrollFactorX)),c*=g.scaleX);var m=c/2,y=p/2;d=d-m,h||(o=o-p);var S=.5*(d/m+o/y),M=.5*(-d/m+o/y);return a&&(S=Math.floor(S),M=Math.floor(M)),r.set(S,M)};n.exports=x},71558:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23029),x=e(62991),d=e(72023),o=e(20576),a=function(r,l,v,h,c){if(h===void 0&&(h=!0),!x(l,v,c))return null;var p,g=c.data[v][l],m=g&&g.collides;r instanceof u?(c.data[v][l]===null&&(c.data[v][l]=new u(c,r.index,l,v,c.tileWidth,c.tileHeight)),c.data[v][l].copy(r)):(p=r,c.data[v][l]===null?c.data[v][l]=new u(c,p,l,v,c.tileWidth,c.tileHeight):c.data[v][l].index=p);var y=c.data[v][l],S=c.collideIndexes.indexOf(y.index)!==-1;if(p=r instanceof u?r.index:r,p===-1)y.width=c.tileWidth,y.height=c.tileHeight;else{var M=c.tilemapLayer.tilemap,P=M.tiles,w=P[p][2],R=M.tilesets[w];y.width=R.tileWidth,y.height=R.tileHeight}return o(y,S),h&&m!==y.collides&&d(l,v,c),y};n.exports=a},26303:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71558),x=e(26099),d=new x,o=function(a,r,l,v,h,c){return c.tilemapLayer.worldToTileXY(r,l,!0,d,h,c),u(a,d.x,d.y,v,c)};n.exports=o},14051:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42573),x=e(71558),d=function(o,a,r,l,v){if(l===void 0&&(l=!0),!Array.isArray(o))return null;Array.isArray(o[0])||(o=[o]);for(var h=o.length,c=o[0].length,p=0;p<h;p++)for(var g=0;g<c;g++){var m=o[p][g];x(m,a+g,r+p,!1,v)}l&&u(a-1,r-1,c+2,h+2,v)};n.exports=d},77389:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=e(26546),d=function(o,a,r,l,v,h){var c,p=u(o,a,r,l,{},h);if(!v)for(v=[],c=0;c<p.length;c++)v.indexOf(p[c].index)===-1&&v.push(p[c].index);for(c=0;c<p.length;c++)p[c].index=x(v)};n.exports=d},63557:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23029),x=e(62991),d=e(72023),o=function(a,r,l,v,h){if(l===void 0&&(l=!0),v===void 0&&(v=!0),!x(a,r,h))return null;var c=h.data[r][a];if(c)h.data[r][a]=l?null:new u(h,-1,a,r,h.tileWidth,h.tileHeight);else return null;return v&&c&&c.collides&&d(a,r,h),c};n.exports=o},94178:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63557),x=e(26099),d=new x,o=function(a,r,l,v,h,c){return c.tilemapLayer.worldToTileXY(a,r,!0,d,h,c),u(d.x,d.y,l,v,c)};n.exports=o},15533:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=e(3956),d=new x(105,210,231,150),o=new x(243,134,48,200),a=new x(40,39,37,150),r=function(l,v,h){v===void 0&&(v={});var c=v.tileColor!==void 0?v.tileColor:d,p=v.collidingTileColor!==void 0?v.collidingTileColor:o,g=v.faceColor!==void 0?v.faceColor:a,m=u(0,0,h.width,h.height,null,h);l.translateCanvas(h.tilemapLayer.x,h.tilemapLayer.y),l.scaleCanvas(h.tilemapLayer.scaleX,h.tilemapLayer.scaleY);for(var y=0;y<m.length;y++){var S=m[y],M=S.width,P=S.height,w=S.pixelX,R=S.pixelY,A=S.collides?p:c;A!==null&&(l.fillStyle(A.color,A.alpha/255),l.fillRect(w,R,M,P)),w+=1,R+=1,M-=2,P-=2,g!==null&&(l.lineStyle(1,g.color,g.alpha/255),S.faceTop&&l.lineBetween(w,R,w+M,R),S.faceRight&&l.lineBetween(w+M,R,w+M,R+P),S.faceBottom&&l.lineBetween(w,R+P,w+M,R+P),S.faceLeft&&l.lineBetween(w,R,w,R+P))}};n.exports=r},27987:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=function(d,o,a,r,l,v,h){for(var c=u(a,r,l,v,null,h),p=0;p<c.length;p++)c[p]&&c[p].index===d&&(c[p].index=o)};n.exports=x},32483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=e.data,a=e.width,r=e.height,l=e.tilemapLayer,v=Math.max(0,u.left),h=Math.min(a,u.right),c=Math.max(0,u.top),p=Math.min(r,u.bottom),g,m,y;if(x===0)for(m=c;m<p;m++)for(g=v;o[m]&&g<h;g++)y=o[m][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);else if(x===1)for(m=c;m<p;m++)for(g=h;o[m]&&g>=v;g--)y=o[m][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);else if(x===2)for(m=p;m>=c;m--)for(g=v;o[m]&&g<h;g++)y=o[m][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);else if(x===3)for(m=p;m>=c;m--)for(g=h;o[m]&&g>=v;g--)y=o[m][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);return l.tilesDrawn=d.length,l.tilesTotal=a*r,d};n.exports=C},57068:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),x=e(42573),d=e(9589),o=function(a,r,l,v,h){r===void 0&&(r=!0),l===void 0&&(l=!0),h===void 0&&(h=!0),Array.isArray(a)||(a=[a]);for(var c=0;c<a.length;c++)d(a[c],r,v);if(h)for(var p=0;p<v.height;p++)for(var g=0;g<v.width;g++){var m=v.data[p][g];m&&a.indexOf(m.index)!==-1&&u(m,r)}l&&x(0,0,v.width,v.height,v)};n.exports=o},37266:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),x=e(42573),d=e(9589),o=function(a,r,l,v,h,c){if(l===void 0&&(l=!0),v===void 0&&(v=!0),c===void 0&&(c=!0),!(a>r)){for(var p=a;p<=r;p++)d(p,l,h);if(c)for(var g=0;g<h.height;g++)for(var m=0;m<h.width;m++){var y=h.data[g][m];y&&y.index>=a&&y.index<=r&&u(y,l)}v&&x(0,0,h.width,h.height,h)}};n.exports=o},75661:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),x=e(42573),d=e(9589),o=function(a,r,l,v){r===void 0&&(r=!0),l===void 0&&(l=!0),Array.isArray(a)||(a=[a]);for(var h=0;h<v.height;h++)for(var c=0;c<v.width;c++){var p=v.data[h][c];p&&a.indexOf(p.index)===-1&&(u(p,r),d(p.index,r,v))}l&&x(0,0,v.width,v.height,v)};n.exports=o},64740:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),x=e(42573),d=e(97022),o=function(a,r,l,v){r===void 0&&(r=!0),l===void 0&&(l=!0);for(var h=0;h<v.height;h++)for(var c=0;c<v.width;c++){var p=v.data[h][c];if(!!p){for(var g in a)if(!!d(p.properties,g)){var m=a[g];Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++)p.properties[g]===m[y]&&u(p,r)}}}l&&x(0,0,v.width,v.height,v)};n.exports=o},63307:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20576),x=e(42573),d=function(o,a,r){o===void 0&&(o=!0),a===void 0&&(a=!0);for(var l=0;l<r.height;l++)for(var v=0;v<r.width;v++){var h=r.data[l][v];if(!!h){var c=h.getCollisionGroup();c&&c.objects&&c.objects.length>0&&u(h,o)}}a&&x(0,0,r.width,r.height,r)};n.exports=d},9589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=x.collideIndexes.indexOf(e);u&&d===-1?x.collideIndexes.push(e):!u&&d!==-1&&x.collideIndexes.splice(d,1)};n.exports=C},20576:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};n.exports=C},79583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){if(typeof e=="number")d.callbacks[e]=u!==null?{callback:u,callbackContext:x}:void 0;else for(var o=0,a=e.length;o<a;o++)d.callbacks[e[o]]=u!==null?{callback:u,callbackContext:x}:void 0};n.exports=C},93254:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=function(d,o,a,r,l,v,h){for(var c=u(d,o,a,r,null,h),p=0;p<c.length;p++)c[p].setCollisionCallback(l,v)};n.exports=x},32903:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=e(33680),d=function(o,a,r,l,v){var h=u(o,a,r,l,null,v),c=h.map(function(g){return g.index});x(c);for(var p=0;p<h.length;p++)h[p].index=c[p]};n.exports=d},61325:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63448),x=e(56583),d=function(o,a){var r=o.tilemapLayer.tilemap,l=o.tilemapLayer,v=Math.floor(r.tileWidth*l.scaleX),h=Math.floor(r.tileHeight*l.scaleY),c=x(a.worldView.x-l.x,v,0,!0)-l.cullPaddingX,p=u(a.worldView.right-l.x,v,0,!0)+l.cullPaddingX,g=x(a.worldView.y-l.y,h/2,0,!0)-l.cullPaddingY,m=u(a.worldView.bottom-l.y,h/2,0,!0)+l.cullPaddingY;return{left:c,right:p,top:g,bottom:m}};n.exports=d},54503:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61325),x=e(32483),d=function(o,a,r,l){r===void 0&&(r=[]),l===void 0&&(l=0),r.length=0;var v=o.tilemapLayer,h=u(o,a);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(h.left=0,h.right=o.width,h.top=0,h.bottom=o.height),x(o,h,l,r),r};n.exports=d},97202:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r,l){a||(a=new u);var v=l.baseTileWidth,h=l.baseTileHeight,c=l.tilemapLayer,p=0,g=0;c&&(r||(r=c.scene.cameras.main),p=c.x+r.scrollX*(1-c.scrollFactorX),v*=c.scaleX,g=c.y+r.scrollY*(1-c.scrollFactorY),h*=c.scaleY);var m=p+d*v+o%2*(v/2),y=g+o*(h/2);return a.set(m,y)};n.exports=x},28054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=x.baseTileHeight,o=x.tilemapLayer,a=0;return o&&(u===void 0&&(u=o.scene.cameras.main),a=o.y+u.scrollY*(1-o.scrollFactorY),d*=o.scaleY),a+e*(d/2)+d};n.exports=C},15108:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r,l,v){r||(r=new u);var h=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(l||(l=p.scene.cameras.main),o=o-(p.y+l.scrollY*(1-p.scrollFactorY)),c*=p.scaleY,d=d-(p.x+l.scrollX*(1-p.scrollFactorX)),h*=p.scaleX);var g=a?Math.floor(o/(c/2)):o/(c/2),m=a?Math.floor((d+g%2*.5*h)/h):(d+g%2*.5*h)/h;return r.set(m,g)};n.exports=x},51900:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=d.baseTileHeight,a=d.tilemapLayer;return a&&(x||(x=a.scene.cameras.main),e=e-(a.y+x.scrollY*(1-a.scrollFactorY)),o*=a.scaleY),u?Math.floor(e/(o/2)):e/(o/2)};n.exports=C},86560:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=function(d,o,a,r,l,v,h){for(var c=u(a,r,l,v,null,h),p=0;p<c.length;p++)c[p]&&(c[p].index===d?c[p].index=o:c[p].index===o&&(c[p].index=d))};n.exports=x},97281:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=x.baseTileWidth,o=x.tilemapLayer,a=0;return o&&(u||(u=o.scene.cameras.main),a=o.x+u.scrollX*(1-o.scrollFactorX),d*=o.scaleX),a+e*d};n.exports=C},70326:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97281),x=e(29650),d=e(26099),o=function(a,r,l,v,h){return l||(l=new d(0,0)),l.x=u(a,v,h),l.y=x(r,v,h),l};n.exports=o},29650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=x.baseTileHeight,o=x.tilemapLayer,a=0;return o&&(u||(u=o.scene.cameras.main),a=o.y+u.scrollY*(1-o.scrollFactorY),d*=o.scaleY),a+e*d};n.exports=C},77366:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(7386),x=e(75508),d=function(o,a,r,l,v,h){if(!!v){var c,p=u(o,a,r,l,null,h),g=0;for(c=0;c<v.length;c++)g+=v[c].weight;if(!(g<=0))for(c=0;c<p.length;c++){for(var m=x.RND.frac()*g,y=0,S=-1,M=0;M<v.length;M++)if(y+=v[M].weight,m<=y){var P=v[M].index;S=Array.isArray(P)?P[Math.floor(x.RND.frac()*P.length)]:P;break}p[c].index=S}}};n.exports=d},10095:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85896),x=e(26099),d=new x,o=function(a,r,l,v){return u(a,0,r,d,l,v),d.x};n.exports=o},85896:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26099),x=function(d,o,a,r,l,v){a===void 0&&(a=!0),r||(r=new u);var h=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(l||(l=p.scene.cameras.main),d=d-(p.x+l.scrollX*(1-p.scrollFactorX)),o=o-(p.y+l.scrollY*(1-p.scrollFactorY)),h*=p.scaleX,c*=p.scaleY);var g=d/h,m=o/c;return a&&(g=Math.floor(g),m=Math.floor(m)),r.set(g,m)};n.exports=x},63288:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85896),x=e(26099),d=new x,o=function(a,r,l,v){return u(0,a,r,d,l,v),d.y};n.exports=o},81086:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:e(72023),CalculateFacesWithin:e(42573),CheckIsoBounds:e(33528),Copy:e(1785),CreateFromTiles:e(78419),CullBounds:e(19545),CullTiles:e(30003),Fill:e(35137),FilterTiles:e(40253),FindByIndex:e(52692),FindTile:e(66151),ForEachTile:e(97560),GetCullTilesFunction:e(43305),GetTileAt:e(7423),GetTileAtWorldXY:e(60540),GetTileCorners:e(55826),GetTileCornersFunction:e(11758),GetTilesWithin:e(7386),GetTilesWithinShape:e(91141),GetTilesWithinWorldXY:e(96523),GetTileToWorldXFunction:e(39167),GetTileToWorldXYFunction:e(62e3),GetTileToWorldYFunction:e(5984),GetWorldToTileXFunction:e(96113),GetWorldToTileXYFunction:e(16926),GetWorldToTileYFunction:e(55762),HasTileAt:e(45091),HasTileAtWorldXY:e(24152),HexagonalCullBounds:e(90454),HexagonalCullTiles:e(9474),HexagonalGetTileCorners:e(27229),HexagonalTileToWorldXY:e(19951),HexagonalWorldToTileXY:e(86625),IsInLayerBounds:e(62991),IsometricCullTiles:e(14018),IsometricTileToWorldXY:e(14127),IsometricWorldToTileXY:e(96897),PutTileAt:e(71558),PutTileAtWorldXY:e(26303),PutTilesAt:e(14051),Randomize:e(77389),RemoveTileAt:e(63557),RemoveTileAtWorldXY:e(94178),RenderDebug:e(15533),ReplaceByIndex:e(27987),RunCull:e(32483),SetCollision:e(57068),SetCollisionBetween:e(37266),SetCollisionByExclusion:e(75661),SetCollisionByProperty:e(64740),SetCollisionFromCollisionGroup:e(63307),SetLayerCollisionIndex:e(9589),SetTileCollision:e(20576),SetTileIndexCallback:e(79583),SetTileLocationCallback:e(93254),Shuffle:e(32903),StaggeredCullBounds:e(61325),StaggeredCullTiles:e(54503),StaggeredTileToWorldXY:e(97202),StaggeredTileToWorldY:e(28054),StaggeredWorldToTileXY:e(15108),StaggeredWorldToTileY:e(51900),SwapByIndex:e(86560),TileToWorldX:e(97281),TileToWorldXY:e(70326),TileToWorldY:e(29650),WeightedRandomize:e(77366),WorldToTileX:e(10095),WorldToTileXY:e(85896),WorldToTileY:e(63288)}},91907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ORIENTATION:e(91907)};n.exports=u},62501:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),x=e(21829),d={Components:e(81086),Parsers:e(57442),Formats:e(80341),ImageCollection:e(16536),ParseToTilemap:e(31989),Tile:e(23029),Tilemap:e(49075),TilemapCreator:e(45939),TilemapFactory:e(46029),Tileset:e(33629),TilemapLayer:e(20442),Orientation:e(91907),LayerData:e(14977),MapData:e(87010),ObjectLayer:e(48700)};d=u(!1,d,x.ORIENTATION),n.exports=d},14977:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(91907),d=e(95540),o=new u({initialize:function(r){r===void 0&&(r={}),this.name=d(r,"name","layer"),this.id=d(r,"id",0),this.x=d(r,"x",0),this.y=d(r,"y",0),this.width=d(r,"width",0),this.height=d(r,"height",0),this.tileWidth=d(r,"tileWidth",0),this.tileHeight=d(r,"tileHeight",0),this.baseTileWidth=d(r,"baseTileWidth",this.tileWidth),this.baseTileHeight=d(r,"baseTileHeight",this.tileHeight),this.orientation=d(r,"orientation",x.ORTHOGONAL),this.widthInPixels=d(r,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=d(r,"heightInPixels",this.height*this.baseTileHeight),this.alpha=d(r,"alpha",1),this.visible=d(r,"visible",!0),this.properties=d(r,"properties",[]),this.indexes=d(r,"indexes",[]),this.collideIndexes=d(r,"collideIndexes",[]),this.callbacks=d(r,"callbacks",[]),this.bodies=d(r,"bodies",[]),this.data=d(r,"data",[]),this.tilemapLayer=d(r,"tilemapLayer",null),this.hexSideLength=d(r,"hexSideLength",0),this.staggerAxis=d(r,"staggerAxis","y"),this.staggerIndex=d(r,"staggerIndex","odd")}});n.exports=o},87010:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(91907),d=e(95540),o=new u({initialize:function(r){r===void 0&&(r={}),this.name=d(r,"name","map"),this.width=d(r,"width",0),this.height=d(r,"height",0),this.infinite=d(r,"infinite",!1),this.tileWidth=d(r,"tileWidth",0),this.tileHeight=d(r,"tileHeight",0),this.widthInPixels=d(r,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=d(r,"heightInPixels",this.height*this.tileHeight),this.format=d(r,"format",null),this.orientation=d(r,"orientation",x.ORTHOGONAL),this.renderOrder=d(r,"renderOrder","right-down"),this.version=d(r,"version","1"),this.properties=d(r,"properties",{}),this.layers=d(r,"layers",[]),this.images=d(r,"images",[]),this.objects=d(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=d(r,"collision",{}),this.tilesets=d(r,"tilesets",[]),this.imageCollections=d(r,"imageCollections",[]),this.tiles=d(r,"tiles",[]),this.hexSideLength=d(r,"hexSideLength",0),this.staggerAxis=d(r,"staggerAxis","y"),this.staggerIndex=d(r,"staggerIndex","odd")}});n.exports=o},48700:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=new u({initialize:function(a){a===void 0&&(a={}),this.name=x(a,"name","object layer"),this.id=x(a,"id",0),this.opacity=x(a,"opacity",1),this.properties=x(a,"properties",{}),this.propertyTypes=x(a,"propertytypes",{}),this.type=x(a,"type","objectgroup"),this.visible=x(a,"visible",!0),this.objects=x(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});n.exports=d},6641:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91907),x=function(d){return d=d.toLowerCase(),d==="isometric"?u.ISOMETRIC:d==="staggered"?u.STAGGERED:d==="hexagonal"?u.HEXAGONAL:u.ORTHOGONAL};n.exports=x},46177:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),x=e(2342),d=e(82593),o=e(46594),a=e(87021),r=function(l,v,h,c,p,g){var m;switch(v){case u.ARRAY_2D:m=x(l,h,c,p,g);break;case u.CSV:m=d(l,h,c,p,g);break;case u.TILED_JSON:m=o(l,h,g);break;case u.WELTMEISTER:m=a(l,h,g);break;default:console.warn("Unrecognized tilemap data format: "+v),m=null}return m};n.exports=r},2342:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),x=e(14977),d=e(87010),o=e(23029),a=function(r,l,v,h,c){for(var p=new x({tileWidth:v,tileHeight:h}),g=new d({name:r,tileWidth:v,tileHeight:h,format:u.ARRAY_2D,layers:[p]}),m=[],y=l.length,S=0,M=0;M<l.length;M++){m[M]=[];for(var P=l[M],w=0;w<P.length;w++){var R=parseInt(P[w],10);isNaN(R)||R===-1?m[M][w]=c?null:new o(p,-1,w,M,v,h):m[M][w]=new o(p,R,w,M,v,h)}S===0&&(S=P.length)}return g.width=p.width=S,g.height=p.height=y,g.widthInPixels=p.widthInPixels=S*v,g.heightInPixels=p.heightInPixels=y*h,p.data=m,g};n.exports=a},82593:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),x=e(2342),d=function(o,a,r,l,v){var h=a.trim().split(`
`).map(function(p){return p.split(",")}),c=x(o,h,r,l,v);return c.format=u.CSV,c};n.exports=d},6656:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14977),x=e(23029),d=function(o,a){for(var r=[],l=0;l<o.layer.length;l++){for(var v=o.layer[l],h=new u({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),c=[],p=[],g=0;g<v.data.length;g++){for(var m=0;m<v.data[g].length;m++){var y=v.data[g][m]-1,S;y>-1?S=new x(h,y,m,g,v.tilesize,v.tilesize):S=a?null:new x(h,-1,m,g,v.tilesize,v.tilesize),c.push(S)}p.push(c),c=[]}h.data=p,r.push(h)}return r};n.exports=d},96483:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33629),x=function(d){for(var o=[],a=[],r=0;r<d.layer.length;r++){var l=d.layer[r],v=l.tilesetName;v!==""&&a.indexOf(v)===-1&&(a.push(v),o.push(new u(v,0,l.tilesize,l.tilesize,0,0)))}return o};n.exports=x},87021:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(80341),x=e(87010),d=e(6656),o=e(96483),a=function(r,l,v){if(l.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+r),null;for(var h=0,c=0,p=0;p<l.layer.length;p++)l.layer[p].width>h&&(h=l.layer[p].width),l.layer[p].height>c&&(c=l.layer[p].height);var g=new x({width:h,height:c,name:r,tileWidth:l.layer[0].tilesize,tileHeight:l.layer[0].tilesize,format:u.WELTMEISTER});return g.layers=d(l,v),g.tilesets=o(l),g};n.exports=a},52833:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:e(6656),ParseTilesets:e(96483),ParseWeltmeister:e(87021)}},57442:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:e(6641),Parse:e(46177),Parse2DArray:e(2342),ParseCSV:e(82593),Impact:e(52833),Tiled:e(96761)}},51233:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79291),x=function(d){for(var o,a,r,l,v,h=0;h<d.layers.length;h++){o=d.layers[h],l=null;for(var c=0;c<o.data.length;c++){v=o.data[c];for(var p=0;p<v.length;p++)a=v[p],!(a===null||a.index<0)&&(r=d.tiles[a.index][2],l=d.tilesets[r],a.width=l.tileWidth,a.height=l.tileHeight,l.tileProperties&&l.tileProperties[a.index-l.firstgid]&&(a.properties=u(a.properties,l.tileProperties[a.index-l.firstgid])))}}};n.exports=x},41868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){for(var u=window.atob(e),x=u.length,d=new Array(x/4),o=0;o<x;o+=4)d[o/4]=(u.charCodeAt(o)|u.charCodeAt(o+1)<<8|u.charCodeAt(o+2)<<16|u.charCodeAt(o+3)<<24)>>>0;return d};n.exports=C},84101:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33629),x=function(d){var o,a,r=[];for(o=0;o<d.imageCollections.length;o++)for(var l=d.imageCollections[o],v=l.images,h=0;h<v.length;h++){var c=v[h];a=new u(c.image,c.gid,l.imageWidth,l.imageHeight,0,0),a.updateTileData(l.imageWidth,l.imageHeight),d.tilesets.push(a)}for(o=0;o<d.tilesets.length;o++){a=d.tilesets[o];for(var p=a.tileMargin,g=a.tileMargin,m=0,y=0,S=0,M=a.firstgid;M<a.firstgid+a.total&&(r[M]=[p,g,o],p+=a.tileWidth+a.tileSpacing,m++,!(m===a.total||(y++,y===a.columns&&(p=a.tileMargin,g+=a.tileHeight+a.tileSpacing,y=0,S++,S===a.rows))));M++);}return r};n.exports=x},79677:(n,C,e)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),x=function(d,o,a){if(!o)return{i:0,layers:d.layers,name:"",opacity:1,visible:!0,x:0,y:0};var r=o.x+u(o,"startx",0)*d.tilewidth+u(o,"offsetx",0),l=o.y+u(o,"starty",0)*d.tileheight+u(o,"offsety",0);return{i:0,layers:o.layers,name:a.name+o.name+"/",opacity:a.opacity*o.opacity,visible:a.visible&&o.visible,x:a.x+r,y:a.y+l}};n.exports=x},29920:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=2147483648,e=1073741824,u=536870912,x=function(d){var o=Boolean(d&C),a=Boolean(d&e),r=Boolean(d&u);d=d&~(C|e|u);var l=0,v=!1;return o&&a&&r?(l=Math.PI/2,v=!0):o&&a&&!r?(l=Math.PI,v=!1):o&&!a&&r?(l=Math.PI/2,v=!1):o&&!a&&!r?(l=0,v=!0):!o&&a&&r?(l=3*Math.PI/2,v=!1):!o&&a&&!r?(l=Math.PI,v=!0):!o&&!a&&r?(l=3*Math.PI/2,v=!0):!o&&!a&&!r&&(l=0,v=!1),{gid:d,flippedHorizontal:o,flippedVertical:a,flippedAntiDiagonal:r,rotation:l,flipped:v}};n.exports=x},12635:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),x=e(79677),d=function(o){for(var a=[],r=[],l=x(o);l.i<l.layers.length||r.length>0;){if(l.i>=l.layers.length){if(r.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=r.pop();continue}var v=l.layers[l.i];if(l.i++,v.type!=="imagelayer"){if(v.type==="group"){var h=x(o,v,l);r.push(l),l=h}continue}var c=u(v,"offsetx",0)+u(v,"startx",0),p=u(v,"offsety",0)+u(v,"starty",0);a.push({name:l.name+v.name,image:v.image,x:l.x+c+v.x,y:l.y+p+v.y,alpha:l.opacity*v.opacity,visible:l.visible&&v.visible,properties:u(v,"properties",{})})}return a};n.exports=d},46594:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(51233),x=e(84101),d=e(91907),o=e(62644),a=e(80341),r=e(6641),l=e(87010),v=e(12635),h=e(22611),c=e(28200),p=e(24619),g=function(m,y,S){var M=o(y),P=new l({width:M.width,height:M.height,name:m,tileWidth:M.tilewidth,tileHeight:M.tileheight,orientation:r(M.orientation),format:a.TILED_JSON,version:M.version,properties:M.properties,renderOrder:M.renderorder,infinite:M.infinite});P.orientation===d.HEXAGONAL&&(P.hexSideLength=M.hexsidelength,P.staggerAxis=M.staggeraxis,P.staggerIndex=M.staggerindex),P.layers=c(M,S),P.images=v(M);var w=p(M);return P.tilesets=w.tilesets,P.imageCollections=w.imageCollections,P.objects=h(M),P.tiles=x(P),u(P),P};n.exports=g},52205:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18254),x=e(29920),d=function(r){return{x:r.x,y:r.y}},o=["id","name","type","rotation","properties","visible","x","y","width","height"],a=function(r,l,v){l===void 0&&(l=0),v===void 0&&(v=0);var h=u(r,o);if(h.x+=l,h.y+=v,r.gid){var c=x(r.gid);h.gid=c.gid,h.flippedHorizontal=c.flippedHorizontal,h.flippedVertical=c.flippedVertical,h.flippedAntiDiagonal=c.flippedAntiDiagonal}else r.polyline?h.polyline=r.polyline.map(d):r.polygon?h.polygon=r.polygon.map(d):r.ellipse?h.ellipse=r.ellipse:r.text?h.text=r.text:r.point?h.point=!0:h.rectangle=!0;return h};n.exports=a},22611:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95540),x=e(52205),d=e(48700),o=e(79677),a=function(r){for(var l=[],v=[],h=o(r);h.i<h.layers.length||v.length>0;){if(h.i>=h.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}h=v.pop();continue}var c=h.layers[h.i];if(h.i++,c.opacity*=h.opacity,c.visible=h.visible&&c.visible,c.type!=="objectgroup"){if(c.type==="group"){var p=o(r,c,h);v.push(h),h=p}continue}c.name=h.name+c.name;for(var g=h.x+u(c,"startx",0)+u(c,"offsetx",0),m=h.y+u(c,"starty",0)+u(c,"offsety",0),y=[],S=0;S<c.objects.length;S++){var M=x(c.objects[S],g,m);y.push(M)}var P=new d(c);P.objects=y,l.push(P)}return l};n.exports=a},28200:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41868),x=e(91907),d=e(79677),o=e(6641),a=e(95540),r=e(14977),l=e(29920),v=e(23029),h=function(c,p){for(var g=a(c,"infinite",!1),m=[],y=[],S=d(c);S.i<S.layers.length||y.length>0;){if(S.i>=S.layers.length){if(y.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}S=y.pop();continue}var M=S.layers[S.i];if(S.i++,M.type!=="tilelayer"){if(M.type==="group"){var P=d(c,M,S);y.push(S),S=P}continue}if(M.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+M.name+"'");continue}else if(M.encoding&&M.encoding==="base64"){if(M.chunks)for(var w=0;w<M.chunks.length;w++)M.chunks[w].data=u(M.chunks[w].data);M.data&&(M.data=u(M.data)),delete M.encoding}var R,A,L,F,O=[],b=0;if(g){var B=a(M,"startx",0)+M.x,I=a(M,"starty",0)+M.y;R=new r({name:S.name+M.name,id:M.id,x:S.x+a(M,"offsetx",0)+B*c.tilewidth,y:S.y+a(M,"offsety",0)+I*c.tileheight,width:M.width,height:M.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:S.opacity*M.opacity,visible:S.visible&&M.visible,properties:a(M,"properties",[]),orientation:o(c.orientation)}),R.orientation===x.HEXAGONAL&&(R.hexSideLength=c.hexsidelength,R.staggerAxis=c.staggeraxis,R.staggerIndex=c.staggerindex);for(var N=0;N<M.height;N++){O[N]=[null];for(var X=0;X<M.width;X++)O[N][X]=null}for(N=0,K=M.chunks.length;N<K;N++)for(var k=M.chunks[N],H=k.x-B,V=k.y-I,W=0,D=0,G=k.data.length;D<G;D++){var z=b+H,U=W+V;A=l(k.data[D]),A.gid>0?(L=new v(R,A.gid,z,U,c.tilewidth,c.tileheight),L.rotation=A.rotation,L.flipX=A.flipped,O[U][z]=L):(F=p?null:new v(R,-1,z,U,c.tilewidth,c.tileheight),O[U][z]=F),b++,b===k.width&&(W++,b=0)}}else{R=new r({name:S.name+M.name,id:M.id,x:S.x+a(M,"offsetx",0)+M.x,y:S.y+a(M,"offsety",0)+M.y,width:M.width,height:M.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:S.opacity*M.opacity,visible:S.visible&&M.visible,properties:a(M,"properties",[]),orientation:o(c.orientation)}),R.orientation===x.HEXAGONAL&&(R.hexSideLength=c.hexsidelength,R.staggerAxis=c.staggeraxis,R.staggerIndex=c.staggerindex);for(var Y=[],$=0,K=M.data.length;$<K;$++)A=l(M.data[$]),A.gid>0?(L=new v(R,A.gid,b,O.length,c.tilewidth,c.tileheight),L.rotation=A.rotation,L.flipX=A.flipped,Y.push(L)):(F=p?null:new v(R,-1,b,O.length,c.tilewidth,c.tileheight),Y.push(F)),b++,b===M.width&&(O.push(Y),b=0,Y=[])}R.data=O,m.push(R)}return m};n.exports=h},24619:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33629),x=e(16536),d=e(52205),o=e(57880),a=function(r){for(var l=[],v=[],h=null,c,p=0;p<r.tilesets.length;p++){var g=r.tilesets[p];if(g.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(g.image){var m=new u(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,void 0,void 0,g.tileoffset);if(r.version>1){var y=void 0,S=void 0;if(Array.isArray(g.tiles)){y=y||{},S=S||{};for(var M=0;M<g.tiles.length;M++){var P=g.tiles[M];if(P.properties){var w={};P.properties.forEach(function(N){w[N.name]=N.value}),S[P.id]=w}if(P.objectgroup&&((y[P.id]||(y[P.id]={})).objectgroup=P.objectgroup,P.objectgroup.objects)){var R=P.objectgroup.objects.map(function(N){return d(N)});y[P.id].objectgroup.objects=R}P.animation&&((y[P.id]||(y[P.id]={})).animation=P.animation),P.type&&((y[P.id]||(y[P.id]={})).type=P.type)}}Array.isArray(g.wangsets)&&(y=y||{},S=S||{},o(g.wangsets,y)),y&&(m.tileData=y,m.tileProperties=S)}else if(g.tileproperties&&(m.tileProperties=g.tileproperties),g.tiles){m.tileData=g.tiles;for(c in m.tileData){var A=m.tileData[c].objectgroup;if(A&&A.objects){var L=A.objects.map(function(N){return d(N)});m.tileData[c].objectgroup.objects=L}}}m.updateTileData(g.imagewidth,g.imageheight),l.push(m)}else{var F=new x(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,g.properties),O=0;for(M=0;M<g.tiles.length;M++){P=g.tiles[M];var b=P.image,B=parseInt(P.id,10),I=g.firstgid+B;F.addImage(I,b),O=Math.max(B,O)}F.maxId=O,v.push(F)}h&&(h.lastgid=g.firstgid-1),h=g}return{tilesets:l,imageCollections:v}};n.exports=a},57880:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){for(var x=0;x<e.length;x++){var d=e[x],o=x;if(d.name&&d.name!==""&&(o=d.name),Array.isArray(d.wangtiles)&&d.wangtiles.length>0){var a={},r={},l,v,h;if(Array.isArray(d.edgecolors))for(l=0;l<d.edgecolors.length;l++)h=1+l,v=d.edgecolors[l],v.name!==""&&(a[h]=v.name);if(Array.isArray(d.cornercolors))for(l=0;l<d.cornercolors.length;l++)h=1+l,v=d.cornercolors[l],v.name!==""&&(r[h]=v.name);if(Array.isArray(d.colors))for(l=0;l<d.colors.length;l++)v=d.colors[l],h=1+l,v.name!==""&&(a[h]=r[h]=v.name);for(var c=[a,r,a,r,a,r,a,r],p=0;p<d.wangtiles.length;p++){var g=d.wangtiles[p],m=u[g.tileid]||(u[g.tileid]={});m=m.wangid||(m.wangid={});for(var y=[],S=0;S<Math.min(c.length,g.wangid.length);S++){if(v=g.wangid[S],v===0){y.push(void 0);continue}var M=c[S][v];if(M!==void 0){y.push(M);continue}y.push(v)}m[o]=y}}}};n.exports=C},96761:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:e(51233),Base64Decode:e(41868),BuildTilesetIndex:e(84101),CreateGroupLayer:e(79677),ParseGID:e(29920),ParseImageLayers:e(12635),ParseJSONTiled:e(46594),ParseObject:e(52205),ParseObjectLayers:e(22611),ParseTileLayers:e(28200),ParseTilesets:e(24619)}},33385:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(37277),d=e(44594),o=e(94880),a=e(72905),r=new u({initialize:function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(d.BOOT,this.boot,this),v.sys.events.on(d.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var l=this.systems.events;l.on(d.PRE_UPDATE,this.preUpdate,this),l.on(d.UPDATE,this.update,this),l.once(d.SHUTDOWN,this.shutdown,this)},addEvent:function(l){var v;return l instanceof o?(v=l,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat):v=new o(l),this._pendingInsertion.push(v),v},delayedCall:function(l,v,h,c){return this.addEvent({delay:l,callback:v,args:h,callbackScope:c})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(l){Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++){var h=l[v];a(this._pendingRemoval,h),a(this._pendingInsertion,h),a(this._active,h)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var l=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(l===0&&v===0)){var h,c;for(h=0;h<l;h++){c=this._pendingRemoval[h];var p=this._active.indexOf(c);p>-1&&this._active.splice(p,1),c.destroy()}for(h=0;h<v;h++)c=this._pendingInsertion[h],this._active.push(c);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(l,v){if(this.now=l,!this.paused){v*=this.timeScale;for(var h=0;h<this._active.length;h++){var c=this._active[h];if(!c.paused&&(c.elapsed+=v*c.timeScale,c.elapsed>=c.delay)){var p=c.elapsed-c.delay;if(c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),c.repeatCount>0){if(c.repeatCount--,p>=c.delay)for(;p>=c.delay&&c.repeatCount>0;)c.callback&&c.callback.apply(c.callbackScope,c.args),p-=c.delay,c.repeatCount--;c.elapsed=p,c.hasDispatched=!1}else c.hasDispatched&&this._pendingRemoval.push(c)}}}},shutdown:function(){var l;for(l=0;l<this._pendingInsertion.length;l++)this._pendingInsertion[l].destroy();for(l=0;l<this._active.length;l++)this._active[l].destroy();for(l=0;l<this._pendingRemoval.length;l++)this._pendingRemoval[l].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(d.PRE_UPDATE,this.preUpdate,this),v.off(d.UPDATE,this.update,this),v.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",r,"time"),n.exports=r},96120:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50792),d=e(39429),o=e(95540),a=e(44594),r=e(89809),l=new u({Extends:x,initialize:function(h,c){x.call(this),this.scene=h,this.systems=h.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var p=this.systems.events;p.on(a.PRE_UPDATE,this.preUpdate,this),p.on(a.UPDATE,this.update,this),p.once(a.SHUTDOWN,this.destroy,this),c&&this.add(c)},preUpdate:function(v,h){this.paused||(this.elapsed+=h)},update:function(){if(!(this.paused||this.complete)){var v,h=this.events,c=!1,p=this.systems,g;for(v=0;v<h.length;v++){var m=h[v];if(!m.complete&&m.time<=this.elapsed){if(m.complete=!0,this.totalComplete++,g=m.target?m.target:this,m.if&&!m.if.call(g,m))continue;if(m.once&&(c=!0),m.set&&m.target)for(var y in m.set)m.target[y]=m.set[y];this.iteration&&m.repeat++,m.loop&&m.repeat&&m.loop.call(g),m.tween&&p.tweens.add(m.tween),m.sound&&(typeof m.sound=="string"?p.sound.play(m.sound):p.sound.play(m.sound.key,m.sound.config)),m.event&&this.emit(m.event,g),m.run&&m.run.call(g),m.stop&&this.stop()}}if(c)for(v=0;v<h.length;v++)h[v].complete&&h[v].once&&(h.splice(v,1),v--);this.totalComplete>=h.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(r.COMPLETE,this)}},play:function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(v){return(v===void 0||v===!0)&&(v=-1),v===!1&&(v=0),this.loop=v,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(v){v===void 0&&(v=!1),this.elapsed=0,v||(this.iteration=0);for(var h=0;h<this.events.length;h++)this.events[h].complete=!1,v||(this.events[h].repeat=0);return this.play(!1)},add:function(v){Array.isArray(v)||(v=[v]);var h=this.events,c=0;h.length>0&&(c=h[h.length-1].time);for(var p=0;p<v.length;p++){var g=v[p],m=o(g,"at",0),y=o(g,"in",null);y!==null&&(m=this.elapsed+y);var S=o(g,"from",null);S!==null&&(m=c+S),h.push({complete:!1,time:m,repeat:0,if:o(g,"if",null),run:o(g,"run",null),loop:o(g,"loop",null),event:o(g,"event",null),target:o(g,"target",null),set:o(g,"set",null),tween:o(g,"tween",null),sound:o(g,"sound",null),once:o(g,"once",!1),stop:o(g,"stop",!1)}),c=m}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},destroy:function(){var v=this.systems.events;v.off(a.PRE_UPDATE,this.preUpdate,this),v.off(a.UPDATE,this.update,this),v.off(a.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});d.register("timeline",function(v){return new l(this.scene,v)}),n.exports=l},94880:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(95540),d=new u({initialize:function(a){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(a)},reset:function(o){if(this.delay=x(o,"delay",0),this.repeat=x(o,"repeat",0),this.loop=x(o,"loop",!1),this.callback=x(o,"callback",void 0),this.callbackScope=x(o,"callbackScope",this),this.args=x(o,"args",[]),this.timeScale=x(o,"timeScale",1),this.startAt=x(o,"startAt",0),this.paused=x(o,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var o=this.delay+this.delay*this.repeat,a=this.elapsed+this.delay*(this.repeat-this.repeatCount);return a/o}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(o){o===void 0&&(o=!1),this.elapsed=this.delay,this.hasDispatched=!o,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});n.exports=d},35945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},89809:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:e(35945)}},90291:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:e(33385),Events:e(89809),Timeline:e(96120),TimerEvent:e(94880)}},40382:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72905),x=e(83419),d=e(43491),o=e(88032),a=e(37277),r=e(44594),l=e(93109),v=e(86081),h=e(8357),c=e(43960),p=e(26012),g=new x({initialize:function(y){this.scene=y,this.events=y.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(r.UPDATE,this.update,this),this.events.once(r.SHUTDOWN,this.shutdown,this)},create:function(m){Array.isArray(m)||(m=[m]);for(var y=[],S=0;S<m.length;S++){var M=m[S];M instanceof v||M instanceof c?y.push(M):Array.isArray(M.tweens)?y.push(p(this,M)):y.push(h(this,M))}return y.length===1?y[0]:y},add:function(m){var y=m,S=this.tweens;return y instanceof v||y instanceof c||(Array.isArray(y.tweens)?y=p(this,y):y=h(this,y)),S.push(y.reset()),y},addMultiple:function(m){for(var y,S=[],M=this.tweens,P=0;P<m.length;P++)y=m[P],y instanceof v||y instanceof c||(Array.isArray(y.tweens)?y=p(this,y):y=h(this,y)),M.push(y.reset()),S.push(y);return S},chain:function(m){var y=p(this,m);return this.tweens.push(y.init()),y},getChainedTweens:function(m){return m.getChainedTweens()},has:function(m){return this.tweens.indexOf(m)>-1},existing:function(m){return this.has(m)||this.tweens.push(m.reset()),this},addCounter:function(m){var y=o(this,m);return this.tweens.push(y.reset()),y},stagger:function(m,y){return l(m,y)},setLagSmooth:function(m,y){return m===void 0&&(m=1/1e-8),y===void 0&&(y=0),this.maxLag=m,this.lagSkip=Math.min(y,this.maxLag),this},setFps:function(m){return m===void 0&&(m=240),this.gap=1e3/m,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(m){var y=Date.now()-this.prevTime;y>this.maxLag&&(this.startTime+=y-this.lagSkip),this.prevTime+=y;var S=this.prevTime-this.startTime,M=S-this.nextTime,P=S-this.time*1e3;return M>0||m?(S/=1e3,this.time=S,this.nextTime+=M+(M>=this.gap?4:this.gap-M)):P=0,P},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(m){m===void 0&&(m=!1);var y=this.getDelta(m);if(!(y<=0)){this.processing=!0;var S,M,P=[],w=this.tweens;for(S=0;S<w.length;S++)M=w[S],M.update(y)&&P.push(M);var R=P.length;if(R&&w.length>0){for(S=0;S<R;S++){M=P[S];var A=w.indexOf(M);A>-1&&(M.isPendingRemove()||M.isDestroyed())&&(w.splice(A,1),M.destroy())}P.length=0}this.processing=!1}},remove:function(m){return this.processing?m.setPendingRemoveState():(u(this.tweens,m),m.setRemovedState()),this},reset:function(m){return this.existing(m),m.seek(),m.setActiveState(),this},makeActive:function(m){return this.existing(m),m.setActiveState(),this},each:function(m,y){var S,M=[null];for(S=1;S<arguments.length;S++)M.push(arguments[S]);return this.tweens.forEach(function(P){M[0]=P,m.apply(y,M)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(m){var y=[],S=this.tweens;Array.isArray(m)?m=d(m):m=[m];for(var M=m.length,P=0;P<S.length;P++)for(var w=S[P],R=0;R<M;R++)!w.isDestroyed()&&w.hasTarget(m[R])&&y.push(w);return y},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(m){return this.timeScale=m,this},isTweening:function(m){for(var y=this.tweens,S,M=0;M<y.length;M++)if(S=y[M],S.isPlaying()&&S.hasTarget(m))return!0;return!1},killAll:function(){for(var m=this.processing?this.getTweens():this.tweens,y=0;y<m.length;y++)m[y].destroy();return this.processing||(m.length=0),this},killTweensOf:function(m){for(var y=this.getTweensOf(m),S=0;S<y.length;S++)y[S].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(r.UPDATE,this.update,this),this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.events=null}});a.register("TweenManager",g,"tweens"),n.exports=g},57355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){return e&&e.hasOwnProperty(u)?e[u]:x};n.exports=C},6113:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62640),x=e(35355),d=function(o,a){var r=u.Power0;if(typeof o=="string")if(u.hasOwnProperty(o))r=u[o];else{var l="";if(o.indexOf(".")){l=o.substring(o.indexOf(".")+1);var v=l.toLowerCase();v==="in"?l="easeIn":v==="out"?l="easeOut":v==="inout"&&(l="easeInOut")}o=x(o.substring(0,o.indexOf(".")+1)+l),u.hasOwnProperty(o)&&(r=u[o])}else typeof o=="function"&&(r=o);if(!a)return r;var h=a.slice(0);return h.unshift(0),function(c){return h[0]=c,r.apply(this,h)}};n.exports=d},91389:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89318),x=e(77259),d=e(28392),o={bezier:u,catmull:x,catmullrom:x,linear:d},a=function(r){if(r===null)return null;var l=o.linear;return typeof r=="string"?o.hasOwnProperty(r)&&(l=o[r]):typeof r=="function"&&(l=r),l};n.exports=a},55292:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d;if(e.hasOwnProperty(u)){var o=typeof e[u];o==="function"?d=function(a,r,l,v,h,c){return e[u](a,r,l,v,h,c)}:d=function(){return e[u]}}else typeof x=="function"?d=x:d=function(){return x};return d};n.exports=C},82985:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81076),x=function(d){var o,a=[];if(d.hasOwnProperty("props"))for(o in d.props)o.substring(0,1)!=="_"&&a.push({key:o,value:d.props[o]});else for(o in d)u.indexOf(o)===-1&&o.substring(0,1)!=="_"&&a.push({key:o,value:d[o]});return a};n.exports=x},62329:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),x=function(d){var o=u(d,"targets",null);return o===null||(typeof o=="function"&&(o=o.call()),Array.isArray(o)||(o=[o])),o};n.exports=x},17777:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30976),x=e(99472);function d(v){return!!v.getActive&&typeof v.getActive=="function"}function o(v){return!!v.getStart&&typeof v.getStart=="function"}function a(v){return!!v.getEnd&&typeof v.getEnd=="function"}function r(v){return o(v)||a(v)||d(v)}var l=function(v,h){var c,p=function(k,H,V){return V},g=function(k,H,V){return V},m=null,y=typeof h;if(y==="number")p=function(){return h};else if(Array.isArray(h))g=function(){return h[0]},p=function(){return h[h.length-1]};else if(y==="string"){var S=h.toLowerCase(),M=S.substring(0,6)==="random",P=S.substring(0,3)==="int";if(M||P){var w=S.indexOf("("),R=S.indexOf(")"),A=S.indexOf(",");if(w&&R&&A){var L=parseFloat(S.substring(w+1,A)),F=parseFloat(S.substring(A+1,R));M?p=function(){return x(L,F)}:p=function(){return u(L,F)}}else throw new Error("invalid random() format")}else{S=S[0];var O=parseFloat(h.substr(2));switch(S){case"+":p=function(k,H,V){return V+O};break;case"-":p=function(k,H,V){return V-O};break;case"*":p=function(k,H,V){return V*O};break;case"/":p=function(k,H,V){return V/O};break;default:p=function(){return parseFloat(h)}}}}else if(y==="function")p=h;else if(y==="object")if(r(h))d(h)&&(m=h.getActive),a(h)&&(p=h.getEnd),o(h)&&(g=h.getStart);else if(h.hasOwnProperty("value"))c=l(v,h.value);else{var b=h.hasOwnProperty("to"),B=h.hasOwnProperty("from"),I=h.hasOwnProperty("start");if(b&&(B||I)){if(c=l(v,h.to),I){var N=l(v,h.start);c.getActive=N.getEnd}if(B){var X=l(v,h.from);c.getStart=X.getEnd}}}return c||(c={getActive:m,getEnd:p,getStart:g}),c};n.exports=l},88032:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70402),x=e(69902),d=e(23568),o=e(57355),a=e(6113),r=e(55292),l=e(35154),v=e(17777),h=e(269),c=e(86081),p=function(g,m,y){if(m instanceof c)return m.parent=g,m;y===void 0?y=x:y=h(x,y);var S=l(m,"from",0),M=l(m,"to",1),P=[{value:S}],w=l(m,"delay",y.delay),R=l(m,"easeParams",y.easeParams),A=l(m,"ease",y.ease),L=v("value",M),F=new c(g,P),O=F.add(0,"value",L.getEnd,L.getStart,L.getActive,a(l(m,"ease",A),l(m,"easeParams",R)),r(m,"delay",w),l(m,"duration",y.duration),o(m,"yoyo",y.yoyo),l(m,"hold",y.hold),l(m,"repeat",y.repeat),l(m,"repeatDelay",y.repeatDelay),!1,!1);O.start=S,O.current=S,F.completeDelay=d(m,"completeDelay",0),F.loop=Math.round(d(m,"loop",0)),F.loopDelay=Math.round(d(m,"loopDelay",0)),F.paused=o(m,"paused",!1),F.persist=o(m,"persist",!1),F.callbackScope=l(m,"callbackScope",F);for(var b=u.TYPES,B=0;B<b.length;B++){var I=b[B],N=l(m,I,!1);if(N){var X=l(m,I+"Params",[]);F.setCallback(I,N,X)}}return F};n.exports=p},93109:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6113),x=e(35154),d=e(36383),o=function(a,r){r===void 0&&(r={});var l,v=x(r,"start",0),h=x(r,"ease",null),c=x(r,"grid",null),p=x(r,"from",0),g=p==="first",m=p==="center",y=p==="last",S=typeof p=="number",M=Array.isArray(a),P=parseFloat(M?a[0]:a),w=M?parseFloat(a[1]):0,R=Math.max(P,w);if(M&&(v+=P),c){var A=c[0],L=c[1],F=0,O=0,b=0,B=0,I=[];y?(F=A-1,O=L-1):S?(F=p%A,O=Math.floor(p/A)):m&&(F=(A-1)/2,O=(L-1)/2);for(var N=d.MIN_SAFE_INTEGER,X=0;X<L;X++){I[X]=[];for(var k=0;k<A;k++){b=F-k,B=O-X;var H=Math.sqrt(b*b+B*B);H>N&&(N=H),I[X][k]=H}}}var V=h?u(h):null;return c?l=function(W,D,G,z){var U=0,Y=z%A,$=Math.floor(z/A);Y>=0&&Y<A&&$>=0&&$<L&&(U=I[$][Y]);var K;if(M){var Z=w-P;V?K=U/N*Z*V(U/N):K=U/N*Z}else V?K=U*P*V(U/N):K=U*P;return K+v}:l=function(W,D,G,z,U){U--;var Y;g?Y=z:m?Y=Math.abs(U/2-z):y?Y=U-z:S&&(Y=Math.abs(p-z));var $;if(M){var K;m?K=(w-P)/U*(Y*2):K=(w-P)/U*Y,V?$=K*V(Y/U):$=K}else V?$=U*R*V(Y/U):$=Y*P;return $+v},l};n.exports=o},8357:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70402),x=e(69902),d=e(23568),o=e(57355),a=e(6113),r=e(91389),l=e(55292),v=e(82985),h=e(62329),c=e(35154),p=e(17777),g=e(269),m=e(86081),y=function(S,M,P){if(M instanceof m)return M.parent=S,M;P===void 0?P=x:P=g(x,P);var w=h(M);!w&&P.targets&&(w=P.targets);for(var R=v(M),A=c(M,"delay",P.delay),L=c(M,"duration",P.duration),F=c(M,"easeParams",P.easeParams),O=c(M,"ease",P.ease),b=c(M,"hold",P.hold),B=c(M,"repeat",P.repeat),I=c(M,"repeatDelay",P.repeatDelay),N=o(M,"yoyo",P.yoyo),X=o(M,"flipX",P.flipX),k=o(M,"flipY",P.flipY),H=c(M,"interpolation",P.interpolation),V=function(Q,j,_,q){if(_==="texture"){var it=q,at=void 0;Array.isArray(q)?(it=q[0],at=q[1]):q.hasOwnProperty("value")?(it=q.value,Array.isArray(q.value)?(it=q.value[0],at=q.value[1]):typeof q.value=="string"&&(it=q.value)):typeof q=="string"&&(it=q),Q.addFrame(j,it,at,l(q,"delay",A),c(q,"duration",L),c(q,"hold",b),c(q,"repeat",B),c(q,"repeatDelay",I),o(q,"flipX",X),o(q,"flipY",k))}else{var ot=p(_,q),ht=r(c(q,"interpolation",H));Q.add(j,_,ot.getEnd,ot.getStart,ot.getActive,a(c(q,"ease",O),c(q,"easeParams",F)),l(q,"delay",A),c(q,"duration",L),o(q,"yoyo",N),c(q,"hold",b),c(q,"repeat",B),c(q,"repeatDelay",I),o(q,"flipX",X),o(q,"flipY",k),ht,ht?q:null)}},W=new m(S,w),D=0;D<R.length;D++)for(var G=R[D].key,z=R[D].value,U=0;U<w.length;U++)G==="scale"&&!w[U].hasOwnProperty("scale")?(V(W,U,"scaleX",z),V(W,U,"scaleY",z)):V(W,U,G,z);W.completeDelay=d(M,"completeDelay",0),W.loop=Math.round(d(M,"loop",0)),W.loopDelay=Math.round(d(M,"loopDelay",0)),W.paused=o(M,"paused",!1),W.persist=o(M,"persist",!1),W.callbackScope=c(M,"callbackScope",W);for(var Y=u.TYPES,$=0;$<Y.length;$++){var K=Y[$],Z=c(M,K,!1);if(Z){var J=c(M,K+"Params",[]);W.setCallback(K,Z,J)}}return W};n.exports=y},26012:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70402),x=e(23568),d=e(57355),o=e(62329),a=e(35154),r=e(8357),l=e(43960),v=function(h,c){if(c instanceof l)return c.parent=h,c;var p=new l(h);p.startDelay=a(c,"delay",0),p.completeDelay=x(c,"completeDelay",0),p.loop=Math.round(x(c,"loop",a(c,"repeat",0))),p.loopDelay=Math.round(x(c,"loopDelay",a(c,"repeatDelay",0))),p.paused=d(c,"paused",!1),p.persist=d(c,"persist",!1),p.callbackScope=a(c,"callbackScope",p);var g,m=u.TYPES;for(g=0;g<m.length;g++){var y=m[g],S=a(c,y,!1);if(S){var M=a(c,y+"Params",[]);p.setCallback(y,S,M)}}var P=a(c,"tweens",null);if(Array.isArray(P)){var w=[],R=o(c),A=void 0;for(R&&(A={targets:R}),g=0;g<P.length;g++)w.push(r(p,P[g],A));p.add(w)}return p};n.exports=v},30231:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:e(57355),GetEaseFunction:e(6113),GetInterpolationFunction:e(91389),GetNewValue:e(55292),GetProps:e(82985),GetTargets:e(62329),GetValueOp:e(17777),NumberTweenBuilder:e(88032),StaggerBuilder:e(93109),TweenBuilder:e(8357)}},73685:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"},98540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},67233:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},2859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},98336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"},25764:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},32193:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},84371:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},70766:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},55659:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"},842:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:e(73685),TWEEN_COMPLETE:e(98540),TWEEN_LOOP:e(67233),TWEEN_PAUSE:e(2859),TWEEN_RESUME:e(25764),TWEEN_REPEAT:e(98336),TWEEN_START:e(32193),TWEEN_STOP:e(84371),TWEEN_UPDATE:e(70766),TWEEN_YOYO:e(55659)}},43066:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={States:e(86353),Builders:e(30231),Events:e(842),TweenManager:e(40382),Tween:e(86081),TweenData:e(48177),TweenFrameData:e(42220),BaseTween:e(70402),TweenChain:e(43960)};n.exports=u},70402:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(50792),d=e(842),o=e(86353),a=new u({Extends:x,initialize:function(l){x.call(this),this.parent=l,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=o.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(r){return this.timeScale=r,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(d.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(d.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(d.TWEEN_COMPLETE,"onComplete")},complete:function(r){return r===void 0&&(r=0),r?(this.setCompleteDelayState(),this.countdown=r):this.onCompleteHandler(),this},completeAfterLoop:function(r){return r===void 0&&(r=0),this.loopCounter>r&&(this.loopCounter=r),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(d.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(r){this.countdown-=r,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(r){return this.countdown-=r,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(d.TWEEN_START,"onStart"),r=0),r},updateCompleteDelay:function(r){this.countdown-=r,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(r,l,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(r)&&(this.callbacks[r]={func:l,params:v}),this},setPendingState:function(){this.state=o.PENDING},setActiveState:function(){this.state=o.ACTIVE},setLoopDelayState:function(){this.state=o.LOOP_DELAY},setCompleteDelayState:function(){this.state=o.COMPLETE_DELAY},setStartDelayState:function(){this.state=o.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=o.PENDING_REMOVE},setRemovedState:function(){this.state=o.REMOVED},setFinishedState:function(){this.state=o.FINISHED},setDestroyedState:function(){this.state=o.DESTROYED},isPending:function(){return this.state===o.PENDING},isActive:function(){return this.state===o.ACTIVE},isLoopDelayed:function(){return this.state===o.LOOP_DELAY},isCompleteDelayed:function(){return this.state===o.COMPLETE_DELAY},isStartDelayed:function(){return this.state===o.START_DELAY},isPendingRemove:function(){return this.state===o.PENDING_REMOVE},isRemoved:function(){return this.state===o.REMOVED},isFinished:function(){return this.state===o.FINISHED},isDestroyed:function(){return this.state===o.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(r){r.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});a.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=a},95042:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83419),x=e(842),d=e(86353),o=new u({initialize:function(r,l,v,h,c,p,g,m,y,S){this.tween=r,this.targetIndex=l,this.duration=h,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=c,this.hold=p,this.repeat=g,this.repeatDelay=m,this.repeatCounter=0,this.flipX=y,this.flipY=S,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(a){a===void 0&&(a=this.current),this.tween.targets[this.targetIndex][this.key]=a},setCreatedState:function(){this.state=d.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=d.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=d.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=d.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=d.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=d.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=d.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=d.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===d.CREATED},isDelayed:function(){return this.state===d.DELAY},isPendingRender:function(){return this.state===d.PENDING_RENDER},isPlayingForward:function(){return this.state===d.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===d.PLAYING_BACKWARD},isHolding:function(){return this.state===d.HOLD_DELAY},isRepeating:function(){return this.state===d.REPEAT_DELAY},isComplete:function(){return this.state===d.COMPLETE},setStateFromEnd:function(a){this.yoyo?this.onRepeat(a,!0,!0):this.repeatCounter>0?this.onRepeat(a,!0,!1):this.setCompleteState()},setStateFromStart:function(a){this.repeatCounter>0?this.onRepeat(a,!1):this.setCompleteState()},reset:function(){var a=this.tween,r=a.totalTargets,l=this.targetIndex,v=a.targets[l],h=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,h,0,l,r,a),this.repeatCounter=this.repeat===-1?d.MAX:this.repeat,this.setPendingRenderState();var c=this.duration+this.hold;this.yoyo&&(c+=this.duration);var p=c+this.repeatDelay;this.totalDuration=this.delay+c,this.repeat===-1?(this.totalDuration+=p*d.MAX,a.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>a.duration&&(a.duration=this.totalDuration),this.delay<a.startDelay&&(a.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(a,r,l){var v=this.tween,h=v.totalTargets,c=this.targetIndex,p=v.targets[c],g=this.key,m=g!=="texture";if(this.elapsed=a,this.progress=a/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),m&&(r||l)&&(this.start=this.getStartValue(p,g,this.start,c,h,v)),l){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,m&&(this.end=this.getEndValue(p,g,this.start,c,h,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-a,m&&(this.current=this.start,p[g]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});n.exports=o},69902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=C},81076:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70402),x=e(83419),d=e(842),o=e(44603),a=e(39429),r=e(36383),l=e(86353),v=e(48177),h=e(42220),c=new x({Extends:u,initialize:function(g,m){u.call(this,g),this.targets=m,this.totalTargets=m.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(p,g,m,y,S,M,P,w,R,A,L,F,O,b,B,I){var N=new v(this,p,g,m,y,S,M,P,w,R,A,L,F,O,b,B,I);return this.totalData=this.data.push(N),N},addFrame:function(p,g,m,y,S,M,P,w,R,A){var L=new h(this,p,g,m,y,S,M,P,w,R,A);return this.totalData=this.data.push(L),L},getValue:function(p){p===void 0&&(p=0);var g=null;return this.data&&(g=this.data[p].current),g},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,g,m){if(m===void 0&&(m=!1),p!=="texture")for(var y=0;y<this.totalData;y++){var S=this.data[y];S.key===p&&(S.isPlayingForward()||S.isPlayingBackward())&&(S.end=g,m&&(S.start=S.current))}return this},restart:function(){switch(this.state){case l.REMOVED:case l.FINISHED:this.seek(),this.parent.makeActive(this);break;case l.PENDING:case l.PENDING_REMOVE:this.parent.reset(this);break;case l.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,u.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,g,m){if(p===void 0&&(p=0),g===void 0&&(g=16.6),m===void 0&&(m=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;m||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive");var y=this.paused;if(this.paused=!1,p>0){for(var S=Math.floor(p/g),M=p-S*g,P=0;P<S;P++)this.update(g);M>0&&this.update(M)}return this.paused=y,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=r.MAX_SAFE_INTEGER;for(var g=this.data,m=0;m<this.totalData;m++)g[m].reset(p);this.duration=Math.max(this.duration,.01);var y=this.duration,S=this.completeDelay,M=this.loopCounter,P=this.loopDelay;M>0?this.totalDuration=y+S+(y+P)*M:this.totalDuration=y+S},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=l.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(d.TWEEN_START,"onStart"),p=0));var g=!1;if(this.isActive())for(var m=this.data,y=0;y<this.totalData;y++)m[y].update(p)&&(g=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),g||this.nextState();var S=this.isPendingRemove();return S&&this.persist&&(this.setFinishedState(),S=!1),S},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,g){if(!this.isSeeking){this.emit(p,this,this.targets);var m=this.callbacks[g];m&&m.func.apply(this.callbackScope,[this,this.targets].concat(m.params))}},destroy:function(){u.prototype.destroy.call(this),this.targets=null}});a.register("tween",function(p){return this.scene.sys.tweens.add(p)}),o.register("tween",function(p){return this.scene.sys.tweens.create(p)}),n.exports=c},43960:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72905),x=e(70402),d=e(83419),o=e(842),a=e(44603),r=e(39429),l=e(86353),v=new d({Extends:x,initialize:function(c){x.call(this,c),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?l.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive"),this},add:function(h){var c=this.parent.create(h);Array.isArray(c)||(c=[c]);for(var p=this.data,g=0;g<c.length;g++){var m=c[g];m.parent=this,p.push(m.reset())}return this.totalData=p.length,this},remove:function(h){return u(this.data,h),h.setRemovedState(),h===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(h){for(var c=this.data,p=0;p<this.totalData;p++)if(c[p].hasTarget(h))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(h){return h.seek(),h.setActiveState(),this},makeActive:function(h){return h.reset(),h.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var h=this.data,c=this.totalData,p=0;p<c;p++)h[p].reset(!1);this.currentIndex=0,this.currentTween=h[0]},update:function(h){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;h*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(h):this.isCompleteDelayed()?this.updateCompleteDelay(h):this.isStartDelayed()&&(h=this.updateStartCountdown(h));var c=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(h)&&this.nextTween()&&this.nextState(),c=this.isPendingRemove(),c&&this.persist&&(this.setFinishedState(),c=!1)),c},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(h){this.currentIndex=h,this.currentTween=this.data[h],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(h,c){this.emit(h,this);var p=this.callbacks[c];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});r.register("tweenchain",function(h){return this.scene.sys.tweens.chain(h)}),a.register("tweenchain",function(h){return this.scene.sys.tweens.create(h)}),n.exports=v},48177:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95042),x=e(45319),d=e(83419),o=e(842),a=new d({Extends:u,initialize:function(l,v,h,c,p,g,m,y,S,M,P,w,R,A,L,F,O){u.call(this,l,v,y,S,M,P,w,R,A,L),this.key=h,this.getActiveValue=g,this.getEndValue=c,this.getStartValue=p,this.ease=m,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=O},reset:function(r){u.prototype.reset.call(this);var l=this.tween.targets[this.targetIndex],v=this.key;r&&(l[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(l[v]=this.getActiveValue(l,v,0))},update:function(r){var l=this.tween,v=l.totalTargets,h=this.targetIndex,c=l.targets[h],p=this.key;if(!c)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=r,this.elapsed<=0&&(this.elapsed=0,r=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(c,p,c[p],h,v,l),this.end=this.getEndValue(c,p,this.start,h,v,l),this.current=this.start,c[p]=this.start,this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),m=this.isPlayingBackward();if(g||m){var y=this.elapsed,S=this.duration,M=0,P=!1;y+=r,y>=S?(M=y-S,y=S,P=!0):y<0&&(y=0);var w=x(y/S,0,1);if(this.elapsed=y,this.progress=w,this.previous=this.current,P)g?(this.current=this.end,c[p]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(M)):(this.current=this.start,c[p]=this.start,this.setStateFromStart(M));else{g||(w=1-w);var R=this.ease(w);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,c[p]=this.current}this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(r,l){var v=this.tween;if(!v.isSeeking){var h=v.targets[this.targetIndex],c=this.key,p=this.current,g=this.previous;v.emit(r,v,c,h,p,g);var m=v.callbacks[l];m&&m.func.apply(v.callbackScope,[v,h,c,p,g].concat(m.params))}},destroy:function(){u.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});n.exports=a},42220:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95042),x=e(45319),d=e(83419),o=e(842),a=new d({Extends:u,initialize:function(l,v,h,c,p,g,m,y,S,M,P){u.call(this,l,v,p,g,!1,m,y,S,M,P),this.key="texture",this.startTexture=null,this.endTexture=h,this.startFrame=null,this.endFrame=c,this.yoyo=y!==0},reset:function(r){u.prototype.reset.call(this);var l=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=l.texture.key,this.startFrame=l.frame.name),r&&l.setTexture(this.startTexture,this.startFrame)},update:function(r){var l=this.tween,v=this.targetIndex,h=l.targets[v];if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=r,this.elapsed<=0&&(this.elapsed=0,r=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&h.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),p=this.isPlayingBackward();if(c||p){var g=this.elapsed,m=this.duration,y=0,S=!1;g+=r,g>=m?(y=g-m,g=m,S=!0):g<0&&(g=0);var M=x(g/m,0,1);this.elapsed=g,this.progress=M,S&&(c?(h.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(h.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(y))),this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(r,l){var v=this.tween;if(!v.isSeeking){var h=v.targets[this.targetIndex],c=this.key;v.emit(r,v,c,h);var p=v.callbacks[l];p&&p.func.apply(v.callbackScope,[v,h,c].concat(p.params))}},destroy:function(){u.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});n.exports=a},86353:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=C},83419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}function e(a,r,l){var v=l?a[r]:Object.getOwnPropertyDescriptor(a,r);return!l&&v.value&&typeof v.value=="object"&&(v=v.value),v&&C(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}function u(a,r){var l=Object.getOwnPropertyDescriptor(a,r);return l?(l.value&&typeof l.value=="object"&&(l=l.value),l.configurable===!1):!1}function x(a,r,l,v){for(var h in r)if(!!r.hasOwnProperty(h)){var c=e(r,h,l);if(c!==!1){var p=v||a;if(u(p.prototype,h)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+h+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(a.prototype,h,c)}else a.prototype[h]=r[h]}}function d(a,r){if(!!r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++)x(a,r[l].prototype||r[l])}}function o(a){a||(a={});var r,l;if(a.initialize){if(typeof a.initialize!="function")throw new Error("initialize must be a function");r=a.initialize,delete a.initialize}else if(a.Extends){var v=a.Extends;r=function(){v.apply(this,arguments)}}else r=function(){};a.Extends?(r.prototype=Object.create(a.Extends.prototype),r.prototype.constructor=r,l=a.Extends,delete a.Extends):r.prototype.constructor=r;var h=null;return a.Mixins&&(h=a.Mixins,delete a.Mixins),d(r,h),x(r,a,!0,l),r}o.extend=x,o.mixin=d,o.ignoreFinals=!1,n.exports=o},29747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};n.exports=C},20242:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){return null};n.exports=C},71146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o){if(o===void 0&&(o=e),x>0){var a=x-e.length;if(a<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.push(u),d&&d.call(o,u),u):null;for(var r=u.length-1;r>=0;)e.indexOf(u[r])!==-1&&u.splice(r,1),r--;if(r=u.length,r===0)return null;x>0&&r>a&&(u.splice(a),r=a);for(var l=0;l<r;l++){var v=u[l];e.push(v),d&&d.call(o,v)}return u};n.exports=C},51067:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d,o,a){if(x===void 0&&(x=0),a===void 0&&(a=e),d>0){var r=d-e.length;if(r<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.splice(x,0,u),o&&o.call(a,u),u):null;for(var l=u.length-1;l>=0;)e.indexOf(u[l])!==-1&&u.pop(),l--;if(l=u.length,l===0)return null;d>0&&l>r&&(u.splice(r),l=r);for(var v=l-1;v>=0;v--){var h=u[v];e.splice(x,0,h),o&&o.call(a,h)}return u};n.exports=C},66905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.indexOf(u);return x!==-1&&x<e.length&&(e.splice(x,1),e.push(u)),u};n.exports=C},21612:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),x=function(d,o,a,r,l){r===void 0&&(r=0),l===void 0&&(l=d.length);var v=0;if(u(d,r,l))for(var h=r;h<l;h++){var c=d[h];c[o]===a&&v++}return v};n.exports=x},95428:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d,o=[null];for(d=3;d<arguments.length;d++)o.push(arguments[d]);for(d=0;d<e.length;d++)o[0]=e[d],u.apply(x,o);return e};n.exports=C},36914:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),x=function(d,o,a,r,l){if(r===void 0&&(r=0),l===void 0&&(l=d.length),u(d,r,l)){var v,h=[null];for(v=5;v<arguments.length;v++)h.push(arguments[v]);for(v=r;v<l;v++)h[0]=d[v],o.apply(a,h)}return d};n.exports=x},81957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(u.length){if(u.length===1)return u[0]}else return NaN;var d=1,o,a;if(x){if(e<u[0][x])return u[0];for(;u[d][x]<e;)d++}else for(;u[d]<e;)d++;return d>u.length&&(d=u.length),x?(o=u[d-1][x],a=u[d][x],a-e<=e-o?u[d]:u[d-1]):(o=u[d-1],a=u[d],a-e<=e-o?a:o)};n.exports=C},43491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u=[]);for(var x=0;x<e.length;x++)Array.isArray(e[x])?C(e[x],u):u.push(e[x]);return u};n.exports=C},46710:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),x=function(d,o,a,r,l){r===void 0&&(r=0),l===void 0&&(l=d.length);var v=[];if(u(d,r,l))for(var h=r;h<l;h++){var c=d[h];(!o||o&&a===void 0&&c.hasOwnProperty(o)||o&&a!==void 0&&c[o]===a)&&v.push(c)}return v};n.exports=x},58731:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),x=function(d,o,a,r,l){if(r===void 0&&(r=0),l===void 0&&(l=d.length),u(d,r,l))for(var v=r;v<l;v++){var h=d[v];if(!o||o&&a===void 0&&h.hasOwnProperty(o)||o&&a!==void 0&&h[o]===a)return h}return null};n.exports=x},26546:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){u===void 0&&(u=0),x===void 0&&(x=e.length);var d=u+Math.floor(Math.random()*x);return e[d]===void 0?null:e[d]};n.exports=C},85835:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(u===x)return e;var d=e.indexOf(u),o=e.indexOf(x);if(d<0||o<0)throw new Error("Supplied items must be elements of the same array");return d>o||(e.splice(d,1),o===e.length-1?e.push(u):e.splice(o,0,u)),e};n.exports=C},83371:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(u===x)return e;var d=e.indexOf(u),o=e.indexOf(x);if(d<0||o<0)throw new Error("Supplied items must be elements of the same array");return d<o||(e.splice(d,1),o===0?e.unshift(u):e.splice(o,0,u)),e};n.exports=C},70864:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.indexOf(u);if(x>0){var d=e[x-1],o=e.indexOf(d);e[x]=d,e[o]=u}return e};n.exports=C},69693:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=e.indexOf(u);if(d===-1||x<0||x>=e.length)throw new Error("Supplied index out of bounds");return d!==x&&(e.splice(d,1),e.splice(x,0,u)),u};n.exports=C},40853:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.indexOf(u);if(x!==-1&&x<e.length-1){var d=e[x+1],o=e.indexOf(d);e[x]=d,e[o]=u}return e};n.exports=C},20283:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=[],a,r=!1;if((x||d)&&(r=!0,x||(x=""),d||(d="")),u<e)for(a=e;a>=u;a--)r?o.push(x+a.toString()+d):o.push(a);else for(a=e;a<=u;a++)r?o.push(x+a.toString()+d):o.push(a);return o};n.exports=C},593:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2284),x=function(d,o,a){d===void 0&&(d=0),o===void 0&&(o=null),a===void 0&&(a=1),o===null&&(o=d,d=0);for(var r=[],l=Math.max(u((o-d)/(a||1)),0),v=0;v<l;v++)r.push(d),d+=a;return r};n.exports=x},43886:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(x,d,o){var a=x[d];x[d]=x[o],x[o]=a}function e(x,d){return x<d?-1:x>d?1:0}var u=function(x,d,o,a,r){for(o===void 0&&(o=0),a===void 0&&(a=x.length-1),r===void 0&&(r=e);a>o;){if(a-o>600){var l=a-o+1,v=d-o+1,h=Math.log(l),c=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*c*(l-c)/l)*(v-l/2<0?-1:1),g=Math.max(o,Math.floor(d-v*c/l+p)),m=Math.min(a,Math.floor(d+(l-v)*c/l+p));u(x,d,g,m,r)}var y=x[d],S=o,M=a;for(C(x,o,d),r(x[a],y)>0&&C(x,o,a);S<M;){for(C(x,S,M),S++,M--;r(x[S],y)<0;)S++;for(;r(x[M],y)>0;)M--}r(x[o],y)===0?C(x,o,M):(M++,C(x,M,a)),M<=d&&(o=M+1),d<=M&&(a=M-1)}};n.exports=u},88492:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),x=e(33680),d=function(a,r,l){for(var v=[],h=0;h<a.length;h++)for(var c=0;c<r.length;c++)for(var p=0;p<l;p++)v.push({a:a[h],b:r[c]});return v},o=function(a,r,l){var v=u(l,"max",0),h=u(l,"qty",1),c=u(l,"random",!1),p=u(l,"randomB",!1),g=u(l,"repeat",0),m=u(l,"yoyo",!1),y=[];if(p&&x(r),g===-1)if(v===0)g=0;else{var S=a.length*r.length*h;m&&(S*=2),g=Math.ceil(v/S)}for(var M=0;M<=g;M++){var P=d(a,r,h);c&&x(P),y=y.concat(P),m&&(P.reverse(),y=y.concat(P))}return v&&y.splice(v),y};n.exports=o},72905:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19133),x=function(d,o,a,r){r===void 0&&(r=d);var l;if(!Array.isArray(o))return l=d.indexOf(o),l!==-1?(u(d,l),a&&a.call(r,o),o):null;for(var v=o.length-1,h=[];v>=0;){var c=o[v];l=d.indexOf(c),l!==-1&&(u(d,l),h.push(c),a&&a.call(r,c)),v--}return h};n.exports=x},60248:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19133),x=function(d,o,a,r){if(r===void 0&&(r=d),o<0||o>d.length-1)throw new Error("Index out of bounds");var l=u(d,o);return a&&a.call(r,l),l};n.exports=x},81409:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),x=function(d,o,a,r,l){if(o===void 0&&(o=0),a===void 0&&(a=d.length),l===void 0&&(l=d),u(d,o,a)){var v=a-o,h=d.splice(o,v);if(r)for(var c=0;c<h.length;c++){var p=h[c];r.call(l,p)}return h}else return[]};n.exports=x},31856:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19133),x=function(d,o,a){o===void 0&&(o=0),a===void 0&&(a=d.length);var r=o+Math.floor(Math.random()*a);return u(d,r)};n.exports=x},42169:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=e.indexOf(u),o=e.indexOf(x);return d!==-1&&o===-1?(e[d]=x,!0):!1};n.exports=C},86003:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u=1);for(var x=null,d=0;d<u;d++)x=e.shift(),e.push(x);return x};n.exports=C},49498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){u===void 0&&(u=1);for(var x=null,d=0;d<u;d++)x=e.pop(),e.unshift(x);return x};n.exports=C},82011:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){var o=e.length;if(u<0||u>o||u>=x||x>o){if(d)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};n.exports=C},89545:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){var x=e.indexOf(u);return x!==-1&&x>0&&(e.splice(x,1),e.unshift(u)),u};n.exports=C},17810:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82011),x=function(d,o,a,r,l){if(r===void 0&&(r=0),l===void 0&&(l=d.length),u(d,r,l))for(var v=r;v<l;v++){var h=d[v];h.hasOwnProperty(o)&&(h[o]=a)}return d};n.exports=x},33680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){for(var u=e.length-1;u>0;u--){var x=Math.floor(Math.random()*(u+1)),d=e[u];e[u]=e[x],e[x]=d}return e};n.exports=C},90126:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u=/\D/g;return e.sort(function(x,d){return parseInt(x.replace(u,""),10)-parseInt(d.replace(u,""),10)}),e};n.exports=C},19133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){if(!(u>=e.length)){for(var x=e.length-1,d=e[u],o=u;o<x;o++)e[o]=e[o+1];return e.length=x,d}};n.exports=C},19186:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82264);function x(r,l){return String(r).localeCompare(l)}function d(r,l){var v=r.length;if(v<=1)return r;for(var h=new Array(v),c=1;c<v;c*=2){o(r,l,c,h);var p=r;r=h,h=p}return r}function o(r,l,v,h){var c=r.length,p=0,g=v*2,m,y,S,M,P;for(m=0;m<c;m+=g)for(y=m+v,S=y+v,y>c&&(y=c),S>c&&(S=c),M=m,P=y;;)if(M<y&&P<S)l(r[M],r[P])<=0?h[p++]=r[M++]:h[p++]=r[P++];else if(M<y)h[p++]=r[M++];else if(P<S)h[p++]=r[P++];else break}var a=function(r,l){if(l===void 0&&(l=x),!r||r.length<2)return r;if(u.features.stableSort)return r.sort(l);var v=d(r,l);return v!==r&&o(v,null,r.length,r),r};n.exports=a},25630:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(u===x)return e;var d=e.indexOf(u),o=e.indexOf(x);if(d<0||o<0)throw new Error("Supplied items must be elements of the same array");return e[d]=x,e[o]=u,e};n.exports=C},37105:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:e(54915),Add:e(71146),AddAt:e(51067),BringToTop:e(66905),CountAllMatching:e(21612),Each:e(95428),EachInRange:e(36914),FindClosestInSorted:e(81957),Flatten:e(43491),GetAll:e(46710),GetFirst:e(58731),GetRandom:e(26546),MoveDown:e(70864),MoveTo:e(69693),MoveUp:e(40853),MoveAbove:e(85835),MoveBelow:e(83371),NumberArray:e(20283),NumberArrayStep:e(593),QuickSelect:e(43886),Range:e(88492),Remove:e(72905),RemoveAt:e(60248),RemoveBetween:e(81409),RemoveRandomElement:e(31856),Replace:e(42169),RotateLeft:e(86003),RotateRight:e(49498),SafeRange:e(82011),SendToBack:e(89545),SetAll:e(17810),Shuffle:e(33680),SortByDigits:e(90126),SpliceOne:e(19133),StableSort:e(19186),Swap:e(25630)}},86922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var u=e[0].length,x=1;x<e.length;x++)if(e[x].length!==u)return!1;return!0};n.exports=C},63362:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41836),x=e(86922),d=function(o){var a="";if(!x(o))return a;for(var r=0;r<o.length;r++){for(var l=0;l<o[r].length;l++){var v=o[r][l].toString();v!=="undefined"?a+=u(v,2):a+="?",l<o[r].length-1&&(a+=" |")}if(r<o.length-1){a+=`
`;for(var h=0;h<o[r].length;h++)a+="---",h<o[r].length-1&&(a+="+");a+=`
`}}return a};n.exports=d},92598:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.reverse()};n.exports=C},21224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){for(var u=0;u<e.length;u++)e[u].reverse();return e};n.exports=C},98717:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37829),x=function(d){return u(d,180)};n.exports=x},44657:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37829),x=function(d,o){o===void 0&&(o=1);for(var a=0;a<o;a++)d=u(d,90);return d};n.exports=x},37829:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86922),x=e(2429),d=function(o,a){if(a===void 0&&(a=90),!u(o))return null;if(typeof a!="string"&&(a=(a%360+360)%360),a===90||a===-270||a==="rotateLeft")o=x(o),o.reverse();else if(a===-90||a===270||a==="rotateRight")o.reverse(),o=x(o);else if(Math.abs(a)===180||a==="rotate180"){for(var r=0;r<o.length;r++)o[r].reverse();o.reverse()}return o};n.exports=d},92632:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37829),x=function(d,o){o===void 0&&(o=1);for(var a=0;a<o;a++)d=u(d,-90);return d};n.exports=x},69512:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86003),x=e(49498),d=function(o,a,r){if(a===void 0&&(a=0),r===void 0&&(r=0),r!==0&&(r<0?u(o,Math.abs(r)):x(o,r)),a!==0)for(var l=0;l<o.length;l++){var v=o[l];a<0?u(v,Math.abs(a)):x(v,a)}return o};n.exports=d},2429:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){for(var u=e.length,x=e[0].length,d=new Array(x),o=0;o<x;o++){d[o]=new Array(u);for(var a=u-1;a>-1;a--)d[o][a]=e[a][o]}return d};n.exports=C},54915:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:e(86922),MatrixToString:e(63362),ReverseColumns:e(92598),ReverseRows:e(21224),Rotate180:e(98717),RotateLeft:e(44657),RotateMatrix:e(37829),RotateRight:e(92632),Translate:e(69512),TransposeMatrix:e(2429)}},71334:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(u,x){for(var d=new Uint8Array(u),o=d.length,a=x?"data:"+x+";base64,":"",r=0;r<o;r+=3)a+=C[d[r]>>2],a+=C[(d[r]&3)<<4|d[r+1]>>4],a+=C[(d[r+1]&15)<<2|d[r+2]>>6],a+=C[d[r+2]&63];return o%3===2?a=a.substring(0,a.length-1)+"=":o%3===1&&(a=a.substring(0,a.length-2)+"=="),a};n.exports=e},53134:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),u=0;u<C.length;u++)e[C.charCodeAt(u)]=u;var x=function(d){d=d.substr(d.indexOf(",")+1);var o=d.length,a=o*.75,r=0,l,v,h,c;d[o-1]==="="&&(a--,d[o-2]==="="&&a--);for(var p=new ArrayBuffer(a),g=new Uint8Array(p),m=0;m<o;m+=4)l=e[d.charCodeAt(m)],v=e[d.charCodeAt(m+1)],h=e[d.charCodeAt(m+2)],c=e[d.charCodeAt(m+3)],g[r++]=l<<2|v>>4,g[r++]=(v&15)<<4|h>>2,g[r++]=(h&3)<<6|c&63;return p};n.exports=x},65839:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:e(71334),Base64ToArrayBuffer:e(53134)}},91799:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:e(37105),Base64:e(65839),Objects:e(1183),String:e(31749),NOOP:e(29747),NULL:e(20242)}},41786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u={};for(var x in e)Array.isArray(e[x])?u[x]=e[x].slice(0):u[x]=e[x];return u};n.exports=C},62644:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){var u,x,d;if(typeof e!="object"||e===null)return e;u=Array.isArray(e)?[]:{};for(d in e)x=e[d],u[d]=C(x);return u};n.exports=C},79291:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41212),x=function(){var d,o,a,r,l,v,h=arguments[0]||{},c=1,p=arguments.length,g=!1;for(typeof h=="boolean"&&(g=h,h=arguments[1]||{},c=2),p===c&&(h=this,--c);c<p;c++)if((d=arguments[c])!=null)for(o in d)a=h[o],r=d[o],h!==r&&(g&&r&&(u(r)||(l=Array.isArray(r)))?(l?(l=!1,v=a&&Array.isArray(a)?a:[]):v=a&&u(a)?a:{},h[o]=x(g,v,r)):r!==void 0&&(h[o]=r));return h};n.exports=x},23568:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75508),x=e(35154),d=function(o,a,r){var l=x(o,a,null);if(l===null)return r;if(Array.isArray(l))return u.RND.pick(l);if(typeof l=="object"){if(l.hasOwnProperty("randInt"))return u.RND.integerInRange(l.randInt[0],l.randInt[1]);if(l.hasOwnProperty("randFloat"))return u.RND.realInRange(l.randFloat[0],l.randFloat[1])}else if(typeof l=="function")return l(a);return l};n.exports=d},95540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){var d=typeof e;return!e||d==="number"||d==="string"?x:e.hasOwnProperty(u)&&e[u]!==void 0?e[u]:x};n.exports=C},82840:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35154),x=e(45319),d=function(o,a,r,l,v){v===void 0&&(v=r);var h=u(o,a,v);return x(h,r,l)};n.exports=d},35154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){if(!e&&!d||typeof e=="number")return x;if(e&&e.hasOwnProperty(u))return e[u];if(d&&d.hasOwnProperty(u))return d[u];if(u.indexOf(".")!==-1){for(var o=u.split("."),a=e,r=d,l=x,v=x,h=!0,c=!0,p=0;p<o.length;p++)a&&a.hasOwnProperty(o[p])?(l=a[o[p]],a=a[o[p]]):h=!1,r&&r.hasOwnProperty(o[p])?(v=r[o[p]],r=r[o[p]]):c=!1;return h?l:c?v:x}else return x};n.exports=C},69036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){for(var x=0;x<u.length;x++)if(!e.hasOwnProperty(u[x]))return!1;return!0};n.exports=C},1985:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){for(var x=0;x<u.length;x++)if(e.hasOwnProperty(u[x]))return!0;return!1};n.exports=C},97022:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.hasOwnProperty(u)};n.exports=C},41212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){if(!e||typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};n.exports=C},46975:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41786),x=function(d,o){var a=u(d);for(var r in o)a.hasOwnProperty(r)||(a[r]=o[r]);return a};n.exports=x},269:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(41786),x=function(d,o){var a=u(d);for(var r in o)a.hasOwnProperty(r)&&(a[r]=o[r]);return a};n.exports=x},18254:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97022),x=function(d,o){for(var a={},r=0;r<o.length;r++){var l=o[r];u(d,l)&&(a[l]=d[l])}return a};n.exports=x},61622:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(u))return e[u]=x,!0;if(u.indexOf(".")!==-1){for(var d=u.split("."),o=e,a=e,r=0;r<d.length;r++)if(o.hasOwnProperty(d[r]))a=o,o=o[d[r]];else return!1;return a[d[d.length-1]]=x,!0}return!1};n.exports=C},1183:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:e(41786),DeepCopy:e(62644),Extend:e(79291),GetAdvancedValue:e(23568),GetFastValue:e(95540),GetMinMaxValue:e(82840),GetValue:e(35154),HasAll:e(69036),HasAny:e(1985),HasValue:e(97022),IsPlainObject:e(41212),Merge:e(46975),MergeRight:e(269),Pick:e(18254),SetValue:e(61622)}},27902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return e.replace(/%([0-9]+)/g,function(x,d){return u[Number(d)-1]})};n.exports=C},41836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u,x,d){u===void 0&&(u=0),x===void 0&&(x=" "),d===void 0&&(d=3),e=e.toString();var o=0;if(u+1>=e.length)switch(d){case 1:e=new Array(u+1-e.length).join(x)+e;break;case 3:var a=Math.ceil((o=u-e.length)/2),r=o-a;e=new Array(r+1).join(x)+e+new Array(a+1).join(x);break;default:e=e+new Array(u+1-e.length).join(x);break}return e};n.exports=C},33628:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e,u){return u===0?e.slice(1):e.slice(0,u-1)+e.slice(u)};n.exports=C},27671:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e.split("").reverse().join("")};n.exports=C},45650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var u=Math.random()*16|0,x=e==="x"?u:u&3|8;return x.toString(16)})};n.exports=C},35355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(e){return e&&e[0].toUpperCase()+e.slice(1)};n.exports=C},31749:(n,C,e)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:e(27902),Pad:e(41836),RemoveAt:e(33628),Reverse:e(27671),UppercaseFirst:e(35355),UUID:e(45650)}}},f={};function T(n){var C=f[n];if(C!==void 0)return C.exports;var e=f[n]={exports:{}};return s[n](e,e.exports,T),e.exports}T.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var E=T(85454);return E})())})(Up);const Oi=Up.exports;class $d{constructor(){this.buffs={}}setEnable(t,s){return s===void 0&&(s=!0),this.buffs.hasOwnProperty(t)||(this.buffs[t]={enable:!0,value:0,type:Wn}),this.buffs[t].enable=s,this}set(t,s){this.setEnable(t);var f=typeof s;f==="number"?f=Wn:f==="string"&&(s.indexOf("%")!==-1?(f=Kd,s=parseFloat(s)/100):(f=Wn,s=parseFloat(s)));var T=this.buffs[t];return T.value=s,T.type=f,this}remove(t){return this.buffs.hasOwnProperty(t)&&delete this.buffs[t],this}buff(t){var s=t,f=this.buffs,T,E;for(var n in f)if(T=f[n],!!T.enable)switch(E=T.type,T=T.value,E){case Wn:s+=T;break;case Kd:s+=t*T;break}return s}}const Wn=0,Kd=1,bx=Phaser.Utils.Objects.IsPlainObject,Zd=Phaser.Utils.Objects.GetValue;class Un{constructor(t,s){if(bx(t)){var f=t;t=Zd(f,"min",void 0),s=Zd(f,"max",void 0)}this.setMin(t),this.setMax(s)}setMin(t){return this.min=t,this}setMax(t){return this.max=t,this}clamp(t){return this.min!==void 0&&t<this.min?t=this.min:this.max!==void 0&&t>this.max&&(t=this.max),t}}const kp={setBaseValue(i,t){return this.baseValues[i]=t,this.set(i,this.getBuffResult(i)),this},removeBaseValue(i){return this.baseValues.hasOwnProperty(i)&&(delete this.baseValues[i],this.remove(i)),this},setBuff(i,t,s){return this.buffs.hasOwnProperty(i)||(this.buffs[i]=new $d),this.buffs[i].set(t,s),this.set(i,this.getBuffResult(i)),this},enableBuff(i,t,s){return this.buffs.hasOwnProperty(i)||(this.buffs[i]=new $d),this.buffs[i].setEnable(t,s),this.set(i,this.getBuffResult(i)),this},removeBuff(i,t){return this.buffs.hasOwnProperty(i)&&(t===void 0?delete this.buffs[i]:this.buffs[i].remove(t)),this.set(i,this.getBuffResult(i)),this},setMin(i,t){return this.bounds.hasOwnProperty(i)||(this.bounds[i]=new Un),this.bounds[i].setMin(t),this.set(i,this.getBuffResult(i)),this},setMax(i,t){return this.bounds.hasOwnProperty(i)||(this.bounds[i]=new Un),this.bounds[i].setMax(t),this.set(i,this.getBuffResult(i)),this},setBounds(i,t,s){return this.bounds.hasOwnProperty(i)||(this.bounds[i]=new Un),this.bounds[i].setMin(t).setMax(s),this.set(i,this.getBuffResult(i)),this},getBuffResult(i){return this.clamp(i,this.buff(i))},buff(i,t){return t===void 0&&(t=this.getBaseValue(i)),this.buffs.hasOwnProperty(i)?this.buffs[i].buff(t):t},clamp(i,t){return t===void 0&&(t=this.list[i]),this.bounds.hasOwnProperty(i)?this.bounds[i].clamp(t):t},getBaseValue(i){return this.baseValues.hasOwnProperty(i)||(this.baseValues[i]=0),this.baseValues[i]},getBuffs(i,t){var s=this.buffs[i];if(t===void 0)return s;if(s&&s.hasOwnProperty(t))return s[t]},getBuffValue(i,t){return this.getBuffs(i,t).value},getBounds(i){return this.bounds.hasOwnProperty(i)||(this.bounds[i]=new Un),this.bounds[i]},getMinBound(i){return this.getBounds(i).min},getMaxBound(i){return this.getBounds(i).max}};var Yp=function(i){return i.buffs===void 0&&(i.baseValues={},i.buffs={},i.bounds={}),i.addBuff===void 0&&Object.assign(i,kp),i};const Dx=Phaser.Data.DataManager,Bx=Phaser.Events.EventEmitter;class Hp extends Dx{constructor(t,s){var f=s===void 0;if(f&&(s=new Bx),super(t,s),f){var T=t.events?t.events:t;T&&T.once("destroy",this.destroy,this)}Yp(this)}}Object.assign(Hp.prototype,kp);class Ix extends Phaser.Plugins.BasePlugin{constructor(t){super(t)}start(){var t=this.game.events;t.on("destroy",this.destroy,this)}add(t,s){return new Hp(t,s)}extend(t){return Yp(t)}}class st{constructor(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null,this.displayList=null,this.updateList=null}static register(t,s){st.prototype[t]=s}}var Gx=function(i){return i===void 0&&(i=Nx),this.getFrameNameCallback=i,this},Nx=function(i,t,s){return s==="__BASE"?`${i},${t}`:`${s}:${i},${t}`};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vx=function(i){if(typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},Oe=function(i){var t,s,f;if(i==null||typeof i!="object")return i;if(t=Array.isArray(i)?[]:{},Vx(i))for(f in i)s=i[f],t[f]=Oe(s);else t=i;return t},zx=function(i,t,s,f){Array.isArray(t)&&(f=s,s=t,t=void 0),t==null&&(t="__BASE"),typeof s=="number"&&arguments.length>=6?(s=[arguments[2],void 0,arguments[3]],f=[arguments[4],void 0,arguments[5]]):(s=Oe(s),f=Oe(f)),this.textureKey=i,this.baseFrameName=t,this.columns.data=s,this.columns.count=s?s.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=f,this.rows.count=f?f.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var T=this.scene.sys.textures.get(i);if(!T)return this.clear(),this;if(!s||!f)return this.clear(),this;for(var E=T.get(t),n=E.width,C=0,e=0,u=s.length;e<u;e++)s[e]===void 0?C++:typeof s[e]=="number"?n-=s[e]:n-=s[e].width;for(var x=n/C,d=E.height,o=0,e=0,u=f.length;e<u;e++)f[e]===void 0?o++:typeof f[e]=="number"?d-=f[e]:d-=f[e].width;for(var a=d/o,r,l,v,h,c,p=0,g=0,m=0,y=f.length;m<y;m++){f[m]===void 0&&(f[m]=a),typeof f[m]=="number"&&(f[m]={height:f[m],stretch:m%2}),r=f[m],v=r.height,this.rows.stretch+=r.stretch|0,this.rows.minHeight+=r.stretch>0?0:v,p=0;for(var e=0,S=s.length;e<S;e++){if(s[e]===void 0&&(s[e]=x),typeof s[e]=="number"&&(s[e]={width:s[e],stretch:e%2}),l=s[e],h=l.width,m===0&&(this.columns.stretch+=l.stretch|0,this.columns.minWidth+=l.stretch>0?0:h),h>=1&&v>=1){c=this.getFrameNameCallback(e,m,t);var M=typeof c;(M==="string"||M==="number")&&T.add(c,0,p+E.cutX,g+E.cutY,h,v)}p+=h}g+=v}return this.updateTexture(),this},Xx=function(){if(this.clear(),this.textureKey===void 0)return this;var i=this.scene.sys.textures.get(this.textureKey);if(!i)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,s=this.rows.minHeight*this.maxFixedPartScaleY,f=this.width-t,T=this.height-s,E=f>=0?this.maxFixedPartScaleX:this.width/t,n=T>=0?this.maxFixedPartScaleY:this.height/s;if(this.preserveRatio){var C=Math.min(E,n);if(E>C){var e=(E-C)*t;f>=0?f+=e:f=e,E=C}if(n>C){var u=(n-C)*s;T>=0?T+=u:T=u,n=C}}this.columns.scale=E,this.rows.scale=n;var x;f>0?x=this.columns.stretch>0?f/this.columns.stretch:0:x=0;var d;T>0?d=this.rows.stretch>0?T/this.rows.stretch:0:d=0;var o,a,r,l,v,h=0,c=0,p;this._beginDraw();for(var g=0,m=this.rows.count;g<m;g++){r=this.rows.data[g],v=r.stretch===0?r.height*n:d*r.stretch,h=0;for(var y=0,S=this.columns.count;y<S;y++)a=this.columns.data[y],l=a.stretch===0?a.width*E:x*a.stretch,o=this.getFrameNameCallback(y,g,this.baseFrameName),i.has(o)&&l>0&&v>0&&(r.stretch===0&&a.stretch===0||this.getStretchMode(y,g)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,o,h,c,l,v):this._drawTileSprite(this.textureKey,o,h,c,l,v)),h+=l;c+=v}this._endDraw()};const Wx=Phaser.Utils.Objects.IsPlainObject,Jd=Phaser.Utils.Objects.GetValue;var Ux=function(i){return Wx(i)?(this.stretchMode.edge=eo(Jd(i,"edge",0)),this.stretchMode.internal=eo(Jd(i,"internal",0))):(i=eo(i),this.stretchMode.edge=i,this.stretchMode.internal=i),this},eo=function(i){return typeof i=="string"&&(i=kx[i]),i};const kx={scale:0,repeat:1};var Yx=function(i,t){return i===0||i===this.columns.count-1||t===0||t===this.rows.count-1},Hx=function(i,t){return Yx.call(this,i,t)?this.stretchMode.edge:this.stretchMode.internal},$x=function(i){return i==null&&(i=!0),this.preserveRatio=i,this},Kx=function(i,t){return t===void 0&&(t=i),this.maxFixedPartScaleX=i,this.maxFixedPartScaleY=t,this},he=function(){};const Zx={_beginDraw:he,_drawImage:he,_drawTileSprite:he,_endDraw:he,setGetFrameNameCallback:Gx,setBaseTexture:zx,updateTexture:Xx,setStretchMode:Ux,getStretchMode:Hx,setPreserveRatio:$x,setMaxFixedPartScale:Kx},Dr=Phaser.Utils.Objects.IsPlainObject,Ct=Phaser.Utils.Objects.GetValue;var $p=function(i,t){class s extends i{constructor(T,E,n,C,e,u,x,d,o,a){if(Dr(E)?(a=E,E=Ct(a,"x",0),n=Ct(a,"y",0),C=Ct(a,"width",1),e=Ct(a,"height",1),u=Ct(a,"key",void 0),x=Ct(a,"baseFrame",void 0),d=Ct(a,"columns",void 0),o=Ct(a,"rows",void 0)):Dr(C)?(a=C,C=Ct(a,"width",1),e=Ct(a,"height",1),u=Ct(a,"key",void 0),x=Ct(a,"baseFrame",void 0),d=Ct(a,"columns",void 0),o=Ct(a,"rows",void 0)):Dr(u)?(a=u,u=Ct(a,"key",void 0),x=Ct(a,"baseFrame",void 0),d=Ct(a,"columns",void 0),o=Ct(a,"rows",void 0)):Dr(x)?(a=x,x=Ct(a,"baseFrame",void 0),d=Ct(a,"columns",void 0),o=Ct(a,"rows",void 0)):Array.isArray(x)?(a=o,o=d,d=x,x=Ct(a,"baseFrame",void 0)):Dr(d)&&(a=d,d=Ct(a,"columns",void 0),o=Ct(a,"rows",void 0)),d===void 0){var r=Ct(a,"leftWidth",void 0),l=Ct(a,"rightWidth",void 0);r!==void 0&&l!==void 0&&(d=[r,void 0,l])}if(o===void 0){var v=Ct(a,"topHeight",void 0),h=Ct(a,"bottomHeight",void 0);v!==void 0&&h!==void 0&&(o=[v,void 0,h])}super(T),this.type=t,this.setPosition(E,n).setSize(C,e).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Ct(a,"getFrameNameCallback",void 0)),this.setStretchMode(Ct(a,"stretchMode",0)),this.setPreserveRatio(Ct(a,"preserveRatio",!0));var c=Ct(a,"maxFixedPartScale",1),p=Ct(a,"maxFixedPartScaleX",c),g=Ct(a,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,g),this.setBaseTexture(u,x,d,o)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(T,E){return this.width===T&&this.height===E?this:(super.resize?super.resize(T,E):super.setSize(T,E),this.updateTexture(),this)}}return Object.assign(s.prototype,Zx),s};const Jx=Phaser.Game;var Qd=function(i){return i instanceof Jx};const Qx=Phaser.Scene;var Ds=function(i){return i instanceof Qx},Bs=function(i){if(i==null||typeof i!="object")return null;if(Qd(i))return i;if(Qd(i.game))return i.game;if(Ds(i))return i.sys.game;if(Ds(i.scene))return i.scene.sys.game};const jx=Phaser.GameObjects;var Wi=void 0,Kp=function(i,t){if(Wi||(Wi={},Bs(i).events.once("destroy",function(){for(var f in Wi)Wi[f].destroy();Wi=void 0})),!Wi.hasOwnProperty(t)){var s=Bs(i).scene.systemScene,i=new jx[t](s);i.setOrigin(0),Wi[t]=i}return Wi[t]},qx=function(i,t,s,f,T,E){var n=Kp(this,"Image").setTexture(i,t).setDisplaySize(T,E);this.draw(n,s,f)},_x=function(i,t,s,f,T,E){var n=Kp(this,"TileSprite").setTexture(i,t).setSize(T,E);this.draw(n,s,f)};const ty=Phaser.GameObjects.RenderTexture;class rh extends $p(ty,"rexNinePatch"){}var ey={_drawImage:qx,_drawTileSprite:_x};Object.assign(rh.prototype,ey);var Zp=function(i){return i==null||i===""||i.length===0},iy=function(i,t,s){var f=i;if(!Zp(t)){typeof t=="string"&&(t=t.split("."));for(var T,E=0,n=t.length;E<n;E++){if(T=t[E],f[T]==null||typeof f[T]!="object"){var C;E===n-1?s===void 0?C={}:C=s:C={},f[T]=C}f=f[T]}}return f},et=function(i,t,s,f){if(f===void 0&&(f="."),typeof i=="object"){if(Zp(t)){if(s==null)return;typeof s=="object"&&(i=s)}else{typeof t=="string"&&(t=t.split(f));var T=t.pop(),E=iy(i,t);E[T]=s}return i}};st.register("ninePatch",function(i,t,s,f,T,E,n,C){var e=new rh(this.scene,i,t,s,f,T,E,n,C);return this.scene.add.existing(e),e});et(window,"RexPlugins.UI.NinePatch",rh);const sy=Phaser.GameObjects.GetCalcMatrix;var ry=function(i,t,s,f){var T=t.getRenderList();if(T.length!==0){s.addToRenderList(t);var E=i.pipelines.set(t.pipeline),n=t.frame.glTexture,C=E.setGameObject(t),e=s.roundPixels,u=sy(t,s,f),x=E.calcMatrix.copyFrom(u.calc),d=t._displayOriginX,o=t._displayOriginY,a=s.alpha*t.alpha;i.pipelines.preBatch(t);for(var r=0,l=T.length;r<l;r++)T[r].webglRender(E,x,a,d,o,n,C,e);i.pipelines.postBatch(t)}};const ny=Phaser.Renderer.Canvas.SetTransform;var ay=function(i,t,s,f){var T=i.currentContext,E=t.getRenderList();if(!(E.length===0||!ny(i,T,t,s,f))){s.addToRenderList(t);var n=s.roundPixels,C=-t._displayOriginX,e=-t._displayOriginY;T.translate(C,e);for(var u=0,x=E.length;u<x;u++)E[u].canvasRender(T,C,e,n);T.restore()}};const hy={renderWebGL:ry,renderCanvas:ay};var oy=function(i,t){return this.texture=this.scene.sys.textures.get(i),this.frame=this.texture.get(t),this},jd=function(i,t){if(this.width===i&&this.height===t)return this;this.width=i,this.height=t,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=i,s.hitArea.height=t),this},ly=function(i){return this.lastAppendedChildren.length=0,Array.isArray(i)?(this.children.add(i),this.lastAppendedChildren.push(...i)):(this.children.add(i),this.lastAppendedChildren.push(i)),this};const uy=Phaser.Utils.Array.Remove;var dy=function(i){return this.poolManager&&this.poolManager.free(i),uy(this.children.list,i),this.lastAppendedChildren.length=0,this.dirty=!0,this},qd=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},fy=function(){return this.lastAppendedChildren},vy=function(){return this.children.list};const cy={setTint(i){return this.tint=i,this.tintFill=!1,this},setTintFill(i){return this.tint=i,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var Jp={setTexture:oy,resize:jd,setSize:jd,addChild:ly,removeChild:dy,removeChildren:qd,clear:qd,getLastAppendedChildren:fy,getChildren:vy};Object.assign(Jp,cy);class xi{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const py=Phaser.Utils.Objects.GetValue;var gy={};class my{constructor(t){this.pools=py(t,"pools",gy)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new xi),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,f=t.length;s<f;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const xy=60;var _d=!1,nh=function(i){if(!_d){i===void 0&&(i=xy);var t=parseInt(Phaser.VERSION.match(/\.(\d+)\./)[1]);t<i&&console.error(`Minimum supported version : 3.${i}`),_d=!0}};nh();const yy=Phaser.GameObjects.GameObject,Cy=Phaser.Utils.Objects.IsPlainObject,Br=Phaser.Utils.Objects.GetValue,Ty=Phaser.Structs.List,Sy=Phaser.Utils.Array.StableSort;class Qp extends yy{constructor(t,s,f,T,E,n){Cy(s)&&(n=s,s=Br(n,"x",0),f=Br(n,"y",0),T=Br(n,"texture"),E=Br(n,"frame")),s===void 0&&(s=0),f===void 0&&(f=0),super(t,"rexBlitter"),this.children=new Ty,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var C=Br(n,"reuseBob",!0);this.poolManager=C?new my(n):void 0,this.setTexture(T,E),this.setPosition(s,f),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,s=this.children.list,f=0,T=s.length;f<T;f++){var E=s[f];Ey(E)&&(this.renderList.push(E),t||(t=E.depth!==0))}t&&Sy(this.renderList,Py),this.displayListDirty=!1}return this.renderList}}var Ey=function(i){return i.active&&i.visible&&i.alpha>0},Py=function(i,t){return i._depth-t._depth};const Ie=Phaser.GameObjects.Components;Phaser.Class.mixin(Qp,[Ie.Alpha,Ie.BlendMode,Ie.ComputedSize,Ie.Depth,Ie.GetBounds,Ie.Mask,Ie.Origin,Ie.Pipeline,Ie.PostPipeline,Ie.ScrollFactor,Ie.Transform,Ie.Visible,hy,Jp]);const jp="image";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mt=function(i,t,s){if(!i||typeof i=="number")return s;if(i.hasOwnProperty(t))return i[t];if(t.indexOf(".")!==-1){for(var f=t.split("."),T=i,E=s,n=0;n<f.length;n++)if(T.hasOwnProperty(f[n]))E=T[f[n]],T=T[f[n]];else{E=s;break}return E}else return s},Fi=function(i){if(typeof i!="object"||i===null)return i;if(Array.isArray(i))i.length=0;else for(var t in i)delete i[t];return i};const ah={enableData(){return this.data===void 0&&(this.data={}),this},setData(i,t){if(this.enableData(),arguments.length===1){var s=i;for(i in s)this.data[i]=s[i]}else this.data[i]=t;return this},getData(i,t){return this.enableData(),i===void 0?this.data:Mt(this.data,i,t)},incData(i,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(i,this.getData(i,s)+t),this},mulData(i,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(i,this.getData(i,s)*t),this},clearData(){return this.data&&Fi(this.data),this}};class qp{constructor(t,s){this.type=s,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}}Object.assign(qp.prototype,ah);const My=Phaser.Math.DegToRad,wy=Phaser.Math.RadToDeg,Us=Phaser.Utils.Objects.GetValue;class Ry extends qp{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setRotation(t){return this.rotation=t,this}get angle(){return wy(this.rotation)}set angle(t){this.rotation=My(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,s){return s===void 0&&(s=!1),this.displayWidth=t,s&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,s){return s===void 0&&(s=!1),this.displayHeight=t,s&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,s){return s===void 0&&(s=t),this.setOriginX(t).setOriginY(s),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=Us(t,"width",void 0),f=Us(t,"height",void 0),T=Us(t,"scale",void 0),E=Us(t,"scaleX",T),n=Us(t,"scaleY",T);s!==void 0?f===void 0&&n===void 0?this.setWidth(s,!0):this.setWidth(s):E!==void 0?this.setScaleX(E):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),f!==void 0?s===void 0&&E===void 0?this.setHeight(f,!0):this.setHeight(f):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var C=Us(t,"origin",void 0);return C!==void 0?this.setOrigin(C):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,s,f,T,E,n,C,e){}canvasRender(t,s,f,T){}}const Ay=Phaser.GameObjects.Components.TransformMatrix,Ly=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var kn=new Ay,Oy=function(i,t,s,f,T,E,n,C){var e=this._width,u=this._height,x=e*this.originX,d=u*this.originY,o=this.x-f,a=this.y-T,r=1,l=1;this.flipX&&(o+=e-x*2,r=-1),this.flipY&&(a+=u-d*2,l=-1),kn.applyITRS(o,a,this.rotation,this.scaleX*r,this.scaleY*l),t.multiply(kn,kn);var v=-x,h=-d,c=v+e,p=h+u,g=kn.setQuad(v,h,c,p,C),m=this.frame.u0,y=this.frame.v0,S=this.frame.u1,M=this.frame.v1,P=Ly(this.tint,this.alpha*s);i.batchQuad(this.parent,g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],m,y,S,M,P,P,P,P,this.tintFill,E,n)},Fy=function(i,t,s,f){i.save();var T=this._width,E=this._height,n=T*this.originX,C=E*this.originY,e=this.x-n,u=this.y-C,x=1,d=1;this.flipX&&(e+=T,x=-1),this.flipY&&(u+=E,d=-1),f&&(e=Math.round(e),u=Math.round(u)),i.translate(e,u),i.rotate(this.rotation),i.scale(this.scaleX*x,this.scaleY*d);var o=this.frame;i.drawImage(o.source.image,o.cutX,o.cutY,T,E,0,0,T,E),i.restore()};const by=Phaser.Utils.Objects.IsPlainObject;class _p extends Ry{constructor(t,s){super(t,jp),this.setFrame(s)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!by(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}reset(){return super.reset(),this.resetFlip().resetTint().setFrame(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}}var Dy={webglRender:Oy,canvasRender:Fy};Object.assign(_p.prototype,Dy);var tg=function(i,t){typeof t=="string"&&(t={frame:t});var s=i.poolManager?i.poolManager.allocate(jp):null;return s===null?s=new _p(i):s.setParent(i).setActive(),s.modifyPorperties(t),i.addChild(s),s},By=function(i,t,s,f,T,E){tg(this,{frame:t,x:s,y:f,width:T,height:E})},Iy=function(i,t,s,f,T,E){var n=this.texture.get(t),C=n.width,e=n.height,u=Math.floor(T/C),x=Math.floor(E/e);s+=(T-u*C)/2,f+=(E-x*e)/2;for(var d=0;d<u;d++)for(var o=0;o<x;o++)tg(this,{frame:t,x:s+d*C,y:f+o*e})};const Gy={_drawImage:By,_drawTileSprite:Iy};class su extends $p(Qp,"rexNinePatch2"){setBaseTexture(t,s,f,T){return this.setTexture(t,s),super.setBaseTexture(t,s,f,T),this}}Object.assign(su.prototype,Gy);st.register("ninePatch2",function(i,t,s,f,T,E,n,C){var e=new su(this.scene,i,t,s,f,T,E,n,C);return this.scene.add.existing(e),e});et(window,"RexPlugins.UI.NinePatch2",su);const Qi=Phaser.Utils.Objects.GetValue;class eg{constructor(t,s,f,T,E){t===void 0&&(t=0),s===void 0&&(s=t),f===void 0&&(f=0),T===void 0&&(T=0),E===void 0&&(E=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,s,f,T,E)}setTo(t,s,f,T,E){return this.setPosition(t,s),this.setRadius(E),this.setSize(f,T),this}setPosition(t,s){return this.x=t,this.y=s,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,s){return this.width=t,this.height=s,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var s,f;typeof t=="number"?(s=t,f=t):(s=Qi(t,"x",0),f=Qi(t,"y",0));var T=this.cornerRadius;T.tl=Yn(Qi(t,"tl",void 0),s,f),T.tr=Yn(Qi(t,"tr",void 0),s,f),T.bl=Yn(Qi(t,"bl",void 0),s,f),T.br=Yn(Qi(t,"br",void 0),s,f)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Hn(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Hn(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Hn(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Hn(this.cornerRadius.br,t)}}var Yn=function(i,t,s){return i===void 0?i={x:t,y:s}:typeof i=="number"&&(i={x:i,y:i}),ig(i),i},Hn=function(i,t){typeof t=="number"?(i.x=t,i.y=t):(i.x=Qi(t,"x",0),i.y=Qi(t,"y",0)),ig(i)},ig=function(i){i.convex=i.x>=0||i.y>=0,i.x=Math.abs(i.x),i.y=Math.abs(i.y)},yi=function(i,t,s){var f=s.length;if(f>=2){var T=s[f-2],E=s[f-1];if(i===T&&t===E)return s}return s.push(i,t),s};const tf=Phaser.Math.DegToRad;var ee=function(i,t,s,f,T,E,n,C,e){n&&E>T?E-=360:!n&&E<T&&(E+=360);var u=E-T,x=tf(u)/C;T=tf(T);for(var d=0;d<=C;d++){var o=T+x*d,a=i+s*Math.cos(o),r=t+f*Math.sin(o);yi(a,r,e)}return e},Ny=Phaser.Renderer.WebGL.Utils,sg=function(i,t,s,f,T,E){for(var n=Ny.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*f),C=s.pathData,e=s.pathIndexes,u=0;u<e.length;u+=3){var x=e[u]*2,d=e[u+1]*2,o=e[u+2]*2,a=C[x+0]-T,r=C[x+1]-E,l=C[d+0]-T,v=C[d+1]-E,h=C[o+0]-T,c=C[o+1]-E,p=t.getX(a,r),g=t.getY(a,r),m=t.getX(l,v),y=t.getY(l,v),S=t.getX(h,c),M=t.getY(h,c);i.batchTri(s,p,g,m,y,S,M,0,0,1,1,n,n,n,2)}},Vy=Phaser.Renderer.WebGL.Utils,hh=function(i,t,s,f,T){var E=i.strokeTint,n=Vy.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*s);E.TL=n,E.TR=n,E.BL=n,E.BR=n;var C=t.pathData,e=C.length-1,u=t.lineWidth,x=u/2,d=C[0]-f,o=C[1]-T;t.closePath||(e-=2);for(var a=2;a<e;a+=2){var r=C[a]-f,l=C[a+1]-T;i.batchLine(d,o,r,l,x,x,u,a-2,t.closePath?a===e-1:!1),d=r,o=l}};const zy=Phaser.GameObjects.GetCalcMatrix;var Xy=function(i,t,s,f){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var T=i.pipelines.set(t.pipeline),E=zy(t,s,f),n=T.calcMatrix.copyFrom(E.calc),C=t._displayOriginX,e=t._displayOriginY,u=s.alpha*t.alpha;i.pipelines.preBatch(t),t.isFilled&&sg(T,n,t,u,C,e),t.isStroked&&hh(T,t,u,C,e),i.pipelines.postBatch(t)},xn=function(i,t,s,f){var T=s||t.fillColor,E=f||t.fillAlpha,n=(T&16711680)>>>16,C=(T&65280)>>>8,e=T&255;i.fillStyle="rgba("+n+","+C+","+e+","+E+")"},yn=function(i,t,s,f){var T=s||t.strokeColor,E=f||t.strokeAlpha,n=(T&16711680)>>>16,C=(T&65280)>>>8,e=T&255;i.strokeStyle="rgba("+n+","+C+","+e+","+E+")",i.lineWidth=t.lineWidth};const Wy=Phaser.Renderer.Canvas.SetTransform;var Uy=function(i,t,s,f){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var T=i.currentContext;if(Wy(i,T,t,s,f)){var E=t._displayOriginX,n=t._displayOriginY,C=t.pathData,e=C.length-1,u=C[0]-E,x=C[1]-n;T.beginPath(),T.moveTo(u,x),t.closePath||(e-=2);for(var d=2;d<e;d+=2){var o=C[d]-E,a=C[d+1]-n;T.lineTo(o,a)}T.closePath(),t.isFilled&&(xn(T,t),T.fill()),t.isStroked&&(yn(T,t),T.stroke()),T.restore()}};const ky={renderWebGL:Xy,renderCanvas:Uy},Yy=Phaser.GameObjects.Shape,Hy=Phaser.Utils.Objects.IsPlainObject,ef=Phaser.Utils.Objects.GetValue,$y=Phaser.Geom.Polygon.Earcut;class ls extends Yy{constructor(t,s,f,T,E,n,C,e){var u,x,d,o;if(Hy(s)){var a=s;s=a.x,f=a.y,T=a.width,E=a.height,n=a.radius,C=a.color,e=a.alpha,u=a.strokeColor,x=a.strokeAlpha,d=a.strokeWidth,o=a.shape}s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=1),E===void 0&&(E=T),n===void 0&&(n=0),o===void 0&&(o=0);var r=new eg;if(super(t,"rexRoundRectangleShape",r),this.setShapeType(o),this.shapeType===0){var l=ef(n,"radius",n);r.setTo(0,0,T,E,l)}else{var l={x:T/2,y:E/2};r.setTo(0,0,T,E,l)}var v=ef(n,"iteration",void 0);this.setIteration(v),this.setPosition(s,f),this.setFillStyle(C,e),u!==void 0&&d===void 0&&(d=2),this.setStrokeStyle(d,u,x),this.updateDisplayOrigin(),this.dirty=!0}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,s){return s===void 0&&(s=1),this.fillColor=t,this.fillAlpha=s,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,s,f){return f===void 0&&(f=1),this.lineWidth=t,this.strokeColor=s,this.strokeAlpha=f,this}updateData(){var t=this.geom,s=this.pathData;s.length=0;var f=t.width,T=t.height,E=t.cornerRadius,n,C=this.iteration+1;if(n=E.tl,$n(n))if(n.convex){var e=n.x,u=n.y;ee(e,u,n.x,n.y,180,270,!1,C,s)}else{var e=0,u=0;ee(e,u,n.x,n.y,90,0,!0,C,s)}else yi(0,0,s);if(n=E.tr,$n(n))if(n.convex){var e=f-n.x,u=n.y;ee(e,u,n.x,n.y,270,360,!1,C,s)}else{var e=f,u=0;ee(e,u,n.x,n.y,180,90,!0,C,s)}else yi(f,0,s);if(n=E.br,$n(n))if(n.convex){var e=f-n.x,u=T-n.y;ee(e,u,n.x,n.y,0,90,!1,C,s)}else{var e=f,u=T;ee(e,u,n.x,n.y,270,180,!0,C,s)}else yi(f,T,s);if(n=E.bl,$n(n))if(n.convex){var e=n.x,u=T-n.y;ee(e,u,n.x,n.y,90,180,!1,C,s)}else{var e=0,u=T;ee(e,u,n.x,n.y,360,270,!0,C,s)}else yi(0,T,s);return s.push(s[0],s[1]),this.pathIndexes=$y(s),this}setShapeType(t){return typeof t=="string"&&(t=Ky[t]),this.shapeType=t,this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,s){if(s===void 0&&(s=t),this.geom.width===t&&this.geom.height===s)return this;this.geom.setSize(t,s),this.shapeType===1&&this.setRadius({x:t/2,y:s/2}),this.updateDisplayOrigin(),this.dirty=!0;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=t,f.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var $n=function(i){return i.x>0&&i.y>0};const Ky={rectangle:0,circle:1};Object.assign(ls.prototype,ky);st.register("roundRectangle",function(i,t,s,f,T,E,n){var C=new ls(this.scene,i,t,s,f,T,E,n);return this.scene.add.existing(C),C});et(window,"RexPlugins.UI.RoundRectangle",ls);const Zy=Phaser.Renderer.WebGL.Utils;var Jy=function(i,t,s,f){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){s.addToRenderList(t);var T=t.frame,E=T.width,n=T.height,C=Zy.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),u=e.setTexture2D(T.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,T.glTexture,E,n,t.x,t.y,E/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,C(t.tintTopLeft,s.alpha*t._alphaTL),C(t.tintTopRight,s.alpha*t._alphaTR),C(t.tintBottomLeft,s.alpha*t._alphaBL),C(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,f,!1,u),i.pipelines.postBatch(t)}},Qy=function(i,t,s,f){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(s.addToRenderList(t),i.batchSprite(t,t.frame,s,f))};const jy={renderWebGL:Jy,renderCanvas:Qy},qy=Phaser.Display.Color,_y={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(i){return this.context.fillStyle=i,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(i,t,s,f,T,E,n,C,e,u){var x=this.scene.sys.textures.getFrame(i,t);if(!x)return this;var d=x.cutWidth,o=x.cutHeight;s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=d),E===void 0&&(E=o),n===void 0&&(n=0),C===void 0&&(C=0),e===void 0&&(e=d),u===void 0&&(u=o);var a=x.cutX+n,r=x.cutY+C;return this.context.drawImage(x.source.image,a,r,e,u,s,f,T,E),this.dirty=!0,this},getDataURL(i,t){return this.canvas.toDataURL(i,t)},getPixel(i,t,s){s===void 0&&(s=new qy);var f=this.context.getImageData(i,t,1,1);return s.setTo(f.data[0],f.data[1],f.data[2],f.data[3]),s},setPixel(i,t,s,f,T,E){if(typeof s!="number"){var n=s;s=n.red,f=n.green,T=n.blue,E=n.alpha}E===void 0&&(E=s!==0||f!==0||T!==0?255:0);var C=this.context.createImageData(1,1);return C.data[0]=s,C.data[1]=f,C.data[2]=T,C.data[3]=E,this.context.putImageData(C,i,t),this.dirty=!0,this}};var rg=function(i,t,s,f,T,E,n){var C=i.sys.textures,e=i.renderer;f===void 0&&(f=0),T===void 0&&(T=0),E===void 0&&(E=t.width),n===void 0&&(n=t.height);var u;C.exists(s)?u=C.get(s):u=C.createCanvas(s,E,n);var x=u.getSourceImage();x.width!==E&&(x.width=E),x.height!==n&&(x.height=n);var d=x.getContext("2d",{willReadFrequently:!0});d.clearRect(0,0,E,n),d.drawImage(t,f,T,E,n),e.gl&&u&&e.canvasToTexture(x,u.source[0].glTexture,!0,0)};const tC={updateTexture(i,t){i&&(t?i.call(t,this.canvas,this.context):i(this.canvas,this.context)),(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},generateTexture(i,t,s,f,T){var E=this.canvas;return f===void 0?f=E.width:f*=this.resolution,T===void 0?T=E.height:T*=this.resolution,rg(this.scene,E,i,t,s,f,T),this},loadTexture(i,t){var s=this.scene.sys.textures.getFrame(i,t);return s?(this.width!==s.cutWidth||this.height!==s.cutHeight?this.setSize(s.cutWidth,s.cutHeight):this.clear(),this.drawFrame(i,t),this.dirty=!0,this):this}};nh();const sf=Phaser.Display.Canvas.CanvasPool,eC=Phaser.GameObjects.GameObject,iC=Phaser.Utils.String.UUID;class us extends eC{constructor(t,s,f,T,E){s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=1),E===void 0&&(E=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=1,this._width=T,this._height=E,T=Math.max(Math.ceil(T*this.resolution),1),E=Math.max(Math.ceil(E*this.resolution),1),this.canvas=sf.create(this,T,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(s,f),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=iC(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){sf.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,s){return this._width===t&&this._height===s?this:(this._width=t,this._height=s,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),s=Math.max(Math.ceil(s*this.resolution),1),this.canvas.width=t,this.canvas.height=s,this.frame.setSize(t,s),this.dirty=!0,this)}setSize(t,s){return this.setCanvasSize(t,s),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,s){return this.displayWidth=t,this.displayHeight=s,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,s){return this.setSize(t,s),this}}const ge=Phaser.GameObjects.Components;Phaser.Class.mixin(us,[ge.Alpha,ge.BlendMode,ge.Crop,ge.Depth,ge.Flip,ge.GetBounds,ge.Mask,ge.Origin,ge.Pipeline,ge.PostPipeline,ge.ScrollFactor,ge.Tint,ge.Transform,ge.Visible,jy,_y,tC]);const sC=Phaser.Utils.String.Pad;var ft=function(i,t,s){if(i==null)return i;switch(typeof i){case"string":return i;case"number":return`#${sC(Math.floor(i).toString(16),6,"0",1)}`;case"function":return i(t,s);case"object":return i.hasOwnProperty("r")?i.hasOwnProperty("a")?`rgba(${i.r},${i.g},${i.b},${i.a})`:`rgb(${i.r},${i.g},${i.b})`:i.hasOwnProperty("h")?i.hasOwnProperty("a")?`hsla(${i.h},${i.s},${i.l},${i.a})`:`hsl(${i.h},${i.s},${i.l})`:i;default:return i}};const rf=Phaser.Math.DegToRad;var ng=function(i,t,s,f,T,E,n){var C=new eg(t,s,f,T,E),e=C.minWidth,u=C.minHeight,x=f>=e?1:f/e,d=T>=u?1:T/u,o=C.cornerRadius,a,r,l,v,h,c,p;i.save(),i.beginPath(),i.translate(t,s),a=o.tl,Zn(a)?(r=a.x*x,l=a.y*d,Kn(a)?(v=r,h=l,Ui(i,v,h,r,l,180,270,!1,n)):(v=0,h=0,Ui(i,v,h,r,l,90,0,!0,n)),c=0,p=l):(i.lineTo(0,0),c=0,p=0),a=o.tr,Zn(a)?(r=a.x*x,l=a.y*d,Kn(a)?(v=f-r,h=l,Ui(i,v,h,r,l,270,360,!1,n)):(v=f,h=0,Ui(i,v,h,r,l,180,90,!0,n))):i.lineTo(f,0),a=o.br,Zn(a)?(r=a.x*x,l=a.y*d,Kn(a)?(v=f-r,h=T-l,Ui(i,v,h,r,l,0,90,!1,n)):(v=f,h=T,Ui(i,v,h,r,l,270,180,!0,n))):i.lineTo(f,T),a=o.bl,Zn(a)?(r=a.x*x,l=a.y*d,Kn(a)?(v=r,h=T-l,Ui(i,v,h,r,l,90,180,!1,n)):(v=0,h=T,Ui(i,v,h,r,l,360,270,!0,n))):i.lineTo(0,T),i.lineTo(c,p),i.closePath(),i.restore()},Kn=function(i){return!i.hasOwnProperty("convex")||i.convex},Zn=function(i){return i.x>0&&i.y>0},Ui=function(i,t,s,f,T,E,n,C,e){if(C&&n>E?n-=360:!C&&n<E&&(n+=360),E=rf(E),n=rf(n),e==null)i.ellipse(t,s,f,T,0,E,n,C);else{e+=1;for(var u,x,d,o=(n-E)/e,a=0;a<=e;a++)d=E+o*a,u=t+f*Math.cos(d),x=s+T*Math.sin(d),i.lineTo(u,x)}},rC=function(i,t,s,f,T,E,n,C,e,u,x,d,o){if(ng(t,s,f,T,E,n,o),C!=null){if(x!=null){var a;d?a=t.createLinearGradient(0,0,T,0):a=t.createLinearGradient(0,0,0,E),a.addColorStop(0,C),a.addColorStop(1,x),C=a}t.fillStyle=C,t.fill()}e!=null&&u>0&&(t.strokeStyle=e,t.lineWidth=u,t.stroke())},ru=function(i,t,s,f,T,E,n,C){if(!(t==null&&s==null)){var e=i.canvas.width,u=i.canvas.height;s==null&&(f=0);var x=f/2;e=Math.max(1,e-f),u=Math.max(1,u-f),rC(i.canvas,i.context,x,x,e,u,T,t,s,f,E,n,C)}},nC=function(){ru(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const nf=Phaser.Utils.Objects.GetValue;class ag extends us{constructor(t,s,f,T,E,n,C,e,u,x,d){s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=1),E===void 0&&(E=T),n===void 0&&(n=0),super(t,s,f,T,E),this.type="rexRoundRectangleCanvas";var o=nf(n,"radius",n),a=nf(n,"iteration",void 0);this.setRadius(o),this.setIteration(a),this.setFillStyle(C,x,d),this.setStrokeStyle(e,u)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=ft(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=ft(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,s,f){return f===void 0&&(f=!0),this.fillStyle=t,this.fillColor2=s,this.isHorizontalGradient=f,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=ft(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,s){return this.strokeStyle=t,this.lineWidth=s,this}updateTexture(){return this.clear(),nC.call(this),super.updateTexture(),this}}st.register("roundRectangleCanvas",function(i,t,s,f,T,E,n,C,e,u){var x=new ag(this.scene,i,t,s,f,T,E,n,C,e,u);return this.scene.add.existing(x),x});et(window,"RexPlugins.UI.RoundRectangleCanvas",ag);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var aC=Phaser.Renderer.WebGL.Utils,hC=function(i,t,s,f){if(!(t.width===0||t.height===0)){s.addToRenderList(t);var T=t.frame,E=T.width,n=T.height,C=aC.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),u=e.setTexture2D(T.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,T.glTexture,E,n,t.x,t.y,E/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,C(t.tintTopLeft,s.alpha*t._alphaTL),C(t.tintTopRight,s.alpha*t._alphaTR),C(t.tintBottomLeft,s.alpha*t._alphaBL),C(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,f,!1,u),i.pipelines.postBatch(t)}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oC=function(i,t,s,f){t.width===0||t.height===0||(s.addToRenderList(t),i.batchSprite(t,t.frame,s,f))};const lC={renderWebGL:hC,renderCanvas:oC},io=Phaser.Display.Canvas.CanvasPool;var uC=function(i,t,s){s===void 0&&(s={});var f=io.create(this),T=f.getContext("2d",{willReadFrequently:!0});i.syncFont(f,T);var E=T.measureText(t),n=Math.ceil(E.width*i.baselineX),C=n,e=2*C;if(C=C*i.baselineY|0,f.width=n,f.height=e,T.fillStyle="#f00",T.fillRect(0,0,n,e),T.font=i._font,T.textBaseline="alphabetic",T.fillStyle="#000",T.fillText(i.testString,0,C),s.left=0,n===0||e===0||!T.getImageData(0,0,n,e))return io.remove(f),s;for(var u=T.getImageData(0,0,n,e).data,x=!1,d=0;d<n;d++){for(var o=0;o<e;o++){var a=(o*n+d)*4;if(u[a]!==255){s.left=d,x=!0;break}}if(x)break}return io.remove(f),s};nh();const dC=Phaser.GameObjects.GameObject;class hg extends dC{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,s){return this.style.setFixedSize(t,s)}setBackgroundColor(t,s,f){return this.style.setBackgroundColor(t,s,f)}setBackgroundStrokeColor(t,s){return this.style.setBackgroundStrokeColor(t,s)}setBackgroundCornerRadius(t,s){return this.style.setBackgroundCornerRadius(t,s)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,s){return this.style.setStroke(t,s)}setShadow(t,s,f,T,E,n){return this.style.setShadow(t,s,f,T,E,n)}setShadowOffset(t,s){return this.style.setShadowOffset(t,s)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}setLineSpacing(t){return this.lineSpacing=t,this.updateText(!1),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,s){return this.style.setTextMetrics(t,s)}measureTextMargins(t,s){return uC(this.style,t,s)}}const ve=Phaser.GameObjects.Components;Phaser.Class.mixin(hg,[ve.Alpha,ve.BlendMode,ve.ComputedSize,ve.Crop,ve.Depth,ve.Flip,ve.GetBounds,ve.Mask,ve.Origin,ve.Pipeline,ve.PostPipeline,ve.ScrollFactor,ve.Tint,ve.Transform,ve.Visible,lC]);var fC={backgroundColor:["backgroundColor",null,ft],backgroundColor2:["backgroundColor2",null,ft],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,ft],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",ft],stroke:["stroke","#fff",ft],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",ft],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",ft],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",ft],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|M\xC3\u2030qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const Jn=Phaser.Display.Canvas.CanvasPool;var af=function(i){var t=Jn.create(this),s=t.getContext("2d",{willReadFrequently:!0});i.syncFont(t,s);var f=s.measureText(i.testString);if("actualBoundingBoxAscent"in f){var T=f.actualBoundingBoxAscent,E=f.actualBoundingBoxDescent,u={ascent:T,descent:E,fontSize:T+E};return Jn.remove(t),u}var n=Math.ceil(f.width*i.baselineX),C=n,e=2*C;C=C*i.baselineY|0,t.width=n,t.height=e,s.fillStyle="#f00",s.fillRect(0,0,n,e),s.font=i._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(i.testString,0,C);var u={ascent:0,descent:0,fontSize:0};if(!s.getImageData(0,0,n,e))return u.ascent=C,u.descent=C+6,u.fontSize=u.ascent+u.descent,Jn.remove(t),u;var x=s.getImageData(0,0,n,e).data,d=x.length,o=n*4,a,r,l=0,v=!1;for(a=0;a<C;a++){for(r=0;r<o;r+=4)if(x[l+r]!==255){v=!0;break}if(!v)l+=o;else break}for(u.ascent=C-a,l=d-o,v=!1,a=e;a>C;a--){for(r=0;r<o;r+=4)if(x[l+r]!==255){v=!0;break}if(!v)l-=o;else break}return u.descent=a-C,u.fontSize=u.ascent+u.descent,Jn.remove(t),u},Zt={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const vC=Phaser.Utils.Objects.GetAdvancedValue,Ee=Phaser.Utils.Objects.GetValue;class nu{constructor(t,s,f){this.parent=t,f===void 0&&(f=fC),this.propertyMap=f,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(s,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==Zt.NO_WRAP&&this.wrapWidth===0}setStyle(t,s,f){if(s===void 0&&(s=!0),f===void 0&&(f=!1),t&&t.hasOwnProperty("wordWrap")){var T=t.wordWrap;T.hasOwnProperty("width")&&(t.wrap={mode:"word",width:T.width})}if(t&&t.hasOwnProperty("wrap")){var E=t.wrap;if(E.hasOwnProperty("mode")){var n=E.mode;typeof n=="string"&&(E.mode=hf[n])}else E.hasOwnProperty("width")&&(E.mode=1)}t&&t.rtl&&f&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var C=this.propertyMap;for(var e in C){var u=C[e],x=u[0],d=f?u[1]:this[e],o=u[2];if(e==="wrapCallback"||e==="wrapCallbackScope")this[e]=Ee(t,x,d);else{var a=vC(t,x,d);o&&(a=o(a)),this[e]=a}}var r=Ee(t,"font",null);r===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=r;var l=Ee(t,"fill",null);l!==null&&(this.color=ft(l));var v=Ee(t,"metrics",!1);return v?this.metrics={ascent:Ee(v,"ascent",0),descent:Ee(v,"descent",0),fontSize:Ee(v,"fontSize",0)}:(s||!this.metrics)&&(this.metrics=af(this)),s?this.parent.updateText():this.parent}syncFont(t,s){s.font=this._font}syncStyle(t,s){s.textBaseline="alphabetic",s.fillStyle=this.color,s.strokeStyle=this.stroke,s.lineWidth=this.strokeThickness,s.lineCap="round",s.lineJoin="round"}syncShadow(t,s){s?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=af(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ee(t,"fontFamily","Courier"),this.fontSize=Ee(t,"fontSize","16px"),this.fontStyle=Ee(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,s){return this.fixedWidth=t,this.fixedHeight=s,t&&(this.parent.width=t),s&&(this.parent.height=s),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,s,f){return f===void 0&&(f=!0),this.backgroundColor=ft(t,this.parent.canvas,this.parent.context),this.backgroundColor2=ft(s,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=f,this.update(!1)}setBackgroundStrokeColor(t,s){return this.backgroundStrokeColor=ft(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=s,this.update(!1)}setBackgroundCornerRadius(t,s){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=s,this.update(!1)}setFill(t){return this.color=ft(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=ft(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,s){return t===void 0?this.strokeThickness=0:(s===void 0&&(s=this.strokeThickness),this.stroke=ft(t,this.parent.canvas,this.parent.context),this.strokeThickness=s),this.update(!0)}setShadow(t,s,f,T,E,n){return t===void 0&&(t=0),s===void 0&&(s=0),f===void 0&&(f="#000"),T===void 0&&(T=0),E===void 0&&(E=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=s,this.shadowColor=ft(f,this.parent.canvas,this.parent.context),this.shadowBlur=T,this.shadowStroke=E,this.shadowFill=n,this.update(!1)}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=t),this.shadowOffsetX=t,this.shadowOffsetY=s,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=ft(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,s,f){return t===void 0&&(t="#000"),s===void 0&&(s=0),f===void 0&&(f=0),this.underlineColor=ft(t,this.parent.canvas,this.parent.context),this.underlineThickness=s,this.underlineOffset=f,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=ft(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,s,f){return t===void 0&&(t="#000"),s===void 0&&(s=0),f===void 0&&(f=0),this.strikethroughColor=ft(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=s,this.strikethroughOffset=f,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=ft(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=hf[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,s){return t===void 0&&(t="left"),s===void 0&&(s="top"),this.halign=t,this.valign=s,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,s){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,s&&(typeof s=="string"?(this.fontFamily=s,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ee(s,"fontFamily",this.fontFamily),this.fontSize=Ee(s,"fontSize",this.fontSize),this.fontStyle=Ee(s,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.parent.lineSpacing}toJSON(){var t={},s=this.propertyMap;for(var f in s)t[f]=this[f];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}}const hf={none:Zt.NO_WRAP,word:Zt.WORD_WRAP,char:Zt.CHAR_WRAP,character:Zt.CHAR_WRAP,mix:Zt.MIX_WRAP},cC={draw(i,t,s,f){var T=this.penManager;this.hitAreaManager.clear();var E=this.context;E.save();var n=this.defaultStyle;this.clear(),ru(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),i+=this.startXOffset,t+=this.startYOffset;var C=n.halign,e=n.valign,u,x=n.lineHeight,d=T.lines,o=d.length,a=n.maxLines,r,l,v;a>0&&o>a?(r=a,e==="center"?l=Math.floor((o-r)/2):e==="bottom"?l=o-r:l=0):(r=o,l=0),v=l+r;var h,c,p=this.rtl,g=p?this.parent.width:void 0;e==="center"?c=Math.max((f-r*x)/2,0):e==="bottom"?c=Math.max(f-r*x-2,0):c=0,c+=t;for(var m=l;m<v;m++)if(u=T.getLineWidth(m),u!==0){for(var y=d[m],S=y.length,M=C,P=0;P<S;P++){var w=y[P].prop.align;if(w!==void 0){M=w;break}}M==="center"?h=(s-u)/2:M==="right"?h=p?0:s-u:h=p?s-u:0,h+=i;for(var P=0;P<S;P++)this.drawPen(y[P],h,c,g)}E.restore()},drawPen(i,t,s,f){t+=i.x,s+=i.y+(i.prop.y||0),f!==void 0&&(t=f-t);var T=this.canvas,E=this.context;E.save();var n=this.parser.propToContextStyle(this.defaultStyle,i.prop);if(n.buildFont(),n.syncFont(T,E),n.syncStyle(T,E),n.underlineThickness>0&&i.width>0){var C=s+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,C,i.width,n.underlineThickness,n.underlineColor,n)}if(i.isTextPen&&this.drawText(t,s,i.text,n),i.isImagePen&&this.drawImage(t,s,i.prop.img,i.prop.color,n),n.strikethroughThickness>0&&i.width>0){var C=s+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,C,i.width,n.strikethroughThickness,n.strikethroughColor,n)}if(E.restore(),i.hasAreaMarker&&i.width>0){var e,u=i.prop.area;if(u)e={key:u};else{var x=i.prop.url;e={key:`url:${x}`,url:x}}this.hitAreaManager.add(t,s-this.startYOffset,i.width,this.defaultStyle.lineHeight,e)}},clear(){var i=this.canvas;this.context.clearRect(0,0,i.width,i.height)},drawLine(i,t,s,f,T,E){this.autoRound&&(i=Math.round(i),t=Math.round(t));var n=this.context;E.syncShadow(n,E.shadowStroke);var C=n.lineCap;n.lineCap="butt",n.strokeStyle=T,n.lineWidth=f,n.beginPath(),n.moveTo(i,t),n.lineTo(i+s,t),n.stroke(),n.lineCap=C},drawText(i,t,s,f){this.autoRound&&(i=Math.round(i),t=Math.round(t));var T=this.context;f.stroke&&f.stroke!=="none"&&f.strokeThickness>0&&(f.syncShadow(T,f.shadowStroke),T.strokeText(s,i,t)),f.color&&f.color!=="none"&&(f.syncShadow(T,f.shadowFill),T.fillText(s,i,t))},drawImage(i,t,s,f,T){t-=this.startYOffset,this.parent.imageManager.draw(s,this.context,i,t,f,this.autoRound)}},xs=Phaser.Utils.Objects.GetValue,pC=Zt.NO_NEWLINE,of=Zt.RAW_NEWLINE;class gC{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=xs(t,"text",""),this.x=xs(t,"x",0),this.y=xs(t,"y",0),this.width=xs(t,"width",0);var s=xs(t,"prop",null);s===null&&(s={}),this.prop=s,this.newLineMode=xs(t,"newLineMode",0),this.startIndex=xs(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===of&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==pC&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===of&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var Bi=function(i,t){var s=Array.isArray(i);if(t===void 0?t=s?[]:{}:Fi(t),s){t.length=i.length;for(var f=0,T=i.length;f<T;f++)t[f]=i[f]}else for(var E in i)t[E]=i[E];return t};const lf=Phaser.Utils.Objects.GetFastValue,uf=Zt.NO_NEWLINE,mC=Zt.WRAPPED_NEWLINE;class au{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=lf(t,"tagToText",he),this.tagToTextScope=lf(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,s=this.lines.length;t<s;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,s,f,T,E,n){var C=this.pensPool.pop();return C==null&&(C=new gC),ys.text=t,ys.x=s,ys.y=f,ys.width=T,ys.prop=E,ys.newLineMode=n,C.resetFromJSON(ys),this.addPen(C),this}addImagePen(t,s,f,T){return this.addTextPen("",t,s,f,T,uf),this}addNewLinePen(){var t=this.lastPen,s=t?t.lastX:0,f=t?t.y:0,T=t?Bi(t.prop):null;return this.addTextPen("",s,f,0,T,mC),this}addPen(t){var s=this.lastPen;s==null?t.startIndex=0:t.startIndex=s.endIndex,this.pens.push(t);var f=this.lastLine;f==null&&(f=this.linesPool.pop()||[],this.lines.push(f)),f.push(t),t.newLineMode!==uf&&(f=this.linesPool.pop()||[],this.lines.push(f)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new au),t.clear();for(var s=0,f=this.lines.length;s<f;s++)for(var T=this.lines[s],E=0,n=T.length;E<n;E++){var C=T[E];t.addPen(C.text,C.x,C.y,C.width,Bi(C.prop),C.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var s=this.lines[t];return s&&s[0]?s[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var s,f=!1,T;for(s=t;s>=0&&(T=this.lines[s],f=T!=null&&T.length>0,!f);s--);if(!f)return 0;var E=T[T.length-1];return E.endIndex}getLineWidth(t){var s=this.lines[t];if(!s)return 0;var f=s[s.length-1];if(f==null)return 0;var T=f.lastX;return T}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,s=0,f=0,T=this.lines.length;f<T;f++)t=this.getLineWidth(f),t>s&&(s=t);return this.maxLinesWidth=s,s}getLineWidths(){for(var t=[],s=0,f=this.lines.length;s<f;s++)t.push(this.getLineWidth(s));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",s=this.pens,f=0,T=s.length;f<T;f++)t+=s[f].plainText;return t}get rawTextLength(){for(var t=0,s=this.pens,f=0,T=this.pens.length;f<T;f++)t+=s[f].rawTextLength;return t}getSliceTagText(t,s,f){var T=this.lastPen;if(T==null)return"";var E=T.endIndex;(t===void 0||t===0)&&(t=-1),(s===void 0||s===E)&&(s=E+1),f===void 0&&(f=!1);for(var n="",C,e,u,x,d,o,a,r=0,l=this.pens.length;r<l&&(C=this.pens[r],x=C.endIndex,!(!(x<=t)&&(C=this.pens[r],e=f?C.wrapText:C.plainText,o=C.prop,u=C.startIndex,d=u>=t&&x<=s,d||(e=e.substring(t-u,s-u)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,e,o,a):n+=this.tagToText(e,o,a),a=o,x>=s)));r++);return n}get length(){return this.lines.length}set length(t){this.clear()}}var ys={};const xC=Phaser.Geom.Rectangle;var df=new xi;class yC{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,s=this.hitAreas.length;t<s;t++)Fi(this.hitAreas[t].data);return df.pushMultiple(this.hitAreas),this}add(t,s,f,T,E){var n=df.pop();return n===null?n=new xC(t,s,f,T):n.setTo(t,s,f,T),n.data=E,this.hitAreas.push(n),this}getFirst(t,s){for(var f=0,T=this.hitAreas.length;f<T;f++){var E=this.hitAreas[f];if(E.contains(t,s))return E}return null}getByKey(t){for(var s=0,f=this.hitAreas.length;s<f;s++){var T=this.hitAreas[s];if(T.data.key===t)return T}return null}drawBounds(t,s,f){s===void 0&&(s=16777215),f&&t.save().scaleCanvas(f.scaleX,f.scaleY).rotateCanvas(f.rotation).translateCanvas(f.x,f.y);for(var T=0,E=this.hitAreas.length;T<E;T++){var n=this.hitAreas[T];t.lineStyle(1,s).strokeRect(n.x,n.y,n.width,n.height)}return f&&t.restore(),this}}var CC=function(){this.parent.on("pointerdown",TC,this).on("pointerup",SC,this).on("pointermove",so,this).on("pointerover",so,this).on("pointerout",function(i,t){so.call(this,i,null,null,t)},this)},TC=function(i,t,s,f){var T=this.hitAreaManager.getFirst(t,s);if(T!==null){var E=T.data.key;mr.call(this,"areadown",E,i,t,s,f),T.data.isDown=!0}},SC=function(i,t,s,f){var T=this.hitAreaManager.getFirst(t,s);if(T!==null){var E=T.data,n=E.key;if(mr.call(this,"areaup",n,i,t,s,f),E.isDown){mr.call(this,"areaclick",n,i,t,s,f);var C=E.url;C&&window.open(C,"_blank")}E.isDown=!1}},so=function(i,t,s,f){if(t===null){this.lastHitAreaKey!==null&&(mr.call(this,"areaout",this.lastHitAreaKey,i,t,s,f),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);return}var T=this.hitAreaManager.getFirst(t,s),E=T?T.data.key:null;if(this.lastHitAreaKey!==E){if(this.lastHitAreaKey!==null){mr.call(this,"areaout",this.lastHitAreaKey,i,t,s,f);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&!!n.data.url&&(this.scene.input.manager.canvas.style.cursor=""),n.isDown=!1}E!==null&&(mr.call(this,"areaover",E,i,t,s,f),this.urlTagCursorStyle&&!!T.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=E}},mr=function(i,t,s,f,T,E){this.parent.emit(`${i}-${t}`,s,f,T,E),this.parent.emit(i,t,s,f,T,E)},ff=function(i){return/^[\x00-\x7F]+$/.test(i)};const EC=Zt.NO_NEWLINE,PC=Zt.RAW_NEWLINE,ro=Zt.WRAPPED_NEWLINE,vf=Zt.NO_WRAP,MC=Zt.WORD_WRAP,og=Zt.CHAR_WRAP,wC=Zt.SPLITREGEXP;var lg=function(i,t,s,f,T,E){f<=0&&(s=vf);var n=[];if(!i||!i.length)return n;for(var C=s===vf,e=i.split(wC),u,x,d,o=0,a=e.length;o<a;o++){if(u=e[o],d=o===a-1?EC:PC,C){var r=t(u);n.push(E.getLine(u,r,d));continue}if(x=o===0?f-T:f,u.length<=100){var r=t(u);if(r<=x){n.push(E.getLine(u,r,d));continue}}for(var l=RC(u,s),v,h,c="",p=0,g,m=0,y=l.length;m<y;m++){if(v=l[m],h=t(v),h>f&&AC(v)){c!==""?n.push(E.getLine(c,p,ro)):m===0&&T>0&&n.push(E.getLine("",0,ro)),n.push(...lg(v,t,og,f,0,E));var S=n.pop();c=S.text,p=S.width,E.freeLine(S),c===" "&&(c="",p=0);continue}g=p+h,g>x?(n.push(E.getLine(c,p,ro)),c=v,p=h,x=f):(c+=v,p=g),m===y-1&&n.push(E.getLine(c,p,d))}}return n},RC=function(i,t){var s=[];switch(t){case MC:i=i.split(" ");for(var f=0,T=i.length;f<T;f++){var E=i[f];f<T-1?s.push(E+" "):E!==""&&s.push(E)}break;case og:s.push(...i.split(""));break;default:i=i.split(" ");for(var f=0,T=i.length;f<T;f++){var E=i[f];f<T-1?ff(E)?s.push(E+" "):(s.push(...E.split("")),s.push(" ")):E!==""&&(ff(E)?s.push(E):s.push(...E.split("")))}break}return s},AC=function(i){switch(i.length){case 1:return!1;case 2:return i.charAt(1)!==" ";default:return!0}};const no=Phaser.Utils.Objects.GetValue,LC=Zt.NO_WRAP,OC=Zt.NO_NEWLINE;class ug{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=no(t,"context",null),this.canvas=this.context.canvas,this.parser=no(t,"parser",null),this.defaultStyle=no(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new yC,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var s=this.context;this.getTextWidth=function(f){return s.measureText(f).width}}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,s,f,T,E){if(E===void 0&&(E=this.penManager),E.clear(),t==="")return E;var n=this.parent.style;if(n.isWrapFitMode){var C=this.parent.padding;f=n.fixedWidth-C.left-C.right}for(var e=this.canvas,u=this.context,x=function(O){return u.measureText(O).width},d=0,o=0,a=n.wrapCallback,r=n.wrapCallbackScope,l=!0,v,h,c,p=this.parser.splitText(t),g,m,y=this.wrapTextLinesPool,S=0,M=p.length;S<M;S++)if(g=this.parser.tagTextToProp(p[S],h),v=g.plainText,h=g.prop,h.img){var P=this.imageManager.getOuterWidth(h.img);f>0&&s!==LC&&f<d+P&&(E.addNewLinePen(),o+=T,d=0),E.addImagePen(d,o,P,Bi(h)),d+=P}else if(v!==""){if(u.save(),c=this.parser.propToContextStyle(this.defaultStyle,h),c.buildFont(),c.syncFont(e,u),c.syncStyle(e,u),!a)m=lg(v,x,s,f,d,y);else{m=a.call(r,v,x,f,d),typeof m=="string"&&(m=m.split(`
`));for(var A,w=0,R=m.length;w<R;w++)A=m[w],typeof A=="string"?m[w]=y.getLine(A,x(A),w<R-1?2:0):l=!1}for(var A,w=0,R=m.length;w<R;w++)A=m[w],E.addTextPen(A.text,d,o,A.width,Bi(h),A.newLineMode),A.newLineMode!==OC?(d=0,o+=T):d+=A.width;l&&y.freeLines(m),m=null,u.restore()}for(var S=0,M=this.lines.length;S<M;S++){var L=this.lines[S],F=L[L.length-1];F&&(F.width+=this.parser.getStrokeThinkness(this.defaultStyle,F.prop))}return E}get startXOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.xOffset}get startYOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var t=this.penManager.linesCount,s=this.defaultStyle.maxLines;return s>0&&t>s&&(t=s),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.desplayLinesCount,s=this.defaultStyle.lineHeight*t;return t>0&&(s-=this.defaultStyle.lineSpacing),s}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new au({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,s,f){var T;if(t==null)T=this.penManager.plainText;else{var E=this.parser.splitText(t,1);T="";for(var n=0,C=E.length;n<C;n++)T+=E[n]}return(s!=null||f!=null)&&(s==null&&(s=0),f==null&&(f=T.length),T=T.substring(s,f)),T}getPenManager(t,s){if(t===void 0)return this.copyPenManager(s,this.penManager);s===void 0&&(s=this.newPenManager());var f=this.defaultStyle;return this.updatePenManager(t,f.wrapMode,f.wrapWidth,f.lineHeight,s),s}getText(t,s,f,T){if(t==null)return this.penManager.getSliceTagText(s,f,T);var E=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,E),E.getSliceTagText(s,f,T)}copyPenManager(t,s){return s===void 0&&(s=this.penManager),s.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var FC={setInteractive:CC};Object.assign(ug.prototype,cC,FC);class cf extends xi{freeLine(t){if(!!t)return this.push(t),this}freeLines(t){if(!!t)return this.pushMultiple(t),this}getLine(t,s,f){var T=this.pop();return T===null&&(T={}),T.text=t,T.width=s,T.newLineMode=f,T}}const bC=Phaser.Utils.Objects.IsPlainObject,ks=Phaser.Utils.Objects.GetValue;var ao=function(i,t){bC(i)?(t=i,i=t.key):t===void 0&&(t={key:i}),t.hasOwnProperty("key")||(t.key=i);var s=t.key,f=t.frame,T=t.width,E=t.height;if(T===void 0||E===void 0){var n=this.textureManager.getFrame(s,f),C=n?n.cutWidth:0,e=n?n.cutHeight:0;T===void 0&&E===void 0?(T=C,E=e):T===void 0?T=C*(E/e):E===void 0&&(E=e*(T/C))}this.images[i]={key:s,frame:f,width:T,height:E,y:ks(t,"y",0),left:ks(t,"left",0),right:ks(t,"right",0),originX:ks(t,"originX",0),originY:ks(t,"originY",0),tintFill:ks(t,"tintFill",!1)}};const pf=Phaser.Display.Canvas.CanvasPool;var dg=function(i,t,s,f,T,E,n,C){s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=i.cutWidth),E===void 0&&(E=i.cutHeight),C===void 0&&(C=!1),C&&(s=Math.round(s),f=Math.round(f));var e=t.getContext("2d",{willReadFrequently:!0});if(n){var u=pf.create(null,T,E,Phaser.CANVAS,!0),x=u.getContext("2d",{willReadFrequently:!0});x.drawImage(i.source.image,i.cutX,i.cutY,i.cutWidth,i.cutHeight,0,0,T,E),x.globalCompositeOperation="source-in",x.fillStyle=n,x.fillRect(0,0,T,E),e.drawImage(u,0,0,T,E,s,f,T,E),pf.remove(u)}else e.drawImage(i.source.image,i.cutX,i.cutY,i.cutWidth,i.cutHeight,s,f,T,E)},DC=function(i,t,s,f,T,E){var n=this.get(i),C=this.textureManager.getFrame(n.key,n.frame),e=n.width,u=n.height;s+=n.left-n.originX*e,f+=n.y-n.originY*u,n.tintFill||(T=void 0),dg(C,t.canvas,s,f,e,u,T,E)};class hu{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,s){if(typeof t=="string")ao.call(this,t,s);else if(Array.isArray(t))for(var f=t,T=0,E=f.length;T<E;T++)ao.call(this,f[T]);else{var f=t;for(var t in f)ao.call(this,t,f[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var s=this.get(t);return s?s.width+s.left+s.right:0}getFrame(t){var s=this.get(t);return s?this.textureManager.getFrame(s.key,s.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var BC={draw:DC};Object.assign(hu.prototype,BC);var fg=function(i,t){!i&&i!==0&&(i=""),t===void 0&&(t=!0),Array.isArray(i)&&(i=i.join(`
`));var s;return t?s=`${this.text}
${i}`:s=`${this.text}${i}`,s!=this.text&&this.setText(s),this};const IC=Phaser.Utils.Objects.IsPlainObject,gf=Phaser.DOM.AddToDOM,mf=Phaser.Display.Canvas.CanvasPool,GC=Phaser.GameObjects.GameObject,me=Phaser.Utils.Objects.GetValue,NC=Phaser.DOM.RemoveFromDOM,VC=Zt.SPLITREGEXP,zC=Phaser.Utils.String.UUID;var Ys=null,ho=null,oo=null;class ou extends hg{constructor(t,s,f,T,E,n,C){if(IC(s)){var e=s;s=me(e,"x",0),f=me(e,"y",0),T=me(e,"text",""),E=me(e,"style")}if(s===void 0&&(s=0),f===void 0&&(f=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(s,f),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=mf.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,E){if(E.hasOwnProperty("align")){var u=E.align;delete E.align,E.halign=u}E.hasOwnProperty("stroke")&&!E.hasOwnProperty("strokeThickness")&&(E.strokeThickness=1)}this.style=new nu(this,E);var x=me(E,"images",void 0);x&&this.addImage(x),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=zC(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var d=me(E,"sharedPool",!0),o,a,r;d?(Ys||(Ys={},ho=new xi,oo=new cf,this.scene.game.events.once("destroy",function(){Ys=null,ho=null,oo=null})),Ys.hasOwnProperty(n)||(Ys[n]=new xi),o=Ys[n],a=ho,r=oo):(o=new xi,a=new xi,r=new cf),this.canvasText=new ug({parent:this,context:this.context,parser:C,style:this.style,pensPool:o,linesPool:a,wrapTextLinesPool:r}),this.parser=C,this.initRTL(),E&&E.padding&&this.setPadding(E.padding),E&&E.lineSpacing&&this.setLineSpacing(E.lineSpacing),this.setText(T),this.setUrlTagCursorStyle(me(E,"urlTagCursorStyle","pointer")),me(E,"interactive",!1)&&this.setInteractive()}preDestroy(){NC(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),mf.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",gf(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var s=this.style;if(s.rtl===t)return this;if(s.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",gf(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),s.halign==="left"?s.halign="right":s.halign==="right"&&(s.halign="left"),this._imageManager){var f=this._imageManager.images;for(var T in f)f[T].originX=1-f[T].originX}return this}setText(t){return t==null?t="":Array.isArray(t)?t=t.join(`
`):t=t.toString(),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,s,f,T){if(typeof t=="object"){var E=t,n=me(E,"x",null);n!==null?(t=n,f=n):(t=me(E,"left",0),f=me(E,"right",t));var C=me(E,"y",null);C!==null?(s=C,T=C):(s=me(E,"top",0),T=me(E,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),f===void 0&&(f=t),T===void 0&&(T=s);return this.padding.left=t,this.padding.top=s,this.padding.right=f,this.padding.bottom=T,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var s=this.canvasText,f=this.style;t&&s.updatePenManager(this._text,f.wrapMode,f.wrapWidth,f.lineHeight);var T=this.padding,E,n,C=Math.ceil(s.linesWidth);f.fixedWidth===0?(this.width=C+T.left+T.right,E=C):(this.width=f.fixedWidth,E=this.width-T.left-T.right,E<C&&(E=C)),f.fixedHeight===0?(this.height=s.linesHeight+T.top+T.bottom,n=s.linesHeight):(this.height=f.fixedHeight,n=this.height-T.top-T.bottom,n<s.linesHeight&&(n=s.linesHeight));var e=this.width,u=this.height;this.updateDisplayOrigin();var x=f.resolution;e*=x,u*=x,e=Math.max(Math.ceil(e),1),u=Math.max(Math.ceil(u),1);var d=this.canvas,o=this.context;d.width!==e||d.height!==u?(d.width=e,d.height=u,this.frame.setSize(e,u)):o.clearRect(0,0,e,u),o.save(),o.scale(x,x);var a=this.style.rtl?T.right:T.left,r=T.top;s.draw(a,r,E,n),o.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),s={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=s,t}setInteractive(t,s,f){var T=!!this.input;return GC.prototype.setInteractive.call(this,t,s,f),T||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,s,f){return typeof t=="number"&&(f=s,s=t,t=void 0),t=this.canvasText.getText(t,s,f,!0),t.split(VC)}getPlainText(t,s,f){return typeof t=="number"&&(f=s,s=t,t=void 0),this.canvasText.getPlainText(t,s,f)}getText(t,s,f,T){return typeof t=="number"&&(T=f,f=s,s=t,t=void 0),T===void 0&&(T=!1),this.canvasText.getText(t,s,f,T)}getSubString(t,s,f){return typeof t=="number"&&(f=s,s=t,t=void 0),this.getText(t,s,f)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,s){return this.canvasText.getPenManager(t,s)}setSize(t,s){return this.setFixedSize(t,s)}resize(t,s){return this.setFixedSize(t,s)}get imageManager(){return this._imageManager||(this._imageManager=new hu(this.scene)),this._imageManager}addImage(t,s){return this.imageManager.add(t,s),this}drawAreaBounds(t,s){return this.canvasText.hitAreaManager.drawBounds(t,s,this),this}generateTexture(t,s,f,T,E){var n=this.canvas;return T===void 0?T=n.width:T*=this.resolution,E===void 0?E=n.height:E*=this.resolution,rg(this.scene,n,t,s,f,T,E),this}}var XC={appendText:fg};Object.assign(ou.prototype,XC);var WC=function(i,t){for(var s=this.tagRegex,f=[],T=0,E=!1,n=!1;;){var C=s.RE_SPLITTEXT.exec(i);if(!C)break;var e=C[0];if(n)if(s.RE_ESC_CLOSE.test(e))n=!1;else continue;else if(E)if(s.RE_RAW_CLOSE.test(e))E=!1;else continue;else s.RE_ESC_OPEN.test(e)?n=!0:s.RE_RAW_OPEN.test(e)&&(E=!0);var u=s.RE_SPLITTEXT.lastIndex,x=u-e.length;if(T<x){var d=i.substring(T,x);f.push(d)}t===void 0&&f.push(e),T=u}var o=i.length;return T<o&&f.push(i.substring(T,o)),f};const Ht=!1,Vt=!0;var UC={plainText:null,prevProp:null},kC=function(i,t){var s=this.tagRegex;t==null&&(t={});var f="";if(t.img&&pt(t,Ht,"img"),t.esc)s.RE_ESC_CLOSE.test(i)?pt(t,Ht,"esc"):f=i;else if(t.raw)s.RE_RAW_CLOSE.test(i)?pt(t,Ht,"raw"):f=i;else if(s.RE_ESC_OPEN.test(i))pt(t,Vt,"esc",!0);else if(s.RE_ESC_CLOSE.test(i))pt(t,Ht,"esc");else if(s.RE_RAW_OPEN.test(i))pt(t,Vt,"raw",!0);else if(s.RE_RAW_CLOSE.test(i))pt(t,Ht,"raw");else if(s.RE_BLOD_OPEN.test(i))pt(t,Vt,"b",!0);else if(s.RE_BLOD_CLOSE.test(i))pt(t,Ht,"b");else if(s.RE_ITALICS_OPEN.test(i))pt(t,Vt,"i",!0);else if(s.RE_ITALICS_CLOSE.test(i))pt(t,Ht,"i");else if(s.RE_WEIGHT_OPEN.test(i)){var T=i.match(s.RE_WEIGHT_OPEN);pt(t,Vt,"weight",T[1])}else if(s.RE_WEIGHT_CLOSE.test(i))pt(t,Ht,"weight");else if(s.RE_SIZE_OPEN.test(i)){var T=i.match(s.RE_SIZE_OPEN);pt(t,Vt,"size",`${T[1]}px`)}else if(s.RE_SIZE_CLOSE.test(i))pt(t,Ht,"size");else if(s.RE_COLOR_OPEN.test(i)){var T=i.match(s.RE_COLOR_OPEN);pt(t,Vt,"color",T[1])}else if(s.RE_COLOR_CLOSE.test(i))pt(t,Ht,"color");else if(s.RE_UNDERLINE_OPEN.test(i))pt(t,Vt,"u",!0);else if(s.RE_UNDERLINE_OPENC.test(i)){var T=i.match(s.RE_UNDERLINE_OPENC);pt(t,Vt,"u",T[1])}else if(s.RE_UNDERLINE_CLOSE.test(i))pt(t,Ht,"u");else if(s.RE_STRIKETHROUGH_OPEN.test(i))pt(t,Vt,"s",!0);else if(s.RE_STRIKETHROUGH_OPENC.test(i)){var T=i.match(s.RE_STRIKETHROUGH_OPENC);pt(t,Vt,"s",T[1])}else if(s.RE_STRIKETHROUGH_CLOSE.test(i))pt(t,Ht,"s");else if(s.RE_SHADOW_OPEN.test(i))pt(t,Vt,"shadow",!0);else if(s.RE_SHADOW_OPENC.test(i)){var T=i.match(s.RE_SHADOW_OPENC);pt(t,Vt,"shadow",T[1])}else if(s.RE_SHADOW_CLOSE.test(i))pt(t,Ht,"shadow");else if(s.RE_STROKE_OPEN.test(i))pt(t,Vt,"stroke",!0);else if(s.RE_STROKE_OPENC.test(i)){var T=i.match(s.RE_STROKE_OPENC);pt(t,Vt,"stroke",T[1])}else if(s.RE_STROKE_CLOSE.test(i))pt(t,Ht,"stroke");else if(s.RE_OFFSETY_OPEN.test(i)){var T=i.match(s.RE_OFFSETY_OPEN);pt(t,Vt,"y",parseFloat(T[1]))}else if(s.RE_OFFSETY_CLOSE.test(i))pt(t,Ht,"y");else if(s.RE_IMAGE_OPEN.test(i)){var T=i.match(s.RE_IMAGE_OPEN);pt(t,Vt,"img",T[1])}else if(s.RE_IMAGE_CLOSE.test(i))pt(t,Ht,"img");else if(s.RE_AREA_OPEN.test(i)){var T=i.match(s.RE_AREA_OPEN);pt(t,Vt,"area",T[1])}else if(s.RE_AREA_CLOSE.test(i))pt(t,Ht,"area");else if(s.RE_URL_OPEN.test(i)){var T=i.match(s.RE_URL_OPEN);pt(t,Vt,"url",T[1])}else if(s.RE_URL_CLOSE.test(i))pt(t,Ht,"url");else if(s.RE_ALIGN_OPEN.test(i)){var T=i.match(s.RE_ALIGN_OPEN);pt(t,Vt,"align",T[1])}else if(s.RE_ALIGN_CLOSE.test(i))pt(t,Ht,"align");else if(s.RE_ID_OPEN.test(i)){var T=i.match(s.RE_ID_OPEN);pt(t,Vt,"id",T[1])}else s.RE_ID_CLOSE.test(i)?pt(t,Ht,"id"):f=i;var E=UC;return E.plainText=f,E.prop=t,E},pt=function(i,t,s,f){return t===Vt?i[s]=f:i.hasOwnProperty(s)&&delete i[s],i},YC=function(i,t){var s=$C;if(t.hasOwnProperty("img"))s.image=t.img;else{if(s.image=null,t.hasOwnProperty("family")?s.fontFamily=t.family:s.fontFamily=i.fontFamily,t.hasOwnProperty("size")){var f=t.size;typeof f=="number"&&(f=`${f}px`),s.fontSize=f}else s.fontSize=i.fontSize;s.fontStyle=HC(t),t.hasOwnProperty("color")?s.color=t.color:s.color=i.color,t.hasOwnProperty("stroke")?t.stroke===!0?(s.stroke=i.stroke,s.strokeThickness=i.strokeThickness):(s.stroke=t.stroke,s.strokeThickness=i.strokeThickness):(s.stroke=i.stroke,s.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(s.shadowColor=i.shadowColor,s.shadowOffsetX=i.shadowOffsetX,s.shadowOffsetY=i.shadowOffsetY,s.shadowBlur=i.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor=t.shadow,s.shadowOffsetX=i.shadowOffsetX,s.shadowOffsetY=i.shadowOffsetY,s.shadowBlur=i.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor="#000",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowStroke=!1,s.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(s.underlineColor=i.underlineColor,s.underlineThickness=i.underlineThickness,s.underlineOffset=i.underlineOffset):(s.underlineColor=t.u,s.underlineThickness=i.underlineThickness,s.underlineOffset=i.underlineOffset):(s.underlineColor="#000",s.underlineThickness=0,s.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(s.strikethroughColor=i.strikethroughColor,s.strikethroughThickness=i.strikethroughThickness,s.strikethroughOffset=i.strikethroughOffset):(s.strikethroughColor=t.s,s.strikethroughThickness=i.strikethroughThickness,s.strikethroughOffset=i.strikethroughOffset):(s.strikethroughColor="#000",s.strikethroughThickness=0,s.strikethroughOffset=0),s},HC=function(i){var t=i.b,s=i.weight,f=i.i;return t||s||f?f?t?"bold italic":s?`${s} italic`:"italic":t?"bold":s.toString():""},$C=new nu,KC=function(i,t,s){s==null&&(s=ZC);var f=this.delimiters[0],T=this.delimiters[1],E=[];for(var n in s)t.hasOwnProperty(n)||E.push(`${f}/${n}${T}`);for(var n in t){var C=t[n];if(s[n]!==C)switch(n){case"size":E.push(`${f}size=${C.replace("px","")}${T}`);break;case"color":case"weight":case"stroke":case"y":case"img":case"area":case"url":case"align":case"id":E.push(`${f}${n}=${C}${T}`);break;case"u":case"s":C===!0?E.push(`${f}${n}${T}`):E.push(`${f}${n}=${C}${T}`);break;default:E.push(`${f}${n}${T}`);break}}return E.push(i),E.join("")},ZC={},Cr=function(i){return i.replace(JC,"\\$&").replace(QC,"\\x2d")},JC=/[|\\{}()[\]^$+*?.]/g,QC=/-/g,xf,yf,xt={},Wt=function(i,t,s,f){return f===void 0?`${i}${s}${t}`:`${i}${s}=(${f})${t}`},re=function(i,t,s){return`${i}/${s}${t}`},jC=function(i){return`[^${i}]+`},lo="[-.0-9]+",qC=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],Ir=qC.join("|"),vg=function(i,t){if(t===void 0){var s=i;i=s[0],t=s[1]}if(xf===i&&yf===t)return!1;xf=i,yf=t,i=Cr(i),t=Cr(t);var f=jC(t),T="esc",E=Wt(i,t,T),n=re(i,t,T),C="raw",e=Wt(i,t,C),u=re(i,t,C),x="b",d=Wt(i,t,x),o=re(i,t,x),a="i",r=Wt(i,t,a),l=re(i,t,a),v="weight",h=Wt(i,t,v,lo),c=re(i,t,v),p="size",g=Wt(i,t,p,lo),m=re(i,t,p),y="color",S=Wt(i,t,y,Ir),M=re(i,t,y),P="u",w=Wt(i,t,P),R=Wt(i,t,P,Ir),A=re(i,t,P),L="s",F=Wt(i,t,L),O=Wt(i,t,L,Ir),b=re(i,t,L),B="shadow",I=Wt(i,t,B),N=Wt(i,t,B,Ir),X=re(i,t,B),k="stroke",H=Wt(i,t,k),V=Wt(i,t,k,Ir),W=re(i,t,k),D="y",G=Wt(i,t,D,lo),z=re(i,t,D),U="img",Y=Wt(i,t,U,f),$=re(i,t,U),K="area",Z=Wt(i,t,K,f),J=re(i,t,K),Q="url",j=Wt(i,t,Q,f),_=re(i,t,Q),q="align",it=Wt(i,t,q,f),at=re(i,t,q),ot="id",ht=Wt(i,t,ot,f),tt=re(i,t,ot);return xt.RE_ESC_OPEN=new RegExp(E,"i"),xt.RE_ESC_CLOSE=new RegExp(n,"i"),xt.RE_RAW_OPEN=new RegExp(e,"i"),xt.RE_RAW_CLOSE=new RegExp(u,"i"),xt.RE_BLOD_OPEN=new RegExp(d,"i"),xt.RE_BLOD_CLOSE=new RegExp(o,"i"),xt.RE_ITALICS_OPEN=new RegExp(r,"i"),xt.RE_ITALICS_CLOSE=new RegExp(l,"i"),xt.RE_WEIGHT_OPEN=new RegExp(h,"i"),xt.RE_WEIGHT_CLOSE=new RegExp(c,"i"),xt.RE_SIZE_OPEN=new RegExp(g,"i"),xt.RE_SIZE_CLOSE=new RegExp(m,"i"),xt.RE_COLOR_OPEN=new RegExp(S,"i"),xt.RE_COLOR_CLOSE=new RegExp(M,"i"),xt.RE_UNDERLINE_OPEN=new RegExp(w,"i"),xt.RE_UNDERLINE_OPENC=new RegExp(R,"i"),xt.RE_UNDERLINE_CLOSE=new RegExp(A,"i"),xt.RE_STRIKETHROUGH_OPEN=new RegExp(F,"i"),xt.RE_STRIKETHROUGH_OPENC=new RegExp(O,"i"),xt.RE_STRIKETHROUGH_CLOSE=new RegExp(b,"i"),xt.RE_SHADOW_OPEN=new RegExp(I,"i"),xt.RE_SHADOW_OPENC=new RegExp(N,"i"),xt.RE_SHADOW_CLOSE=new RegExp(X,"i"),xt.RE_STROKE_OPEN=new RegExp(H,"i"),xt.RE_STROKE_OPENC=new RegExp(V,"i"),xt.RE_STROKE_CLOSE=new RegExp(W,"i"),xt.RE_OFFSETY_OPEN=new RegExp(G,"i"),xt.RE_OFFSETY_CLOSE=new RegExp(z,"i"),xt.RE_IMAGE_OPEN=new RegExp(Y,"i"),xt.RE_IMAGE_CLOSE=new RegExp($,"i"),xt.RE_AREA_OPEN=new RegExp(Z,"i"),xt.RE_AREA_CLOSE=new RegExp(J,"i"),xt.RE_URL_OPEN=new RegExp(j,"i"),xt.RE_URL_CLOSE=new RegExp(_,"i"),xt.RE_ALIGN_OPEN=new RegExp(it,"i"),xt.RE_ALIGN_CLOSE=new RegExp(at,"i"),xt.RE_ID_OPEN=new RegExp(ht,"i"),xt.RE_ID_CLOSE=new RegExp(tt,"i"),xt.RE_SPLITTEXT=new RegExp([e,u,E,n,d,o,r,l,h,c,g,m,S,M,w,R,A,F,O,b,I,N,X,H,V,W,G,z,Y,$,Z,J,j,_,it,at,ht,tt].join("|"),"ig"),!0},Cf=function(i,t){return i!==void 0&&vg(i,t),Object.assign({},xt)};const _C=Phaser.Utils.Objects.GetValue;class cg{constructor(t){var s=_C(t,"delimiters","[]");this.tagRegex=Cf(s),this.delimiters=s}getStrokeThinkness(t,s){var f;return s.hasOwnProperty("stroke")?f=t.strokeThickness:f=0,f}setDelimiters(t,s){return vg(t,s)&&(this.tagRegex=Cf()),this}}var tT={splitText:WC,tagTextToProp:kC,propToContextStyle:YC,propToTagText:KC};Object.assign(cg.prototype,tT);class lu extends ou{constructor(t,s,f,T,E){var n=new cg(E);super(t,s,f,T,E,"rexBBCodeText",n)}setDelimiters(t,s){return this.parse.setDelimiters(t,s),this}}st.register("BBCodeText",function(i,t,s,f){var T=new lu(this.scene,i,t,s,f);return this.scene.add.existing(T),T});et(window,"RexPlugins.UI.BBCodeText",lu);var eT={plainText:null,prevProp:null},iT=new nu;class sT{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,s){this.tags[t]=s}getTag(t){return this.tags[t]}splitText(t,s){for(var f=[],T=0;;){var E=uo.exec(t);if(!E)break;var n=E[0],C=uo.lastIndex-n.length;if(T<C&&f.push(t.substring(T,C)),s===void 0)f.push(n);else if(s===1){if(Sf.test(n)){var e=n.match(Ef);f.push(e[2])}else if(Pf.test(n)){var e=n.match(Mf);f.push(e[2])}}T=uo.lastIndex}var u=t.length;return T<u&&f.push(t.substring(T,u)),f}tagTextToProp(t,s){var f,T;if(Sf.test(t)){var E=t.match(Ef);if(E!=null){var n=E[1],C=this.tags;C.hasOwnProperty(n)?T=C[n]:T={},T._class=n,f=E[2]}}else if(Pf.test(t)){var E=t.match(Mf);if(E!=null){var e=E[1];T=rT(e),T._style=e,f=E[2]}}f==null&&(f=t),T==null&&(T={});var u=eT;return u.plainText=f,u.prop=T,u}propToContextStyle(t,s){var f=iT;if(s.hasOwnProperty("img"))f.image=s.img;else{if(f.image=null,s.hasOwnProperty("family")||s.hasOwnProperty("fontFamily")||s.hasOwnProperty("font-family")){var T=s.hasOwnProperty("family")?s.family:s.hasOwnProperty("fontFamily")?s.fontFamily:s["font-family"];f.fontFamily=T}else f.fontFamily=t.fontFamily;if(s.hasOwnProperty("size")||s.hasOwnProperty("fontSize")||s.hasOwnProperty("font-size")){var E=s.hasOwnProperty("size")?s.size:s.hasOwnProperty("fontSize")?s.fontSize:s["font-size"];typeof E=="number"&&(E=`${E}px`),f.fontSize=E}else f.fontSize=t.fontSize;if(s.hasOwnProperty("style")||s.hasOwnProperty("fontStyle")||s.hasOwnProperty("font-style")){var n=s.hasOwnProperty("style")?s.style:s.hasOwnProperty("fontStyle")?s.fontStyle:s["font-style"];f.fontStyle=n}else f.fontStyle=t.fontStyle;if(s.hasOwnProperty("color")||s.hasOwnProperty("font-color")){var C=s.hasOwnProperty("color")?s.color:s["font-color"];f.color=C}else f.color=t.color;if(s.hasOwnProperty("stroke")){var e=s.stroke;f.stroke=e.hasOwnProperty("color")?e.color:t.stroke,f.strokeThickness=e.hasOwnProperty("thickness")?e.thickness:t.strokeThickness}else f.stroke=t.stroke,f.strokeThickness=t.strokeThickness}if(s.hasOwnProperty("shadow")){var u=s.shadow;f.shadowColor=u.hasOwnProperty("color")?u.color:t.shadowColor,f.shadowOffsetX=u.hasOwnProperty("offsetX")?u.offsetX:t.shadowOffsetX,f.shadowOffsetY=u.hasOwnProperty("offsetY")?u.offsetY:t.shadowOffsetY,f.shadowBlur=u.hasOwnProperty("blur")?u.blur:t.shadowBlur,f.shadowStroke=!0,f.shadowFill=!0}else f.shadowColor=t.shadowColor,f.shadowOffsetX=t.shadowOffsetX,f.shadowOffsetY=t.shadowOffsetY,f.shadowBlur=t.shadowBlur,f.shadowStroke=t.shadowStroke,f.shadowFill=t.shadowFill;if(s.hasOwnProperty("u")||s.hasOwnProperty("underline")){var x=s.hasOwnProperty("u")?s.u:s.underline;f.underlineColor=x.hasOwnProperty("color")?x.color:t.underlineColor,f.underlineThickness=x.hasOwnProperty("thickness")?x.thickness:t.underlineThickness,f.underlineOffset=x.hasOwnProperty("offset")?x.offset:t.underlineOffset}else f.underlineColor=t.underlineColor,f.underlineThickness=t.underlineThickness,f.underlineOffset=t.underlineOffset;if(s.hasOwnProperty("s")||s.hasOwnProperty("strikethrough")){var d=s.hasOwnProperty("s")?s.s:s.strikethrough;f.strikethroughColor=d.hasOwnProperty("color")?d.color:t.strikethroughColor,f.strikethroughThickness=d.hasOwnProperty("thickness")?d.thickness:t.strikethroughThickness,f.strikethroughOffset=d.hasOwnProperty("offset")?d.offset:t.strikethroughOffset}else f.strikethroughColor=t.strikethroughColor,f.strikethroughThickness=t.strikethroughThickness,f.strikethroughOffset=t.strikethroughOffset;return f}getStrokeThinkness(t,s){var f;if(s.hasOwnProperty("stroke")){var T=s.stroke;f=T.hasOwnProperty("thickness")?T.thickness:t.strokeThickness}else f=t.strokeThickness;return f}propToTagText(t,s,f){return s.hasOwnProperty("_class")?t===""&&this.isTextTag(s._class)?"":`<class='${s._class}'>${t}</class>`:s.hasOwnProperty("_style")?`<style='${s._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var s=this.tags[t];return s?s.img==null:!1}}var rT=function(i){i=i.split(";");for(var t={},s,f,T,E=0,n=i.length;E<n;E++)if(s=i[E].split(":"),f=s[0],T=s[1],!(Tf(f)||Tf(T))){switch(f){case"stroke":var C=T.split(" "),e=C.length;T={},e>=1&&(T.color=C[0]),e>=2&&(T.thickness=parseInt(C[1].replace("px","")));break;case"shadow":var C=T.split(" "),e=C.length;T={},e>=1&&(T.color=C[0]),e>=2&&(T.offsetX=parseInt(C[1].replace("px",""))),e>=3&&(T.offsetY=parseInt(C[2].replace("px",""))),e>=4&&(T.blur=parseInt(C[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var C=T.split(" "),e=C.length;T={},e>=1&&(T.color=C[0]),e>=2&&(T.thickness=parseInt(C[1].replace("px",""))),e>=3&&(T.offset=parseInt(C[2].replace("px",""))),f==="underline"?f="u":f==="strikethrough"&&(f="s");break;case"y":T=parseFloat(T);break}t[f]=T}return t},Tf=function(i){return i=i.replace(nT,""),i.length===0},uo=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,Sf=/<\s*class=/i,Ef=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,Pf=/<\s*style=/i,Mf=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,nT=/^\s+|\s+$/;const aT=Phaser.Utils.Objects.GetValue;class pg extends ou{constructor(t,s,f,T,E){var n=aT(E,"tags",void 0),C=new sT(n);super(t,s,f,T,E,"rexTagText",C)}addTag(t,s){return this.parser.addTag(t,s),this.updateText(!0)}addTags(t){for(var s in t)this.parser.addTag(s,t[s]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}st.register("tagText",function(i,t,s,f){var T=new pg(this.scene,i,t,s,f);return this.scene.add.existing(T),T});et(window,"RexPlugins.UI.TagText",pg);const Qn=Phaser.Utils.Objects.GetValue;var Ha=function(i,t){return t===void 0?i:i[t]},ss=function(i,t,s){i===void 0&&(i={}),t===void 0&&(t=0);var f=typeof t;return f==="string"?i[t]=s:f==="number"?(i.left=t,i.right=t,i.top=t,i.bottom=t):(i.left=Qn(t,"left",0),i.right=Qn(t,"right",0),i.top=Qn(t,"top",0),i.bottom=Qn(t,"bottom",0)),i};class uu{constructor(t,s){this.setParent(t),this.type=s,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,s){return!1}}Object.assign(uu.prototype,ah);const hT={renderContent(){},render(){if(!this.willRender)return this;var i=this.context;if(i.save(),i.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,s=this.drawY;this.autoRound&&(t=Math.round(t),s=Math.round(s)),i.translate(t,s),i.scale(this.scaleX,this.scaleY),i.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),i.restore(),this}},oT=Phaser.Math.RotateAround;var lT=function(i,t,s,f){return f===void 0?f={}:f===!0&&(fo===void 0&&(fo={}),f=fo),f.x=(i-s.drawX)/s.scaleX,f.y=(t-s.drawY)/s.scaleY,s.rotation!==0&&oT(f,0,0,-s.rotation),f},fo;const uT=Phaser.Geom.Rectangle;var dT=function(i,t){if(this.width===0||this.height===0)return!1;var s=lT(i,t,this,!0);return fT(this).contains(s.x,s.y)},fT=function(i){jn===void 0&&(jn=new uT);var t=i.drawTLX,s=i.drawTLY;return jn.setTo(t,s,i.drawTRX-t,i.drawBLY-s),jn},jn;const vT=Phaser.Math.RotateAround;var gg=function(i,t,s,f){return f===void 0?f={}:f===!0&&(vo===void 0&&(vo={}),f=vo),f.x=t,f.y=s,i.rotation!==0&&vT(f,0,0,i.rotation),f.x=f.x*i.scaleX+i.drawX,f.y=f.y*i.scaleY+i.drawY,f},vo;const wf=Phaser.GameObjects.Components.TransformMatrix;var cT=function(i,t,s,f){f===void 0?f={}:f===!0&&(f=pT);var T=t-i.width*i.originX,E=s-i.height*i.originY;return Gr===void 0&&(Gr=new wf,Rf=new wf),i.parentContainer?i.getWorldTransformMatrix(Gr,Rf):Gr.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),Gr.transformPoint(T,E,f),f},Gr,Rf,pT={},gT=function(i,t,s,f,T){var E=gg(t,s,f,!0),n=cT(i,E.x,E.y,T);return n},mg=function(i,t,s,f,T){typeof s!="number"&&(T=s,s=0,f=0);var E=t.drawCenterX+s,n=t.drawCenterY+f;return gT(i,t,E,n,T)},mT=function(i,t,s){return mg(this.parent,this,i,t,s)},xg={contains:dT,getWorldPosition:mT};Object.assign(xg,hT);const xT=Phaser.Math.DegToRad,yT=Phaser.Math.RadToDeg,qn=Phaser.Utils.Objects.GetValue;class Is extends uu{constructor(t,s){super(t,s),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setInitialPosition(t,s){return this.x0=t,this.y0=s,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,s){return s===void 0&&(s=t),this.scrollFactorX=t,this.scrollFactorY=s,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return yT(this._rotation)}set angle(t){this.rotation=xT(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=qn(t,"width",void 0),f=qn(t,"height",void 0),T=qn(t,"scaleX",void 0),E=qn(t,"scaleY",void 0);return s!==void 0?f===void 0&&E===void 0?this.setWidth(s,!0):this.setWidth(s):T!==void 0&&this.setScaleX(T),f!==void 0?s===void 0&&T===void 0?this.setHeight(f,!0):this.setHeight(f):E!==void 0&&this.setScaleY(E),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(Is.prototype,xg);var is=function(i,t,s){return t.hasOwnProperty(i)?t[i]:s[i]};const Cs=Phaser.Utils.Objects.GetValue;class CT extends Is{constructor(t,s){super(t,"background"),this.setScrollFactor(0),this.setColor(Cs(s,"color",null),Cs(s,"color2",null),Cs(s,"horizontalGradient",!0)),this.setStroke(Cs(s,"stroke",null),Cs(s,"strokeThickness",2)),this.setCornerRadius(Cs(s,"cornerRadius",0),Cs(s,"cornerIteration",null))}set color(t){t=ft(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=ft(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,f){return f===void 0&&(f=!0),this.color=t,this.color2=s,this.horizontalGradient=f,this}set stroke(t){t=ft(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,is("color2",t,this),is("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,is("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,is("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,s){return this.cornerRadius=t,this.cornerIteration=s,this}renderContent(){ru(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const ki=Phaser.Utils.Objects.GetValue;class TT extends Is{constructor(t,s){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(ki(s,"color",null),ki(s,"color2",null),ki(s,"horizontalGradient",!0)),this.setStroke(ki(s,"stroke",null),ki(s,"strokeThickness",2))}set color(t){t=ft(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=ft(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,f){return f===void 0&&(f=!0),this.color=t,this.color2=s,this.horizontalGradient=f,this}set stroke(t){t=ft(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,ki(t,"color2",null),ki(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,ki(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,s=t.left,f=t.top,T=this.parent.width-t.left-t.right,E=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var C;if(this.color2!=null){var e;this.horizontalGradient?e=n.createLinearGradient(0,0,T,0):e=n.createLinearGradient(0,0,0,E),e.addColorStop(0,this.color),e.addColorStop(1,this.color2),C=e}else C=this.color;n.fillStyle=C,n.fillRect(s,f,T,E)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(s,f,T,E))}}const Jt=Phaser.Utils.Objects.GetValue;class oh{constructor(t,s){this.parent=t,this.set(s)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(Jt(t,"bold",!1)),this.setItalic(Jt(t,"italic",!1)),this.setFontSize(Jt(t,"fontSize","16px")),this.setFontFamily(Jt(t,"fontFamily","Courier")),this.setColor(Jt(t,"color","#fff")),this.setStrokeStyle(Jt(t,"stroke",null),Jt(t,"strokeThickness",0)),this.setShadow(Jt(t,"shadowColor",null),Jt(t,"shadowOffsetX",0),Jt(t,"shadowOffsetY",0),Jt(t,"shadowBlur",0)),this.setOffset(Jt(t,"offsetX",0),Jt(t,"offsetY",0)),this.setSpace(Jt(t,"leftSpace",0),Jt(t,"rightSpace",0)),this.setAlign(Jt(t,"align",void 0)),this.setBackgroundColor(Jt(t,"backgroundColor",null)),this.setBackgroundHeight(Jt(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(Jt(t,"backgroundBottomY",void 0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(is("stroke",t,this),is("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(is("shadowOffsetX",t,this),is("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new oh(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=ft(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,s){return this.stroke=ft(t),s!==void 0&&(this.strokeThickness=s),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=ft(t),this}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=0),this.shadowOffsetX=t,this.shadowOffsetY=s,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,s,f,T){return this.setShadowColor(t).setShadowOffset(s,f).setShadowBlur(T),this}setBackgroundColor(t){return this.backgroundColor=ft(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,s){return this.setOffsetX(t).setOffsetY(s),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,s){return this.setLeftSpace(t).setRightSpace(s),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var s=this.hasFill,f=this.hasStroke;return t.fillStyle=s?this.color:"#000",t.strokeStyle=f?this.stroke:"#000",t.lineWidth=f?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,s){return this.syncFont(t).syncStyle(t),t.measureText(s)}}var ST=function(i,t){return i===void 0&&(i=0),t===void 0&&(t=0),this.fixedWidth===i&&this.fixedHeight===t?this:(this.fixedWidth=i,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(i>0?i:this.width,t>0?t:this.height),this)},ET=function(i,t){var s=this.padding,f=s.left,T=s.right,E=s.top,n=s.bottom;return ss(s,i,t),this.dirty=this.dirty||f!=s.left||T!=s.right||E!=s.top||n!=s.bottom,this},PT=function(i){return Ha(this.padding,i)},MT=function(i){return this.textStyle.modify(i),this},wT=function(i){return this.defaultTextStyle.modify(i),this},RT=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},AT=function(i){return this.testString=i,this};const LT=Phaser.Utils.Array.Remove;var OT=function(i){return this.poolManager.free(i),LT(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},FT=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const bT=Phaser.Utils.Array.Remove;var DT=function(i){return bT(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},BT=function(){return this.setText(),this},IT=function(i,t){var s=Array.isArray(i);return t===void 0||t===this.children.length?s?this.children.push(...i):this.children.push(i):s?this.children.splice(t,0,...i):this.children.splice(t,0,i),this.lastAppendedChildren.length=0,s?this.lastAppendedChildren.push(...i):this.lastAppendedChildren.push(i),this};const ds="text",yg="image",Cg="drawer",Tg="space",du="command";var Sg=function(i){return i.type===ds&&i.text===`
`},Eg=function(i){return i.type===ds&&i.text==="\f"},GT=function(i){return i.type===ds&&i.text===" "},Tr=function(i){return i.type===ds},NT=function(i){return i.type===du};class Pg extends Is{constructor(t,s,f){super(t,ds),this.updateTextFlag=!1,this.style=new oh(this,f),this.setText(s)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var s=this.style.getTextMetrics(this.context,this.text);this.textWidth=s.width;var f,T;"actualBoundingBoxAscent"in s?(f=s.actualBoundingBoxAscent,T=s.actualBoundingBoxDescent):(f=0,T=0),this.textHeight=f+T,this.ascent=f,this.descent=T}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,s=this.style;if(s.hasBackgroundColor){t.fillStyle=s.backgroundColor;var f=this.drawTLX,T=this.drawTRX-f,E=s.backgroundBottomY;E==null&&(E=this.drawBLY);var n=s.backgroundHeight;n==null&&(n=E-this.drawTLY);var C=E-n;t.fillRect(f,C,T,n)}var e=s.hasFill,u=s.hasStroke;!e&&!u||(s.syncFont(t).syncStyle(t),u&&(s.syncShadow(t),t.strokeText(this.text,0,0)),e&&(s.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var VT=function(i,t){t&&this.textStyle.modify(t);var s=this.poolManager.allocate(ds);return s===null?s=new Pg(this,i,this.textStyle):s.setParent(this).setActive().modifyStyle(this.textStyle).setText(i),s},zT=function(i,t){t&&this.textStyle.modify(t);for(var s=[],f=0,T=i.length;f<T;f++){var E=i.charAt(f),n=this.poolManager.allocate(ds);n===null?n=new Pg(this,E,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(E),s.push(n)}return s},Cn=function(i,t){var s=this.createCharChildren(i,t);return this.addChild(s),this},XT=function(i,t){return i===void 0&&(i=""),this.removeChildren(),Cn.call(this,i,t),this.dirty=!0,this},WT=function(i,t,s){var f=this.createCharChildren(t,s);return i=this.getCharChildIndex(i,!0),this.addChild(f,i),this},UT=function(i,t){t===void 0&&(t=1);for(var s=0;s<t;s++){var f=this.getCharChildIndex(i,!0);if(f===void 0)break;this.removeChild(this.children[f])}return this},kT=function(i){var t="";return this.forEachCharChild(function(s){t+=s.text},void 0,i),t};Phaser.Display.Canvas.CanvasPool;class YT extends Is{constructor(t,s,f){super(t,yg),this.setTexture(s,f),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,s){return this.key=t,this.frame=s,this.frameObj=this.scene.sys.textures.getFrame(t,s),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){dg(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var HT=function(i,t,s){var f=this.poolManager.allocate(yg);return f===null?f=new YT(this,i,t):f.setParent(this).setActive().setTexture(i,t),f.modifyPorperties(s),f},Mg=function(i,t,s){var f=this.createImageChild(i,t,s);return this.addChild(f),this};class $T extends Is{constructor(t,s,f,T){super(t,Cg),this.setRenderCallback(s),this.setDrawerSize(f,T)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,s){return t===!0?(this.toLocalPosition=!1,t=void 0,s=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),s===void 0&&(s=t),this.drawerWidth=t,this.drawerHeight=s,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var KT=function(i,t,s){var f=this.poolManager.allocate(Cg);return f===null?f=new $T(this,i,t,s):f.setParent(this).setActive().setRenderCallback(i).setDrawerSize(t,s),f},ZT=function(i,t,s){var f=this.createDrawerChild(i,t,s);return this.addChild(f),this};class JT extends Is{constructor(t,s){super(t,Tg),this.setSpaceWidth(s)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}}var QT=function(i){var t=this.poolManager.allocate(Tg);return t===null?t=new JT(this,i):t.setParent(this).setActive().setSpaceWidth(i),t},wg=function(i){var t=this.createSpaceChild(i);return this.addChild(t),this};class jT extends uu{constructor(t,s,f,T,E){super(t,du),this.setName(s).setParameter(T).setCallback(f,E)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,s){return this.callback=t,this.scope=s,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var qT=function(i,t,s,f){var T=this.poolManager.allocate(du);return T===null?T=new jT(this,i,t,s,f):T.setParent(this).setActive().setName(i).setCallback(t,f).setParameter(s),T},ut=function(i,t,s,f){var T=this.createCommandChild(i,t,s,f);return this.addChild(T),this},_T=function(i){return i===void 0?i={}:typeof i=="object"&&(i=Oe(i)),this.wrapConfig=i,this},Rg=function(i){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,i)},t1=function(i,t,s,f){f===void 0&&(f={word:[],width:0}),f.word.length=0;for(var T=i.length,E=t,n=f.word,C=0;E<T;){var e=i[E];if(!e.renderable){n.push(e),E++;continue}var u=e.type===ds?e.text:null;if(u!==null&&u!==" "&&u!==`
`&&u!=="\f")n.push(e),C+=e.outerWidth,E++;else{E===t&&(n.push(e),C+=e.outerWidth);break}if(s)break}return f.width=C,f},Ag=function(i){for(var t=0,s=i.length;t<s;t++){var f=i[t];if(f.align!==void 0)return f.align}},Lg=function(i,t,s){if(!(t===0&&s===0))for(var f=0,T=i.length;f<T;f++){var E=i[f];!E.renderable||(E.x+=t,E.y+=s)}},e1=function(i,t,s){var f=i.hAlign,T=i.vAlign,E,n,C=i.linesHeight;switch(T){case 1:case"center":n=(s-C)/2;break;case 2:case"bottom":n=s-C;break;default:n=0;break}for(var e=i.lines,u=0,x=e.length;u<x;u++){var d=e[u],o=d.width,a=d.children,r=Ag(a);switch(r===void 0&&(r=f),r){case 1:case"center":E=(t-o)/2;break;case 2:case"right":E=t-o;break;default:E=0;break}Lg(a,E,n)}},Af=function(){var i=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,s;return"actualBoundingBoxAscent"in i?(t=i.actualBoundingBoxAscent,s=i.actualBoundingBoxDescent):(t=0,s=0),_n.ascent=t,_n.descent=s,_n.height=t+s,_n},_n={};const Pe=Phaser.Utils.Objects.GetValue;var i1=function(i){var t=Pe(i,"start",0);ss(this.wrapPadding,Pe(i,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,f=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,T=Pe(i,"lineHeight"),E=Pe(i,"ascent",T),n;if(T===void 0){var C=Pe(i,"useDefaultTextHeight",!1);if(n=Pe(i,"maxLines",0),this.fixedHeight>0&&!C){var U=this.fixedHeight-s;if(n>0)T=U/n;else{var e=Af.call(this);T=e.height,E=e.ascent,n=Math.floor((U-E)/T)}}else{var e=Af.call(this);T=e.height,E=e.ascent}}else if(this.fixedHeight>0){if(n=Pe(i,"maxLines"),n===void 0){var U=this.fixedHeight-s;n=Math.floor(U/T)}}else n=Pe(i,"maxLines",0);E===void 0&&(E=T);var u=n===0,x=Pe(i,"wrapWidth",void 0);x===void 0&&(this.fixedWidth>0?x=this.fixedWidth-f:x=1/0);for(var d=Pe(i,"letterSpacing",0),o=Pe(i,"hAlign",0),a=Pe(i,"vAlign",0),r=Pe(i,"charWrap",!1),l=Rg({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:d,maxLines:n,hAlign:o,vAlign:a,ascent:E,lineHeight:T,wrapWidth:x,charWrap:r}),v=this.children,h=0,c=v.length;h<c;h++)v[h].setActive(!1);x+=d;for(var p=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top+E,m=p,y=g,S=x,M=t,P=v.length,w=l.children,R=l.lines,A=[],L=0,F=0,O,b=!1;M<P;){O=t1(v,M,r,O);var B=O.word,I=B.length,N=O.width+I*d;M+=I;var X=Sg(B[0]);b=Eg(B[0]);var k=X||b;if(S<N||k){if(k){var H=B[0];H.setActive().setPosition(m,y),w.push(H),A.push(H)}m=p,y+=T,S=x,R.push({children:A,width:L}),F=Math.max(F,L),L=0,A=[];var V=b||!u&&R.length===n;if(V)break;if(k)continue}S-=N,L+=N;for(var h=0,c=B.length;h<c;h++){var W=B[h];W.setActive(),w.push(W),A.push(W),W.renderable&&(W.setPosition(m,y),m+=W.outerWidth+d)}}A.length>0&&(R.push({children:A,width:L}),F=Math.max(F,L)),l.start+=w.length,l.isLastPage=!b&&l.start===P,l.maxLineWidth=F,l.linesHeight=R.length*T;var D=this.fixedWidth>0?this.fixedWidth:l.maxLineWidth+f,G=this.fixedHeight>0?this.fixedHeight:l.linesHeight+s,z=D-f,U=G-s;e1(l,z,U),this.setCanvasSize(D,G);for(var h=0,c=w.length;h<c;h++){var W=w[h];!W.renderable||(W.x0=W.x,W.y0=W.y)}return l};const s1=Phaser.Utils.Objects.Merge;var r1=function(i){return i===void 0&&(i={}),i1.call(this,s1(i,this.wrapConfig))},n1=function(i,t,s){var f=i.hAlign,T=i.vAlign,E,n,C=i.rtl,e=i.lines,u=i.lineWidth,x=i.linesWidth;switch(f){case 1:case"center":E=(t-x)/2;break;case 2:case"right":E=t-x;break;default:E=0;break}C&&(E+=u);for(var d=0,o=e.length;d<o;d++){var a=e[C?o-d-1:d],r=a.children,l=a.height,v=Ag(r);switch(v===void 0&&(v=T),v){case 1:case"center":n=(s-l)/2;break;case 2:case"bottom":n=s-l;break;default:n=0;break}Lg(r,E,n),E+=u}};const Me=Phaser.Utils.Objects.GetValue;var a1=function(i){var t=Me(i,"start",0);ss(this.wrapPadding,Me(i,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,f=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,T=Me(i,"lineWidth",void 0),E;if(T===void 0)if(E=Me(i,"maxLines",0),this.fixedWidth>0){var H=this.fixedWidth-f;T=H/E}else T=0;else if(this.fixedWidth>0){if(E=Me(i,"maxLines",void 0),E===void 0){var H=this.fixedWidth-f;E=Math.floor(H/T)+1}}else E=Me(i,"maxLines",0);var n=E===0,C=Me(i,"fixedCharacterHeight",void 0);if(C===void 0){var e=Me(i,"charPerLine",void 0);if(e!==void 0){var V=this.fixedHeight-s;C=Math.floor(V/e)}}var u=Me(i,"wrapHeight",void 0);u===void 0&&(this.fixedHeight>0?u=this.fixedHeight-s:u=1/0);for(var x=Me(i,"letterSpacing",0),d=Me(i,"rtl",!0),o=Me(i,"hAlign",d?2:0),a=Me(i,"vAlign",0),r=Rg({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:x,maxLines:E,hAlign:o,vAlign:a,lineWidth:T,fixedCharacterHeight:C,wrapHeight:u,rtl:d}),l=this.children,v=0,h=l.length;v<h;v++)l[v].setActive(!1);u+=x;for(var c=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,g=c,m=p,y=u,S=t,M=l.length,P=r.children,w=r.lines,R=[],A=0,L=0;S<M;){var F=l[S];if(S++,!F.renderable){F.setActive(),P.push(F),R.push(F);continue}var O=(C!==void 0?C:F.height)+x,b=Sg(F),B=Eg(F),I=b||B;if(y<O||I){b&&(F.setActive().setPosition(g,m).setOrigin(.5),P.push(F),R.push(F)),g=c,m=p,y=u,w.push({children:R,height:A}),L=Math.max(L,A),A=0,R=[];var N=B||!n&&w.length===E;if(N)break;if(I)continue}y-=O,A+=O,F.setActive().setPosition(g,m).setOrigin(.5),P.push(F),R.push(F),m+=O}R.length>0&&(w.push({children:R,height:A}),L=Math.max(L,A)),r.start+=P.length,r.isLastPage=r.start===M,r.maxLineHeight=L,r.linesWidth=w.length*T;var X=this.fixedWidth>0?this.fixedWidth:r.linesWidth+f,k=this.fixedHeight>0?this.fixedHeight:r.maxLineHeight+s,H=X-f,V=k-s;n1(r,H,V),this.setCanvasSize(X,k);for(var v=0,h=P.length;v<h;v++){var F=P[v];!F.renderable||(F.x0=F.x,F.y0=F.y)}return r};const h1=Phaser.Utils.Objects.Merge;var o1=function(i){return i===void 0&&(i={}),a1.call(this,h1(i,this.wrapConfig))};const Lf=Phaser.Utils.Objects.GetValue;var l1=function(i){var t=Lf(this.wrapConfig,"callback");return t||(t=Lf(i,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,i)};const u1={setVAlign(i){return this.wrapConfig.vAlign=i,this},setHAlign(i){return this.wrapConfig.hAlign=i,this}},d1={setTextOX(i){return i===this._textOX?this:(this._textOX=i,this)},setTextOY(i){return i===this._textOY?this:(this._textOY=i,this)},setTextOXY(i,t){if(!(i===this._textOX&&t===this._textOY))return this._textOX=i,this._textOY=t,this},addTextOX(i){return this.setTextOX(this._textOX+i),this},addTextOY(i){return this.setTextOY(this._textOY+i),this},addTextOXY(i,t){return this.setTextOXY(this._textOX+i,this._textOY+t),this}};var f1=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var i,t=0,s=this.children.length;t<s;t++)i=this.children[t],i.active&&i.render();this.innerBounds.active&&this.innerBounds.render()},v1=function(i,t,s){s===void 0&&(s=!0);for(var f=this.children,T=0,E=0,n=f.length;E<n;E++){var C=f[E];if(!(s&&!C.active)){var e;if(t?e=i.call(this,C,T,f):e=i(C,T,f),T++,e)break}}return this},c1=function(i,t,s){s===void 0&&(s=!0);for(var f=this.children,T=0,E=0,n=f.length;E<n;E++){var C=f[E];if(!(s&&!C.active)&&C.renderable&&!C.removed){var e;if(t?e=i.call(this,C,T,f):e=i(C,T,f),T++,e)break}}return this},p1=function(i,t,s){s===void 0&&(s=!0);for(var f=this.children,T=0,E=0,n=f.length;E<n;E++){var C=f[E];if(!(s&&!C.active)&&Tr(C)&&!C.removed){var e;if(t?e=i.call(this,C,T,f):e=i(C,T,f),T++,e)break}}return this},g1=function(){return this.children};const m1=Phaser.Utils.Array.GetAll;var x1=function(){return m1(this.children,"active",!0)},y1=function(i,t){return t===void 0&&(t=[]),this.forEachCharChild(function(s){t.push(s)},void 0,i),t},C1=function(){return this.lastAppendedChildren},T1=function(i,t,s,f){typeof t!="number"&&(f=t,t=0,s=0);var T=i.drawCenterX+t,E=i.drawCenterY+s;return gg(i,T,E,f)};const S1=Phaser.Math.Distance.BetweenPointsSquared;var E1=function(i,t){var s={x:i,y:t},f=1/0,T=null;return this.forEachRenderableChild(function(E){var n=S1(s,T1(E,!0));f>n&&(f=n,T=E)}),T},P1=function(i,t,s,f){return typeof i=="number"&&(i=this.getCharChild(i,!0)),mg(this,i,t,s,f)},M1=function(){for(var i=this.children,t=0,s=0,f=0,T=i.length;f<T;f++){var E=i[f];if(!(!E.renderable||!E.active||!E.visible)){var n=E.x0!==void 0?E.x0:E.x,C=E.y0!==void 0?E.y0:E.y;t=Math.max(t,n),s=Math.max(s,C)}}var e=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,u=s+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==e||this.height!==u)&&(this.dirty=!0,this.setCanvasSize(e,u)),this},w1=function(i,t){t===void 0&&(t=!0);for(var s=this.children,f=0,T=s.length;f<T;f++){var E=s[f];if(!(t&&!E.active)&&Tr(E)&&!E.removed){if(i===0)return f;i--}}},R1=function(i,t){t===void 0&&(t=!0);for(var s=this.children,f=0,T=s.length;f<T;f++){var E=s[f];if(!(t&&!E.active)&&Tr(E)&&!E.removed){if(i===0)return E;i--}}},A1=function(i,t){if(typeof i!="number"&&(i=this.children.indexOf(i),i<0))return null;t===void 0&&(t=!0);var s=this.children;i>=s.length&&(i=s.length);for(var f=0,T=0;T<i;T++){var E=s[T];t&&!E.active||Tr(E)&&!E.removed&&f++}return f},L1=function(i){return i===void 0&&(i=!0),this.childrenInteractiveEnable!==i&&(this.lastOverChild=null),this.childrenInteractiveEnable=i,this},fu=function(f,t,s){for(var f=f,T=0,E=f.length;T<E;T++){var n=f[T];if(!(!n.active||!n.renderable)&&n.contains(t,s))return n}return null},O1=function(){return this.on("pointerdown",F1,this).on("pointerdown",b1,this).on("pointermove",co,this).on("pointerover",co,this).on("pointerout",function(i,t){co.call(this,i,null,null,t)},this),this},F1=function(i,t,s,f){if(!!this.childrenInteractiveEnable){var T=fu(this.children,t,s);!T||this.emit("child.pointerdown",T,i,t,s,f)}},b1=function(i,t,s,f){if(!!this.childrenInteractiveEnable){var T=fu(this.children,t,s);!T||this.emit("child.pointerup",T,i,t,s,f)}},co=function(i,t,s,f){if(!!this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,i,t,s,f),this.lastOverChild=null);return}var T=fu(this.children,t,s);T!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,i,t,s,f),T!==null&&this.emit("child.pointerover",T,i,t,s,f),this.lastOverChild=T)}};const D1=Phaser.GameObjects.GameObject;var B1=function(i,t,s){var f=!!this.input;return D1.prototype.setInteractive.call(this,i,t,s),f||O1.call(this),this};const I1=Phaser.Utils.Array.BringToTop,G1=Phaser.Utils.Array.SendToBack,N1=Phaser.Utils.Array.MoveUp,V1=Phaser.Utils.Array.MoveDown,z1=Phaser.Utils.Array.MoveAbove,X1=Phaser.Utils.Array.MoveBelow,W1={moveChildToFist(i){return G1(this.children,i),this},moveChildToLast(i){return I1(this.children,i),this},movechildUp(i){return N1(this.children,i),this},movechildDown(i){return V1(this.children,i),this},movechildAbove(i,t){return z1(this.children,i,t),this},movechildBelow(i,t){return X1(this.children,i,t),this}},U1={setBackgroundColor(i,t,s){return this.background.setColor(i,t,s),this},setBackgroundStroke(i,t){return this.background.setStroke(i,t),this},setBackgroundCornerRadius(i,t){return this.background.setCornerRadius(i,t),this}},k1={setInnerBoundsColor(i,t,s){return this.innerBounds.setColor(i,t,s),this},setInnerBoundsStroke(i,t){return this.innerBounds.setStroke(i,t),this}};var Og={setFixedSize:ST,setPadding:ET,getPadding:PT,modifyTextStyle:MT,modifyDefaultTextStyle:wT,resetTextStyle:RT,setTestString:AT,removeChild:OT,removeChildren:FT,popChild:DT,clearContent:BT,addChild:IT,createCharChild:VT,createCharChildren:zT,setText:XT,appendText:Cn,insertText:WT,removeText:UT,getText:kT,createImageChild:HT,appendImage:Mg,createDrawerChild:KT,appendDrawer:ZT,createSpaceChild:QT,appendSpace:wg,createCommandChild:qT,appendCommand:ut,setWrapConfig:_T,runWordWrap:r1,runVerticalWrap:o1,runWrap:l1,renderContent:f1,forEachChild:v1,forEachRenderableChild:c1,forEachCharChild:p1,getChildren:g1,getActiveChildren:x1,getCharChildren:y1,getLastAppendedChildren:C1,getNearestChild:E1,getCharWorldPosition:P1,setToMinSize:M1,getCharChildIndex:w1,getCharChild:R1,getCharIndex:A1,setChildrenInteractiveEnable:L1,setInteractive:B1};Object.assign(Og,W1,U1,k1,u1,d1);const Y1=Phaser.Utils.Objects.GetFastValue;var H1={};class $1{constructor(t){this.pools=Y1(t,"pools",H1)}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new xi),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,f=t.length;s<f;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const Of=Phaser.Utils.Objects.IsPlainObject,xe=Phaser.Utils.Objects.GetValue;class Mr extends us{constructor(t,s,f,T,E,n){Of(s)?(n=s,s=xe(n,"x",0),f=xe(n,"y",0),T=xe(n,"width",0),E=xe(n,"height",0)):Of(T)&&(n=T,T=xe(n,"width",0),E=xe(n,"height",0));var C=T===0?1:T,e=E===0?1:E;super(t,s,f,C,e),this.type="rexDynamicText",this.autoRound=!0,this.padding=ss(),this.wrapPadding=ss();var u=xe(n,"style",void 0);this.defaultTextStyle=new oh(null,u),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(xe(n,"testString","|M\xC9qgy")),this._textOX=0,this._textOY=0,this.background=new CT(this,xe(n,"background",void 0)),this.innerBounds=new TT(this,xe(n,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new $1(n),this.setFixedSize(T,E),this.setPadding(xe(n,"padding",0)),this.setWrapConfig(xe(n,"wrap",void 0)),this.setChildrenInteractiveEnable(xe(n,"childrenInteractive",!1));var x=xe(n,"text",void 0);x&&this.setText(x)}updateTexture(){return this.renderContent(),super.updateTexture(),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,s){return this.setFixedSize(t,s),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(Mr.prototype,Og);st.register("dynamicText",function(i,t,s,f,T){var E=new Mr(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.DynamicText",Mr);const wr={setEventEmitter(i,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=i===!0||i===void 0,this._eventEmitter=this._privateEE?new t:i,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(i){return this._eventEmitter&&i&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},K1={hasProperty(i){var t=this.gameObject;if(t.hasOwnProperty(i))return!0;var s=t[i];return s!==void 0},getProperty(i){return this.gameObject[i]},setProperty(i,t){return this.gameObject[i]=t,this},easeProperty(i,t,s,f,T,E,n,C){C===void 0&&(C=this.gameObject);var e=this.tweens,u=e[i];u&&u.remove();var x={targets:C,duration:s,ease:f,repeat:T,yoyo:E,onComplete:function(){e[i].remove(),e[i]=null,n&&n(C,i)},onCompleteScope:this};return x[i]=t,u=this.scene.tweens.add(x),u.timeScale=this.timeScale,e[i]=u,this},getTweenTask(i){return this.tweens[i]},freeTweens(){var i=this.tweens,t;for(var s in i)t=i[s],t&&t.remove(),i[s]=null;return this}},Z1={hasMethod(i){return typeof this.gameObject[i]=="function"},call(i,...t){if(!this.hasMethod(i))return this;var s=this.gameObject;return s[i].apply(s,t),this}},J1={hasData(i){var t=this.gameObject;return t.data?t.data.has(i):!1},getData(i){return this.gameObject.getData(i)},setData(i,t){return this.gameObject.setData(i,t),this}};class vu{constructor(t,s,f){this.GOManager=t,this.tweens={},this.effects={},this.setGO(s,f)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,s){return t.setName(s),this.gameObject=t,this.name=s,this.freeTweens(),this}setTimeScale(t){var s=this.tweens;for(var f in s){var T=s[f];T&&(T.timeScale=t)}return this}}Object.assign(vu.prototype,K1,Z1,J1);var cu=function(i){for(var t in i)return!1;return!0},Dt=function(i,t){if(!i)return!1;if(i.hasOwnProperty(t))return!0;for(;i;){if(Object.getOwnPropertyDescriptor(i,t))return!0;i=i.__proto__}return!1},fe=function(i){return i.preFX?i.preFX:i.postFX?i.postFX:null},zt=function(i,t){i._effectSwitchNames||(i._effectSwitchNames=[],i.clearAllEffects=function(){for(var s=i._effectSwitchNames,f=0,T=s.length;f<T;f++)i[s[f]]=null;return i},i.on("destroy",i.clearAllEffects,i)),i._effectSwitchNames.push(t)},Q1=function(i){if(Dt(i,"barrel"))return i;var t=fe(i);if(!t)return i;var s;return Object.defineProperty(i,"barrel",{get:function(){return s},set:function(f){s!==f&&(s=f,s===null||s===!1?i._barrelEffect&&(t.remove(i._barrelEffect),i._barrelEffect=void 0):(i._barrelEffect||(i._barrelEffect=t.addBarrel()),i._barrelEffect.amount=s))}}),i.barrel=null,zt(i,"barrel"),i},le=function(i,t,s){if(Dt(i,t))return i;var f=fe(i);if(!f)return i;var T=`_${t}Effect`,E;return Object.defineProperty(i,t,{get:function(){return E},set:function(n){if(E!==n)if(E=n,E===null||E===!1)i[T]&&(f.remove(i[T]),i[T]=void 0);else{i[T]||(i[T]=f.addColorMatrix());var C=i[T];C[t](s===1?n:void 0)}}}),i[t]=null,zt(i,t),i},j1=function(i){return le(i,"blackWhite"),i},q1=function(i){if(Dt(i,"bloomColor"))return i;var t=fe(i);if(!t)return i;var s,f=1,T=1,E=1,n=1,C=4;return Object.defineProperty(i,"bloomColor",{get:function(){return s},set:function(e){s!==e&&(s=e,s===null||s===!1?i._bloom&&(t.remove(i._bloom),i._bloom=void 0,t.setPadding(0)):(i._bloom||(i._bloom=t.addBloom(s,f,T,E,n,C),t.setPadding(Math.max(f,T)+1)),i._bloom.color=s))}}),Object.defineProperty(i,"bloomOffsetX",{get:function(){return f},set:function(e){if(f!==e&&(f=e,i._bloom)){var u=Math.max(f,T);t.setPadding(u+1),i._bloom.offsetX=f}}}),Object.defineProperty(i,"bloomOffsetY",{get:function(){return T},set:function(e){if(T!==e&&(T=e,i._bloom)){var u=Math.max(f,T);t.setPadding(u+1),i._bloom.offsetY=T}}}),Object.defineProperty(i,"bloomBlurStrength",{get:function(){return E},set:function(e){E!==e&&(E=e,i._bloom&&(i._bloom.blurStrength=E))}}),Object.defineProperty(i,"bloomStrength",{get:function(){return n},set:function(e){n!==e&&(n=e,i._bloom&&(i._bloom.strength=n))}}),Object.defineProperty(i,"bloomSteps",{get:function(){return C},set:function(e){C!==e&&(C=e,i._bloom&&(i._bloom.steps=C))}}),i.bloomColor=null,zt(i,"bloomColor"),i},_1=function(i){if(Dt(i,"blurColor"))return i;var t=fe(i);if(!t)return i;var s,f=0,T=1,E=1,n=1,C=4;return Object.defineProperty(i,"blurColor",{get:function(){return s},set:function(e){s!==e&&(s=e,s===null||s===!1?i._blur&&(t.remove(i._blur),i._blur=void 0,t.setPadding(0)):(i._blur||(i._blur=t.addBlur(f,T,E,n,s,C),t.setPadding(Math.max(T,E)+1)),i._blur.color=s))}}),Object.defineProperty(i,"blurQuality",{get:function(){return f},set:function(e){f!==e&&(f=e,i._blur&&(i._blur.quality=f))}}),Object.defineProperty(i,"blurX",{get:function(){return T},set:function(e){if(T!==e&&(T=e,i._blur)){var u=Math.max(T,E);t.setPadding(u+1),i._blur.x=T}}}),Object.defineProperty(i,"blurY",{get:function(){return E},set:function(e){if(E!==e&&(E=e,i._blur)){var u=Math.max(T,E);t.setPadding(u+1),i._blur.y=E}}}),Object.defineProperty(i,"blurStrength",{get:function(){return n},set:function(e){n!==e&&(n=e,i._blur&&(i._blur.strength=n))}}),Object.defineProperty(i,"blurSteps",{get:function(){return C},set:function(e){C!==e&&(C=e,i._blur&&(i._blur.steps=C))}}),i.blurColor=null,zt(i,"blurColor"),i},tS=function(i){if(Dt(i,"bokehRadius"))return i;var t=fe(i);if(!t)return i;var s,f=1,T=.2;return Object.defineProperty(i,"bokehRadius",{get:function(){return s},set:function(E){s!==E&&(s=E,s===null||s===!1?i._bokeh&&(t.remove(i._bokeh),i._bokeh=void 0):(i._bokeh||(i._bokeh=t.addBokeh(s,f,T)),i._bokeh.radius=s))}}),Object.defineProperty(i,"bokehAmount",{get:function(){return f},set:function(E){f!==E&&(f=E,i._bokeh&&(i._bokeh.amount=f))}}),Object.defineProperty(i,"bokehContrast",{get:function(){return T},set:function(E){T!==E&&(T=E,i._bokeh&&(i._bokeh.contrast=T))}}),i.bokehRadius=null,zt(i,"bokehRadius"),i},eS=function(i){return le(i,"brightness",1),i},iS=function(i){return le(i,"brown"),i},sS=function(i){if(Dt(i,"circleColor"))return i;var t=fe(i);if(!t)return i;var s,f=8,T=0,E=.4,n=1,C=.005;return Object.defineProperty(i,"circleColor",{get:function(){return s},set:function(e){s!==e&&(s=e,s===null||s===!1?i._circle&&(t.remove(i._circle),i._circle=void 0):(i._circle||(i._circle=t.addCircle(f,s,T,n,C),i.circleBackgroundAlpha=E),i._circle.color=s))}}),Object.defineProperty(i,"circleThickness",{get:function(){return f},set:function(e){f!==e&&(f=e,i._circle&&(i._circle.thickness=f))}}),Object.defineProperty(i,"circleBackgroundColor",{get:function(){return T},set:function(e){T!==e&&(T=e,i._circle&&(i._circle.backgroundColor=T))}}),Object.defineProperty(i,"circleBackgroundAlpha",{get:function(){return E},set:function(e){E!==e&&(E=e,i._circle&&(i._circle.glcolor2[3]=E))}}),Object.defineProperty(i,"circleScale",{get:function(){return n},set:function(e){n!==e&&(n=e,i._circle&&(i._circle.scale=n))}}),Object.defineProperty(i,"circleFeather",{get:function(){return C},set:function(e){C!==e&&(C=e,i._circle&&(i._circle.feather=C))}}),i.circleColor=null,zt(i,"circleColor"),i},rS=function(i){return le(i,"contrast",1),i},nS=function(i){return le(i,"desaturate",1),i},aS=function(i){return le(i,"desaturateLuminance"),i},hS=function(i){if(Dt(i,"displacementKey"))return i;var t=fe(i);if(!t)return i;var s,f=.005,T=.005;return Object.defineProperty(i,"displacementKey",{get:function(){return s},set:function(E){s!==E&&(s=E,s===null||s===!1?i._displacement&&(t.remove(i._displacement),i._displacement=void 0):(i._displacement||(i._displacement=t.addDisplacement(s,f,T)),i._displacement.setTexture(s)))}}),Object.defineProperty(i,"displacementX",{get:function(){return f},set:function(E){f!==E&&(f=E,i._displacement&&(i._displacement.x=f))}}),Object.defineProperty(i,"displacementY",{get:function(){return T},set:function(E){T!==E&&(T=E,i._displacement&&(i._displacement.y=T))}}),i.displacementKey=null,zt(i,"displacementKey"),i},oS=function(i){if(Dt(i,"glowColor"))return i;var t=fe(i);if(!t)return i;var s,f=4,T=0;return Object.defineProperty(i,"glowColor",{get:function(){return s},set:function(E){s!==E&&(s=E,s===null||s===!1?i._glow&&(t.remove(i._glow),i._glow=void 0,t.setPadding(0)):(i._glow||(i._glow=t.addGlow(s,f,T),t.setPadding(f+1)),i._glow.color=s))}}),Object.defineProperty(i,"glowOuterStrength",{get:function(){return f},set:function(E){f!==E&&(f=E,i._glow&&(t.setPadding(f+1),i._glow.outerStrength=f))}}),Object.defineProperty(i,"glowInnerStrength",{get:function(){return T},set:function(E){T!==E&&(T=E,i._glow&&(i._glow.innerStrength=T))}}),i.glowColor=null,zt(i,"glowColor"),i},lS=function(i){if(Dt(i,"gradientColor"))return i;var t=fe(i);if(!t)return i;var s,f,T=.5,E=0,n=0,C=0,e=1,u=0;return Object.defineProperty(i,"gradientColor",{get:function(){return[s,f]},set:function(x){var d,o;x===null||x===!1?(d=null,o=null):(d=x[0],o=x[1]),!(s===d&&f===o)&&(s=d,f=o,s===null||s===!1?i._gradient&&(t.remove(i._gradient),i._gradient=void 0):(i._gradient||(i._gradient=t.addGradient(s,f,T,E,n,C,e,u)),i._gradient.color1=s,i._gradient.color2=f))}}),Object.defineProperty(i,"gradientColor1",{get:function(){return s},set:function(x){if(x===null||x===!1){i.gradientColor=x;return}s!==x&&(s=x,i._gradient&&(i._gradient.color1=s))}}),Object.defineProperty(i,"gradientColor2",{get:function(){return f},set:function(x){if(x===null||x===!1){i.gradientColor=x;return}f!==x&&(f=x,i._gradient&&(i._gradient.color2=f))}}),Object.defineProperty(i,"gradientAlpha",{get:function(){return T},set:function(x){T!==x&&(T=x,i._gradient&&(i._gradient.alpha=T))}}),Object.defineProperty(i,"gradientFromX",{get:function(){return E},set:function(x){E!==x&&(E=x,i._gradient&&(i._gradient.fromX=E))}}),Object.defineProperty(i,"gradientFromY",{get:function(){return n},set:function(x){n!==x&&(n=x,i._gradient&&(i._gradient.fromY=n))}}),Object.defineProperty(i,"gradientToX",{get:function(){return C},set:function(x){C!==x&&(C=x,i._gradient&&(i._gradient.toX=C))}}),Object.defineProperty(i,"gradientToY",{get:function(){return e},set:function(x){e!==x&&(e=x,i._gradient&&(i._gradient.toY=e))}}),Object.defineProperty(i,"gradientSize",{get:function(){return u},set:function(x){u!==x&&(u=x,i._gradient&&(i._gradient.size=u))}}),i.gradientColor=null,zt(i,"gradientColor"),i},uS=function(i){return le(i,"grayscale",1),i},dS=function(i){return le(i,"hue",1),i},fS=function(i){return le(i,"kodachrome"),i},vS=function(i){return le(i,"lsd"),i},cS=function(i){return le(i,"negative"),i},pS=function(i){if(Dt(i,"pixelate"))return i;var t=fe(i);if(!t)return i;var s;return Object.defineProperty(i,"pixelate",{get:function(){return s},set:function(f){s!==f&&(s=f,s===null||s===!1?i._pixelateEffect&&(t.remove(i._pixelateEffect),i._pixelateEffect=void 0):(i._pixelateEffect||(i._pixelateEffect=t.addPixelate()),i._pixelateEffect.amount=s))}}),i.pixelate=null,zt(i,"pixelate"),i},gS=function(i){return le(i,"polaroid"),i},mS=function(i){if(Dt(i,"revealLeft"))return i;var t=fe(i);if(!t)return i;var s,f,T,E,n=.1,C=function(){s=null,f=null,T=null,E=null},e=function(u){u._revealEffect&&(t.remove(u._revealEffect),u._revealEffect=void 0)};return Object.defineProperty(i,"revealLeft",{get:function(){return s},set:function(u){s!==u&&(C(),s=u,s===null||s===!1?e(i):(i._revealEffect||(i._revealEffect=t.addReveal(n,0,0)),i._revealEffect.direction=1,i._revealEffect.axis=0,i._revealEffect.progress=s))}}),Object.defineProperty(i,"revealRight",{get:function(){return f},set:function(u){f!==u&&(C(),f=u,f===null||f===!1?e(i):(i._revealEffect||(i._revealEffect=t.addReveal(n,0,0)),i._revealEffect.direction=0,i._revealEffect.axis=0,i._revealEffect.progress=f))}}),Object.defineProperty(i,"revealUp",{get:function(){return T},set:function(u){T!==u&&(C(),T=u,T===null||T===!1?e(i):(i._revealEffect||(i._revealEffect=t.addReveal(n,0,0)),i._revealEffect.direction=1,i._revealEffect.axis=1,i._revealEffect.progress=T))}}),Object.defineProperty(i,"revealDown",{get:function(){return E},set:function(u){E!==u&&(C(),E=u,E===null||E===!1?e(i):(i._revealEffect||(i._revealEffect=t.addReveal(n,0,0)),i._revealEffect.direction=0,i._revealEffect.axis=1,i._revealEffect.progress=E))}}),Object.defineProperty(i,"revealWidth",{get:function(){return n},set:function(u){n!==u&&(n=u,i._revealEffect&&(i._revealEffect.wipeWidth=n))}}),i.revealLeft=null,zt(i,"revealLeft"),zt(i,"revealRight"),zt(i,"revealUp"),zt(i,"revealDown"),i},xS=function(i){return le(i,"saturate",1),i},yS=function(i){return le(i,"sepia"),i},CS=function(i){if(Dt(i,"shadowColor"))return i;var t=fe(i);if(!t)return i;var s,f=0,T=0,E=.1,n=1,C=6,e=1;return Object.defineProperty(i,"shadowColor",{get:function(){return s},set:function(u){s!==u&&(s=u,s===null||s===!1?i._shadow&&(t.remove(i._shadow),i._shadow=void 0):(i._shadow||(i._shadow=t.addShadow(f,T,E,n,s,C,e)),i._shadow.color=s))}}),Object.defineProperty(i,"shadowX",{get:function(){return f},set:function(u){f!==u&&(f=u,i._shadow&&(i._shadow.x=f))}}),Object.defineProperty(i,"shadowY",{get:function(){return T},set:function(u){T!==u&&(T=u,i._shadow&&(i._shadow.y=T))}}),Object.defineProperty(i,"decay",{get:function(){return E},set:function(u){E!==u&&(E=u,i._shadow&&(i._shadow.decay=E))}}),Object.defineProperty(i,"shadowPower",{get:function(){return n},set:function(u){n!==u&&(n=u,i._shadow&&(i._shadow.power=n))}}),Object.defineProperty(i,"shadowSamples",{get:function(){return C},set:function(u){C!==u&&(C=u,i._shadow&&(i._shadow.samples=C))}}),Object.defineProperty(i,"shadowIntensity",{get:function(){return e},set:function(u){e!==u&&(e=u,i._shadow&&(i._shadow.intensity=e))}}),i.shadowColor=null,zt(i,"shadowColor"),i},TS=function(i){return le(i,"shiftToBGR"),i},SS=function(i){if(Dt(i,"shineSpeed"))return i;var t=fe(i);if(!t)return i;var s,f=.5,T=3;return Object.defineProperty(i,"shineSpeed",{get:function(){return s},set:function(E){s!==E&&(s=E,s===null||s===!1?i._shine&&(t.remove(i._shine),i._shine=void 0):(i._shine||(i._shine=t.addShine(s,f,T)),i._shine.speed=s))}}),Object.defineProperty(i,"shineLineWidth",{get:function(){return f},set:function(E){f!==E&&(f=E,i._shine&&(i._shine.lineWidth=f))}}),Object.defineProperty(i,"shineGradient",{get:function(){return T},set:function(E){T!==E&&(T=E,i._shine&&(i._shine.gradient=T))}}),i.shineSpeed=null,zt(i,"shineSpeed"),i},ES=function(i){return le(i,"technicolor"),i},PS=function(i){if(Dt(i,"tiltShiftRadius"))return i;var t=fe(i);if(!t)return i;var s,f=1,T=.2,E=1,n=1,C=1;return Object.defineProperty(i,"tiltShiftRadius",{get:function(){return s},set:function(e){s!==e&&(s=e,s===null||s===!1?i._tiltShift&&(t.remove(i._tiltShift),i._tiltShift=void 0):(i._tiltShift||(i._tiltShift=t.addTiltShift(s,f,T,E,n,C)),i._tiltShift.radius=s))}}),Object.defineProperty(i,"tiltShiftAmount",{get:function(){return f},set:function(e){f!==e&&(f=e,i._tiltShift&&(i._tiltShift.amount=f))}}),Object.defineProperty(i,"tiltShiftContrast",{get:function(){return T},set:function(e){T!==e&&(T=e,i._tiltShift&&(i._tiltShift.contrast=T))}}),Object.defineProperty(i,"tiltShiftBlurX",{get:function(){return E},set:function(e){E!==e&&(E=e,i._tiltShift&&(i._tiltShift.blurX=E))}}),Object.defineProperty(i,"tiltShiftBlurY",{get:function(){return n},set:function(e){n!==e&&(n=e,i._tiltShift&&(i._tiltShift.blurY=n))}}),Object.defineProperty(i,"tiltShiftStrength",{get:function(){return C},set:function(e){C!==e&&(C=e,i._tiltShift&&(i._tiltShift.strength=C))}}),i.tiltShiftRadius=null,zt(i,"tiltShiftRadius"),i},MS=function(i){if(Dt(i,"vignetteColor"))return i;var t=fe(i);if(!t)return i;var s,f=.5,T=.5,E=.5;return Object.defineProperty(i,"vignetteRadius",{get:function(){return s},set:function(n){s!==n&&(s=n,s===null||s===!1?i._vignette&&(t.remove(i._vignette),i._vignette=void 0):(i._vignette||(i._vignette=t.addVignette(f,T,s,E)),i._vignette.radius=s))}}),Object.defineProperty(i,"vignetteX",{get:function(){return f},set:function(n){f!==n&&(f=n,i._vignette&&(i._vignette.x=f))}}),Object.defineProperty(i,"vignetteY",{get:function(){return T},set:function(n){T!==n&&(T=n,i._vignette&&(i._vignette.y=T))}}),Object.defineProperty(i,"vignetteStrength",{get:function(){return E},set:function(n){E!==n&&(E=n,i._vignette&&(i._vignette.strength=E))}}),i.vignetteRadius=null,zt(i,"vignetteRadius"),i},wS=function(i){return le(i,"vintagePinhole"),i},RS=function(i){if(Dt(i,"wipeLeft"))return i;var t=fe(i);if(!t)return i;var s,f,T,E,n=.1,C=function(){s=null,f=null,T=null,E=null},e=function(u){u._wipeEffect&&(t.remove(u._wipeEffect),u._wipeEffect=void 0)};return Object.defineProperty(i,"wipeLeft",{get:function(){return s},set:function(u){s!==u&&(C(),s=u,s===null||s===!1?e(i):(i._wipeEffect||(i._wipeEffect=t.addWipe(n,0,0)),i._wipeEffect.direction=1,i._wipeEffect.axis=0,i._wipeEffect.progress=s))}}),Object.defineProperty(i,"wipeRight",{get:function(){return f},set:function(u){f!==u&&(C(),f=u,f===null||f===!1?e(i):(i._wipeEffect||(i._wipeEffect=t.addWipe(n,0,0)),i._wipeEffect.direction=0,i._wipeEffect.axis=0,i._wipeEffect.progress=f))}}),Object.defineProperty(i,"wipeUp",{get:function(){return T},set:function(u){T!==u&&(C(),T=u,T===null||T===!1?e(i):(i._wipeEffect||(i._wipeEffect=t.addWipe(n,0,0)),i._wipeEffect.direction=1,i._wipeEffect.axis=1,i._wipeEffect.progress=T))}}),Object.defineProperty(i,"wipeDown",{get:function(){return E},set:function(u){E!==u&&(C(),E=u,E===null||E===!1?e(i):(i._wipeEffect||(i._wipeEffect=t.addWipe(n,0,0)),i._wipeEffect.direction=0,i._wipeEffect.axis=1,i._wipeEffect.progress=E))}}),Object.defineProperty(i,"wipeWidth",{get:function(){return n},set:function(u){n!==u&&(n=u,i._wipeEffect&&(i._wipeEffect.wipeWidth=n))}}),i.wipeLeft=null,zt(i,"wipeLeft"),zt(i,"wipeRight"),zt(i,"wipeUp"),zt(i,"wipeDown"),i};const ta={barrel:Q1,blackWhite:j1,bloom:q1,blur:_1,bokeh:tS,brightness:eS,brown:iS,circle:sS,contrast:rS,desaturate:nS,desaturateLuminance:aS,displacement:hS,glow:oS,gradient:lS,grayscale:uS,hue:dS,kodachrome:fS,lsd:vS,negative:cS,pixelate:pS,polaroid:gS,reveal:mS,saturate:xS,sepia:yS,shadow:CS,shiftToBGR:TS,shine:SS,technicolor:ES,tiltShift:PS,vignette:MS,vintagePinhole:wS,wipe:RS};var lh=function(i,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var s=t,t={},f=0,T=s.length;f<T;f++)t[s[f]]=!0;if(t===!0)for(var E in ta)ta[E](i);else for(var E in t)t[E]&&ta[E]&&ta[E](i);return i};const Fg=0,bg=1,Nl=2,Dg=3,Bg=4,Vl=5,AS={tint:Fg,alpha:bg,revealUp:Nl,revealDown:Dg,revealLeft:Bg,revealRight:Vl},LS={setGOFadeMode(i){return typeof i=="string"&&(i=AS[i]),this.fadeMode=i,this},setGOFadeTime(i){return this.fadeTime=i,this},useTintFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===Fg)&&this.fadeTime>0&&i.setTint!==void 0},useAlphaFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===bg)&&this.fadeTime>0&&i.setAlpha!==void 0},useRevealEffect(i){return this.fadeMode>=Nl&&this.fadeMode<=Vl&&this.fadeTime>0&&(i.preFX||i.postFX)},fadeBob(i,t,s,f){var T=i.gameObject;if(this.useTintFadeEffect(T))t!==void 0&&i.setProperty("tintGray",255*t),i.easeProperty("tintGray",Math.floor(255*s),this.fadeTime,"Linear",0,!1,f);else if(this.useAlphaFadeEffect(T))t!==void 0&&i.setProperty("alpha",t),i.easeProperty("alpha",s,this.fadeTime,"Linear",0,!1,f);else if(this.useRevealEffect(T)){lh(T,"reveal");var E;switch(this.fadeMode){case Nl:E="revealUp";break;case Dg:E="revealDown";break;case Bg:E="revealLeft";break;case Vl:E="revealRight";break}t===void 0&&(t=0),T[E]=t,i.easeProperty(E,s,this.fadeTime,"Linear",0,!1,f),i.getTweenTask(E).once("complete",function(){T[E]=null})}else f&&f(T);return this}};var un=function(i){return i>>16&255},dn=function(i){return i>>8&255},fn=function(i){return i&255};const OS=~(255<<16)&16777215,FS=~(255<<8)&16777215,bS=16776960;var DS=function(i,t){return(t&255)<<16|i&OS},BS=function(i,t){return(t&255)<<8|i&FS},IS=function(i,t){return t&255|i&bS},GS=function(i,t,s,f){return(t&255)<<16|(s&255)<<8|f&255},NS=function(i,t){if(i.hasOwnProperty("tintR"))return i;t===void 0&&(t=16777215);var s=un(t),f=dn(t),T=fn(t);return Object.defineProperty(i,"tint",{get:function(){return t},set:function(E){E=Math.floor(E)&16777215,i.setTint&&i.setTint(E),t!==E&&(t=E,s=un(t),f=dn(t),T=fn(t))}}),Object.defineProperty(i,"tintR",{get:function(){return s},set:function(E){E=Math.floor(E)&255,s!==E&&(s=E,i.tint=DS(t,E))}}),Object.defineProperty(i,"tintG",{get:function(){return f},set:function(E){E=Math.floor(E)&255,f!==E&&(f=E,i.tint=BS(t,E))}}),Object.defineProperty(i,"tintB",{get:function(){return T},set:function(E){E=Math.floor(E)&255,T!==E&&(T=E,i.tint=IS(t,E))}}),Object.defineProperty(i,"tintGray",{get:function(){return Math.floor((s+f+T)/3)},set:function(E){E=Math.floor(E)&255,(s!==E||f!==E||T!==E)&&(s=E,f=E,T=E,i.tint=GS(t,E,E,E))}}),i.tint=t,i};const VS=Phaser.Events.EventEmitter;var zS=function(i){if(i.events)return i;var t=new VS,s=i.x;Object.defineProperty(i,"x",{get:function(){return s},set:function(n){s!==n&&(s=n,t.emit("update",i))}});var f=i.y;Object.defineProperty(i,"y",{get:function(){return f},set:function(n){f!==n&&(f=n,t.emit("update",i))}});var T=i.width;Object.defineProperty(i,"width",{get:function(){return T},set:function(n){T!==n&&(T=n,t.emit("update",i))}});var E=i.height;return Object.defineProperty(i,"height",{get:function(){return E},set:function(n){E!==n&&(E=n,t.emit("update",i))}}),i.events=t,i},XS=function(i,t,s,f,T,E){return E===void 0?E={}:E===!0&&(E=WS),typeof s!="number"&&(s=0,f=0),E.x=T.x+T.width*i+s,E.y=T.y+T.height*t+f,E},WS={},US=function(i,t,s,f,T,E,n){if(i.hasOwnProperty("vp"))return i;typeof s=="function"&&(n=s,s=void 0),typeof T=="function"&&(n=T,T=void 0),s===void 0&&(s=.5),f===void 0&&(f=.5),T===void 0&&(T=0),E===void 0&&(E=0),n===void 0&&(n=XS),zS(t);var C=t.events;i.vp=t;var e=function(){n(s,f,T,E,t,i)};C.on("update",e),i.once("destroy",function(){C.off("update",e),i.vp=void 0}),Object.defineProperty(i,"vpx",{get:function(){return s},set:function(u){s!==u&&(s=u,e())}}),Object.defineProperty(i,"vpy",{get:function(){return f},set:function(u){f!==u&&(f=u,e())}}),Object.defineProperty(i,"vpxOffset",{get:function(){return T},set:function(u){T!==u&&(T=u,e())}}),Object.defineProperty(i,"vpyOffset",{get:function(){return E},set:function(u){E!==u&&(E=u,e())}}),e()};const kS=Phaser.Utils.Array.Remove,YS={has(i){return this.bobs.hasOwnProperty(i)},exists(i){return this.bobs.hasOwnProperty(i)},get(i){return this.bobs[i]},getGO(i){var t=this.get(i);return t?t.gameObject:null},addGO(i,t){this.remove(i,!0),this.useTintFadeEffect(t)&&NS(t),this.viewportCoordinateEnable&&US(t,this.viewport),this.effectPropertiesConfig&&lh(t,this.effectPropertiesConfig),t.once("destroy",function(){kS(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var s=new this.BobClass(this,t,i);return this.bobs[i]=s,this},add(i,...t){var s=this.createGameObjectCallback,f=this.createGameObjectScope,T=s.call(f,this.scene,...t);this.addGO(i,T);var E=this.get(i);return this.fadeBob(E,0,1),this},forEachGO(i,t){for(var s in this.bobs){var f=this.bobs[s].gameObject,T;if(t?T=i.call(t,f,s,this):T=i(f,s,this),T)break}return this}},HS={remove(i,t){if(!this.has(i))return this;var s=this.get(i);return delete this.bobs[i],this.removedGOs.push(s.gameObject),t?s.destroy():this.fadeBob(s,void 0,0,function(){s.destroy()}),this},removeAll(){var i=this.bobs;for(var t in i)this.remove(t);return this},clear(i){i===void 0&&(i=!0);var t=this.bobs;for(var s in t)i&&t[s].destroy(),delete t[s];return this.removedGOs.length=0,this}},$S={hasProperty(i,t){return this.has(i)?this.get(i).hasProperty(t):!1},getProperty(i,t){if(!!this.has(i))return this.get(i).getProperty(t)},isNumberProperty(i,t){var s=this.getProperty(i,t);return typeof s=="number"},setProperty(i,t,s){return this.has(i)?(this.symbols&&typeof s=="string"&&this.isNumberProperty(i,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),this.get(i).setProperty(t,s),this):this},easeProperty(i,t,s,f,T,E,n,C){return this.has(i)?(f===void 0&&(f=1e3),T===void 0&&(T="Linear"),E===void 0&&(E=0),n===void 0&&(n=!1),this.symbols&&typeof s=="string"&&this.isNumberProperty(i,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),this.get(i).easeProperty(t,s,f,T,E,n,C),this):this},hasTweenTask(i,t){if(!this.has(i))return!1;var s=this.get(i).tweens;return s.hasOwnProperty(t)},getTweenTask(i,t){if(!this.has(i))return null;var s=this.get(i).tweens,f=s[t];return f||null}},KS={hasMethod(i,t){return this.has(i)?this.get(i).hasMethod(t):!1},call(i,t,...s){return this.has(i)?(this.get(i).call(t,...s),this):this}},ZS={hasData(i,t){return this.has(i)?this.get(i).hasData(t):!1},getData(i,t){if(!!this.has(i))return this.get(i).getData(t)},setData(i,t,s){return this.has(i)?(this.get(i).setData(t,s),this):this}};var Rt=function(i){return i.displayWidth!==void 0?i.displayWidth:i.width},At=function(i){return i.displayHeight!==void 0?i.displayHeight:i.height};const Ff=Phaser.Geom.Rectangle,as=Phaser.Math.Vector2,JS=Phaser.Math.RotateAround;var pu=function(i,t){if(t===void 0?t=new Ff:t===!0&&(po===void 0&&(po=new Ff),t=po),i.getBounds)return i.getBounds(t);var s,f,T,E,n,C,e,u;if(i.parentContainer){var x=i.parentContainer.getBoundsTransformMatrix();zl(i,t),x.transformPoint(t.x,t.y,t),s=t.x,f=t.y,Xl(i,t),x.transformPoint(t.x,t.y,t),T=t.x,E=t.y,Wl(i,t),x.transformPoint(t.x,t.y,t),n=t.x,C=t.y,Ul(i,t),x.transformPoint(t.x,t.y,t),e=t.x,u=t.y}else zl(i,t),s=t.x,f=t.y,Xl(i,t),T=t.x,E=t.y,Wl(i,t),n=t.x,C=t.y,Ul(i,t),e=t.x,u=t.y;return t.x=Math.min(s,T,n,e),t.y=Math.min(f,E,C,u),t.width=Math.max(s,T,n,e)-t.x,t.height=Math.max(f,E,C,u)-t.y,t},po=void 0,zl=function(i,t,s){return t===void 0?t=new as:t===!0&&(Ye===void 0&&(Ye=new as),t=Ye),i.getTopLeft?i.getTopLeft(t):(t.x=i.x-Rt(i)*i.originX,t.y=i.y-At(i)*i.originY,uh(i,t,s))},Xl=function(i,t,s){return t===void 0?t=new as:t===!0&&(Ye===void 0&&(Ye=new as),t=Ye),i.getTopRight?i.getTopRight(t):(t.x=i.x-Rt(i)*i.originX+Rt(i),t.y=i.y-At(i)*i.originY,uh(i,t,s))},Wl=function(i,t,s){return t===void 0?t=new as:t===!0&&(Ye===void 0&&(Ye=new as),t=Ye),i.getBottomLeft?i.getBottomLeft(t):(t.x=i.x-Rt(i)*i.originX,t.y=i.y-At(i)*i.originY+At(i),uh(i,t,s))},Ul=function(i,t,s){return t===void 0?t=new as:t===!0&&(Ye===void 0&&(Ye=new as),t=Ye),i.getBottomRight?i.getBottomRight(t):(t.x=i.x-Rt(i)*i.originX+Rt(i),t.y=i.y-At(i)*i.originY+At(i),uh(i,t,s))},Ye=void 0,uh=function(i,t,s){if(s===void 0&&(s=!1),i.rotation!==0&&JS(t,i.x,i.y,i.rotation),s&&i.parentContainer){var f=i.parentContainer.getBoundsTransformMatrix();f.transformPoint(t.x,t.y,t)}return t};const Nr=Phaser.Utils.Objects.GetValue;var Ig=function(i,t,s){var f,T,E,n,C;if(typeof s=="number"?f=s:(f=Nr(s,"color"),T=Nr(s,"lineWidth"),E=Nr(s,"fillColor"),n=Nr(s,"fillAlpha",1),C=Nr(s,"padding",0)),Array.isArray(i))for(var e=0,u=i.length;e<u;e++)bf(i[e],t,f,T,E,n,C);else bf(i,t,f,T,E,n,C)},bf=function(i,t,s,f,T,E,n){var C=i.getBounds||i.width!==void 0&&i.height!==void 0;if(!!C){s===void 0&&(s=16777215),f===void 0&&(f=1),T===void 0&&(T=null),E===void 0&&(E=1),n===void 0&&(n=0);var e=zl(i,Hs[0]);e.x-=n,e.y-=n;var u=Xl(i,Hs[1]);u.x+=n,u.y-=n;var x=Ul(i,Hs[2]);x.x+=n,x.y+=n;var d=Wl(i,Hs[3]);d.x-=n,d.y+=n,T!==null&&t.fillStyle(T,E).fillPoints(Hs,!0,!0),s!==null&&t.lineStyle(f,s).strokePoints(Hs,!0,!0)}},Hs=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],QS=function(i,t){return this.forEachGO(function(s){s.drawBounds?s.drawBounds(i,t):Ig(s,i,t)}),this},Gg={drawGameObjectsBounds:QS};Object.assign(Gg,LS,YS,HS,$S,KS,ZS);const jS=Phaser.Cameras.Scene2D.BaseCamera;var qS=function(i){return i instanceof jS};const Ng=Phaser.Geom.Rectangle;var Rr=function(i,t,s){return qS(t)||(s=t,t=void 0),s===void 0?s=new Ng:s===!0&&(s=_S),t?i.scale.getViewPort(t,s):i.scale.getViewPort(s)},_S=new Ng;const Ge=Phaser.Utils.Objects.GetValue;class dh{constructor(t,s){this.scene=t,this.BobClass=Ge(s,"BobClass",vu),this.setCreateGameObjectCallback(Ge(s,"createGameObject"),Ge(s,"createGameObjectScope")),this.setEventEmitter(Ge(s,"eventEmitter",void 0));var f=Ge(s,"fade",500);typeof f=="number"?(this.setGOFadeMode(),this.setGOFadeTime(f)):(this.setGOFadeMode(Ge(f,"mode")),this.setGOFadeTime(Ge(f,"time",500)));var T=Ge(s,"viewportCoordinate",!1);T!==!1?(this.setViewportCoordinateEnable(Ge(s,"enable",!0)),this.setViewport(Ge(T,"viewport"))):this.setViewportCoordinateEnable(!1);var E=Ge(s,"effectProperties",!1);this.setEffectPropertiesConfig(E),this.setSymbols(Ge(s,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var s=this.bobs;for(var f in s)s[f].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,s){return this.createGameObjectCallback=t,this.createGameObjectScope=s,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=Rr(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return cu(this.bobs)&&this.removedGOs.length===0}}Object.assign(dh.prototype,wr,Gg);var ei=function(i,t){if(i.length<=1)return i;t===void 0&&(t=!1);for(var s,f=0,T=i.length;f<T;f++){var E=i[f];if(E.displayList?s=E.displayList:E.parentContainer&&(s=E.parentContainer.list),s)break}return s||(s=E.scene.sys.displayList),s.depthSort&&(s.depthSort(),s=s.list),t?i.sort(function(n,C){return s.indexOf(C)-s.indexOf(n)}):i.sort(function(n,C){return s.indexOf(n)-s.indexOf(C)}),i};const tE=Phaser.Utils.Objects.GetValue;class eE extends dh{constructor(t,s){s===void 0?s={}:Array.isArray(s)&&(s={layers:s}),s.hasOwnProperty("fade")||(s.fade=0),s.viewportCoordinate=!1,super(t,s);var f=tE(s,"layers");if(f)for(var T=0,E=f.length;T<E;T++)this.add(f[T])}setCreateGameObjectCallback(t,s){return t||(t=iE),super.setCreateGameObjectCallback(t,s),this}addGO(t,s){return super.addGO(t,s),s.name=t,this}getLayer(t){return this.getGO(t)}getLayers(t){return t===void 0&&(t=[]),this.forEachGO(function(s){t.push(s)}),ei(t,!1),t}addToLayer(t,s){var f=this.getGO(t);if(!f){console.warn(`Can't get layer "${t}"`);return}return s.isRexContainerLite?s.addToLayer(f):f.add(s),this}removeFromLayer(t,s,f){var T=this.getGO(t);if(!T){console.warn(`Can't get layer "${t}"`);return}return f===void 0&&(f=!0),s.isRexContainerLite?s.removeFromLayer(T,f):(T.remove(s),f&&s.addToDisplayList()),this}clearLayer(t,s){s===void 0&&(s=!0);var f=this.getGO(t);if(!f){console.warn(`Can't get layer "${t}"`);return}if(s)for(var T=f.getAll(),E=0,n=T.length;E<n;E++)T.destroy();else f.removeAll();return this}}var iE=function(i,t){var s=i.add.layer();return t!==void 0&&s.setDepth(t),s},sE=function(i){return Ds(i)?i.sys.sound:i.sound},Ar=function(i){return i==null||typeof i!="object"?null:Ds(i)?i:i.scene&&Ds(i.scene)?i.scene:i.parent&&i.parent.scene&&Ds(i.parent.scene)?i.parent.scene:null};const rE=Phaser.Utils.Objects.GetValue;class Yt{constructor(t,s){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(rE(s,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,s){this.destroy(s)}setParent(t){return this.parent=t,this.scene=Ar(t),this.game=Bs(t),this}}Object.assign(Yt.prototype,wr);const nE=Phaser.Utils.Objects.GetValue;class fh extends Yt{constructor(t,s){super(t,s),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(nE(s,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=aE[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const aE={no:0,lazy:1,always:2},hE=Phaser.Utils.Objects.GetValue;class oE extends fh{constructor(t,s){super(t,s);var f=this.scene?"update":"step";this.tickEventName=hE(s,"tickEventName",f),this.isSceneTicker=!lE(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var lE=function(i){return i==="step"||i==="poststep"};const Pi=Phaser.Utils.Objects.GetValue,Df=Phaser.Math.Clamp;class Vg{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=Pi(t,"state",Vr),this.timeScale=Pi(t,"timeScale",1),this.delay=Pi(t,"delay",0),this.repeat=Pi(t,"repeat",0),this.repeatCounter=Pi(t,"repeatCounter",0),this.repeatDelay=Pi(t,"repeatDelay",0),this.duration=Pi(t,"duration",0),this.nowTime=Pi(t,"nowTime",0),this.justRestart=Pi(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?$s:zr,this.repeatCounter=0,this}stop(){return this.state=Vr,this}update(t,s){this.state===Vr||this.state===ea||s===0||this.timeScale===0||(this.nowTime+=s*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=Bf)):(this.nowTime=this.duration,this.state=ea):this.nowTime>=0&&(this.state=$s))}get t(){var t;switch(this.state){case Vr:case zr:case Bf:t=0;break;case $s:t=this.nowTime/this.duration;break;case ea:t=1;break}return Df(t,0,1)}set t(t){t=Df(t,-1,1),t<0?(this.state=zr,this.nowTime=-this.delay*t):(this.state=$s,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Vr}get isDelay(){return this.state===zr}get isCountDown(){return this.state===$s}get isRunning(){return this.state===zr||this.state===$s}get isDone(){return this.state===ea}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}}const Vr=0,zr=1,$s=2,Bf=3,ea=-1;class uE extends oE{constructor(t,s){super(t,s),this.timer=new Vg}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const Xr=Phaser.Utils.Objects.GetValue,If=Phaser.Utils.Objects.GetAdvancedValue,dE=Phaser.Tweens.Builders.GetEaseFunction;class Gs extends uE{resetFromJSON(t){return this.timer.resetFromJSON(Xr(t,"timer")),this.setEnable(Xr(t,"enable",!0)),this.setTarget(Xr(t,"target",this.parent)),this.setDelay(If(t,"delay",0)),this.setDuration(If(t,"duration",1e3)),this.setEase(Xr(t,"ease","Linear")),this.setRepeat(Xr(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=dE(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateGameObject(this.target,this.timer),this.complete()),this}update(t,s){if(!this.isRunning||!this.enable||!this.parent.active)return this;var f=this.target,T=this.timer;return T.update(t,s),T.isDelay||this.updateGameObject(f,T),this.emit("update",f,this),T.isDone&&this.complete(),this}updateGameObject(t,s){}}const fE=Phaser.Sound.BaseSound;var gu=function(i){return i instanceof fE};const Gf=Phaser.Utils.Objects.GetValue,Nf=Phaser.Utils.Objects.GetAdvancedValue,vE=Phaser.Math.Linear;class zg extends Gs{constructor(t,s,f){gu(t)&&(f=s,s=t,t=void 0),s.active=!0,s.scene=t,s.game=s.manager.game,super(s,f),this.volume={},this.resetFromJSON(f)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Gf(t,"mode",0)),this.setEnable(Gf(t,"enable",!0)),this.setVolumeRange(Nf(t,"volume.start",this.parent.volume),Nf(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=cE[t]),this.mode=t,this}setVolumeRange(t,s){return this.volume.start=t,this.volume.end=s,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateGameObject(t,s){t.volume=vE(this.volume.start,this.volume.end,s.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}}const cE={stop:1,destroy:2};var vh=function(i,t,s,f,T){gu(i)&&(T=f,f=s,s=t,t=i,i=void 0),f===void 0&&(f=1),T===void 0&&(T=0);var E={mode:0,volume:{start:T,end:f},duration:s};typeof t=="string"&&(t=i.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(E)):(n=new zg(i,t,E),t._fade=n),n.start(),t.isPlaying||t.setVolume(T).play(),t},Sr=function(i,t,s,f){gu(i)&&(f=s,s=t,t=i,i=void 0),f===void 0&&(f=!0);var T={mode:f?2:1,volume:{start:t.volume,end:0},duration:s},E;return t.hasOwnProperty("_fade")?(E=t._fade,E.stop().resetFromJSON(T)):(E=new zg(i,t,T),t._fade=E),E.start(),t.isPlaying||t.play(),t};const Wr=Phaser.Utils.Objects.GetValue,pE={setBackgroundMusicLoop(i){return i===void 0&&(i=!0),this.backgroundMusicLoop=i,this},setBackgroundMusicFadeTime(i){return this.backgroundMusicFadeTime=i,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(i){return this.backgroundMusic=i,i&&(i.once("complete",function(){this.backgroundMusic===i&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===i&&(this.backgroundMusic=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic(i,t){if(this.backgroundMusic&&this.backgroundMusic.key===i)return this;this.stopBackgroundMusic();var s=this.sound.add(i,{loop:Wr(t,"loop",this.backgroundMusicLoop),mute:Wr(t,"mute",this.backgroundMusicMute),volume:Wr(t,"volume",this.backgroundMusicVolume),detune:Wr(t,"detune",0),rate:Wr(t,"rate",1)});return this.setCurrentBackgroundMusic(s),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(i){return this.backgroundMusic&&vh(this.backgroundMusic,i,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(i,t){return this.backgroundMusic&&Sr(this.backgroundMusic,i,t),this},crossFadeBackgroundMusic(i,t){var s=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(i).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=s,this},setBackgroundMusicMute(i){return i===void 0&&(i=!0),this.backgroundMusicMute=i,this},setBackgroundMusicVolume(i){return this.backgroundMusicVolume=i,this},setBackgroundMusicRate(i){return this.backgroundMusic&&this.backgroundMusic.setRate(i),this},setBackgroundMusicDetune(i){return this.backgroundMusic&&this.backgroundMusic.setDetune(i),this}},Ur=Phaser.Utils.Objects.GetValue,gE={setBackgroundMusic2Loop(i){return i===void 0&&(i=!0),this.backgroundMusic2Loop=i,this},setBackgroundMusic2FadeTime(i){return this.backgroundMusic2FadeTime=i,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(i){return this.backgroundMusic2=i,i&&(i.once("complete",function(){this.backgroundMusic2===i&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===i&&(this.backgroundMusic2=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic2(i,t){if(this.backgroundMusic2&&this.backgroundMusic2.key===i)return this;this.stopBackgroundMusic2();var s=this.sound.add(i,{loop:Ur(t,"loop",this.backgroundMusicLoop),mute:Ur(t,"mute",this.backgroundMusic2Mute),volume:Ur(t,"volume",this.backgroundMusic2Volume),detune:Ur(t,"detune",0),rate:Ur(t,"rate",1)});return this.setCurrentBackgroundMusic2(s),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(i){return this.backgroundMusic2&&vh(this.backgroundMusic2,i,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(i,t){return this.backgroundMusic2&&Sr(this.backgroundMusic2,i,t),this},crossFadeBackgroundMusic2(i,t){var s=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(i).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=s,this},setBackgroundMusic2Mute(i){return i===void 0&&(i=!0),this.backgroundMusic2Mute=i,this},setBackgroundMusic2Volume(i){return this.backgroundMusic2Volume=i,this},setBackgroundMusic2Rate(i){return this.backgroundMusic2&&this.backgroundMusic2.setRate(i),this},setBackgroundMusic2Detune(i){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(i),this}},Vf=Phaser.Utils.Array.Remove,ia=Phaser.Utils.Objects.GetValue,mE={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(i,t){var s=this.sound.add(i,{mute:ia(t,"mute",this.soundEffectsMute),volume:ia(t,"volume",this.soundEffectsVolume),detune:ia(t,"detune",0),rate:ia(t,"rate",1)});return this.soundEffects.push(s),s.once("complete",function(){s.destroy(),this.sound&&Vf(this.soundEffects,s)},this).once("destroy",function(){!this.sound||Vf(this.soundEffects,s)},this).play(),this},stopAllSoundEffects(){for(var i=this.soundEffects.length-1;i>=0;i--){var t=this.soundEffects[i];t.stop(),t.destroy()}return this},fadeInSoundEffect(i){var t=this.getLastSoundEffect();return t&&vh(t,i,this.soundEffectsVolume,0),this},fadeOutSoundEffect(i,t){var s=this.getLastSoundEffect();return s&&Sr(s,i,t),this},fadeOutAllSoundEffects(i,t){for(var s=this.soundEffects.length-1;s>=0;s--)Sr(this.soundEffects[s],i,t);return this},setSoundEffectMute(i,t){if(i===void 0&&(i=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setMute(i)}else this.soundEffectsMute=i;return this},setSoundEffectVolume(i,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setVolume(i)}else this.soundEffectsVolume=i;return this},setSoundEffectDetune(i,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var f=0,T=s.length;f<T;f++)s[f].setDetune(i);return this},setSoundEffectRate(i,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var f=0,T=s.length;f<T;f++)s[f].setRate(i);return this}},zf=Phaser.Utils.Array.Remove,sa=Phaser.Utils.Objects.GetValue,xE={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(i,t){var s=this.sound.add(i,{mute:sa(t,"mute",this.soundEffects2Mute),volume:sa(t,"volume",this.soundEffects2Volume),detune:sa(t,"detune",0),rate:sa(t,"rate",1)});return this.soundEffects2.push(s),s.once("complete",function(){s.destroy(),this.sound&&zf(this.soundEffects2,s)},this).once("destroy",function(){!this.sound||zf(this.soundEffects2,s)},this).play(),this},stopAllSoundEffects2(){for(var i=this.soundEffects.length-1;i>=0;i--){var t=this.soundEffects[i];t.stop(),t.destroy()}return this},fadeInSoundEffect2(i){var t=this.getLastSoundEffect2();return t&&vh(t,i,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(i,t){var s=this.getLastSoundEffect2();return s&&Sr(s,i,t),this},fadeOutAllSoundEffects2(i,t){for(var s=this.soundEffects2.length-1;s>=0;s--)Sr(this.soundEffects2[s],i,t);return this},setSoundEffect2Mute(i,t){if(i===void 0&&(i=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setMute(i)}else this.soundEffects2Mute=i;return this},setSoundEffect2Volume(i,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setVolume(i)}else this.soundEffects2Volume=i;return this},setSoundEffect2Detune(i,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var f=0,T=s.length;f<T;f++)s[f].setDetune(i);return this},setSoundEffect2Rate(i,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var f=0,T=s.length;f<T;f++)s[f].setRate(i);return this}};var Xg={};Object.assign(Xg,pE,gE,mE,xE);const Ne=Phaser.Utils.Objects.GetValue;class Wg{constructor(t,s){this.sound=sE(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Ne(s,"bgm.volume",1),this._backgroundMusicMute=Ne(s,"bgm.mute",!1),this.setBackgroundMusicLoop(Ne(s,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Ne(s,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Ne(s,"bgm2.volume",1),this._backgroundMusic2Mute=Ne(s,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Ne(s,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Ne(s,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Ne(s,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Ne(s,"soundEffect2.volume",1);var f=Ne(s,"bgm.initial",void 0);f&&this.setCurrentBackgroundMusic(f);var T=Ne(s,"bgm2.initial",void 0);T&&this.setCurrentBackgroundMusic2(T)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var s=this.soundEffects,f=0,T=s.length;f<T;f++)s[f].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var s=this.soundEffects,f=0,T=s.length;f<T;f++)s[f].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var s=this.soundEffects,f=0,T=soundEffects2.length;f<T;f++)s[f].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var s=this.soundEffects2,f=0,T=s.length;f<T;f++)s[f].setVolume(t)}}Object.assign(Wg.prototype,Xg);const go=Phaser.Utils.Objects.GetValue;class yE extends fh{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.isRunning=go(t,"isRunning",!1),this.timeScale=go(t,"timeScale",1),this.now=go(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class Ug extends yE{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,s){return!this.isRunning||this.timeScale===0?this:(this.tick(s),this)}}var Fe=function(i,t){return t===void 0&&(t=.5),i<=t?i=i/t:i=1-(i-t)/(1-t),i};const Xf=Phaser.Math.Clamp;class CE{constructor(t,s){this.setTimeline(t).reset(s)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,s,f,T){return this.target=t,this.onStart=s,this.onProgress=f,this.onComplete=T,this}setDuration(t,s){return s===void 0&&(s=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=s,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=Xf(t,0,1),this.yoyo&&(t=Fe(t)),t}setProgress(t){t=Xf(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){!t||t(this.target,this.t,this)}update(t,s){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=s,this.t=this.getProgress(),this.runCallback(this.onProgress);var f=this.remainder<=0;return f&&this.runCallback(this.onComplete),f}}class TE extends xi{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var s=0,f=t.length;s<f;s++)this.free(t[s]);return this}}const SE=Phaser.Utils.Objects.GetValue,EE=new TE;class PE extends Ug{constructor(t,s){super(t,s),this.addedTimers=[],this.timers=[],this.timerPool=SE(s,"pool",EE)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var s=this.timerPool.allocate();return s?s.setTimeline(this).reset(t):s=new CE(this,t),this.addedTimers.push(s),s.runCallback(s.onStart),this.isRunning||this.start(),s}delayCall(t,s,f,T){var E=this.addTimer({duration:t,onComplete:function(n,C,e){f===void 0&&(f=[]),f.push(e),s.apply(T,f)}});return E}delayEvent(t,s){this.removeDelayEvent(s);var f=this.delayCall(t,function(){this.removeDelayEvent(s),this.emit(s)},[],this);return this.once(`_remove.${s}`,function(){f.remove(),f=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var s=[],f=[this.addedTimers,this.timers],T=0,E=f.length;T<E;T++)for(var n=f[T],C=0,e=n.length;C<e;C++){var u=n[C];u.name===t&&s.push(u)}return s}update(t,s){if(super.update(t,s),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var f=[],T=0,E=this.timers.length;T<E;T++){var n=this.timers[T],C=n.update(this.now,this.delta);C?this.timerPool.free(n):f.push(n)}this.timers=f,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const ME="_wait.complete",wE="_remove.wait";var RE=function(i,t,s,f,T){var E=Ar(i),n=E.time.delayedCall(t,function(){E.sys.events.once("preupdate",function(){s.call(f,T)})});return n};class kg{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=ME,this.removeWaitEventsEventName=wE}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,s,f){var T=this.getWaitCompleteTriggerCallback(f);return t.once(s,T,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(s,T,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var s=this.waitId,f=this,T=function(){s<f.waitId||(f.waitId++,f.removeWaitEvents(),f.parent.emit(f.waitCompleteEventName))};if(t){var E=function(){RE(f.parent,0,T)};return E}else return T}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,s){return this.parent.on(this.waitCompleteEventName,t,s),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}}Object.assign(kg.prototype,wr);const AE={waitTime(i){var t=this.parent.timeline;return t.delayEvent(i,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var LE=function(i,t){var s=`(?<!\\\\)\\${t}`,f=`\\${t}`;return i.split(new RegExp(s,"g")).map(function(T){return T.replace(f,t)})};const OE={setClickTarget(i){this.clickTarget=i,i?Ds(i)?this.clickEE=i.input:this.clickEE=i.setInteractive():this.clickEE=null},waitClick(){return this.clickEE?this.waitEvent(this.clickEE,"pointerdown"):this.waitTime(0)},waitKeyDown(i){var t=this.scene.input.keyboard;if(typeof i=="string"){if(i.indexOf("|")===-1)return this.waitEvent(t,`keydown-${i.toUpperCase()}`);for(var s=LE(i,"|"),f=0,T=s.length;f<T;f++)this.waitEvent(t,`keydown-${i.toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},FE={waitGameObjectTweenComplete(i,t,s){var f=this.parent.getGameObjectTweenTask(i,t,s);return f?this.waitEvent(f,"complete"):this.waitTime(0)},waitGameObjectDataFlag(i,t,s,f){var T=this.parent.getGameObject(i,t);if(!T)return this.waitTime(0);if(T.getData(s)===f)return this.waitTime(0);var E=`changedata-${s}`,n=function(C,e,u){e=!!e,e===f&&C.emit("_dataFlagMatch")};return T.on(E,n),this.parent.once(this.removeWaitEventsEventName,function(){T.off(E,n)}),this.waitEvent(T,"_dataFlagMatch")},waitGameObjectDestroy(i,t){var s=this.parent.getGameObject(i,t);return s?this.waitEvent(s,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(i){if(i){var t=this.parent.getGameObjectManager(i);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var s=this.parent.gameObjectManagers,f=!1;for(var T in s)f=!0,this.waitEvent(s[T],"empty");return f?this.parent:this.waitTime(0)}}},bE={setCameraTarget(i){return this.cameraTarget=i,this},waitCameraEffectComplete(i){var t=this.cameraTarget;if(!t)return this.waitTime(0);var s,f;switch(i){case"camera.fadein":s=t.fadeEffect,f="camerafadeincomplete";break;case"camera.fadeout":s=t.fadeEffect,f="camerafadeoutcomplete";break;case"camera.flash":s=t.flashEffect,f="cameraflashcomplete";break;case"camera.shake":s=t.shakeEffect,f="camerashakecomplete";break;case"camera.zoom":s=t.zoomEffect,f="camerazoomcomplete";break;case"camera.rotate":s=t.rotateToEffect,f="camerarotatecomplete";break;case"camera.scroll":s=t.panEffect,f="camerapancomplete";break}return s.isRunning?this.waitEvent(t,f):this.waitTime(0)}},DE={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getLastSoundEffect();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getLastSoundEffect2();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getBackgroundMusic();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getBackgroundMusic2();return i?this.waitEvent(i,"complete"):this.waitTime(0)}};var BE=function(i){if(!i)return this.waitTime(0);var t=!1;for(var s in i)switch(s){case"time":t=!0,this.waitTime(i.time);break;case"click":t=!0,this.waitClick(i.key);break;case"key":t=!0,this.waitKeyDown(i.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${i.camera.toLowerCase()}`);break;default:var f=s.split(".");if(f.length===2){var T=f[0],E=f[1],n=this.parent.getGameObjectManager(void 0,T);if(!n)continue;if(E==="destroy")return this.waitGameObjectDestroy(void 0,T);var C=n.getProperty(T,E);if(typeof C=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,T,E);continue}var e=E,u=e.startsWith("!");u&&(e=e.substring(1)),n.hasData(T,E)&&(t=!0,this.waitGameObjectDataFlag(void 0,T,e,!u))}break}return t||this.waitTime(0),this.parent};class Yg extends kg{constructor(t,s){super(t),this.waitCompleteEventName=Mt(s,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Mt(s,"clickTarget",this.scene)),this.setCameraTarget(Mt(s,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.setClickTarget(),this.setCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}var IE={waitAny:BE};Object.assign(Yg.prototype,AE,OE,FE,bE,DE,IE);const Wf=Phaser.Utils.Objects.GetValue;var GE=function(i,t){this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=i,this.gameObjectManagers={};var s=Wf(t,"layers",!1);s!==!1&&(this.gameObjectManagers.layer=new eE(i,s));var f=Wf(t,"sounds");return f!==!1&&(this.soundManager=new Wg(i,f)),this.timeline=new PE(this),this.waitEventManager=new Yg(this,t),this},NE=function(i){this.timeline.timeScale=i;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(i);return this},VE=function(){return this.timeline.timeScale},zE=function(i){this.waitEventManager.destroy(),this.waitEventManager=void 0;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(i),delete this.gameObjectManagers[t];this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const Hg={addGameObjectManager(i,t){i===void 0&&(i={}),t===void 0&&(t=dh),i.createGameObjectScope||(i.createGameObjectScope=this);var s=new t(this.managersScene,i);return this.gameObjectManagers[i.name]=s,this},getGameObjectManager(i,t){if(i){var s=this.gameObjectManagers[i];return s}else for(var i in this.gameObjectManagers){var s=this.gameObjectManagers[i];if(s.has(t))return s}},getGameObjectManagerNames(){var i=[];for(var t in this.gameObjectManagers)i.push(t);return i},getGameObjectManagerName(i){for(var t in this.gameObjectManagers)if(this.gameObjectManagers[t].has(i))return t},hasGameObjectMananger(i){return i in this.gameObjectManagers}},XE={createGameObject(i,t,...s){return this.getGameObjectManager(i,t).add(t,...s),this},destroyGameObject(i,t){var s=this.getGameObjectManager(i,t);return t===void 0?s.removeAll():s.remove(t),this},hasGameObject(i,t){return!!this.getGameObjectManager(i,t)},callGameObjectMethod(i,t,s,...f){return this.getGameObjectManager(i,t).call(t,s,...f),this},setGameObjectProperty(i,t,s,f){return this.getGameObjectManager(i,t).setProperty(t,s,f),this},easeGameObjectProperty(i,t,s,f,T,E,n,C){return this.getGameObjectManager(i,t).easeProperty(t,s,f,T,E,n,C),this},getGameObjectTweenTask(i,t,s){return this.getGameObjectManager(i,t).getTweenTask(t,s)},getGameObject(i,t,s){var f=this.getGameObjectManager(i,t);if(typeof t=="string")return f.getGO(t);var T=t;T===void 0&&(T=f.bobs),s===void 0&&(s={});for(t in T)s[t]=f.getGO(t);return s},addGameObject(i,t,s){var f=this.getGameObjectManager(i,t);if(typeof t=="string")f.addGO(t,s);else{var T=t;for(t in T)f.addGO(t,T[t])}return this},drawGameObjectsBounds(i,t,s){i instanceof Phaser.GameObjects.Graphics&&(s=t,t=i,i=void 0),i===void 0&&(i=this.getGameObjectManagerNames()),Array.isArray(i)||(i=[i]);for(var f=0,T=i.length;f<T;f++)this.getGameObjectManager(i[f]).drawGameObjectsBounds(t,s);return this}};var WE=function(i){class t extends i{}var s={initManagers:GE,setTimeScale:NE,getTimeScale:VE,destroyManagers:zE};return Object.assign(t.prototype,s,Hg,XE),t},UE=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,kE=/^0x[0-9A-F]+$/i,mu=function(i){if(typeof i!="string")return i;if(i==="")i=null;else if(UE.test(i))i=parseFloat(i);else if(kE.test(i))i=parseInt(i,16);else switch(i){case"false":i=!1;break;case"true":i=!0;break;case"null":i=null;break;case"undefined":i=void 0;break}return i};class $g{constructor(t){this.setEventEmitter(Mt(t,"eventEmitter",void 0)),this.setValueConverter(Mt(t,"valueConvert",!0)),this.setLoopEnable(Mt(t,"loop",!1)),this.setMultipleLinesTagEnable(Mt(t,"multipleLinesTag",!1));var s=Mt(t,"delimiters","<>");this.setDelimiters(s[0],s[1]),this.setTranslateTagNameCallback(Mt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,s){s===void 0&&(s=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=s,t=Cr(this.delimiterLeft),s=Cr(this.delimiterRight);var f=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${s}`,f),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=mu:t||(t=YE),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,s=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var f=this.reSplit.exec(t);if(!f){if(this.progressIndex<s&&(this.onContent(t.substring(this.progressIndex,s)),this.isPaused)){this.progressIndex=s;break}this.onComplete(),this.isRunning=!1;return}var T=this.reSplit.lastIndex,E=T-f[0].length;if(this.progressIndex<E&&(this.onContent(t.substring(this.progressIndex,E)),this.isPaused)){this.progressIndex=E;break}if(this.onTag(f[1]),this.progressIndex=T,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,s){return this.isPaused?this:(this.pause(),t.once(s,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}}const YE=function(i){return i};Object.assign($g.prototype,wr);var HE=function(i,t,s){if(i==null)return[];t===void 0&&(t=mu),s===void 0&&(s=",");for(var f=i.split(s),T=0,E=f.length;T<E;T++)f[T]=t(f[T]);return f};class $E extends $g{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Mt(t,"regex.tag",void 0)),this.setValueExpression(Mt(t,"regex.value",void 0));var s=Mt(t,"delimiters","<>");this.setDelimiters(s[0],s[1])}setTagExpression(t){return t||(t=ra),this.tagExpression=t,this}setValueExpression(t){return t||(t=ra),this.valueExpression=t,this}setDelimiters(t,s){super.setDelimiters(t,s);var f=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(f,"i"),this.tagExpression!==ra||this.valueExpression!==ra){var T=`${this.tagExpression}(=${this.valueExpression})?`,E=`/${this.tagExpression}`;t=Cr(this.delimiterLeft),s=Cr(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${T})|(${E}))${s}`,n)}return this}onTag(t){var s=t.match(this.reTag),f=s[1],T=f.charAt(0)==="/";if(T&&(f=f.substring(1,f.length)),this.translateTagNameCallback&&(f=this.translateTagNameCallback(f)),this.skipEventFlag=!1,T)this.emit(`-${f}`),this.skipEventFlag||this.emit("-",f),this.lastTagEnd=f;else{var E=HE(s[3],this.valueConverter);this.emit(`+${f}`,...E),this.skipEventFlag||this.emit("+",f,...E),this.lastTagStart=f}}}const ra="[^=]+";var KE=function(i,t,s){var f="color",T;t.on("start",function(){T=i.textStyle.color}).on(`+${f}`,function(E){i.textStyle.setColor(E),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setColor(T),t.skipEvent()}).on("complete",function(){i.textStyle.setColor(T)})},ZE=function(i,t,s){var f="stroke",T;t.on("start",function(){T=i.textStyle.stroke,i.textStyle.setStrokeStyle(null)}).on(`+${f}`,function(E){E===void 0&&(E=T),i.textStyle.setStrokeStyle(E),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){i.textStyle.setStrokeStyle(T)})},JE=function(i,t,s){var f="b";t.on("start",function(){i.textStyle.setBold(!1)}).on(`+${f}`,function(){i.textStyle.setBold(!0),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setBold(!1),t.skipEvent()})},QE=function(i,t,s){var f="i";t.on("start",function(){i.textStyle.setItalic(!1)}).on(`+${f}`,function(){i.textStyle.setItalic(!0),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setItalic(!1),t.skipEvent()})},jE=function(i,t,s){var f="size",T;t.on("start",function(){T=i.textStyle.fontSize}).on(`+${f}`,function(E){i.textStyle.setFontSize(E),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setFontSize(T),t.skipEvent()}).on("complete",function(){i.textStyle.setFontSize(T)})},qE=function(i,t,s){var f="y",T;t.on("start",function(){T=i.textStyle.offsetY,i.textStyle.setOffsetY(0)}).on(`+${f}`,function(E){E===void 0&&(E=T),i.textStyle.setOffsetY(E),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetY(0)})},_E=function(i,t,s){var f="x",T;t.on("start",function(){T=i.textStyle.offsetY,i.textStyle.setOffsetX(0)}).on(`+${f}`,function(E){E===void 0&&(E=T),i.textStyle.setOffsetX(E),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetX(0)})},tP=function(i,t,s){var f="left",T;t.on("start",function(){T=i.textStyle.leftSpace,i.textStyle.setLeftSpace(0)}).on(`+${f}`,function(E){E===void 0&&(E=T),i.textStyle.setLeftSpace(E),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setLeftSpace(0)})},eP=function(i,t,s){var f="right",T;t.on("start",function(){T=i.textStyle.rightSpace,i.textStyle.setRightSpace(0)}).on(`+${f}`,function(E){E===void 0&&(E=T),i.textStyle.setRightSpace(E),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setRightSpace(0)})},iP=function(i,t,s){var f="shadow",T;t.on("start",function(){T=i.textStyle.shadowColor,i.textStyle.setShadowColor(null)}).on(`+${f}`,function(E){E===void 0&&(E=T),i.textStyle.setShadowColor(E),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){i.textStyle.setShadowColor(T)})},sP=function(i,t,s){var f="align";t.on(`+${f}`,function(T){i.textStyle.setAlign(T),t.skipEvent()}).on(`-${f}`,function(){i.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){i.textStyle.setAlign()})},rP=function(i,t,s){var f="img";t.on(`+${f}`,function(T){var E=i.imageManager.get(T);Mg.call(i,E.key,E.frame,{width:E.width,hieght:E.height,leftSpace:E.left,rightSpace:E.right,color:E.tintFill?i.textStyle.color:void 0}),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},nP=function(i,t,s){var f="space";t.on(`+${f}`,function(T){wg.call(i,T),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},aP=function(i,t,s){var f="speed";t.on(`+${f}`,function(T){Uf(i,T),t.skipEvent()}).on(`-${f}`,function(){Uf(i,void 0),t.skipEvent()})},hP=function(i){this.typeWriter.setTypingSpeed(i)},Uf=function(i,t){ut.call(i,"speed",hP,t,i)},oP=function(i,t,s){var f="se";t.on(`+${f}`,function(T,E){ut.call(i,f,lP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="se2";t.on(`+${f}`,function(T,E){ut.call(i,f,uP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},lP=function(i){if(!this.skipSoundEffect){var t=i[0],s=i[1];this.soundManager.playSoundEffect(t),s&&this.soundManager.fadeInSoundEffect(s)}},uP=function(i){if(!this.skipSoundEffect){var t=i[0],s=i[1];this.soundManager.playSoundEffect2(t),s&&this.soundManager.fadeInSoundEffect2(s)}},dP=function(i,t,s){var f="se.fadein";t.on(`+${f}`,function(T){ut.call(i,f,fP,T,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="se2.fadein";t.on(`+${f}`,function(T){ut.call(i,f,vP,T,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},fP=function(i){this.soundManager.fadeInSoundEffect(i)},vP=function(i){this.soundManager.fadeInSoundEffect2(i)},cP=function(i,t,s){var f="se.fadeout";t.on(`+${f}`,function(T,E){E=E==="stop",ut.call(i,f,pP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="se2.fadeout";t.on(`+${f}`,function(T,E){E=E==="stop",ut.call(i,f,gP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},pP=function(i){this.soundManager.fadeOutSoundEffect(...i)},gP=function(i){this.soundManager.fadeOutSoundEffect2(...i)},mP=function(i,t,s){var f="se.volume";t.on(`+${f}`,function(T){ut.call(i,f,xP,T,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="se2.volume";t.on(`+${f}`,function(T){ut.call(i,f,yP,T,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},xP=function(i){this.soundManager.setSoundEffectVolume(i,!0)},yP=function(i){this.soundManager.setSoundEffectVolume2(i,!0)},CP=function(i,t,s){var f="se.mute";t.on(`+${f}`,function(){ut.call(i,f,TP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="se2.mute";t.on(`+${f}`,function(){ut.call(i,f,SP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="se.unmute";t.on(`+${f}`,function(){ut.call(i,f,EP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="se2.unmute";t.on(`+${f}`,function(){ut.call(i,f,PP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},TP=function(){this.soundManager.setSoundEffectMute(!0)},SP=function(){this.soundManager.setSoundEffect2Mute(!0)},EP=function(){this.soundManager.setSoundEffectMute(!1)},PP=function(){this.soundManager.setSoundEffect2Mute(!1)},MP=function(i,t,s){var f="bgm";t.on(`+${f}`,function(T,E){ut.call(i,f,wP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){ut.call(i,"bgm.stop",RP,void 0,i),t.skipEvent()});var f="bgm2";t.on(`+${f}`,function(T,E){ut.call(i,f,AP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){ut.call(i,"bgm2.stop",LP,void 0,i),t.skipEvent()})},wP=function(i){var t=i[0],s=i[1];this.soundManager.playBackgroundMusic(t),s&&this.soundManager.fadeInBackgroundMusic(s)},RP=function(){this.soundManager.stopBackgroundMusic()},AP=function(i){var t=i[0],s=i[1];this.soundManager.playBackgroundMusic2(t),s&&this.soundManager.fadeInBackgroundMusic2(s)},LP=function(){this.soundManager.stopBackgroundMusic2()},OP=function(i,t,s){var f="bgm.fadein";t.on(`+${f}`,function(T){ut.call(i,f,FP,T,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="bgm2.fadein";t.on(`+${f}`,function(T){ut.call(i,f,bP,T,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},FP=function(i){this.soundManager.fadeInBackgroundMusic(i)},bP=function(i){this.soundManager.fadeInBackgroundMusic2(i)},DP=function(i,t,s){var f="bgm.fadeout";t.on(`+${f}`,function(T,E){E=E==="stop",ut.call(i,f,BP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="bgm2.fadeout";t.on(`+${f}`,function(T,E){E=E==="stop",ut.call(i,f,IP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},BP=function(i){this.soundManager.fadeOutBackgroundMusic(...i)},IP=function(i){this.soundManager.fadeOutBackgroundMusic2(...i)},GP=function(i,t,s){var f="bgm.cross";t.on(`+${f}`,function(T,E){ut.call(i,f,NP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="bgm2.cross";t.on(`+${f}`,function(T,E){ut.call(i,f,VP,[T,E],i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},NP=function(i){this.soundManager.crossFadeBackgroundMusic(...i)},VP=function(i){this.soundManager.crossFadeBackgroundMusic2(...i)},zP=function(i,t,s){var f="bgm.pause";t.on(`+${f}`,function(){ut.call(i,f,XP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){ut.call(i,"bgm.resume",WP,void 0,i),t.skipEvent()});var f="bgm2.pause";t.on(`+${f}`,function(){ut.call(i,f,UP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){ut.call(i,"bgm2.resume",kP,void 0,i),t.skipEvent()})},XP=function(){this.soundManager.pauseBackgroundMusic()},WP=function(){this.soundManager.resumeBackgroundMusic()},UP=function(){this.soundManager.pauseBackgroundMusic2()},kP=function(){this.soundManager.resumeBackgroundMusic2()},YP=function(i,t,s){var f="bgm.volume";t.on(`+${f}`,function(T){ut.call(i,f,HP,T,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="bgm2.volume";t.on(`+${f}`,function(T){ut.call(i,f,$P,T,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},HP=function(i){this.soundManager.setBackgroundMusicVolume(i)},$P=function(i){this.soundManager.setBackgroundMusicVolume2(i)},KP=function(i,t,s){var f="bgm.mute";t.on(`+${f}`,function(){ut.call(i,f,ZP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="bgm2.mute";t.on(`+${f}`,function(){ut.call(i,f,JP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="bgm.unmute";t.on(`+${f}`,function(){ut.call(i,f,QP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()});var f="bgm2.unmute";t.on(`+${f}`,function(){ut.call(i,f,jP,void 0,i),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},ZP=function(){this.soundManager.setBackgroundMusicMute(!0)},JP=function(){this.soundManager.setBackgroundMusic2Mute(!0)},QP=function(){this.soundManager.setBackgroundMusicMute(!1)},jP=function(){this.soundManager.setBackgroundMusic2Mute(!1)},qP=function(i,t,s){var f="camera.fadein";t.on(`+${f}`,function(T,E,n,C){ut.call(i,f,_P,[T,E,n,C],i),t.skipEvent()})},_P=function(i){this.cameraTarget.fadeIn(...i)},t2=function(i,t,s){var f="camera.fadeout";t.on(`+${f}`,function(T,E,n,C){ut.call(i,f,e2,[T,E,n,C],i),t.skipEvent()})},e2=function(i){this.cameraTarget.fadeOut(...i)},i2=function(i,t,s){var f="camera.shake";t.on(`+${f}`,function(T,E){ut.call(i,f,s2,[T,E],i),t.skipEvent()})},s2=function(i){this.cameraTarget.shake(...i)},r2=function(i,t,s){var f="camera.flash";t.on(`+${f}`,function(T,E,n,C){ut.call(i,f,n2,[T,E,n,C],i),t.skipEvent()})},n2=function(i){this.cameraTarget.flash(...i)},a2=function(i,t,s){var f="camera.zoom";t.on(`+${f}`,function(T){ut.call(i,f,h2,T,i),t.skipEvent()}).on(`+${f}.to`,function(T,E,n){ut.call(i,"camera.zoom.to",o2,[T,E,n],i),t.skipEvent()})},h2=function(i){this.cameraTarget.setZoom(i)},o2=function(i){this.cameraTarget.zoomTo(...i)};const kf=Phaser.Math.DegToRad;var l2=function(i,t,s){var f="camera.rotate";t.on(`+${f}`,function(T){T=kf(T),ut.call(i,f,u2,T,i),t.skipEvent()}).on(`+${f}.to`,function(T,E,n){T=kf(T),ut.call(i,"camera.rotate.to",d2,[T,E,n],i),t.skipEvent()})},u2=function(i){this.cameraTarget.setRotation(i)},d2=function(i){var t=i[0],s=i[1],f=i[2];this.cameraTarget.rotateTo(t,!1,s,f)},f2=function(i,t,s){var f="camera.scroll";t.on(`+${f}`,function(T,E){ut.call(i,f,v2,[T,E],i),t.skipEvent()}).on(`+${f}.to`,function(T,E,n,C){ut.call(i,"camera.scroll.to",c2,[T,E,n,C],i),t.skipEvent()})},v2=function(i){this.cameraTarget.setScroll(...i)},c2=function(i){var t=i[0],s=i[1],f=i[2],T=i[3],E=this.cameraTarget,n=E.scrollX,C=E.scrollY;E.setScroll(t,s),t+=E.centerX,s+=E.centerY,E.setScroll(n,C),E.pan(t,s,f,T)},p2=function(i,t,s){var f="wait",T="click";t.on(`+${f}`,function(E){Yf(i,E),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()}).on(`+${T}`,function(){Yf(i,"click"),t.skipEvent()}).on(`-${T}`,function(){t.skipEvent()})},g2=function(i){this.typeWriter.wait(i)},Yf=function(i,t){ut.call(i,"wait",g2,t,i)},m2=function(i,t,s){var f="r";t.on(`+${f}`,function(){Cn.call(i,`
`),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},x2=function(i,t,s){for(var f=["pagebreak","pb"],T=0,E=f.length;T<E;T++){var n=f[T];t.on(`+${n}`,function(){Cn.call(i,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},y2=function(i,t,s){var f="content.off";t.on(`+${f}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},C2=function(i,t,s){var f="content.on";t.on(`+${f}`,function(){t.setContentOutputEnable(),t.skipEvent()})},T2=function(i,t,s){t.on("content",function(f){if(t.contentOutputEnable)Cn.call(i,f);else{var T=`+${t.lastTagStart}`;i.emit(`parser.${T}#content`,t,f)}})},S2=function(i,t,s){t.on("start",function(){i.emit("parser.start",t)}).on("+",function(f,...T){if(!t.skipEventFlag){var E=`+${f}`,n=T;i.emit(`parser.${E}`,t,...T,n),Hf(i,E,n)}}).on("-",function(f){if(!t.skipEventFlag){var T=`-${f}`,E=[];i.emit(`parser.${T}`,t,E),Hf(i,T,E)}}).on("complete",function(){i.emit("parser.complete",t)})},E2=function(i,t){var s=`tag.${t}`;i==null?this.emit(s):this.emit(s,...i)},Hf=function(i,t,s){ut.call(i,t,E2,s,i)};const $f=[KE,ZE,JE,QE,jE,iP,sP,qE,_E,tP,eP,rP,nP,aP,oP,dP,cP,mP,CP,MP,OP,DP,GP,zP,YP,KP,qP,t2,i2,r2,a2,l2,f2,p2,m2,x2,y2,C2,T2,S2];var P2=function(i,t,s){for(var f=0,T=$f.length;f<T;f++)$f[f](i,t,s)},M2=function(i,t){for(var s=i.commentLineStart,f=t.split(`
`),T=0,E=f.length;T<E;T++){var n=f[T];n===""||(n.trim().length===0||s&&n.startsWith(s))&&(f[T]="")}return f.join("")};const w2=Phaser.Utils.Objects.GetValue;class R2 extends $E{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("delimiters")||(s.delimiters="[]"),super(s),P2(t,this,s),this.setCommentLineStartSymbol(w2(s,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(M2(this,t)),this}}const A2={setDefaultTypingSpeed(i){return this.defaultSpeed=i,this},setTypingSpeed(i){return i===void 0&&(i=this.defaultSpeed),this.speed=i,this}},bs="page.fadeout",kl="_remove.play",Kf=[bs,kl];var L2=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(bs),this;var i=this.children.filter(function(f){return f.renderable}),t=this.fadeOutPageCallback(i,this.fadeOutPageDuration);if(!t)this.emit(bs);else if(t.once)t.once("complete",function(){this.emit(bs)},this);else if(t.then){var s=this;t.then(function(){s.emit(bs)})}else this.emit(bs);return this},ch=function(i,t){return new Promise(function(s,f){i.once(t,function(){s()})})},oe=function(i){return ch(i,"complete")},O2=function(i){return this.children=i,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(i),this.typing(),oe(this)};const F2="delay",Kg="anim";var Zg=function(i){i===void 0&&(i=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var s=this.getNextChild();if(!s){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(s.renderable){var f=this.animationConfig;if(f.duration>0){var T=this.timeline.addTimer({name:Kg,target:s,duration:f.duration,yoyo:f.yoyo,onStart:f.onStart,onProgress:f.onProgress,onComplete:f.onComplete});this.skipTypingAnimation&&T.seek(1)}else f.onStart&&f.onStart(s,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",s);var E=this.nextChild;if(E&&!(this.skipSpaceEnable&&GT(E))){if(t+=this.speed+i,i=0,t>0){this.typingTimer=this.timeline.addTimer({name:F2,target:this,duration:t,onComplete:function(n,C,e){n.typingTimer=void 0,Zg.call(n,e.remainder)}});break}}}else NT(s)&&s.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},b2=function(){return this.timeline.pause(),this},D2=function(){return this.timeline.resume(),this},B2=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},I2=function(i){return this.isTypingPaused?(i===void 0&&(i=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=i):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(i)),this):this},G2=function(i){switch(i){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},N2=function(i,t){var s=t.split(".");return i.gameObjectManagers.hasOwnProperty(s[0])},V2=function(i,t,s,f){var T=i.waitEventManager,E=t.split("."),n=E[0],C=i.getGameObjectManager(n),e=`wait.${n}`;switch(E.length){case 1:T.waitGameObjectManagerEmpty(n),i.emit(e);return;case 2:var u=E[1];T.waitGameObjectDestroy(n,u),i.emit(e,u);return;case 3:var u=E[1],x=E[2],d=C.getProperty(u,x);if(typeof d=="number"){T.waitGameObjectTweenComplete(n,u,x),i.emit(e,u,x);return}var o=x,a=o.startsWith("!");if(a&&(o=o.substring(1)),C.hasData(u,o)){T.waitGameObjectDataFlag(n,u,o,!a),i.emit(e,u,o);return}else{T.waitTime(0);return}}};const z2=Phaser.Input.Keyboard.KeyCodes;var Jg=function(i,t,s,f){var T=i.waitEventManager;T.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,f),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var E=0,n=t.length;E<n;E++){var C=t[E];if(C==null||C==="wait"){var e=i.waitEventManager.getWaitCompleteTriggerCallback();i.emit("wait",e)}else if(typeof C=="number"||!isNaN(C)){var u=parseFloat(C);T.waitTime(u),i.emit("wait.time",u)}else if(C==="click")T.waitClick(),i.emit("wait.click");else if(C==="se"){T.waitSoundEffectComplete();var x=i.soundManager.getLastSoundEffect();i.emit("wait.music",x)}else if(C==="se2"){T.waitSoundEffect2Complete();var x=i.soundManager.getLastSoundEffect2();i.emit("wait.music",x)}else if(C==="bgm"){T.waitBackgroundMusicComplete();var x=i.soundManager.getBackgroundMusic();i.emit("wait.music",x)}else if(C==="bgm2"){T.waitBackgroundMusic2Complete();var x=i.soundManager.getBackgroundMusic2();i.emit("wait.music",x)}else if(z2.hasOwnProperty(C.toUpperCase()))T.waitKeyDown(C),i.emit("wait.keydown",C);else if(G2(C))T.waitCameraEffectComplete(C),i.emit("wait.camera",C);else if(N2(i,C))V2(i,C);else{var e=i.waitEventManager.getWaitCompleteTriggerCallback();i.emit(`wait.${C}`,e)}}},X2=function(i){return this.ignoreWait?this:(this.pauseTyping(),Jg(this.textPlayer,i,this.resumeTyping,this),this)},W2=function(i){return i===void 0&&(i=!0),this.ignoreWait=i,this},U2=function(i){return i===void 0&&(i=!0),this.skipSpaceEnable=i,this},k2=function(i){if(i===void 0&&(i=!0),this.skipTypingAnimation=i,i)for(var t=this.timeline.getTimers(Kg),s=0,f=t.length;s<f;s++)t[s].seek(1);return this},Y2=function(i){if(i===void 0&&(i=!0),this.skipSoundEffect=i,i){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},H2=function(){return this.typingTimer&&this.typingTimer.seek(1),this},Qg={fadeOutPage:L2,start:O2,typing:Zg,pause:b2,resume:D2,pauseTyping:B2,resumeTyping:I2,wait:X2,setIgnoreWait:W2,setSkipSpaceEnable:U2,setSkipTypingAnimation:k2,setSkipSoundEffect:Y2,skipCurrentTypingDelay:H2};Object.assign(Qg,A2);const Ks=Phaser.Utils.Objects.GetValue;class jg{constructor(t,s){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Ks(s,"onTypingStart",K2)),this.setDefaultTypingSpeed(Ks(s,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Ks(s,"skipSpace",!1)),this.setAnimationConfig(Ks(s,"animation",void 0)),this.setMinSizeEnable(Ks(s,"minSizeEnable",!1)),this.setFadeOutPageCallback(Ks(s,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=$2),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var $2=function(i){i.setVisible&&i.setVisible()},K2=function(i){for(var t=0,s=i.length;t<s;t++){var f=i[t];f.setVisible&&f.setVisible(!1)}};Object.assign(jg.prototype,wr,Qg);class Z2 extends vu{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const J2={playAnimation(i,t){return this.has(i)||this.add(i),this.get(i).playAnimation(t),this},stopAnimation(i){return this.has(i)?(this.get(i).stopAnimation(),this):this},chainAnimation(i,t){return this.has(i)?(this.get(i).chainAnimation(t),this):this},pauseAnimation(i){return this.has(i)?(this.get(i).pauseAnimation(),this):this}};var qg={};Object.assign(qg,J2);class _g extends dh{constructor(t,s){s===void 0&&(s={}),s.BobClass=Z2,super(t,s)}setCreateGameObjectCallback(t,s){return!t||t==="sprite"?t=Q2:t==="image"&&(t=j2),super.setCreateGameObjectCallback(t,s),this}}var Q2=function(i,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),i.add.sprite(0,0,t,s)},j2=function(i,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),i.add.image(0,0,t,s)};Object.assign(_g.prototype,qg);var Zf=function(i,t){return i.length===3&&i[0]===t&&i[2]==="play"},q2=function(i,t){return i.length===3&&i[0]===t&&i[2]==="stop"},_2=function(i,t,s){var f=s.name;t.on("+",function(T,...E){if(!t.skipEventFlag){var n=T.split("."),C;if(Zf(n,f))C=n[1];else return;ut.call(i,`${f}.play`,tM,[f,C,E],i),t.skipEvent()}}).on("+",function(T){if(!t.skipEventFlag){var E=T.split("."),n;if(q2(E,f))n=E[1];else return;ut.call(i,`${f}.stop`,Jf,[f,n],i),t.skipEvent()}}).on("-",function(T){if(!t.skipEventFlag){var E=T.split("."),n;if(Zf(E,f))n=E[1];else return;ut.call(i,`${f}.stop`,Jf,[f,n],i),t.skipEvent()}})},tM=function(i){var t,s,f;[t,s,f]=i;var T=f.shift(),E=this.getGameObjectManager(t);E.playAnimation(s,T),f.length>0&&E.chainAnimation(s,f)},Jf=function(i){var t,s;[t,...s]=i;var f=this.getGameObjectManager(t);f.stopAnimation(...s)},eM=function(i,t){return i.length===3&&i[0]===t&&i[2]==="pause"},iM=function(i,t,s){var f=s.name;t.on("+",function(T){if(!t.skipEventFlag){var E=T.split("."),n;if(eM(E,f))n=E[1];else return;ut.call(i,`${f}.pause`,sM,[f,n],i),t.skipEvent()}})},sM=function(i){var t,s;[t,...s]=i;var f=this.getGameObjectManager(t);f.pauseAnimation(...s)},rM=function(i,t){return i.length===3&&i[0]===t&&i[2]==="chain"},nM=function(i,t,s){var f=s.name;t.on("+",function(T){if(!t.skipEventFlag){var E=T.split("."),n;if(rM(E,f))n=E[1];else return;var C=Array.prototype.slice.call(arguments,1);ut.call(i,`${f}.chain`,aM,[f,n,C],i),t.skipEvent()}})},aM=function(i){var t,s;[t,...s]=i;var f=this.getGameObjectManager(t);f.chainAnimation(...s)};const hM=[_2,iM,nM];var oM=function(i){i===void 0&&(i={}),i.name="sprite",i.parseCallbacks=hM,this.addGameObjectManager(i,_g)},Qf=function(i,t){return i.length===2&&i[0]===t},lM=function(i,t,s){var f=s.name;t.on("+",function(T,...E){if(!t.skipEventFlag){var n=T.split("."),C;if(Qf(n,f))C=n[1];else return;ut.call(i,`${f}.add`,uM,[f,C,...E],i),t.skipEvent()}}).on("-",function(T){if(!t.skipEventFlag){var E=T.split("."),n;if(Qf(E,f))n=E[1];else return;ut.call(i,`${f}.remove`,dM,[f,n],i),t.skipEvent()}})},uM=function(i){var t,s;[t,...s]=i;var f=this.getGameObjectManager(t);f.add(...s)},dM=function(i){var t,s;[t,...s]=i;var f=this.getGameObjectManager(t);f.remove(...s)},fM=function(i,t,s){var f=s.name;t.on("-",function(T){t.skipEventFlag||T===f&&(ut.call(i,`${f}.removeall`,vM,f,i),t.skipEvent())})},vM=function(i){var t=this.getGameObjectManager(i);t.removeAll()},cM=function(i,t){return i.length===3&&i[0]===t},pM=function(i,t,s){var f=s.name;t.on("+",function(T,...E){if(!t.skipEventFlag){var n=T.split("."),C,e;if(cM(n,f))C=n[1],e=n[2];else return;ut.call(i,`${f}.call`,gM,[f,C,e,...E],i),t.skipEvent()}})},gM=function(i){var t,s,f,T;[t,s,f,...T]=i;var E=`${t}.${f}`;if(this.emit(E,s,...T),!(this.listenerCount(E)>0)){var n=this.getGameObjectManager(t);n.hasMethod(s,f)?n.call(s,f,...T):n.setProperty(s,f,T[0])}},mM={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},xM=function(i,t){return i.length===4&&i[0]===t&&mM[i[3]]},yM=function(i,t,s){var f=s.name;i.getGameObjectManager(f),t.on("+",function(T,E,n,C,e){if(!t.skipEventFlag){var u=T.split("."),x,d,o;if(xM(u,f))x=u[1],d=u[2],o=u[3];else return;typeof C=="number"&&(e=C,C=void 0),ut.call(i,`${f}.ease`,CM,[f,x,d,E,n,C,e,o],i),t.skipEvent()}})},CM=function(i){var t,s,f,T,E,n,C,e;[t,s,f,T,E,n,C,e]=i;var u=this.getGameObjectManager(t),x=u.getProperty(s,f);if(typeof x=="number"){e.endsWith("Left")||e.endsWith("Up")?e.startsWith("to")||e.startsWith("yoyo")?T=x-T:e.startsWith("from")&&(u.setProperty(s,f,x-T),T=x):e.endsWith("Right")||e.endsWith("Down")?e.startsWith("to")||e.startsWith("yoyo")?T=x+T:e.startsWith("from")&&(u.setProperty(s,f,x+T),T=x):e==="from"&&(u.setProperty(s,f,T),T=x);var d=e.startsWith("yoyo");u.easeProperty(s,f,T,E,n,C,d)}};const jf=[lM,fM,pM,yM],TM=Hg.addGameObjectManager,SM={addGameObjectManager(i,t){i===void 0&&(i={});var s=i.name;s||console.warn("Parameter 'name' is required in TextPlayer.addGameObjectManager(config) method"),TM.call(this,i,t);var f=i.parseCallbacks;f?f=[...f,...jf]:f=jf;for(var T=0,E=f.length;T<E;T++)f[T](this,this.parser,i);return this}};var EM=function(i){return this.waitEventManager.setClickTarget(i),this},PM=function(i){return this.waitEventManager.setCameraTarget(i),this},MM=function(i){var t=this;i?typeof i=="function"?this.nextPageInput=function(s,f){var T=t.waitEventManager;T.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,f);var E=T.getWaitCompleteTriggerCallback();i.call(t,E)}:this.nextPageInput=function(s,f){Jg(t,i,s,f)}:this.nextPageInput=null},wM=function(i,t){return this.imageManager.add(i,t),this};const RM={play(i){return this.isPlaying?this:(this.removeChildren(),this.parser.start(i),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(i){var t=oe(this);return this.play(i),t}};var Yl=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(bs,AM,this).fadeOutPage(),this)},AM=function(){var i=this.runWrap(this.lastWrapResult);this.lastWrapResult=i,this.emit("page.start");var t=function(){this.emit(kl),i.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?Yl.call(this):this.nextPageInput&&this.nextPageInput(Yl,this))};this.once(kl,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(i.children)};const LM={pause(){return this.timeline.pause(),this},pauseTyping(){return this.typeWriter.pauseTyping(),this}},OM={resume(){return this.timeline.resume(),this},resumeTyping(i){return this.typeWriter.resumeTyping(i),this}};var FM=function(i){return this.typeWriter.wait(i),this};const bM={setDefaultTypingSpeed(i){return this.defaultTypingSpeed=i,this},setTypingSpeed(i){return this.typingSpeed=i,this}};var DM=function(i){return this.typeWriter.setIgnoreWait(i),this},BM=function(i){return i===void 0&&(i=!0),this.ignoreNextPageInput=i,this},IM=function(){if(!this.isPlaying||!this.isPageTyping)return this;var i=this.typeWriter.speed,t=this.typeWriter.ignoreWait,s=this.typeWriter.skipTypingAnimation,f=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(i).setIgnoreWait(t).setSkipTypingAnimation(s).setSkipSoundEffect(f)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const GM={getSprite(i){return this.getGameObject("sprite",i)},addSprite(i,t){return this.addGameObject("sprite",i,t),this}},NM={setContentOutputEnable(i){return this.parser.setContentOutputEnable(i),this},setContentCallback(i,t){return this.contentCallback=i,this.contentCallbackScope=t,this}};var t0={setClickTarget:EM,setCameraTarget:PM,setNextPageInput:MM,addImage:wM,typingNextPage:Yl,wait:FM,setIgnoreWait:DM,setIgnoreNextPageInput:BM,showPage:IM};Object.assign(t0,SM,RM,LM,OM,bM,GM,NM);var VM=function(i){for(var t=0,s=Kf.length;t<s;t++)i.emit(Kf[t])};const qf=Phaser.Utils.Objects.IsPlainObject,Zs=Phaser.Utils.Objects.GetValue;class xu extends WE(Mr){constructor(t,s,f,T,E,n){qf(s)?n=s:qf(T)&&(n=T),n===void 0&&(n={});var C=n.text;delete n.text,super(t,s,f,T,E,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new R2(this,Zs(n,"parser",void 0)),this.typeWriter=new jg(this,Zs(n,"typing",void 0)),this._imageManager=void 0;var e=Zs(n,"images",void 0);e&&this.addImage(e);var u=Zs(n,"sprites");u!==!1&&u!==null&&oM.call(this,u),this.setIgnoreNextPageInput(Zs(n,"ignoreNextPageInput",!1)),this.setNextPageInput(Zs(n,"nextPageInput",null)),this.isPlaying=!1,C&&this.play(C)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new hu(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(VM(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(xu.prototype,t0);st.register("textPlayer",function(i,t,s,f,T){var E=new xu(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.TextPlayer",xu);const e0={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},i0={direction:["direction",void 0]};var _i=function(i,t,s){if(typeof s=="string")i.hasOwnProperty(s)&&(t[s]=i[s]);else{var f=s;if(Array.isArray(f))for(var T=0,E=f.length;T<E;T++)_i(i,t,f[T]);else for(var s in f)_i(i,t,s)}},zM=function(i){i===void 0&&(i={});var t={};return _i(i,t,"inputType"),_i(i,t,"type"),_i(i,t,"style"),_i(i,t,i0),_i(i,t,e0),t},yu=function(i,t,s,f){if(t)return!(s&&!s(i,t)||!_f(i,t)||f&&!f(i,t));for(var T=i.scene.input.manager,E=T.pointersTotal,n=T.pointers,t,C=0;C<E;C++)if(t=n[C],!(s&&!s(i,t))&&!!_f(i,t)&&!(f&&!f(i,t)))return!0;return!1},_f=function(i,t){for(var s=i.scene,f=s.input.cameras.getCamerasBelowPointer(t),T=s.input.manager,E=[i],n=0,C=f.length;n<C;n++)if(T.hitTest(t,E,f[n],na),na.length>0)return na.length=0,!0;return na.length=0,!1},na=[],pr=void 0,XM=function(i){i!==pr&&(pr!==void 0&&pr.close(),pr=i)},WM=function(i){i===pr&&(pr=void 0)};const UM=Phaser.Utils.Objects.GetValue;var Ja=function(i,t,s){s===void 0&&(s={});var f,T;for(var E in i)f=i[E],T=UM(t,E,f[1]),T!==void 0&&(s[f[0]]=T);return s},s0=function(i){i.addEventListener("touchstart",Js,!1),i.addEventListener("touchmove",Js,!1),i.addEventListener("touchend",Js,!1),i.addEventListener("mousedown",Js,!1),i.addEventListener("mouseup",Js,!1),i.addEventListener("mousemove",Js,!1)},Js=function(i){i.stopPropagation()},kM=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},YM=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",kM,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},HM=function(i){if(!!i){var t=i.parentElement;t&&t.removeChild(i)}},$M=function(){this.isOpened=!1,this.updateText(),this.scene.sys.events.off("postupdate",this.updateText,this),this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),HM(this.node),this.node=void 0,this.emit("close",this)};const mo=Phaser.Utils.Objects.GetValue;var KM=function(i,t){var s,f=mo(t,"inputType",void 0);f===void 0&&(f=mo(t,"type","text")),f==="textarea"?(s=document.createElement("textarea"),s.style.resize="none"):(s=document.createElement("input"),s.type=f);var T=mo(t,"style",void 0),E=s.style;Ja(i0,T,E),E.position="absolute",E.opacity=0,E.pointerEvents="none",E.zIndex=0,E.transform="scale(0)",Ja(e0,t,s),s0(s);var n=i.scene.sys.scale,C=n.isFullscreen?n.fullscreenTarget:document.body;return C.appendChild(s),s.addEventListener("focus",function(e){YM.call(i)}),s.addEventListener("blur",function(e){$M.call(i)}),s},ZM=function(){return this.isOpened?this:this.readOnly?this:(XM(this),this.node||(this.node=KM(this,this.nodeConfig)),this.setFocus(),this)},JM=function(){return this.isOpened?(WM(this),this.setBlur(),this):this},QM={open:ZM,close:JM};const Yi=Phaser.Utils.Objects.GetValue;class Cu extends Yt{constructor(t,s){super(t);var f=Yi(s,"inputType",void 0);f===void 0&&(f=Yi(s,"type","text")),this.setEnterCloseEnable(Yi(s,"enterClose",f!=="textarea"));var T=Yi(s,"onOpen",void 0);T||(T=Yi(s,"onFocus",void 0)),this.onOpenCallback=T;var E=Yi(s,"onClose",void 0);E||(E=Yi(s,"onBlur",void 0)),this.onCloseCallback=E,this.onUpdateCallback=Yi(s,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=zM(s),this.node=void 0}destroy(){this.close(),super.destroy()}onClickOutside(t){yu(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){!this.node||(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){!this.node||(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,s),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){!this.node||this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){!this.node||(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(!!this.node)return this.node.style.color}set fontColor(t){!this.node||(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node?(this.node.style[t]=s,this):this}getStyle(t){if(!!this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(Cu.prototype,QM);var r0=function(i,t,s){i=i.replace(" ","");var f=s.previousText;if(i===f)return i;if(isNaN(i)){s.emit("nan",i,s),i=f;var T=s.cursorPosition-1;s.setText(i),s.setCursorPosition(T)}else s.previousText=i;return i},jM=function(i){var t=i.parent,s=i.isOpened?i.selectionStart:null,f=i.isOpened?i.selectionEnd:null,T=i.prevSelectionStart,E=i.prevSelectionEnd;if(!(T===s&&E===f)){var n,C;T===null?(n=s,C=f):s===null?(n=T,C=E):(n=Math.min(T,s),C=Math.max(E,f));for(var e=n;e<C;e++){var u;T===null?u=!1:u=e>=T&&e<E;var x;if(s===null?x=!1:x=e>=s&&e<f,u!==x){var d=t.getCharChild(e);if(d){var o=u?"cursorout":"cursorin";t.emit(o,d,e,t)}}}i.prevSelectionStart=s,i.prevSelectionEnd=f}},qM=function(i){var t=i.parent,s=0,f=t.width,T=0,E=t.height,n=i.drawX,C=i.drawY,e=n+i.drawTLX,u=n+i.drawTRX,x=C+i.drawTLY,d=C+i.drawBLY,o;e<s?o=s-e:u>f?o=f-u:o=0;var a;x<T?a=T-x:d>E?a=E-d:a=0,t._textOX+=o,t._textOY+=a},_M=function(i){var t=i.parent,s=t.text,f=i.cursorPosition;if(i.prevCursorPosition!==f){if(i.prevCursorPosition!==null&&i.prevCursorPosition>s.length&&(i.prevCursorPosition=null),i.prevCursorPosition!==null){var T=t.getCharChild(i.prevCursorPosition);T&&(T.text===`
`&&T.clearTextSize(),t.emit("cursorout",T,i.prevCursorPosition,t))}if(f!=null){var T=t.getCharChild(f);T&&(T.text===`
`&&T.copyTextSize(t.lastInsertCursor),qM(T),t.emit("cursorin",T,f,t))}t.emit("movecursor",f,i.prevCursorPosition,t),i.prevCursorPosition=f}},tv=function(i){var t=i.prevSelectionStart;if(t!==null){for(var s=i.prevSelectionEnd,f=i.parent,T=t;T<s;T++){var E=f.getCharChild(T);E&&f.emit("cursorout",E,T,f)}i.prevSelectionStart=null,i.prevSelectionEnd=null}},ev=function(i){var t=i.prevCursorPosition;if(t!==null){var s=i.parent,f=s.getCharChild(t);f&&s.emit("cursorout",f,t,s),i.prevCursorPosition=null}};const tw=Phaser.Utils.Objects.GetValue;class ew extends Cu{constructor(t,s){super(t,s),this.setSelectAllWhenFocusEnable(tw(s,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,t.on("pointerdown",function(f,T,E,n){var C=t.getNearestChild(T,E),e=t.getCharIndex(C);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(e),this.cursorMoveStartIndex=e,this.firstClickAfterOpen=!1},this).on("pointermove",function(f,T,E,n){if(!!f.isDown){var C=t.getNearestChild(T,E),e=t.getCharIndex(C);this.cursorMoveStartIndex<e?this.selectText(this.cursorMoveStartIndex,e+1):this.selectText(e,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var f=this.onUpdateCallback(s,t,this);f!=null&&(s=f)}return t.text!==s&&t.setText(s),this.isOpened?this.selectionStart!==this.selectionEnd?(ev(this),jM(this)):(tv(this),_M(this)):(tv(this),ev(this)),this}setNumberInput(){return this.onUpdateCallback=r0,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}}const iw=Phaser.Utils.Objects.GetValue,sw=["inputType","onOpen","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var rw=function(i,t){var s=iw(t,"edit");return s===void 0&&(s={}),_i(t,s,sw),new ew(i,s)},mi=function(i,t){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var s=t.split("."),f=i,T=0;T<s.length;T++)if(f.hasOwnProperty(s[T]))f=f[s[T]];else return!1;return!0}else return!1},nw=function(i){var t=!i.textArea;if(!mi(i,"wrap.vAlign")){var s=t?"center":"top";et(i,"wrap.vAlign",s)}if(mi(i,"wrap.charWrap")||et(i,"wrap.charWrap",!0),!mi(i,"wrap.maxLines")){var s=t?1:void 0;et(i,"wrap.maxLines",s)}if(t&&et(i,"wrap.wrapWidth",1/0),mi(i,"wrap.useDefaultTextHeight")||et(i,"wrap.useDefaultTextHeight",!0),i.edit||(i.edit={}),!mi(i.edit,"inputType")){var s=t?"text":"textarea";et(i.edit,"inputType",s)}return i},Hl=function(i,t,s,f){if(s===void 0&&(s="."),f===void 0&&(f={}),!i)return f;if(t in i)return Object.assign(f,i[t]);t+=s;for(var T in i)!T.startsWith(t)||(f[T.replace(t,"")]=i[T]);return f},Tu=function(i,t,s){if(s===void 0&&(s={}),Array.isArray(t))for(var f,T=0,E=t.length;T<E;T++)f=t[T],s[f]=i[f];else for(var f in t)s[f]=i[f];return s},ph=function(i,t){for(var s in i)if(!(s in t)||i[s]!==t[s])return!1;for(var s in t)if(!(s in i))return!1;return!0},aw=function(i){cu(i)||this.setCursorStyle(i).on("cursorin",function(t){var s=this.cursorStyle,f=Tu(t.style,s);ph(s,f)||(t.styleSave=f,t.modifyStyle(s))},this).on("cursorout",function(t){!t.styleSave||(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},hw=function(i){cu(i)||this.setFocusStyle(i).on("open",function(){var t=this.background,s=this.focusStyle,f=Tu(t,s);ph(s,f)||(t.styleSave=f,t.modifyStyle(s))},this).on("close",function(){var t=this.background;!t.styleSave||(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},ow=function(i){var t=i.createCharChild("|");return t.text="",t};function Gi(){}Gi.prototype={diff(i,t,s={}){let f=s.callback;typeof s=="function"&&(f=s,s={}),this.options=s;let T=this;function E(a){return f?(setTimeout(function(){f(void 0,a)},0),!0):a}i=this.castInput(i),t=this.castInput(t),i=this.removeEmpty(this.tokenize(i)),t=this.removeEmpty(this.tokenize(t));let n=t.length,C=i.length,e=1,u=n+C;s.maxEditLength&&(u=Math.min(u,s.maxEditLength));let x=[{newPos:-1,components:[]}],d=this.extractCommon(x[0],t,i,0);if(x[0].newPos+1>=n&&d+1>=C)return E([{value:this.join(t),count:t.length}]);function o(){for(let a=-1*e;a<=e;a+=2){let r,l=x[a-1],v=x[a+1],h=(v?v.newPos:0)-a;l&&(x[a-1]=void 0);let c=l&&l.newPos+1<n,p=v&&0<=h&&h<C;if(!c&&!p){x[a]=void 0;continue}if(!c||p&&l.newPos<v.newPos?(r=uw(v),T.pushComponent(r.components,void 0,!0)):(r=l,r.newPos++,T.pushComponent(r.components,!0,void 0)),h=T.extractCommon(r,t,i,a),r.newPos+1>=n&&h+1>=C)return E(lw(T,r.components,t,i,T.useLongestToken));x[a]=r}e++}if(f)(function a(){setTimeout(function(){if(e>u)return f();o()||a()},0)})();else for(;e<=u;){let a=o();if(a)return a}},pushComponent(i,t,s){let f=i[i.length-1];f&&f.added===t&&f.removed===s?i[i.length-1]={count:f.count+1,added:t,removed:s}:i.push({count:1,added:t,removed:s})},extractCommon(i,t,s,f){let T=t.length,E=s.length,n=i.newPos,C=n-f,e=0;for(;n+1<T&&C+1<E&&this.equals(t[n+1],s[C+1]);)n++,C++,e++;return e&&i.components.push({count:e}),i.newPos=n,C},equals(i,t){return this.options.comparator?this.options.comparator(i,t):i===t||this.options.ignoreCase&&i.toLowerCase()===t.toLowerCase()},removeEmpty(i){let t=[];for(let s=0;s<i.length;s++)i[s]&&t.push(i[s]);return t},castInput(i){return i},tokenize(i){return i.split("")},join(i){return i.join("")}};function lw(i,t,s,f,T){let E=0,n=t.length,C=0,e=0;for(;E<n;E++){let x=t[E];if(x.removed){if(x.value=i.join(f.slice(e,e+x.count)),e+=x.count,E&&t[E-1].added){let d=t[E-1];t[E-1]=t[E],t[E]=d}}else{if(!x.added&&T){let d=s.slice(C,C+x.count);d=d.map(function(o,a){let r=f[e+a];return r.length>o.length?r:o}),x.value=i.join(d)}else x.value=i.join(s.slice(C,C+x.count));C+=x.count,x.added||(e+=x.count)}}let u=t[n-1];return n>1&&typeof u.value=="string"&&(u.added||u.removed)&&i.equals("",u.value)&&(t[n-2].value+=u.value,t.pop()),t}function uw(i){return{newPos:i.newPos,components:i.components.slice(0)}}const dw=new Gi;function fw(i,t,s){return dw.diff(i,t,s)}const iv=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,sv=/\S/,n0=new Gi;n0.equals=function(i,t){return this.options.ignoreCase&&(i=i.toLowerCase(),t=t.toLowerCase()),i===t||this.options.ignoreWhitespace&&!sv.test(i)&&!sv.test(t)};n0.tokenize=function(i){let t=i.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let s=0;s<t.length-1;s++)!t[s+1]&&t[s+2]&&iv.test(t[s])&&iv.test(t[s+2])&&(t[s]+=t[s+2],t.splice(s+1,2),s--);return t};const a0=new Gi;a0.tokenize=function(i){let t=[],s=i.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(let f=0;f<s.length;f++){let T=s[f];f%2&&!this.options.newlineIsToken?t[t.length-1]+=T:(this.options.ignoreWhitespace&&(T=T.trim()),t.push(T))}return t};const vw=new Gi;vw.tokenize=function(i){return i.split(/(\S.+?[.!?])(?=\s+|$)/)};const cw=new Gi;cw.tokenize=function(i){return i.split(/([{}:;,]|\s+)/)};const pw=Object.prototype.toString,vn=new Gi;vn.useLongestToken=!0;vn.tokenize=a0.tokenize;vn.castInput=function(i){const{undefinedReplacement:t,stringifyReplacer:s=(f,T)=>typeof T>"u"?t:T}=this.options;return typeof i=="string"?i:JSON.stringify($l(i,null,null,s),s,"  ")};vn.equals=function(i,t){return Gi.prototype.equals.call(vn,i.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function $l(i,t,s,f,T){t=t||[],s=s||[],f&&(i=f(T,i));let E;for(E=0;E<t.length;E+=1)if(t[E]===i)return s[E];let n;if(pw.call(i)==="[object Array]"){for(t.push(i),n=new Array(i.length),s.push(n),E=0;E<i.length;E+=1)n[E]=$l(i[E],t,s,f,T);return t.pop(),s.pop(),n}if(i&&i.toJSON&&(i=i.toJSON()),typeof i=="object"&&i!==null){t.push(i),n={},s.push(n);let C=[],e;for(e in i)i.hasOwnProperty(e)&&C.push(e);for(C.sort(),E=0;E<C.length;E+=1)e=C[E],n[e]=$l(i[e],t,s,f,e);t.pop(),s.pop()}else n=i;return n}const Kl=new Gi;Kl.tokenize=function(i){return i.slice()};Kl.join=Kl.removeEmpty=function(i){return i};const gw=Phaser.Utils.Array.Remove;var mw=function(i,t){var s=i.text;if(t!==s){if(s==null&&(s=""),gw(i.children,i.lastInsertCursor),t==="")i.removeChildren();else for(var f=fw(s,t),T=0,E=0,n=f.length;E<n;E++){var C=f[E];C.removed?i.removeText(T,C.count):(C.added&&i.insertText(T,C.value),T+=C.count)}i.children.push(i.lastInsertCursor),i.runWrap(),i.emit("textchange",t,i)}};const xw={setTextOYByPercentage(i){return this.setTextOY(-this.textVisibleHeight*i),this},getTextOYPercentage(){var i=this.textVisibleHeight;return i===0?0:this._textOY/-i},setTextOXByPercentage(i){return this.setTextOX(-this.textVisibleWidth*i),this},getTextOXPercentage(){var i=this.textVisibleWidth;return i===0?0:this._textOX/-i}},rv=Phaser.Utils.Objects.IsPlainObject;class Tn extends Mr{constructor(t,s,f,T,E,n){rv(s)?n=s:rv(T)&&(n=T),n===void 0&&(n={}),nw(n);var C=n.text;C&&delete n.text;var e=Hl(n.background,"focus"),u=Hl(n.style,"cursor");super(t,s,f,T,E,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this._text,this.textEdit=rw(this,n),n.focusStyle&&Object.assign(e,n.focusStyle),hw.call(this,e),n.cursorStyle&&Object.assign(u,n.cursorStyle),aw.call(this,u);var x=n.onAddChar;x&&this.on("addchar",x);var d=n.onCursorOut;d&&this.on("cursorout",d);var o=n.onCursorIn;o&&this.on("cursorin",o);var a=n.onMoveCursor;a&&this.on("movecursor",a),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=ow(this),C||(C=""),this.setText(C)}addChild(t,s){if(super.addChild(t,s),Array.isArray(t))for(var f=t,T=0,E=f.length;T<E;T++){var t=f[T];Tr(t)&&this.emit("addchar",t,s+T,this)}else Tr(t)&&this.emit("addchar",t,s,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(mw(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var s=super.runWrap(t);return this.contentWidth=s.maxLineWidth,this.contentHeight=s.linesHeight,this.lineHeight=s.lineHeight,this.linesCount=s.lines.length,s}setSize(t,s){return this.width===t&&this.height===s?this:(super.setSize(t,s),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=yw),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var yw=function(i){return i};Object.assign(Tn.prototype,xw);st.register("canvasInput",function(i,t,s,f,T){var E=new Tn(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.CanvasInput",Tn);var Su=function(i){return Bs(i).loop.delta};const nv=Phaser.Utils.Objects.GetValue,Cw=Phaser.Math.Wrap;class h0 extends Cu{constructor(t,s){s===void 0&&(s={}),s.onUpdate==="number"&&(s.onUpdate=r0),super(t,s),this.setCursor(nv(s,"cursor","|")),this.setCursorFlashDuration(nv(s,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var f=this.onUpdateCallback(s,t,this);f!=null&&(s=f)}if(this.isOpened&&this.hasCursor){var T=this.cursorPosition;s=s.substring(0,T)+this.cursor+s.substring(T),this.prevCursorPosition!==T&&(this.prevCursorPosition=T)}return t.text!==s&&(t.setText(s),this.emit("textchange",s,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var s=this.cursorFlashTimer+Su(this.scene);return this.cursorFlashTimer=Cw(s,0,this.cursorFlashDuration),t}}st.register("hiddenEdit",function(i,t){var s=new h0(i,t);return s});et(window,"RexPlugins.UI.HiddenEdit",h0);const Tw=Phaser.GameObjects.GetCalcMatrix;var Sw=function(i,t,s,f){t.updateData(),s.addToRenderList(t);var T=i.pipelines.set(t.pipeline),E=Tw(t,s,f),n=T.calcMatrix.copyFrom(E.calc),C=t._displayOriginX,e=t._displayOriginY,u=s.alpha*t.alpha;i.pipelines.preBatch(t);for(var x=t.geom,d,o=0,a=x.length;o<a;o++)d=x[o],d.visible&&d.webglRender(T,n,u,C,e);i.pipelines.postBatch(t)};const Ew=Phaser.Renderer.Canvas.SetTransform;var Pw=function(i,t,s,f){t.updateData(),s.addToRenderList(t);var T=i.currentContext;if(Ew(i,T,t,s,f)){for(var E=t._displayOriginX,n=t._displayOriginY,C=t.geom,e,u=0,x=C.length;u<x;u++)e=C[u],e.visible&&e.canvasRender(T,E,n);T.restore()}};const Mw={renderWebGL:Sw,renderCanvas:Pw},ww=Phaser.GameObjects.Shape,Rw=Phaser.Utils.Array.Remove;class Ns extends ww{constructor(t,s,f,T,E){s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=2),E===void 0&&(E=T),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(s,f),this.setSize(T,E),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,s){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==s,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=s,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=t,f.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==s,this._fillColor=t,this._fillAlpha=s,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,s,f){return f===void 0&&(f=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==s||this.strokeAlpha!==f,this._lineWidth=t,this._strokeColor=s,this._strokeAlpha=f,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,s=0,f=t.length;s<f;s++){var T=t[s];T.dirty&&T.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Fi(this.shapes),this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var s=t.name;return s&&(this.shapes[s]=t),this.dirty=!0,this}deleteShape(t){var s=this.getShape(t);return s&&(delete this.shapes[t],Rw(this.geom,s)),this}}Object.assign(Ns.prototype,Mw);const Aw={setBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==i||this.boxFillAlpha!==t,this.boxFillColor=i,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==i||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=i,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(i,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.boxLineWidth!==i||this.boxStrokeColor!==t||this.boxStrokeAlpha!==s,this.boxLineWidth=i,this.boxStrokeColor=t,this.boxStrokeAlpha=s,this},setUncheckedBoxStrokeStyle(i,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==i||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==s,this.uncheckedBoxLineWidth=i,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=s,this},setCheckerStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==i||this.checkAlpha!==t,this.checkerColor=i,this.checkAlpha=t,this},setBoxShape(i){return i===void 0&&(i=!1),this.isCircleShape===i?this:(this.isCircleShape=i,this.isSizeChanged=!0,this.dirty=!0,this)}},Lw={setBoxSize(i){return this.dirty=this.dirty||this.boxSize!==i,this.boxSize=i,this},setCheckerSize(i){return this.dirty=this.dirty||this.checkerSize!==i,this.checkerSize=i,this}};var Ow=function(i,t){return i==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=i,this.fillAlpha=t),this},Fw=function(i,t,s){return i==null||t==null?this.isStroked=!1:(s===void 0&&(s=1),this.isStroked=!0,this.lineWidth=i,this.strokeColor=t,this.strokeAlpha=s),this};const bw={fillStyle:Ow,lineStyle:Fw};class gh{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,s,f,T,E){}canvasRender(t,s,f){}updateData(){this.dirty=!1}}Object.assign(gh.prototype,bw,ah);const Dw=Phaser.Geom.Polygon.Earcut;class Sn extends gh{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=Dw(this.pathData),super.updateData(),this}webglRender(t,s,f,T,E){this.isFilled&&sg(t,s,this,f,T,E),this.isStroked&&hh(t,this,f,T,E)}canvasRender(t,s,f){var T=this.pathData,E=T.length-1,n=T[0]-s,C=T[1]-f;t.beginPath(),t.moveTo(n,C),this.closePath||(E-=2);for(var e=2;e<E;e+=2){var u=T[e]-s,x=T[e+1]-f;t.lineTo(u,x)}this.closePath&&t.closePath(),this.isFilled&&(xn(t,this),t.fill()),this.isStroked&&(yn(t,this),t.stroke())}}const av=Phaser.Math.DegToRad;class Eu extends Sn{constructor(t,s,f,T,E,n,C,e){t===void 0&&(t=0),s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=0),E===void 0&&(E=0),n===void 0&&(n=360),C===void 0&&(C=!1),e===void 0&&(e=!1),super(),this.setCenterPosition(t,s),this.setRadius(f,T),this.setAngle(E,n,C),this.setPie(e),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,s){return s===void 0&&(s=t),this.x=t,this.y=s,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,s){return s===void 0&&(s=t),this.radiusX=t,this.radiusY=s,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,s,f){return f===void 0&&(f=!1),this.startAngle=t,this.endAngle=s,this.anticlockwise=f,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),ee(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,s,f){t.beginPath();var T=this.x-s,E=this.y-f,n=av(this.startAngle),C=av(this.endAngle);this.pie&&(t.moveTo(T,E),t.lineTo(T+Math.cos(n)*this.radiusX,E+Math.sin(n)*this.radiusY)),t.ellipse(T,E,this.radiusX,this.radiusY,0,n,C,this.anticlockwise),this.pie&&t.lineTo(T,E),this.isFilled&&(xn(t,this),t.fill()),this.isStroked&&(yn(t,this),t.stroke())}}class o0 extends Eu{constructor(t,s,f){super(t,s,f,f,0,360)}}class Bw extends Sn{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),s=0,f=t.length;s<f;s++)this.pathData.push(t[s].x,t[s].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class Iw extends Eu{constructor(t,s,f,T){super(t,s,f,T,0,360)}}class Gw extends Sn{constructor(t,s,f,T){t===void 0&&(t=0),s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=0),super(),this.setP0(t,s),this.setP1(f,T)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var Nw=function(i,t,s){return s.length=0,i!=null&&s.push(i,t),s};const hv=Phaser.Math.Interpolation.QuadraticBezier;var Vw=function(i,t,s,f,T,E){for(var n=E.length,C=E[n-2],e=E[n-1],u=1,x=T-1;u<=x;u++){var d=u/x;E.push(hv(d,C,i,s),hv(d,e,t,f))}return E};const ov=Phaser.Math.Interpolation.CubicBezier;var zw=function(i,t,s,f,T,E,n,C){for(var e=C.length,u=C[e-2],x=C[e-1],d=1,o=n-1;d<=o;d++){var a=d/o;C.push(ov(a,u,i,s,T),ov(a,x,t,f,E))}return C},l0=function(i){var t=i.length;if(t<2)return i;var s=i[t-2],f=i[t-1];return i.push(s),i.push(f),i};const Xw={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(i,t){return this.restorePathData(),this.accumulationLengths=void 0,Nw(i,t,this.pathData),this.firstPointX=i,this.firstPointY=t,this.lastPointX=i,this.lastPointY=t,this},lineTo(i,t,s){return s===void 0&&(s=!1),s&&(i+=this.lastPointX,t+=this.lastPointY),yi(i,t,this.pathData),this.lastPointX=i,this.lastPointY=t,this},verticalLineTo(i,t){return this.lineTo(i,this.lastPointY,t),this},horizontalLineTo(i,t){return this.lineTo(this.lastPointX,i,t),this},ellipticalArc(i,t,s,f,T,E,n){return n===void 0&&(n=!1),ee(i,t,s,f,T,E,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(i,t,s,f,T,E){return this.ellipticalArc(i,t,s,s,f,T,E),this},quadraticBezierTo(i,t,s,f){return Vw(i,t,s,f,this.iterations,this.pathData),this.lastPointX=s,this.lastPointY=f,this.lastCX=i,this.lastCY=t,this},smoothQuadraticBezierTo(i,t){var s=this.lastPointX*2-this.lastCX,f=this.lastPointY*2-this.lastCY;return this.quadraticBezierTo(s,f,i,t),this},cubicBezierCurveTo(i,t,s,f,T,E){return zw(i,t,s,f,T,E,this.iterations,this.pathData),this.lastPointX=T,this.lastPointY=E,this.lastCX=s,this.lastCY=f,this},smoothCubicBezierCurveTo(i,t,s,f){var T=this.lastPointX*2-this.lastCX,E=this.lastPointY*2-this.lastCY;return this.cubicBezierCurveTo(T,E,i,t,s,f),this},close(){var i=this.pathData[0],t=this.pathData[1];return(i!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(i,t),this.closePath=!0,this},end(){return l0(this.pathData),this}},Ww=Phaser.Math.RotateAround;var Uw=function(i,t,s,f){for(var T={x:0,y:0},E=0,n=f.length-1;E<n;E+=2)T.x=f[E],T.y=f[E+1],Ww(T,i,t,s),f[E]=T.x,f[E+1]=T.y;return f},kw=function(i,t,s,f,T){for(var E=0,n=T.length-1;E<n;E+=2){var C=T[E]-i,e=T[E+1]-t;C*=s,e*=f,T[E]=C+i,T[E+1]=e+t}return T},u0=function(i,t,s){for(var f=0,T=s.length-1;f<T;f+=2)s[f]+=i,s[f+1]+=t;return s};const Yw=Phaser.Math.DegToRad,Hw=Phaser.Math.RotateAround,$w={rotateAround(i,t,s){if(this.pathData.length===0)return this;s=Yw(s),Uw(i,t,s,this.pathData);var f=this.pathData.length;if(this.lastPointX=this.pathData[f-2],this.lastPointY=this.pathData[f-1],this.lastCX!==void 0){var T={x:this.lastCX,y:this.lastCY};Hw(T,i,t,s),this.lastCX=T.x,this.lastCY=T.y}return this},scale(i,t,s,f){if(this.pathData.length===0)return this;if(kw(i,t,s,f,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this.lastCX!==void 0){var T=this.lastCX-i,E=this.lastCY-t;T*=s,E*=f,this.lastCX=T+i,this.lastCY=E+t}return this},offset(i,t){return u0(i,t,this.pathData),this}};var Qa=function(i,t,s,f){s===void 0&&(s=0),f===void 0&&(f=t.length),i.length=f-s;for(var T=0,E=i.length;T<E;T++)i[T]=t[T+s];return i};const Kw={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(Qa(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},Zw=Phaser.Math.Distance.Between,Jw=Phaser.Math.Wrap,Qw=Phaser.Math.Linear;var lv=function(i,t,s,f,T){if(f===void 0&&(f=s,s=0),s=uv(s),f=uv(f),s!==f){var E=t[t.length-1],n=E*s,C=E*f;s<f?xo(i,t,n,C,T):(xo(i,t,n,E,T),xo(i,t,0,C,T)),l0(T)}},xo=function(i,t,s,f,T){for(var E=s>0,n=0,C=t.length;n<C;n++){var e=n*2,u=t[n];if(E){if(u<s)continue;if(u==s)E=!1;else{var x=u-t[n-1],d=1-(u-s)/x;T.push(aa(i,e-2,e,d)),T.push(aa(i,e-1,e+1,d)),E=!1}}if(u<=f){if(T.push(i[e]),T.push(i[e+1]),u===f)break}else{var x=u-t[n-1],d=1-(u-f)/x;T.push(aa(i,e-2,e,d)),T.push(aa(i,e-1,e+1,d));break}}},aa=function(i,t,s,f){var T=i[t],E=i[s];return Qw(T,E,f)},uv=function(i){return i===0?0:i%1===0?1:Jw(i,0,1)};const jw={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var i=this.accumulationLengths,t=this.pathData,s,f,T,E,n,C=0,e=0,u=t.length;e<u;e+=2)T=t[e],E=t[e+1],n=s===void 0?0:Zw(s,f,T,E),C+=n,i.push(C),s=T,f=E;return this.totalPathLength=C,this},setDisplayPathSegment(i,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,lv(this.pathDataSave,this.accumulationLengths,i,t,this.pathData),this},appendFromPathSegment(i,t,s){return t===void 0?this.pathData.push(...i.pathData):(i.updateAccumulationLengths(),lv(i.pathData,i.accumulationLengths,t,s,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},qw={draw(i,t,s){var f=this.toPoints();return t&&i.fillPoints(f,this.closePath,this.closePath),s&&i.strokePoints(f,this.closePath,this.closePath),this}};var _w=function(i,t){t===void 0&&(t=[]);for(var s=0,f=i.length-1;s<f;s+=2)t.push({x:i[s],y:i[s+1]});return t};const tR=Phaser.Geom.Polygon;var eR=function(i,t){return t===void 0&&(t=new tR),t.setTo(i),t};class d0{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return _w(this.pathData)}toPolygon(t){return eR(this.pathData,t)}}Object.assign(d0.prototype,Xw,$w,Kw,jw,qw);class rs extends Sn{constructor(){super(),this.builder=new d0(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,s){return this.builder.startAt(t,s),this.dirty=!0,this}lineTo(t,s,f){return this.builder.lineTo(t,s,f),this.dirty=!0,this}verticalLineTo(t,s){return this.builder.verticalLineTo(t,s),this.dirty=!0,this}horizontalLineTo(t,s){return this.builder.horizontalLineTo(t,s),this.dirty=!0,this}ellipticalArc(t,s,f,T,E,n,C){return this.builder.ellipticalArc(t,s,f,T,E,n,C),this.dirty=!0,this}arc(t,s,f,T,E,n){return this.builder.arc(t,s,f,T,E,n),this.dirty=!0,this}quadraticBezierTo(t,s,f,T){return this.builder.quadraticBezierTo(t,s,f,T),this.dirty=!0,this}smoothQuadraticBezierTo(t,s){return this.builder.smoothQuadraticBezierTo(t,s),this.dirty=!0,this}cubicBezierCurveTo(t,s,f,T,E,n){return this.builder.cubicBezierCurveTo(t,s,f,T,E,n),this.dirty=!0,this}smoothCubicBezierCurveTo(t,s,f,T){return this.builder.smoothCubicBezierCurveTo(t,s,f,T),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,s,f){return this.builder.rotateAround(t,s,f),this.dirty=!0,this}scale(t,s,f,T){return this.builder.scale(t,s,f,T),this.dirty=!0,this}offset(t,s){return this.builder.offset(t,s),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,s,f){return this.builder.appendFromPathSegment(t.builder,s,f),this}copyPathFrom(t,s,f){return this.builder.clear().appendFromPathSegment(t.builder,s,f),this}setDisplayPathSegment(t,s){return this.builder.setDisplayPathSegment(t,s),this}}const iR=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;class sR extends gh{constructor(t,s,f,T){t===void 0&&(t=0),s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=f),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,s),this.setSize(f,T)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}updateData(){this.pathData.length=0;var t=this.x,s=t+this.width,f=this.y,T=f+this.height;return this.pathData.push(t,f),this.pathData.push(s,f),this.pathData.push(s,T),this.pathData.push(t,T),this.pathData.push(t,f),super.updateData(),this}webglRender(t,s,f,T,E){if(this.isFilled){var n=t.fillTint,C=iR(this.fillColor,this.fillAlpha*f);n.TL=C,n.TR=C,n.BL=C,n.BR=C,t.batchFillRect(-T+this.x,-E+this.y,this.width,this.height)}this.isStroked&&hh(t,this,f,T,E)}canvasRender(t,s,f){this.isFilled&&(xn(t,this),t.fillRect(-s,-f,this.width,this.height)),this.isStroked&&(yn(t,this),t.beginPath(),t.rect(-s,-f,this.width,this.height),t.stroke())}}const ha=Phaser.Utils.Objects.GetValue;class ja extends Sn{constructor(t,s,f,T,E,n){t===void 0&&(t=0),s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=f),E===void 0&&(E=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,s),this.setSize(f,T),this.setRadius(E),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var s=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==s,this._convexTL=s,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var s=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==s,this._convexTR=s,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var s=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==s,this._convexBL=s,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var s=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==s,this._convexBR=s,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=ha(t,"tl",0),this.radiusTR=ha(t,"tr",0),this.radiusBL=ha(t,"bl",0),this.radiusBR=ha(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var s=this.width,f=this.height,T,E=this.iterations+1;if(T=this.radiusTL,T>0)if(this._convexTL){var n=T,C=T;ee(n,C,T,T,180,270,!1,E,t)}else{var n=0,C=0;ee(n,C,T,T,90,0,!0,E,t)}else yi(0,0,t);if(T=this.radiusTR,T>0)if(this._convexTR){var n=s-T,C=T;ee(n,C,T,T,270,360,!1,E,t)}else{var n=s,C=0;ee(n,C,T,T,180,90,!0,E,t)}else yi(s,0,t);if(T=this.radiusBR,T>0)if(this._convexBR){var n=s-T,C=f-T;ee(n,C,T,T,0,90,!1,E,t)}else{var n=s,C=f;ee(n,C,T,T,270,180,!0,E,t)}else yi(s,f,t);if(T=this.radiusBL,T>0)if(this._convexBL){var n=T,C=f-T;ee(n,C,T,T,90,180,!1,E,t)}else{var n=0,C=f;ee(n,C,T,T,360,270,!0,E,t)}else yi(0,f,t);return t.push(t[0],t[1]),u0(this.x,this.y,t),super.updateData(),this}}const rR=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;class nR extends gh{constructor(t,s,f,T,E,n){t===void 0&&(t=0),s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=0),E===void 0&&(E=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,s),this.setP1(f,T),this.setP2(E,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,s){return this.dirty=this.dirty||this.x2!==t||this.y2!==s,this.x2=t,this.y2=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,s,f,T,E){if(this.isFilled){var n=rR(this.fillColor,this.fillAlpha*f),C=this.x0-T,e=this.y0-E,u=this.x1-T,x=this.y1-E,d=this.x2-T,o=this.y2-E,a=s.getX(C,e),r=s.getY(C,e),l=s.getX(u,x),v=s.getY(u,x),h=s.getX(d,o),c=s.getY(d,o);t.batchTri(a,r,l,v,h,c,n,n,n)}this.isStroked&&hh(t,this,f,T,E)}canvasRender(t,s,f){var T=this.x1-s,E=this.y1-f,n=this.x2-s,C=this.y2-f,e=this.x3-s,u=this.y3-f;t.beginPath(),t.moveTo(T,E),t.lineTo(n,C),t.lineTo(e,u),t.closePath(),this.isFilled&&(xn(t,this),t.fill()),this.isStroked&&(yn(t,this),t.stroke())}}const aR={buildShapes(){this.addShape(new ja().setName("box")).addShape(new rs().setName("checker"))},updateShapes(){var i=this.width/2,t=this.height/2,s=Math.min(i,t),f=s*2,T=i-s,E=t-s,n=this.boxLineWidth,C=Math.max(f/10,2),e=this.getShape("box"),u=this.getShape("checker");if(this.isSizeChanged){var o=f*(1-this.boxSize)/2,x=n/2,d=f*this.boxSize-n;e.setTopLeftPosition(T+x+o,E+x+o).setSize(d,d),this.isCircleShape?e.setRadius(d/2):e.setRadius(0);var o=f*(1-this.checkerSize)/2,a=f*this.checkerSize/4,r=a*1,l=a*2,v=a*3;u.startAt(r,l).lineTo(l,v).lineTo(v,r).offset(T+o,E+o).end()}this.checked?(e.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),u.lineStyle(C,this.checkerColor)):(e.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),u.lineStyle()),this.checked&&u.setDisplayPathSegment(this.checkerAnimProgress)}},Hi=Phaser.Utils.Objects.GetValue,hR=Phaser.Math.Linear;class fs extends Gs{constructor(t,s){super(t,s),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var s=this.target;this.propertyKey=Hi(t,"key","value");var f=s[this.propertyKey];return this.fromValue=Hi(t,"from",f),this.toValue=Hi(t,"to",f),this.setEase(Hi(t,"ease",this.ease)),this.setDuration(Hi(t,"duration",this.duration)),this.setRepeat(Hi(t,"repeat",0)),this.setDelay(Hi(t,"delay",0)),this.setRepeatDelay(Hi(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),s[this.propertyKey]=this.fromValue,super.start(),this}updateGameObject(t,s){var f=s.t;f=this.easeFn(f),t[this.propertyKey]=hR(this.fromValue,this.toValue,f)}}const oR={setCheckerAnimationDuration(i){return i===void 0&&(i=0),this.checkerAnimDuration=i,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new fs(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var f0={};Object.assign(f0,Aw,Lw,aR,oR);const It=Phaser.Utils.Objects.GetValue,dv=Phaser.Utils.Objects.IsPlainObject,yo=23730,lR=16777215;class v0 extends Ns{constructor(t,s,f,T,E,n,C){dv(s)?(C=s,s=It(C,"x",0),f=It(C,"y",0),T=It(C,"width",2),E=It(C,"height",2),n=It(C,"color",yo)):dv(n)&&(C=n,n=It(C,"color",yo)),super(t,s,f,T,E),this.type="rexCheckbox",n===void 0&&(n=yo),this.setBoxShape(It(C,"circleBox",!1)),this.setBoxFillStyle(n,It(C,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(It(C,"uncheckedColor",null),It(C,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(It(C,"boxLineWidth",4),It(C,"boxStrokeColor",n),It(C,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,It(C,"uncheckedBoxStrokeColor",this.boxStrokeColor),It(C,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(It(C,"checkerColor",lR),It(C,"checkerAlpha",1)),this.setBoxSize(It(C,"boxSize",1)),this.setCheckerSize(It(C,"checkerSize",1)),this.setCheckerAnimationDuration(It(C,"animationDuration",150)),this.buildShapes();var e=It(C,"checked");e===void 0&&(e=It(C,"value",!1)),this.setValue(e)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(v0.prototype,f0);const kr=Phaser.Utils.Objects.GetValue;class Ni extends Yt{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(kr(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(kr(t,"enable",!0)),this.setMode(kr(t,"mode",1)),this.setClickInterval(kr(t,"clickInterval",100)),this.setDragThreshold(kr(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=uR[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,s,f,T){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,T),this.mode===0&&this.click(t.downTime,t,T))}onRelease(t,s,f,T){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,T),this.mode===1&&this.click(t.upTime,t,T),this.pointer=void 0)}onPointOut(t,s){this.pointer===t&&this.cancel()}onMove(t,s,f,T){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,s,f,T){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,T),this):this}onOut(t,s){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,s),this):this}click(t,s,f){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,s,f),this;this.pointer=void 0;var T=this.lastClickTime;return T!==void 0&&t-T<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,s,f),this)}cancel(){return this.pointer=void 0,this}}const uR={press:0,pointerdown:0,release:1,pointerup:1},fv=Phaser.Utils.Objects.GetValue;class Pu extends v0{constructor(t,s,f,T,E,n,C){super(t,s,f,T,E,n,C),this._click=new Ni(this,fv(C,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(fv(C,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("checkbox",function(i,t,s,f,T,E){var n=new Pu(this.scene,i,t,s,f,T,E);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.Checkbox",Pu);const dR={setTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==i||this.trackFillAlpha!==t,this.trackFillColor=i,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==i||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=i,this.falseValueTrackFillAlpha=t,this},setThumbStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==i||this.checkAlpha!==t,this.thumbColor=i,this.thumbAlpha=t,this}},fR={setTrackSize(i,t){return this.dirty=this.dirty||this.trackWidth!==i||this.trackHeight!==t,this.trackWidth=i,this.trackHeight=t,this},setTrackRadius(i){return this.dirty=this.dirty||this.trackRadius!==i,this.trackRadius=i,this},setThumbSize(i,t){return t===void 0&&(t=i),this.dirty=this.dirty||this.thumbWidth!==i||this.thumbHeight!==t,this.thumbWidth=i,this.thumbHeight=t,this},setThumbRadius(i){return this.dirty=this.dirty||this.thumbRadius!==i,this.thumbRadius=i,this}},vR={setThumbPosition(i,t){return t===void 0&&(t=1-i),this.thumbLeftX=i,this.thumbRightX=t,this},setRTL(i){return i===void 0&&(i=!0),this.rtl=i,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Co=function(i,t,s){return(t-i)*s+i},cR=function(i,t,s){var f=Co(un(i),un(t),s),T=Co(dn(i),dn(t),s),E=Co(fn(i),fn(t),s);return(f&255)<<16|(T&255)<<8|E&255};const vv=Phaser.Math.Linear,pR={buildShapes(){this.addShape(new ja().setName("track")).addShape(new ja().setName("thumb"))},updateShapes(){var i=this.width,t=this.height,s=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,f=this.getShape("track");if(this.isSizeChanged){var T=i*this.trackWidth,E=t*this.trackHeight,n=(i-T)/2,C=(t-E)/2,e=t*this.trackRadius;f.setTopLeftPosition(n,C).setSize(T,E).setRadius(e)}var u=cR(this.falseValueTrackColor,this.trackFillColor,s),x=vv(this.falseValueTrackFillAlpha,this.trackFillAlpha,s);f.fillStyle(u,x);var d=this.getShape("thumb");if(this.isSizeChanged){var o=i*this.thumbWidth,a=t*this.thumbHeight,r=t*this.thumbRadius;d.setSize(o,a).setRadius(r)}var l=vv(this.thumbLeftX,this.thumbRightX,s)*i;this.rtl&&(l=i-l);var v=t/2;d.setCenterPosition(l,v),d.fillStyle(this.thumbColor,this.thumbAlpha)}},gR={setToggleAnimationDuration(i){return i===void 0&&(i=0),this.toggleAnimDuration=i,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new fs(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var c0={};Object.assign(c0,dR,fR,vR,pR,gR);var mR=function(i){var t=.3*un(i)+.59*dn(i)+.11*fn(i);return(t&255)<<16|(t&255)<<8|t&255};const Gt=Phaser.Utils.Objects.GetValue,cv=Phaser.Utils.Objects.IsPlainObject,To=23730,xR=16777215;class p0 extends Ns{constructor(t,s,f,T,E,n,C){cv(s)?(C=s,s=Gt(C,"x",0),f=Gt(C,"y",0),T=Gt(C,"width",2),E=Gt(C,"height",2),n=Gt(C,"color",To)):cv(n)&&(C=n,n=Gt(C,"color",To)),super(t,s,f,T,E),this.type="rexToggleSwitch",n===void 0&&(n=To),this.setTrackFillStyle(n,Gt(C,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(Gt(C,"falseValueTrackColor",mR(n)),Gt(C,"falseValueTrackFillAlpha",1)),this.setThumbStyle(Gt(C,"thumbColor",xR),Gt(C,"thumbAlpha",1)),this.setTrackSize(Gt(C,"trackWidth",.9),Gt(C,"trackHeight",.5)),this.setTrackRadius(Gt(C,"trackRadius",this.trackHeight*.5));var e=Gt(C,"thumbHeight",void 0),u=Gt(C,"thumbWidth",e);u===void 0&&(u=this.trackHeight*.9),this.setThumbSize(u,e),this.setThumbRadius(Gt(C,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(Gt(C,"thumbLeft",.3),Gt(C,"thumbRight",void 0)),this.setRTL(Gt(C,"rtl",!1)),this.setToggleAnimationDuration(Gt(C,"animationDuration",150)),this.buildShapes(),this.setValue(Gt(C,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,s){s===void 0&&(s=this.toggleAnimDuration);var f=this.toggleAnimDuration;return this.toggleAnimDuration=s,this.value=t,this.toggleAnimDuration=f,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(p0.prototype,c0);const pv=Phaser.Utils.Objects.GetValue;class Mu extends p0{constructor(t,s,f,T,E,n,C){super(t,s,f,T,E,n,C),this._click=new Ni(this,pv(C,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(pv(C,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("toggleSwitch",function(i,t,s,f,T,E){var n=new Mu(this.scene,i,t,s,f,T,E);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.ToggleSwitch",Mu);const yR={loadFromURL(i,t){var s=this,f=new Image;return f.onload=function(){s.width!==f.width||s.height!==f.height?s.resize(f.width,f.height):s.clear(),s.context.drawImage(f,0,0),s.updateTexture(),t&&t(),f.onload=null,f.src="",f.remove()},f.src=i,this},loadFromURLPromise(i){var t=this;return new Promise(function(s,f){t.loadFromURL(i,s)})},loadFromFile(i,t){var s=URL.createObjectURL(i);return this.loadFromURL(s,function(){URL.revokeObjectURL(s),t&&t()}),this},loadFromFilePromise(i){var t=this;return new Promise(function(s,f){t.loadFromFile(i,s)})}};class Vs extends us{}Object.assign(Vs.prototype,yR);st.register("canvas",function(i,t,s,f){var T=new Vs(this.scene,i,t,s,f);return this.scene.add.existing(T),T});et(window,"RexPlugins.UI.Canvas",Vs);const Qs=Phaser.Utils.Objects.GetValue;class g0 extends us{constructor(t,s,f,T,E,n){super(t,s,f),this.type="rexCircleMaskImage",this.setTexture(T,E,n)}setTexture(t,s,f){typeof s=="object"&&(f=s,s=void 0),typeof f=="string"&&(f={maskType:f});var T=Qs(f,"maskType",0),E=Qs(f,"backgroundColor",void 0),n=Qs(f,"strokeColor",void 0),C=n!=null?10:0,e=Qs(f,"strokeWidth",C);if(T===void 0?T=0:typeof T=="string"&&(T=CR[T]),this._textureKey=t,this._frameName=s,T===null)return this.loadTexture(t,s),this.dirty=!0,this;var u=this.scene.sys.textures.getFrame(t,s);if(!u)return this;u.cutWidth!==this.width||u.cutHeight!==this.height?this.setCanvasSize(u.cutWidth,u.cutHeight):this.clear();var x=this.canvas,d=this.context,o=x.width,a=x.height;E!=null&&(d.fillStyle=E,d.fillRect(0,0,o,a)),d.save(),d.beginPath();var r=e/2;switch(T){case 1:var p=Math.floor(o/2),g=Math.floor(a/2),l=p-r,v=g-r;d.ellipse(p,g,l,v,0,0,2*Math.PI);break;case 2:var h=Qs(f,"radius",0),c=Qs(f,"iteration",void 0);ng(d,r,r,o-e,a-e,h,c);break;default:var p=Math.floor(o/2),g=Math.floor(a/2),m=Math.min(p,g)-r;d.arc(p,g,m,0,2*Math.PI);break}return n!=null&&(d.strokeStyle=n,d.lineWidth=e,d.stroke()),d.clip(),this.loadTexture(t,s),d.restore(),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}}const CR={circle:0,ellipse:1,roundRectangle:2};st.register("circleMaskImage",function(i,t,s,f,T){var E=new g0(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.CircleMaskImage",g0);const Yr=Phaser.Utils.Objects.GetValue;class m0 extends us{constructor(t,s,f,T,E,n){super(t,s,f),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(T,E,n)}setTexture(t,s,f){typeof s=="object"&&(f=s,s=void 0),typeof f=="string"&&(f={mask:{key:f}});var T=Yr(f,"mask.key"),E=Yr(f,"mask.frame"),n=Yr(f,"mask.invertAlpha",!1),C=Yr(f,"mask.scale"),e=Yr(f,"backgroundColor");if(T){this._maskKey=T,this._maskFrame=E,this._maskScale=C;var u=T?this.scene.sys.textures.get(T):null;this.maskFrame=u?u.get(E):null}this._textureKey=t,this._frameName=s;var x=this.maskFrame;if(x===null)return this.loadTexture(t,s),this.dirty=!0,this;var d=e!=null;this.loadTexture(t,s);var o=this.canvas,a=this.context,r=o.width,l=o.height;a.save(),a.globalCompositeOperation=n?"destination-out":"destination-in";var v,h;this._maskScale!=null?(v=x.cutWidth*this._maskScale,h=x.cutHeight*this._maskScale):(v=r,h=l);var c=(r-v)/2,p=(l-h)/2;return this.drawFrame(this._maskKey,this._maskFrame,c,p,v,h),a.restore(),d&&(a.save(),a.globalCompositeOperation="destination-over",a.fillStyle=e,a.fillRect(0,0,r,l),a.restore()),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}}st.register("alphaMaskImage",function(i,t,s,f,T){var E=new m0(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.AlphaMaskImage",m0);const TR=Phaser.Math.Linear,gv=Phaser.Math.Percent,SR={setValue(i,t,s){return i==null?this:(t!==void 0&&(i=gv(i,t,s)),this.value=i,this)},addValue(i,t,s){return t!==void 0&&(i=gv(i,t,s)),this.value+=i,this},getValue(i,t){var s=this.value;return i!==void 0&&(s=TR(i,t,s)),s}},ER=Phaser.Math.Percent;var PR=function(i){return this.easeValuePropName=i,this},MR=function(i){return this.easeValueDuration=i,this},wR=function(i){return this.easeFunction=i,this},RR=function(){return this.easeValueTask&&this.easeValueTask.stop(),this},AR=function(i,t,s){return i==null?this:(t!==void 0&&(i=ER(i,t,s)),this.easeValueTask===void 0&&(this.easeValueTask=new fs(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:i,duration:this.easeValueDuration,ease:this.easeFunction}),this)},LR=function(i,t,s,f){return s===void 0&&(s=-1),f===void 0&&(f=0),this.easeValueTask===void 0&&(this.easeValueTask=new fs(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:i,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:s,repeatDelay:f}),this};const OR={setEaseValuePropName:PR,setEaseValueDuration:MR,setEaseValueFunction:wR,stopEaseValue:RR,easeValueTo:AR,easeValueRepeat:LR},Hr=Phaser.Utils.Objects.GetValue,FR=Phaser.Math.Clamp;function zs(i){class t extends i{bootProgressBase(f){this.eventEmitter=Hr(f,"eventEmitter",this);var T=Hr(f,"valuechangeCallback",null);if(T!==null){var E=Hr(f,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",T,E)}return this.setEaseValuePropName("value").setEaseValueDuration(Hr(f,"easeValue.duration",0)).setEaseValueFunction(Hr(f,"easeValue.ease","Linear")),this}get value(){return this._value}set value(f){f=FR(f,0,1);var T=this._value,E=T!=f;this.dirty=this.dirty||E,this._value=f,E&&this.eventEmitter.emit("valuechange",this._value,T,this.eventEmitter)}}return Object.assign(t.prototype,SR,OR),t}const bR=Phaser.Math.RadToDeg,mv=Phaser.Math.DegToRad;var xv=function(i,t,s,f,T,E,n,C){var e=Math.abs(n-E)===360,u=mv(E),x=mv(n),d=Math.cos(u),o=Math.sin(u),a=Math.cos(x),r=Math.sin(x);return i.startAt(t+d*f,s+o*f),i.arc(t,s,f,E,n,C),e&&T===0||(i.lineTo(t+a*T,s+r*T),T>0&&i.arc(t,s,T,n,E,!C)),i.close(),i};const DR={buildShapes(){this.addShape(new rs().setName("track")).addShape(new rs().setName("bar")).addShape(new o0().setName("center"))},updateShapes(){var i=this.radius,t=this.thickness*this.radius,s=this.radius,f=s-t,T=this.getShape("track");this.trackColor!=null&&this.thickness>0?(T.fillStyle(this.trackColor),xv(T,i,i,s,f,0,360,!1)):T.reset();var E=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,C,e;if(this.value===1)n=!1,C=0,e=360;else{n=this.anticlockwise,C=bR(this.startAngle);var u=360*(n?1-this.value:this.value);e=u+C}E.fillStyle(this.barColor),xv(E,i,i,s,f,C,e,!1)}else E.reset();var x=this.getShape("center");this.centerColor&&f>0?x.setCenterPosition(i,i).setRadius(f).fillStyle(this.centerColor):x.reset()}},ai=Phaser.Utils.Objects.GetValue,BR=Phaser.Utils.Objects.IsPlainObject,IR=Phaser.Math.Clamp,GR=Phaser.Math.DegToRad(270);class mh extends zs(Ns){constructor(t,s,f,T,E,n,C){BR(s)&&(C=s,s=ai(C,"x",0),f=ai(C,"y",0),T=ai(C,"radius",1),E=ai(C,"barColor",void 0),n=ai(C,"value",0)),T===void 0&&(T=1);var e=T*2;super(t,s,f,e,e),this.type="rexCircularProgress",this.bootProgressBase(C),this.setRadius(T),this.setTrackColor(ai(C,"trackColor",void 0)),this.setBarColor(E),this.setCenterColor(ai(C,"centerColor",void 0)),this.setThickness(ai(C,"thickness",.2)),this.setStartAngle(ai(C,"startAngle",GR)),this.setAnticlockwise(ai(C,"anticlockwise",!1)),this.buildShapes(),this.setValue(n)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=IR(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}}Object.assign(mh.prototype,DR);st.register("circularProgress",function(i,t,s,f,T,E){var n=new mh(this.scene,i,t,s,f,T,E);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.CircularProgress",mh);var So=function(i,t,s,f,T,E,n,C,e,u,x,d){u===void 0&&(u=0),x===void 0&&(x=2*Math.PI),d===void 0&&(d=!1),t.beginPath(),t.ellipse(s,f,T,E,0,u,x,d),n!=null&&(t.fillStyle=n,t.fill()),C!=null&&(t.strokeStyle=C,t.lineWidth=e,t.stroke())},NR=function(i,t,s,f,T,E,n,C,e,u,x){e===void 0&&C!=null&&(e=2),u===void 0&&(u="start"),x===void 0&&(x="alphabetic"),t.font=E,t.textAlign=u,t.textBaseline=x,t.fillStyle=n,t.strokeStyle=C,t.lineWidth=e,t.lineCap="round",t.lineJoin="round",C!=null&&C!=="none"&&e>0&&t.strokeText(T,s,f),n!=null&&n!=="none"&&t.fillText(T,s,f)};const Eo=Phaser.Math.PI2;var VR=function(){var i=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,f=this.radius-t,T=this.canvas,E=this.context,n=this.anticlockwise,C=this.startAngle,e=this.endAngle,u=this._deltaAngle;if(this.trackColor&&t>0&&(E.save(),So(T,E,i,i,s,s,void 0,this.trackColor,t,C,e,n),E.restore()),this.barColor&&s>0){var x;n?x=(C-u*this.value+Eo)%Eo:x=(C+u*this.value)%Eo,E.save();var d;if(this.barColor2){var o=i+s*Math.cos(C),a=i+s*Math.sin(C),r=i+s*Math.cos(x),l=i+s*Math.sin(x),v=E.createLinearGradient(o,a,r,l);v.addColorStop(0,this.barColor2),v.addColorStop(1,this.barColor),d=v}else d=this.barColor;So(T,E,i,i,s,s,void 0,d,t,C,x,n),E.restore()}if(this.centerColor&&f>0){var h;this.centerColor2?(h=this.context.createRadialGradient(i,i,0,i,i,f),h.addColorStop(0,this.centerColor),h.addColorStop(1,this.centerColor2)):h=this.centerColor,E.save(),So(T,E,i,i,f,f,h),E.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(E.save(),NR(T,E,i,i,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),E.restore())};const Ut=Phaser.Utils.Objects.GetValue,zR=Phaser.Utils.Objects.IsPlainObject,yv=Phaser.Math.Angle.Normalize,XR=Phaser.Math.Clamp,WR=Phaser.Math.DegToRad(270),Zl=Phaser.Math.PI2;class wu extends zs(us){constructor(t,s,f,T,E,n,C){zR(s)&&(C=s,s=Ut(C,"x",0),f=Ut(C,"y",0),T=Ut(C,"radius",1),E=Ut(C,"barColor",void 0),n=Ut(C,"value",0));var e=T*2;super(t,s,f,e,e),this.type="rexCircularProgressCanvas",this.bootProgressBase(C),this.setRadius(T),this.setTrackColor(Ut(C,"trackColor",void 0)),this.setBarColor(E),this.setBarColor2(Ut(C,"barColor2",void 0)),this.setCenterColor(Ut(C,"centerColor",void 0)),this.setThickness(Ut(C,"thickness",.2)),this.setStartAngle(Ut(C,"startAngle",WR)),this.setEndAngle(Ut(C,"endAngle",this.startAngle+Zl)),this.setAnticlockwise(Ut(C,"anticlockwise",!1)),this.setTextColor(Ut(C,"textColor",void 0)),this.setTextStrokeColor(Ut(C,"textStrokeColor",void 0),Ut(C,"textStrokeThickness",void 0));var u=Ut(C,"textFont",void 0);u?this.setTextFont(u):this.setTextFont(Ut(C,"textSize","16px"),Ut(C,"textFamily","Courier"),Ut(C,"textStyle","")),this.setTextFormatCallback(Ut(C,"textFormatCallback",void 0),Ut(C,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){t=yv(t),this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=Po(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){t=yv(t),this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=Po(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=Po(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=XR(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,s){return this.centerColor=t,this.centerColor2=s,this}get textColor(){return this._textColor}set textColor(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,s){return s===void 0&&(s=2),this.textStrokeColor=t,this.textStrokeThickness=s,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,s,f){var T;return s===void 0?T=t:T=f+" "+t+" "+s,this.textFont=T,this}setTextFormatCallback(t,s){return this.textFormatCallback=t,this.textFormatCallbackScope=s,this}updateTexture(){return this.clear(),VR.call(this),super.updateTexture(),this}getFormatText(t){t===void 0&&(t=this.value);var s;return this.textFormatCallbackScope?s=this.textFormatCallback(t):s=this.textFormatCallback.call(this.textFormatCallbackScope,t),s}}var Po=function(i,t,s){return s?i<=t?Zl+i-t:i-t:i>=t?Zl+t-i:t-i};st.register("circularProgressCanvas",function(i,t,s,f,T,E){var n=new wu(this.scene,i,t,s,f,T,E);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.CircularProgressCanvas",wu);var UR=function(){var i=this.skewX,t=this.width-Math.abs(i),s=this.height,f=this.getShape("trackFill");f.fillStyle(this.trackColor),f.isFilled&&Mo(f,0,0,t,s,i).close();var T=this.getShape("bar");if(T.fillStyle(this.barColor),T.isFilled){var E,n;this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),Mo(T,E,0,n,s,i).close()}var C=this.getShape("trackStroke");C.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),C.isStroked&&Mo(C,0,0,t,s,i).end()},Mo=function(i,t,s,f,T,E){var n=(t+f)/2;return E>=0?i.startAt(n+E,s).lineTo(f+E,s).lineTo(f,T).lineTo(t,T).lineTo(t+E,s).lineTo(n+E,s):i.startAt(n,s).lineTo(f,s).lineTo(f-E,T).lineTo(t-E,T).lineTo(t,s).lineTo(n,s),i};const ne=Phaser.Utils.Objects.GetValue,wo=Phaser.Utils.Objects.IsPlainObject;class Ru extends zs(Ns){constructor(t,s,f,T,E,n,C,e){wo(s)?(e=s,s=ne(e,"x",0),f=ne(e,"y",0),T=ne(e,"width",2),E=ne(e,"height",2),n=ne(e,"barColor",void 0),C=ne(e,"value",0)):wo(T)?(e=T,T=ne(e,"width",2),E=ne(e,"height",2),n=ne(e,"barColor",void 0),C=ne(e,"value",0)):wo(n)&&(e=n,n=ne(e,"barColor",void 0),C=ne(e,"value",0)),super(t,s,f,T,E,e),this.type="rexLineProgress",this.bootProgressBase(e),this.addShape(new rs().setName("trackFill")).addShape(new rs().setName("bar")).addShape(new rs().setName("trackStroke")),this.setTrackColor(ne(e,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(ne(e,"trackStrokeThickness",2),ne(e,"trackStrokeColor",void 0)),this.setSkewX(ne(e,"skewX",0)),this.setRTL(ne(e,"rtl",!1)),this.setValue(C)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}}var kR={updateShapes:UR};Object.assign(Ru.prototype,kR);st.register("lineProgress",function(i,t,s,f,T,E,n){var C=new Ru(this.scene,i,t,s,f,T,E,n);return this.scene.add.existing(C),C});et(window,"RexPlugins.UI.LineProgress",Ru);var YR=function(i,t){i.save(),i.beginPath();var s=t[0];i.moveTo(s.x,s.y);for(var f=1,T=t.length;f<T;f++)s=t[f],i.lineTo(s.x,s.y);i.closePath(),i.restore()},Ro=function(i,t,s,f,T,E,n){n===void 0&&(n="round"),YR(t,s),t.lineJoin=n,f!=null&&(t.fillStyle=f,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=E,t.stroke())},HR=function(){var i=this.skewX,t=this.width-Math.abs(i),s=this.height,f=this.canvas,T=this.context;(this.trackColor||this.trackStrokeColor)&&Cv(0,0,t,s,i,this.trackPoints);var E,n;if(this.barColor&&(this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),Cv(E,0,n,s,i,this.barPoints)),this.trackColor&&(T.save(),Ro(f,T,this.trackPoints,this.trackColor),T.restore()),this.barColor){T.save();var C;if(this.barColor2){var e;if(this.isHorizontalGradient){var u=s/2;e=T.createLinearGradient(E,u,n,u)}else{var x=t/2;e=T.createLinearGradient(x,0,x,s)}e.addColorStop(0,this.rtl?this.barColor:this.barColor2),e.addColorStop(1,this.rtl?this.barColor2:this.barColor),C=e}else C=this.barColor;Ro(f,T,this.barPoints,C),T.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(T.save(),Ro(f,T,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),T.restore())},Cv=function(i,t,s,f,T,E){E===void 0&&(E=[]),E.length=4;for(var n=0;n<4;n++)E[n]||(E[n]={});var C;return T>=0?(C=E[0],C.x=i+T,C.y=t,C=E[1],C.x=s+T,C.y=t,C=E[2],C.x=s,C.y=f,C=E[3],C.x=i,C.y=f):(C=E[0],C.x=i,C.y=t,C=E[1],C.x=s,C.y=t,C=E[2],C.x=s-T,C.y=f,C=E[3],C.x=i-T,C.y=f),E};const Qt=Phaser.Utils.Objects.GetValue,Ao=Phaser.Utils.Objects.IsPlainObject;class Au extends zs(us){constructor(t,s,f,T,E,n,C,e){Ao(s)?(e=s,s=Qt(e,"x",0),f=Qt(e,"y",0),T=Qt(e,"width",2),E=Qt(e,"height",2),n=Qt(e,"barColor",void 0),C=Qt(e,"value",0)):Ao(T)?(e=T,T=Qt(e,"width",2),E=Qt(e,"height",2),n=Qt(e,"barColor",void 0),C=Qt(e,"value",0)):Ao(n)&&(e=n,n=Qt(e,"barColor",void 0),C=Qt(e,"value",0)),super(t,s,f,T,E),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(e),this.setTrackColor(Qt(e,"trackColor",void 0)),this.setBarColor(n,Qt(e,"barColor2",void 0),Qt(e,"isHorizontalGradient",void 0)),this.setTrackStroke(Qt(e,"trackStrokeThickness",2),Qt(e,"trackStrokeColor",void 0)),this.setSkewX(Qt(e,"skewX",0)),this.setRTL(Qt(e,"rtl",!1)),this.setValue(C)}get trackColor(){return this._trackColor}set trackColor(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=ft(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,s,f){return f===void 0&&(f=!0),this.barColor=t,this.barColor2=s,this.isHorizontalGradient=f,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return this.clear(),HR.call(this),super.updateTexture(),this}}st.register("circularProgressCanvas",function(i,t,s,f,T,E,n){var C=new Au(this.scene,i,t,s,f,T,E,n);return this.scene.add.existing(C),C});et(window,"RexPlugins.UI.LineProgressCanvas",Au);Phaser.Math.Wrap;const js=Phaser.Math.Linear;var $R=function(){var i=this.getShape("triangle"),t=this.padding,s=this.width-t.right,f=0+t.left,T=this.height-t.bottom,E=0+t.top,n=(f+s)/2,C=(E+T)/2,e={0:{a:{x:f,y:E},b:{x:s,y:C},c:{x:f,y:T}},1:{a:{x:f,y:E},b:{x:n,y:T},c:{x:s,y:E}},2:{a:{x:s,y:E},b:{x:f,y:C},c:{x:s,y:T}},3:{a:{x:f,y:T},b:{x:n,y:E},c:{x:s,y:T}}},u,x,d,o,a,r;if(this.previousDirection===void 0){var l=e[this.direction],v=l.a,h=l.b,c=l.c;u=v.x,x=v.y,d=h.x,o=h.y,a=c.x,r=c.y}else{var p=e[this.previousDirection],g=e[this.direction],m=this.easeDirectionProgress;u=js(p.a.x,g.a.x,m),x=js(p.a.y,g.a.y,m),d=js(p.b.x,g.b.x,m),o=js(p.b.y,g.b.y,m),a=js(p.c.x,g.c.x,m),r=js(p.c.y,g.c.y,m)}i.startAt(u,x).lineTo(d,o).lineTo(a,r),this.arrowOnly?i.end():i.close()};const KR=Phaser.Math.DegToRad,oa=KR(120);var ZR=function(t){var t=this.getShape("triangle"),s=this.width/2,f=this.height/2,T=Math.min(s,f)*this.radius,E=this.verticeRotation;t.startAt(s+T*Math.cos(E+oa),f+T*Math.sin(E+oa)).lineTo(s+T*Math.cos(E),f+T*Math.sin(E)).lineTo(s+T*Math.cos(E-oa),f+T*Math.sin(E-oa)),this.arrowOnly?t.end():t.close()};const JR={buildShapes(){this.addShape(new rs().setName("triangle"))},updateShapes(){var i=this.getShape("triangle");this.arrowOnly?i.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):i.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?$R.call(this):ZR.call(this)}},QR={setEaseDuration(i){return i===void 0&&(i=0),this.easeDuration=i,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new fs(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},qs=Phaser.Utils.Objects.GetValue,jR=Phaser.Utils.Objects.IsPlainObject,qR=Phaser.Math.DegToRad,_R=Phaser.Math.RadToDeg;class En extends Ns{constructor(t,s,f,T,E,n,C){var e,u,x,d,o,a,r,l;if(jR(s)){var v=s;s=v.x,f=v.y,T=v.width,E=v.height,n=v.color,C=v.alpha,e=v.strokeColor,u=v.strokeAlpha,x=v.strokeWidth,d=v.arrowOnly,o=v.direction,a=v.easeDuration,r=v.padding,l=v.radius}s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=1),E===void 0&&(E=T),d===void 0&&(d=!1),o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=0),l===void 0&&(l=void 0),super(t,s,f,T,E),this.type="rexTriangle",this.setFillStyle(n,C),e!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,e,u),this.setArrowOnly(d),this.setDirection(o,a),this.setPadding(r),this.setRadius(l),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=eA(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,s){return s!==void 0&&this.setEaseDuration(s),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,s,f,T){if(typeof t=="object"){var E=t,n=qs(E,"x",null);n!==null?(t=n,f=n):(t=qs(E,"left",0),f=qs(E,"right",t));var C=qs(E,"y",null);C!==null?(s=C,T=C):(s=qs(E,"top",0),T=qs(E,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),f===void 0&&(f=t),T===void 0&&(T=s);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=s||this.padding.right!=f||this.padding.bottom!=T,this.padding.left=t,this.padding.top=s,this.padding.right=f,this.padding.bottom=T,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return _R(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=qR(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const tA={right:0,down:1,left:2,up:3};var eA=function(i){return typeof i=="string"&&(i=tA[i]),i=i%4,i};Object.assign(En.prototype,JR,QR);st.register("triangle",function(i,t,s,f,T,E){var n=new En(this.scene,i,t,s,f,T,E);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.Triangle",En);nh();const iA=Phaser.GameObjects.Zone,sA=Phaser.Utils.Array.Add,rA=Phaser.Utils.Array.Remove;class Pn extends iA{constructor(t,s,f,T,E){s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=1),E===void 0&&(E=1),super(t,s,f,T,E),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s,f=this.children.length-1;f>=0;f--)s=this.children[f],!s.parentContainer&&!s.displayList&&s.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var s=this;return sA(this.children,t,0,function(f){f.once("destroy",s.onChildDestroy,s)},this),this}remove(t,s){var f=this;return rA(this.children,t,function(T){T.off("destroy",f.onChildDestroy,f),s&&T.destroy()}),this}onChildDestroy(t,s){this.remove(t,!1)}clear(t){for(var s=this,f,T=0,E=this.children.length;T<E;T++)f=this.children[T],f.off("destroy",s.onChildDestroy,s),t&&f.destroy();return this.children.length=0,this}}const Tv=Phaser.GameObjects.Components;Phaser.Class.mixin(Pn,[Tv.Alpha,Tv.Flip]);var be=function(i,t){var s;if(t===void 0)i.hasOwnProperty("rexContainer")&&(s=i.rexContainer.parent);else for(s=be(i);s&&s.name!==t;)s=be(s);return s},x0=function(i){for(var t=be(i);t;)i=t,t=be(t);return i};const nA=Phaser.Math.DegToRad,aA=Phaser.Math.RadToDeg;var Et=function(i){if(!i.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return aA(this.rotation)},set:function(s){this.rotation=nA(s)}}),Object.defineProperty(t,"displayWidth",{get:function(){return i.width*this.scaleX},set:function(s){this.scaleX=s/i.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return i.height*this.scaleY},set:function(s){this.scaleY=s/i.height}}),i.rexContainer=t}return i.rexContainer};const hA={setParent(i,t){t===void 0&&(t=this);var s=Et(i);return t?(s.parent=t,s.self=i):(s.parent=null,s.self=null),this},getParent(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),be(i,t)},getTopmostParent(i){return i===void 0&&(i=this),x0(i)}},$r=Phaser.Utils.Objects.GetValue,y0=Pn.prototype.add;var Lo=function(i,t){this.setParent(i);var s=Et(i);return C0(s,t),this.resetChildState(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),y0.call(this,i),this.addToParentContainer(i),this.addToRenderLayer(i),this},Oo=function(i,t){this.setParent(i);var s=Et(i);return C0(s,t),s.x=i.x,s.y=i.y,s.rotation=i.rotation,s.scaleX=i.scaleX,s.scaleY=i.scaleY,s.alpha=i.alpha,s.visible=i.visible,s.active=i.active,this.updateChildPosition(i).updateChildAlpha(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),y0.call(this,i),this.addToRenderLayer(i),this},C0=function(i,t){t===void 0&&(t=!0),typeof t=="boolean"?(i.syncPosition=t,i.syncRotation=t,i.syncScale=t,i.syncAlpha=t,i.syncScrollFactor=t):(i.syncPosition=$r(t,"syncPosition",!0),i.syncRotation=$r(t,"syncRotation",!0),i.syncScale=$r(t,"syncScale",!0),i.syncAlpha=$r(t,"syncAlpha",!0),i.syncScrollFactor=$r(t,"syncScrollFactor",!0))};const oA={add(i){return Array.isArray(i)?this.addMultiple(i):Lo.call(this,i),this},pin(i,t){return Array.isArray(i)?this.addMultiple(i,t):Lo.call(this,i,t),this},addMultiple(i){for(var t=0,s=i.length;t<s;t++)Lo.call(this,i[t]);return this},addLocal(i){return Array.isArray(i)?this.addMultiple(i):Oo.call(this,i),this},pinLocal(i,t){return Array.isArray(i)?this.addMultiple(i,t):Oo.call(this,i,t),this},addLocalMultiple(i){for(var t=0,s=i.length;t<s;t++)Oo.call(this,i[t]);return this}},Sv=Pn.prototype.remove,lA=Pn.prototype.clear,uA={remove(i,t){return be(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),Sv.call(this,i,t),this)},unpin(i,t){return be(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),Sv.call(this,i,t),this)},clear(i){for(var t=this.children,s=0,f=t.length;s<f;s++){var T=t[s];this.setParent(T,null),i||this.removeFromRenderLayer(T)}return lA.call(this,i),this}},dA={getLocalState(i){return Et(i)},resetChildState(i){return this.resetChildPositionState(i).resetChildVisibleState(i).resetChildAlphaState(i).resetChildActiveState(i),this},resetChildrenState(i){for(var t=0,s=i.length;t<s;t++)this.resetChildState(i[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},Ev=Phaser.Math.RotateAround,fA={worldToLocal(i){return i.x-=this.x,i.y-=this.y,Ev(i,0,0,-this.rotation),i.x/=this.scaleX,i.y/=this.scaleY,i},localToWorld(i){return i.x*=this.scaleX,i.y*=this.scaleY,Ev(i,0,0,this.rotation),i.x+=this.x,i.y+=this.y,i}};var cn=function(i,t){return i===t?1:i/t};const vA={updateChildPosition(i){i.isRexContainerLite&&(i.syncChildrenEnable=!1);var t=Et(i),s=t.parent;return t.syncPosition&&(i.x=t.x,i.y=t.y,s.localToWorld(i)),t.syncRotation&&(i.rotation=t.rotation+s.rotation),t.syncScale&&(i.scaleX=t.scaleX*s.scaleX,i.scaleY=t.scaleY*s.scaleY),i.isRexContainerLite&&(i.syncChildrenEnable=!0,i.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(i){var t=Et(i),s=t.parent;return t.x=i.x,t.y=i.y,s.worldToLocal(t),t.scaleX=cn(i.scaleX,s.scaleX),t.scaleY=cn(i.scaleY,s.scaleY),t.rotation=i.rotation-s.rotation,this},setChildPosition(i,t,s){return i.x=t,i.y=s,this.resetChildPositionState(i),this},setChildLocalPosition(i,t,s){var f=Et(i);return f.x=t,f.y=s,this.updateChildPosition(i),this},resetLocalPositionState(){var i=Et(this).parent;return i&&i.resetChildPositionState(this),this}},cA=Phaser.Math.DegToRad,pA={updateChildRotation(i){var t=Et(i),s=t.parent;return t.syncRotation&&(i.rotation=s.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(i){var t=Et(i),s=t.parent;return t.rotation=i.rotation-s.rotation,this},setChildRotation(i,t){return i.rotation=t,this.resetChildRotationState(i),this},setChildAngle(i,t){return i.angle=t,this.resetChildRotationState(i),this},setChildLocalRotation(i,t){var s=Et(i);return s.rotation=t,this.updateChildRotation(i),this},setChildLocalAngle(i,t){var s=Et(i);return s.rotation=cA(t),this.updateChildRotation(i),this},resetLocalRotationState(){var i=Et(this).parent;return i&&i.resetChildRotationState(this),this}},gA={updateChildScale(i){var t=Et(i),s=t.parent;return t.syncScale&&(i.scaleX=s.scaleX*t.scaleX,i.scaleY=s.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(i){var t=Et(i),s=t.parent;return t.scaleX=cn(i.scaleX,s.scaleX),t.scaleY=cn(i.scaleY,s.scaleY),this},setChildScale(i,t,s){return s===void 0&&(s=t),i.scaleX=t,i.scaleY=s,this.resetChildScaleState(i),this},setChildLocalScale(i,t,s){s===void 0&&(s=t);var f=Et(i);return f.scaleX=t,f.scaleY=s,this.updateChildScale(i),this},setChildDisplaySize(i,t,s){return i.setDisplaySize(t,s),this.resetChildScaleState(i),this},resetLocalScaleState(){var i=Et(this).parent;return i&&i.resetChildScaleState(this),this}},mA={updateChildVisible(i){var t=Et(i),s=t.parent,f=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,T=s?s.visible:!0;return i.visible=T&&t.visible&&f,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(i){var t=Et(i);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=i.visible,this},setChildVisible(i,t){return this.setChildLocalVisible(i,t),this},setChildLocalVisible(i,t){t===void 0&&(t=!0);var s=Et(i);return s.visible=t,this.updateChildVisible(i),this},setChildMaskVisible(i,t){t===void 0&&(t=!0);var s=Et(i);return s.maskVisible=t,this.updateChildVisible(i),this},resetLocalVisibleState(){var i=Et(this).parent;return i&&i.resetChildVisibleState(this),this}},xA={updateChildAlpha(i){var t=Et(i),s=t.parent;return t.syncAlpha&&(i.alpha=s.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(i){var t=Et(i),s=t.parent;return t.alpha=cn(i.alpha,s.alpha),this},setChildAlpha(i,t){return i.alpha=t,this.resetChildAlphaState(i),this},setChildLocalAlpha(i,t){var s=Et(i);return s.alpha=t,this.updateChildAlpha(i),this},resetLocalAlphaState(){var i=Et(this).parent;return i&&i.resetChildAlphaState(this),this}},yA={updateChildActive(i){var t=Et(i),s=t.parent;return i.active=s.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(i){var t=Et(i);return t.active=i.active,this},setChildActive(i,t){return i.active=t,this.resetChildActiveState(i),this},setChildLocalActive(i,t){t===void 0&&(t=!0);var s=Et(i);return s.active=t,this.updateChildActive(i),this},resetLocalActiveState(){var i=Et(this).parent;return i&&i.resetChildActiveState(this),this}},CA={updateChildScrollFactor(i){var t=Et(i),s=t.parent;return t.syncScrollFactor&&(i.scrollFactorX=s.scrollFactorX,i.scrollFactorY=s.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},TA={updateChildMask(i){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==i&&(i.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(i){return this.mask=i,this},clearMask(i){i===void 0&&(i=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(s){s.clearMask&&s.clearMask(!1),s.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(s)}),i&&this.mask&&this.mask.destroy(),this}};var la=function(i){return i.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const SA={setDepth(i,t){if(this.depth=i,!t&&this.children)for(var s=this.getAllChildren(),f=0,T=s.length;f<T;f++)s[f].depth=i;return this},swapDepth(i){var t=this.depth,s=i.depth;return this.setDepth(s),i.setDepth(t),this},incDepth(i){if(this.depth+=i,this.children)for(var t=this.getAllChildren(),s=0,f=t.length;s<f;s++)t[s].depth+=i;return this},bringToTop(){var i=this.displayList,t=this.getAllChildren([this]);ei(t,!1);for(var s=0,f=t.length;s<f;s++){var T=t[s];i.exists(T)&&i.bringToTop(T)}return this},moveDepthBelow(i){var t=this.displayList;if(i.displayList!==t)return this;var s=this.getAllChildren([this]);ei(s,!1);for(var f=0,T=s.length;f<T;f++){var E=s[f];if(t.exists(E)){t.moveBelow(i,E);break}}return this},moveDepthAbove(i){var t=this.displayList;if(i.displayList!==t)return this;var s=this.getAllChildren([this]);ei(s,!0);for(var f=0,T=s.length;f<T;f++){var E=s[f];if(t.exists(E)){t.moveAbove(i,E);break}}return this},bringChildToTop(i){var t;i.isRexContainerLite?(t=i.getAllChildren([i]),t=la(t),t=ei(t,!1)):t=[i];var s=this.getAllChildren([this]);s=la(s),s=ei(s,!1);for(var f=s[s.length-1],T=0,E=t.length;T<E;T++){var n=t[T];f===n||f.displayList!==n.displayList||(f.displayList.moveAbove(n,f),f=n)}return this},sendChildToBack(i){var t;i.isRexContainerLite?(t=i.getAllChildren([i]),t=la(t),t=ei(t,!1)):t=[i];var s=this.getAllChildren([this]);s=la(s),s=ei(s,!1);for(var f=s[0],T=t.length-1;T>=0;T--){var E=t[T];f===E||f.displayList!==E.displayList||(f.displayList.moveBelow(E,f),f=E)}return this}};var T0=function(i,t){var s=t(i);if(!s&&i.isRexContainerLite)for(var f=i.children,T=0,E=f.length;T<E;T++)T0(f[T],t)},Fo=function(i,t){for(var s=[i];s.length>0;){var f=s.shift(),T=t(f);!T&&f.isRexContainerLite&&s.push(...f.children)}};const Ts=Phaser.Utils.Array,EA={getChildren(i){if(!i)i=this.children;else for(var t=0,s=this.children.length;t<s;t++)i.push(this.children[t]);return i},getAllChildren(i){i===void 0&&(i=[]);var t=this;return Fo(t,function(s){s!==t&&i.push(s)}),i},getAllVisibleChildren(i){i===void 0&&(i=[]);var t=this;return Fo(t,function(s){if(s!==t){if(!s.visible)return!0;i.push(s)}}),i},bfs(i,t){return t===void 0&&(t=this),Fo(t,i),this},dfs(i,t){return t===void 0&&(t=this),T0(t,i),this},contains(i){var t=be(i);return t?t===this?!0:this.contains(t):!1},getByName(i,t){if(t){for(var s=[this],f,T;s.length;){f=s.shift();for(var E=0,n=f.children.length;E<n;E++){if(T=f.children[E],T.name===i)return T;T.isRexContainerLite&&s.push(T)}}return null}else return Ts.GetFirst(this.children,"name",i)},getRandom(i,t){return Ts.GetRandom(this.children,i,t)},getFirst(i,t,s,f){return Ts.GetFirstElement(this.children,i,t,s,f)},getAll(i,t,s,f){return Ts.GetAll(this.children,i,t,s,f)},count(i,t,s,f){return Ts.CountAllMatching(this.children,i,t,s,f)},swap(i,t){return Ts.Swap(this.children,i,t),this},setAll(i,t,s,f){return Ts.SetAll(this.children,i,t,s,f),this}};var Pv=function(i){for(var t=[],s=0,f=i.length;s<f;s++){var T=i[s];!T.hasOwnProperty("rexContainer")||t.push(T.rexContainer)}return t},PA=function(i){for(var t=0,s=i.length;t<s;t++){var f=i[t].scene;if(f)return f}return null},Mv=function(i,t,s){if(!s.parent){i.remove();return}var f=s.parent,T=s.self;switch(t){case"x":case"y":f.updateChildPosition(T);break;case"angle":case"rotation":f.updateChildRotation(T);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":f.updateChildScale(T);break;case"alpha":f.updateChildAlpha(T);break;default:f.updateChildPosition(T),f.updateChildRotation(T),f.updateChildScale(T),f.updateChildAlpha(T);break}};const MA={tweenChild(i){var t=i.targets;Array.isArray(t)||(t=[t]);var s=this.scene||PA(t);if(!!s){i.targets=Pv(t);var f=s.tweens.add(i);return f.on("update",Mv),f}},tweenSelf(i){return i.targets=[this],this.tweenChild(i)},createTweenChildConfig(i){var t=i.targets;t&&(Array.isArray(t)||(t=[t]),i.targets=Pv(t));var s=i.onUpdate;return i.onUpdate=function(f,T){s&&s(f,T),Mv(f,void 0,T)},i},tween(i){var t=this.scene;return i.targets||(i.targets=this),t.tweens.add(i)}},wA=Phaser.GameObjects.Container;var RA=function(i){return i instanceof wA};const AA=Phaser.GameObjects.Layer;var Jl=function(i){return i instanceof AA},S0=function(i){var t=i.getAllChildren([i]);return t=t.filter(function(s){return!!s.displayList||!!s.parentContainer}),t},wv=function(i){var t=S0(this);ei(t),i.add(t)},Rv=function(i,t,s){if(!!this.scene){var f=S0(this);ei(f,t),i.remove(f),s&&f.forEach(function(T){T.addToDisplayList()})}};const LA={addToContainer(i){return RA(i)?(this._setParentContainerFlag=!0,wv.call(this,i),this._setParentContainerFlag=!1,this):this},addToLayer(i){return Jl(i)?(wv.call(this,i),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,Rv.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(i){return i===void 0&&(i=!0),Jl(this.displayList)?(Rv.call(this,this.displayList,!1,i),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var i=this.getParent();i;){var t=i.parentContainer;if(t)return t;i=i.getParent()}return null},addToParentContainer(i){if(!i.displayList)return this;var t=this.getParentContainer();return t?(i.isRexContainerLite?i.addToContainer(t):t.add(i),this):this}},OA={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var i=this.scene.add.layer();return this.moveDepthBelow(i),this.addToLayer(i),this.privateRenderLayer=i,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var i=this.getParent();i;){var t=i.privateRenderLayer;if(t)return t;i=i.getParent()}return null},addToRenderLayer(i){if(!i.displayList)return this;var t=this.getRenderLayer();if(!t)return this;i.isRexContainerLite?i.addToLayer(t):t.add(i);var s=Et(i);return s.layer=t,this},removeFromRenderLayer(i){var t=Et(i),s=t.layer;return s?(i.isRexContainerLite?i.removeFromLayer(!0):s.remove(i),t.layer=null,this):this}},Av=Phaser.Geom.Rectangle,FA=Phaser.Geom.Rectangle.Union;var bA=function(i,t){t===void 0?t=new Av:t===!0&&(bo===void 0&&(bo=new Av),t=bo),t.setTo(0,0,0,0);for(var s,f=!0,T=0,E=i.length;T<E;T++)if(s=i[T],!!s.getBounds){var n=pu(s,!0);f?(t.setTo(n.x,n.y,n.width,n.height),f=!1):FA(n,t,t)}return t},bo;const DA=Phaser.GameObjects.GameObject;var De=function(i){return i instanceof DA},Ss=Phaser.Utils.Objects.GetValue,BA=Phaser.Textures.DynamicTexture,IA=Phaser.Utils.String.UUID,Lu=function(i){if(!!i){var t=i.gameObjects,s=i.renderTexture,f=Ss(i,"x",void 0),T=Ss(i,"y",void 0),E=Ss(i,"width",void 0),n=Ss(i,"height",void 0),C=Ss(i,"originX",0),e=Ss(i,"originY",0),u=Ss(i,"padding",0),x,d;if(E===void 0||n===void 0||f===void 0||T===void 0){var o=bA(t,!0),a=f!==void 0&&T!==void 0;a?(E=Math.max(f-o.left,o.right-f)*2,n=Math.max(T-o.top,o.bottom-T)*2,C=.5,e=.5):(f=o.x,T=o.y,E=o.width,n=o.height,C=0,e=0),x=o.x,d=o.y}else x=f+(0-C)*E,d=T+(0-e)*n;x-=u,d-=u,E+=u*2,n+=u*2;var r=t[0].scene;l&&!s&&(s=new BA(r.sys.textures,IA(),E,n)),s||(s=r.add.renderTexture(0,0,E,n)),s.setPosition&&s.setPosition(f,T),(s.width!==E||s.height!==n)&&s.setSize(E,n),s.setOrigin&&s.setOrigin(C,e),s.camera.setScroll(x,d),t=ei(Bi(t)),s.draw(t);var l=i.saveTexture;if(l)if(De(s))s.saveTexture(l);else{var v=s,h=v.manager;h.exists(v.key)?h.renameTexture(v.key,key):(v.key=key,h.list[key]=v,h.emit("addtexture",key,v),h.emit(`addtexture-${key}`,v))}return s}};const GA={snapshot(i){var t=this.scaleX,s=this.scaleY,f=t===1&&s===1;f||this.setScale(1),i===void 0&&(i={}),i.gameObjects=this.getAllVisibleChildren(),i.x=this.x,i.y=this.y,i.originX=this.originX,i.originY=this.originY;var T=Lu(i),E=!!T.scene;return f||(this.setScale(t,s),E&&T.setScale(t,s)),E?T:this}},Lv=Phaser.Utils.Objects.GetValue;var NA=function(i,t){var s=Lv(t,"drawContainer",!0),f=Lv(t,"children");return f===void 0&&(f=this.getAllVisibleChildren([this])),s||(f=f.filter(function(T){return!T.isRexContainerLite})),Ig(f,i,t),this};const VA=Phaser.Math.RotateAround;var zA=function(i,t,s){s===void 0&&(s=t);var f={x:(t-i.originX)*i.displayWidth,y:(s-i.originY)*i.displayHeight};return VA(f,0,0,i.rotation),i.originX=t,i.originY=s,i.x=i.x+f.x,i.y=i.y+f.y,i},XA=function(i,t){this.syncChildrenEnable=!1,zA(this,i,t),this.syncChildrenEnable=!0;for(var s=this.getAllChildren(),f=0,T=s.length;f<T;f++)this.resetChildPositionState(s[f]);return this},E0={changeOrigin:XA,drawBounds:NA};Object.assign(E0,hA,oA,uA,dA,fA,vA,pA,gA,mA,xA,yA,CA,TA,SA,EA,MA,LA,OA,GA);class Be extends Pn{constructor(t,s,f,T,E,n){Array.isArray(T)&&(n=T,T=void 0,E=void 0),super(t,s,f,T,E),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,s){return this.setSize(t,s),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children}static GetParent(t){return be(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=be(this);return t?t.setParentContainerFlag:!1}}Object.assign(Be.prototype,E0);var xh=function(i){return i.hasOwnProperty("rexSizer")||(i.rexSizer={}),i.rexSizer};function WA(i){return i===void 0&&(i=this),xh(i)}var UA=function(i){var t=xh(i);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},kA=function(i){return i===void 0&&(i=Rr(this.scene)),this.left=Math.max(this.left,i.left),this.right=Math.min(this.right,i.right),this.top=Math.max(this.top,i.top),this.bottom=Math.min(this.bottom,i.bottom),this};const Nt=Phaser.Display.Align,Lr={center:Nt.CENTER,left:Nt.LEFT_CENTER,right:Nt.RIGHT_CENTER,top:Nt.TOP_CENTER,bottom:Nt.BOTTOM_CENTER,"left-top":Nt.TOP_LEFT,"top-left":Nt.TOP_LEFT,"left-center":Nt.LEFT_CENTER,"center-left":Nt.LEFT_CENTER,"left-bottom":Nt.BOTTOM_LEFT,"bottom-left":Nt.BOTTOM_LEFT,"center-top":Nt.TOP_CENTER,"top-center":Nt.TOP_CENTER,"center-center":Nt.CENTER,"center-bottom":Nt.BOTTOM_CENTER,"bottom-center":Nt.BOTTOM_CENTER,"right-top":Nt.TOP_RIGHT,"top-right":Nt.TOP_RIGHT,"right-center":Nt.RIGHT_CENTER,"center-right":Nt.RIGHT_CENTER,"right-bottom":Nt.BOTTOM_RIGHT,"bottom-right":Nt.BOTTOM_RIGHT};var Ql=new Phaser.GameObjects.Zone({sys:{queueDepthSort:he,events:{once:he}}},0,0,1,1);Ql.setOrigin(0);var Vi={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},Ou=function(i){var t=At(i);return i.y+t-t*i.originY},Fu=function(i){var t=Rt(i);return i.x-t*i.originX+t*.5},bu=function(i,t){var s=At(i);return i.y=t-s+s*i.originY,i},Du=function(i,t){var s=Rt(i),f=s*i.originX;return i.x=t+f-s*.5,i},YA=function(i,t,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),Du(i,Fu(t)+s),bu(i,Ou(t)+f),i},Bu=function(i){var t=Rt(i);return i.x-t*i.originX},Iu=function(i,t){var s=Rt(i);return i.x=t+s*i.originX,i},HA=function(i,t,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),Iu(i,Bu(t)-s),bu(i,Ou(t)+f),i},Gu=function(i){var t=Rt(i);return i.x+t-t*i.originX},Nu=function(i,t){var s=Rt(i);return i.x=t-s+s*i.originX,i},$A=function(i,t,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),Nu(i,Gu(t)+s),bu(i,Ou(t)+f),i},Vu=function(i,t){var s=At(i),f=s*i.originY;return i.y=t+f-s*.5,i},KA=function(i,t,s){return Du(i,t),Vu(i,s)},zu=function(i){var t=At(i);return i.y-t*i.originY+t*.5},ZA=function(i,t,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),KA(i,Fu(t)+s,zu(t)+f),i},JA=function(i,t,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),Iu(i,Bu(t)-s),Vu(i,zu(t)+f),i},QA=function(i,t,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),Nu(i,Gu(t)+s),Vu(i,zu(t)+f),i},Xu=function(i){var t=At(i);return i.y-t*i.originY},Wu=function(i,t){var s=At(i);return i.y=t+s*i.originY,i},jA=function(i,t,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),Du(i,Fu(t)+s),Wu(i,Xu(t)-f),i},qA=function(i,t,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),Iu(i,Bu(t)-s),Wu(i,Xu(t)-f),i},_A=function(i,t,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),Nu(i,Gu(t)+s),Wu(i,Xu(t)-f),i},Si=[];Si[Vi.BOTTOM_CENTER]=YA;Si[Vi.BOTTOM_LEFT]=HA;Si[Vi.BOTTOM_RIGHT]=$A;Si[Vi.CENTER]=ZA;Si[Vi.LEFT_CENTER]=JA;Si[Vi.RIGHT_CENTER]=QA;Si[Vi.TOP_CENTER]=jA;Si[Vi.TOP_LEFT]=qA;Si[Vi.TOP_RIGHT]=_A;var P0=function(i,t,s,f,T){return Si[s](i,t,f,T)},Mn=function(i,t,s,f,T,E){Ql.setPosition(t,s).setSize(f,T),P0(i,Ql,E)};const _s=Phaser.Utils.Objects.GetValue,tL=Phaser.GameObjects.Group;var eL=function(i,t){var s=i.scene,f,T,E,n,C;if(typeof t=="number")f=t;else{f=_s(t,"color"),T=_s(t,"lineWidth");var e=_s(t,"name",!1);e&&(E=_s(e,"createTextCallback",iL),n=_s(e,"createTextCallbackScope",void 0),C=_s(e,"align","left-top"),typeof C=="string"&&(C=Lr[C]))}if(f===void 0&&(f=16777215),T===void 0&&(T=1),E&&!i.children){i.children=new tL(s),i.once("destroy",function(l,v){l.children.destroy(!v),l.children=void 0});var u=i.clear.bind(i);i.clear=function(){u(),i.children.clear(!1,!0)}}for(var x=this.getAllShownChildren([this]),d,o,a=0,r=x.length;a<r;a++){if(d=x[a],d.getBounds||d.width!==void 0&&d.height!==void 0)Es=pu(d,Es);else continue;f!=null&&i.lineStyle(T,f).strokeRectShape(Es),d.name&&E&&(n?o=E.call(n,s):o=E(s),o&&(o.setText(d.name),i.children.add(o),Mn(o,Es.x,Es.y,Es.width,Es.height,C)))}return this},iL=function(i,t,s){return i.add.text(0,0,"")},Es=void 0;const ua=Phaser.Utils.Objects.GetValue;var hs=function(i,t){return i===void 0&&(i=0),t===void 0&&(t={}),typeof i=="number"?(t.left=i,t.right=i,t.top=i,t.bottom=i):(t.left=ua(i,"left",0),t.right=ua(i,"right",0),t.top=ua(i,"top",0),t.bottom=ua(i,"bottom",0)),t};const sL=Be.prototype.add;var wn=function(i){return sL.call(this,i),this.sizerEventsEnable&&(i.emit("sizer.add",i,this),this.emit("add",i,this)),this};const rL={addBackground(i,t,s){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(s=t,t=void 0),t===void 0&&(t=0),wn.call(this,i),this.backgroundChildren.push(i);var f=this.getSizerConfig(i);return f.padding=hs(t),s!==void 0&&this.addChildrenMap(s,i),this},isBackground(i){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(i)!==-1}};var ns=function(i,t){var s=null;if(t===void 0)i.hasOwnProperty("rexContainer")&&(s=i.rexContainer.parent,s?s.isRexSizer||(s=ns(s)):s=null);else for(s=ns(i);s&&s.name!==t;)s=ns(s);return s},nL=function(i){for(var t=ns(i);t;)i=t,t=ns(t);return i};const Or={getParentSizer(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),ns(i,t)},getTopmostSizer(i){return i===void 0&&(i=this),nL(i)},hasParentSizer(i,t){t===void 0&&(t=this);for(var s=ns(t);s;){if(s===i)return!0;s=ns(s)}return!1},hasChild(i,t){return t===void 0&&(t=this),this.hasParentSizer(t,i)}},aL=Phaser.Utils.Array.Remove,hL=Be.prototype.remove,Ov=Or.getParentSizer;var Rn=function(i,t){for(var s=Ov(i);s;)s.removeChildCallback&&s.removeChildCallback(i,t),s=Ov(s);return this.isBackground(i)&&aL(this.backgroundChildren,i),hL.call(this,i,t),!t&&this.sizerEventsEnable&&(i.emit("sizer.remove",i,this),this.emit("remove",i,this)),this};const oL=Phaser.Utils.Array.Remove,lL=Or.getParentSizer,uL={removeFromParentSizer(){var i=lL(gameObject);return i&&i.remove(this),this},removeBackground(i,t){return this.backgroundChildren===void 0?this:this.getParentSizer(i)!==this?this:(oL(this.backgroundChildren,i),Rn.call(this,i,t),this)},removeAllBackgrounds(i){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],i);return this}};var Fv=function(i,t){if(typeof i=="string")this.childrenMap[i]=t;else{var s=i;for(i in s)this.childrenMap[i]=s[i]}return this},dL=function(i){if(typeof i=="object"){var t=i;for(var i in this.childrenMap)if(this.childrenMap[i]===t)return delete this.childrenMap[i],this}return delete this.childrenMap[i],this},fL=function(i,t){if(typeof i=="string"&&(i=i.split(".")),i.length!==0){var s=i.shift(),f=null;if(s.charAt(0)==="#")s=s.substring(1),f=this.getByName(s,t);else if(s.indexOf("[")===-1)this.childrenMap&&(f=this.childrenMap[s]);else{var T=s.match(vL);if(T!=null&&this.childrenMap){var E=this.childrenMap[T[1]];E&&(f=E[T[2]])}}return i.length===0?f:f&&f.childrenMap?f.getElement(i):null}};const vL=/(\S+)\[(\d+)\]/i;var cL=function(i){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(i);return t===-1&&(t=null),t}else{if(this.getParentSizer(i)!==this)return null;for(var s in this.sizerChildren)if(this.sizerChildre[s]===i)return s;return null}};const pL={getInnerPadding(i){return Ha(this.space,i)},setInnerPadding(i,t){return ss(this.space,i,t),this},getOuterPadding(i){return Ha(this.getSizerConfig(this).padding,i)},setOuterPadding(i,t){return ss(this.getSizerConfig(this).padding,i,t),this},getChildOuterPadding(i,t){return typeof i=="string"&&(i=this.getElement(i)),Ha(this.getSizerConfig(i).padding,t)},setChildOuterPadding(i,t,s){return typeof i=="string"&&(i=this.getElement(i)),ss(this.getSizerConfig(i).padding,t,s),this}};var Uu=function(i){var t=this.childrenWidth;if(t!==void 0){var s=this.minWidth!==void 0?this.minWidth:0;return i===void 0?(i=Math.max(s,t),this.layoutWarnEnable&&s>0&&t>s&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(s>i||t>i)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) or childrenWidth (${t} > targetWidth ${i})`),i}},ku=function(){var i;for(var t in this.sizerChildren)if(i=this.sizerChildren[t],!(!i||i.isRexSizer&&i.ignoreLayout||!i.runWidthWrap)&&(!i.hasWidthWrap||i.hasWidthWrap()))return!0;return!1},gL=function(i){var t,s,f;for(var T in this.sizerChildren)t=this.sizerChildren[T],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildWidth(t,i),f=t.resolveWidth(s),f===void 0&&(f=s),t.resolveChildrenWidth(f))},Yu=function(i){var t,s,f;for(var T in this.sizerChildren)t=this.sizerChildren[T],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(s=this.getExpandedChildWidth(t,i),t.isRexSizer?(f=t.resolveWidth(s),f===void 0&&(f=s)):f=s,t.runWidthWrap(f));return this},Hu=function(i){var t=this.childrenHeight;if(t!==void 0){var s=this.minHeight!==void 0?this.minHeight:0;return i===void 0?(i=Math.max(s,t),this.layoutWarnEnable&&s>0&&t>s&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(s>i||t>i)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) or childrenHeight (${t}) > targetHeight (${i})`),i}},$u=function(){var i;for(var t in this.sizerChildren)if(i=this.sizerChildren[t],!(!i||i.isRexSizer&&i.ignoreLayout||!i.runHeightWrap)&&(!i.hasHeightWrap||i.hasHeightWrap()))return!0;return!1},mL=function(i){var t,s,f;for(var T in this.sizerChildren)t=this.sizerChildren[T],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildHeight(t,i),f=t.resolveHeight(s),f===void 0&&(f=s),t.resolveChildrenHeight(f))},Ku=function(i){var t,s,f;for(var T in this.sizerChildren)t=this.sizerChildren[T],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(s=this.getExpandedChildHeight(t,i),t.isRexSizer?(f=t.resolveHeight(s),f===void 0&&(f=s)):f=s,t.runHeightWrap(f));return this},xL=function(i){var t;if(i.isRexSizer){var s=i.childrenWidth;if(s==null)return;t=Math.max(i.minWidth,s)}else i.minWidth!==void 0?t=i.minWidth:t=Rt(i);return t},yL=function(i){var t;if(i.isRexSizer){var s=i.childrenHeight;if(s===void 0)return;t=Math.max(i.minHeight,s)}else i.minHeight!==void 0?t=i.minHeight:t=At(i);return t},CL=function(i,t){return t},TL=function(i,t){return t},SL=function(){return 0},EL=function(){return 0},PL=function(i){i===void 0&&(i=[]);for(var t=i.length,s=this.getChildrenSizers(i),f=i.length,T=t;T<f;T++)s[T].getAllChildrenSizers(i);return i},ML=function(i){return i===void 0&&(i=[]),i};const wL={getShownChildren(i){i===void 0&&(i=[]);for(var t=this.children,s,f=0,T=t.length;f<T;f++)s=t[f],!(s.rexSizer&&s.rexSizer.hidden)&&i.push(s);return i},getAllShownChildren(i){i===void 0&&(i=[]);for(var t=[this];t.length>0;){var s=t.shift();s.rexSizer&&s.rexSizer.hidden||(s!==this&&i.push(s),s.isRexContainerLite&&t.push(...s.children))}return i}};var An=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var i=this.getChildrenSizers(),t,s=0,f=i.length;s<f;s++)t=i[s],!t.ignoreLayout&&t.preLayout()},RL=function(){if(this.ignoreLayout)return this;var i=this.scaleX,t=this.scaleY,s=i===1&&t===1;return s||this.setScale(1),this.runLayout(),s||this.setScale(i,t),this},AL=function(i,t,s){if(this.ignoreLayout)return this;var f=!i;f&&this.preLayout();var T,E,n,C=f&&this.hasWidthWrap(),e=f&&this.hasHeightWrap();return T=LL(this,t,s,C,e),T||console.error("Can't resolve size of ",this),E=T.width,n=T.height,this.resize(E,n),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(),f&&this._postLayout(),this},LL=function(i,t,s,f,T){var E=bv(i,t,f),n=OL(i,s,T);return E===void 0&&(E=bv(i,t,f)),E!==void 0&&n!==void 0?{width:E,height:n}:!1},bv=function(i,f,s){var f=i.resolveWidth(f);return f!==void 0&&s&&(i.resolveChildrenWidth(f),i.runWidthWrap(f)),f},OL=function(i,f,s){var f=i.resolveHeight(f);return f!==void 0&&s&&(i.resolveChildrenHeight(f),i.runHeightWrap(f)),f},FL=function(){},bL=function(i,t,s){return this._anchor&&this._anchor.updatePosition(),this},DL=function(i,t,s){return this},BL=function(i){if(i.resize)return!0;if(!i.setSize)return!1;for(var t=0,s=Dv.length;t<s;t++){var f=Dv[t];if(f&&i instanceof f)return!1}return!0},Dv=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],IL=function(i){if(i.displayWidth===void 0)return!1;for(var t=0,s=Bv.length;t<s;t++){var f=Bv[t];if(f&&i instanceof f)return!1}return!0},Bv=[Phaser.GameObjects.BitmapText],pe=function(i,t,s){if(!(!i||t===void 0&&s===void 0))if(BL(i))t===void 0&&(t=i.width),s===void 0&&(s=i.height),i.resize?i.resize(t,s):i.setSize(t,s);else{var f=IL(i);t!==void 0&&(f?i.displayWidth=t:i.scaleX=t/i.width),s!==void 0&&(f?i.displayHeight=s:i.scaleY=s/i.height)}},GL=function(i,t,s,f){pe(s,i,t)};const da=Phaser.Utils.Objects.GetValue;class Zu extends Yt{constructor(t,s){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(s)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var s,f;t.x!==void 0?(s=null,f=t.x):t.left!==void 0?(s=0,f=t.left):t.right!==void 0?(s=1,f=t.right):t.centerX!==void 0&&(s=.5,f=t.centerX);var T,E;t.y!==void 0?(T=null,E=t.y):t.top!==void 0?(T=0,E=t.top):t.bottom!==void 0?(T=1,E=t.bottom):t.centerY!==void 0&&(T=.5,E=t.centerY);var n,C;f!==void 0&&(f=f.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(f[0])/100,C=f[1]===""?0:parseFloat(f[1]));var e,u;E!==void 0&&(E=E.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),e=parseFloat(E[0])/100,u=E[1]===""?0:parseFloat(E[1]));var x=t.width,d,o;x!==void 0&&(x=x.split("%"),d=parseFloat(x[0])/100,o=x[1]===""?0:parseFloat(x[1]));var a=t.height,r,l;a!==void 0&&(a=a.split("%"),r=parseFloat(a[0])/100,l=a[1]===""?0:parseFloat(a[1])),this.setAlign(s,T),this.setPercentage(n,e),this.setOffset(C,u),this.setSizePercentage(d,r),this.setSizePadding(o,l);var v=da(t,"onResizeCallback",GL),h=da(t,"onResizeCallbackScope");this.setResizeCallback(v,h);var c=da(t,"onUpdateViewportCallback"),p=da(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(c,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,s){return this.alignX=t,this.alignY=s,this}setPercentage(t,s){return this.percentageX=t,this.percentageY=s,this}setOffset(t,s){return this.offsetX=t,this.offsetY=s,this}setSizePercentage(t,s){return this.percentageWidth=t,this.percentageHeight=s,this}setSizePadding(t,s){return this.paddingWidth=t,this.paddingHeight=s,this}setResizeCallback(t,s){return this.onResizeCallback=t,this.onResizeCallbackScope=s,this}setUpdateViewportCallback(t,s){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=s,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,s=this.onResizeCallbackScope,f=this.anchorWidth,T=this.anchorHeight;if(!(f===void 0&&T===void 0||!t)){var E=this.parent;f===void 0&&(f=E.width),T===void 0&&(T=E.height),s?t.call(s,f,T,E,this):t(f,T,E,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=Rr(this.scene,t,this.viewport);var s=this.viewport,f=this.onUpdateViewportCallback,T=this.onUpdateViewportCallbackScope;f&&(T?f.call(T,s,this.parent,this):f(s,this.parent,this))}}var NL=function(i){i===void 0&&(i={});var t=i.hasOwnProperty("width"),s=i.hasOwnProperty("height"),f=i.hasOwnProperty("onResizeCallback");return(t||s)&&!f&&(i.onResizeCallback=function(T,E,n){t&&n.setMinWidth(T),s&&n.setMinHeight(E),n.layout()}),this._anchor===void 0?this._anchor=new Zu(this,i):this._anchor.resetFromJSON(i),this};const VL=Phaser.Utils.Objects.GetValue,tr=Phaser.Utils.Objects.GetAdvancedValue,Iv=Phaser.Math.Linear;class pn extends Gs{constructor(t,s){super(t,s),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(VL(t,"mode",0)),this.setScaleRange(tr(t,"start",void 0),tr(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=zL[t]),this.mode=t,this}setScaleRange(t,s){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=tr(t,"x",this.parent.scaleX),this.startY=tr(t,"y",this.parent.scaleY)),typeof s=="number"?(this.endX=s,this.endY=s):(this.endX=tr(s,"x",void 0),this.endY=tr(s,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var s=this.repeat;return this.mode===2&&s!==-1&&(s=(s+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(s),super.start(),this}updateGameObject(t,s){var f=s.t;s.isOddIteration&&(f=1-f),f=this.easeFn(f),this.hasScaleX&&(t.scaleX=Iv(this.startX,this.endX,f)),this.hasScaleY&&(t.scaleY=Iv(this.startY,this.endY,f))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const zL={stop:0,destroy:1,yoyo:2};var Ju=function(i,t,s,f,T){f===void 0&&(f="Cubic");var E,n;switch(s){case 0:case"x":E={x:0},n={x:i.scaleX};break;case 1:case"y":E={y:0},n={y:i.scaleY};break;default:E=0,n=i.scale;break}var C={mode:0,start:E,end:n,duration:t,ease:f};return T===void 0?T=new pn(i,C):T.resetFromJSON(C),T.restart(),T},M0=function(i,t,s,f,T,E){f===void 0&&(f="Linear"),T instanceof pn&&(E=T,T=void 0),T===void 0&&(T=!0);var n={};switch(n.mode=T?1:0,s){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=f,E===void 0?E=new pn(i,n):E.resetFromJSON(n),E.restart(),E},XL=function(i,t,s,f,T,E,n){s===void 0&&(s=1.2),f===void 0&&(f=0),E===void 0&&(E="Cubic");var C,e;switch(T){case 0:case"x":C={x:i.scaleX},e={x:s};break;case 1:case"y":C={y:i.scaleX},e={y:s};break;default:C=i.scaleX,e=s;break}var u={mode:2,start:C,end:e,duration:t/2,ease:E,repeat:f};return n===void 0?n=new pn(i,u):n.resetFromJSON(u),n.restart(),n};const Do=Phaser.Utils.Objects.IsPlainObject;var Bo=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var s=Or.getParentSizer(i);s&&s.resetChildPositionState(i)})};const Qu={popUp(i,t,s){if(Do(i)){var f=i;i=f.duration,t=f.orientation,s=f.ease}var T=this._scaleBehavior===void 0;return this._scaleBehavior=Ju(this,i,t,s,this._scaleBehavior),T&&Bo(this,this._scaleBehavior),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(i,t,s){return this.popUp(i,t,s),oe(this._scaleBehavior)},scaleDownDestroy(i,t,s,f){if(Do(i)){var T=i;i=T.duration,t=T.orientation,s=T.ease,f=T.destroy}var E=this._scaleBehavior===void 0;return this._scaleBehavior=M0(this,i,t,s,f,this._scaleBehavior),E&&Bo(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(i,t,s,f){return this.scaleDownDestroy(i,t,s,f),oe(this._scaleBehavior)},scaleDown(i,t,s){return this.scaleDownDestroy(i,t,s,!1),this},scaleDownPromise(i,t,s){return this.scaleDown(i,t,s),oe(this._scaleBehavior)},scaleYoyo(i,t,s,f,T){if(Do(i)){var E=i;i=E.duration,t=E.peakValue,s=E.repeat,f=E.orientation,T=E.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=XL(this,i,t,s,f,T,this._scaleBehavior),n&&Bo(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(i,t,s,f,T){return this.scaleYoyo(i,t,s,f,T),oe(this._scaleBehavior)}},WL=Phaser.Utils.Objects.GetValue,Gv=Phaser.Utils.Objects.GetAdvancedValue,UL=Phaser.Math.Linear;class jl extends Gs{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(WL(t,"mode",0)),this.setAlphaRange(Gv(t,"start",this.parent.alpha),Gv(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=kL[t]),this.mode=t,this}setAlphaRange(t,s){return this.alphaStart=t,this.alphaEnd=s,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,s){var f=s.t;s.isOddIteration&&(f=1-f),t.alpha=UL(this.alphaStart,this.alphaEnd,f)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const kL={stop:0,destroy:1,yoyo:2},YL=Phaser.Utils.Objects.IsPlainObject;var yh=function(i,t,s,f){var T,E;YL(s)?(T=s.start,E=s.end):E=s,T===void 0&&(T=0),E===void 0&&(E=1);var n={mode:0,start:T,end:E,duration:t};return f===void 0?f=new jl(i,n):f.resetFromJSON(n),f.restart(),f},Ch=function(i,t,s,f){s instanceof jl&&(f=s,s=void 0),s===void 0&&(s=!0);var T={mode:s?1:0,end:0,duration:t};return f===void 0?f=new jl(i,T):f.resetFromJSON(T),f.restart(),f};const Nv=Phaser.Utils.Objects.IsPlainObject;var Vv=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var s=Or.getParentSizer(i);s&&s.resetChildAlphaState(i)})};const HL={fadeIn(i,t){if(Nv(i)){var s=i;i=s.duration,t=s.alpha}var f=this._fade===void 0;return this._fade=yh(this,i,t,this._fade),f&&Vv(this,this._fade),this._fade.completeEventName="fadein.complete",this},fadeInPromise(i,t){return this.fadeIn(i,t),oe(this._fade)},fadeOutDestroy(i,t){if(Nv(i)){var s=i;i=s.duration,t=s.destroy}var f=this._fade===void 0;return this._fade=Ch(this,i,t,this._fade),f&&Vv(this,this._fade),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(i,t){return this.fadeOutDestroy(i,t),oe(this._fade)},fadeOut(i){return this.fadeOutDestroy(i,!1),this},fadeOutPromise(i){return this.fadeOut(i),oe(this._fade)}},$L=Phaser.Utils.Objects.GetValue,er=Phaser.Utils.Objects.GetAdvancedValue,zv=Phaser.Math.Linear;class qa extends Gs{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode($L(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var s=er(t,"x",void 0),f=er(t,"y",void 0);this.setTargetPosition(s,f)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=KL[t]),this.mode=t,this}setTargetPosition(t,s){if(typeof t=="number"||typeof s=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=s;else{var f=t;this.startX=er(f,"startX",void 0),this.startY=er(f,"startY",void 0),this.endX=er(f,"endX",void 0),this.endY=er(f,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,s){var f=s.t;s.isOddIteration&&(f=1-f),f=this.easeFn(f),this.hasMoveX&&(t.x=zv(this.startX,this.endX,f)),this.hasMoveY&&(t.y=zv(this.startY,this.endY,f))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const KL={stop:0,destroy:1,yoyo:2};var _a=function(i,t){if(typeof i=="number")return i;var s=i[0],f=parseFloat(i.substr(2));switch(s){case"+":return t+f;case"-":return t-f;case"*":return t*f;case"/":return t/f}},w0=function(i,t,s,f,T,E,n){E instanceof qa&&(n=E,E=void 0),E===void 0&&(E=!1);var C={};return C.mode=E?1:0,s!==void 0&&(C.startX=i.x,C.endX=_a(s,i.x)),f!==void 0&&(C.startY=i.y,C.endY=_a(f,i.y)),C.duration=t,C.ease=T===void 0?"Linear":T,n===void 0?n=new qa(i,C):n.resetFromJSON(C),n.restart(),n},R0=function(i,t,s,f,T,E,n){E instanceof qa&&(n=E,E=void 0),E===void 0&&(E=!1);var C={};return C.mode=E?1:0,s!==void 0&&(C.startX=_a(s,i.x),C.endX=i.x),f!==void 0&&(C.startY=_a(f,i.y),C.endY=i.y),C.duration=t,C.ease=T===void 0?"Linear":T,n===void 0?n=new qa(i,C):n.resetFromJSON(C),n.restart(),n};const Xv=Phaser.Utils.Objects.IsPlainObject,Wv=Phaser.Math.Distance.Between;var Uv=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var s=Or.getParentSizer(i);s&&s.resetChildPositionState(i)})};const ZL={moveFrom(i,t,s,f,T){if(Xv(i)){var E=i;t=E.x,s=E.y,E.hasOwnProperty("speed")?i=Wv(t,s,this.x,this.y)*1e3/E.speed:i=E.duration,f=E.ease}var n=this._easeMove===void 0;return this._easeMove=R0(this,i,t,s,f,T,this._easeMove),n&&Uv(this,this._easeMove),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(i,t,s,f,T){return this.moveFrom(i,t,s,f,T),oe(this._easeMove)},moveFromDestroy(i,t,s,f){return this.moveFrom(i,t,s,f,!0),this},moveFromDestroyPromise(i,t,s,f){return this.moveFromDestroy(i,t,s,f),oe(this._easeMove)},moveTo(i,t,s,f,T){if(Xv(i)){var E=i;t=E.x,s=E.y,E.hasOwnProperty("speed")?i=Wv(t,s,this.x,this.y)*1e3/E.speed:i=E.duration,f=E.ease}var n=this._easeMove===void 0;return this._easeMove=w0(this,i,t,s,f,T,this._easeMove),n&&Uv(this,this._easeMove),this._easeMove.completeEventName="moveto.complete",this},moveToPromise(i,t,s,f,T){return this.moveTo(i,t,s,f,T),oe(this._easeMove)},moveToDestroy(i,t,s,f){return this.moveTo(i,t,s,f,!0),this},moveToDestroyPromise(i,t,s,f){return this.moveToDestroy(i,t,s,f,!0),oe(this._easeMove)},moveStop(i){return this._easeMove?(this._easeMove.stop(i),this):this}},Ve=Phaser.Utils.Objects.GetValue;class ju extends fh{constructor(t,s){super(t,s),this.timer=new Vg,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Ve(t,"timer")),this.setEnable(Ve(t,"enable",!0)),this.setMode(Ve(t,"mode",1)),this.isRunning=Ve(t,"isRunning",!1),this.setMagnitudeMode(Ve(t,"magnitudeMode",1)),this.setAxisMode(Ve(t,"axis",0)),this.setDuration(Ve(t,"duration",500)),this.setMagnitude(Ve(t,"magnitude",10)),this.ox=Ve(t,"ox",void 0),this.oy=Ve(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=JL[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=jL[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=QL[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,s){if(typeof t!="number"){var f=t;s=Ve(f,"magnitude",void 0),t=Ve(f,"duration",void 0)}return s!==void 0&&this.setMagnitude(s),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,s){return this.start(t,s),this}update(t,s){if(!this.isRunning||!this.enable)return this;var f=this.parent;if(!f.active)return this;if(this.timer.update(t,s),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=f.x,this.oy=f.y);var T=this.magnitude;this.magnitudeMode===1&&(T*=1-this.timer.t);var E=Math.random()*Math.PI*2,n=this.ox+Math.cos(E)*T,C=this.oy+Math.sin(E)*T;switch(this.axisMode){case 1:f.x=n;break;case 2:f.y=C;break;default:f.x=n,f.y=C;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const JL={effect:0,behavior:1},QL={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},jL={constant:0,decay:1},qL=Phaser.Utils.Objects.IsPlainObject;var _L=function(i,t){t.on("complete",function(){i.emit("shake.complete",i)})};const tO={shake(i,t,s){if(qL(i)){var f=i;i=f.duration,t=f.magnitude,s=f.magnitudeMode}return this._shake===void 0&&(this._shake=new ju(this,{mode:0,magnitudeMode:1}),_L(this,this._shake)),i!==void 0&&this._shake.setDuration(i),t!==void 0&&this._shake.setMagnitude(t),s!==void 0&&this._shake.setMagnitudeMode(s),this._shake.shake(),this},shakePromise(i,t){return this.shake(i,t),oe(this._shake)}},kv=Phaser.Utils.Objects.IsPlainObject;class eO extends Yt{constructor(t,s){super(t,s),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var s=this.easeTasks[t];return s===void 0&&(s=new fs(this.parent),this.easeTasks[t]=s,s.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),s}easeTo(t,s,f,T){if(kv(t)){var E=t;t=E.key,s=E.value,f=E.duration,T=E.ease;var n=E.speed;f===void 0&&n!==void 0&&(f=Math.abs(s-this.parent.data.values[t])/n*1e3)}f===void 0&&(f=1e3),T===void 0&&(T="Linear");var C=this.getEaseTask(t);return C.restart({key:t,to:s,duration:f,ease:T}),this}easeFrom(t,s,f,T){if(kv(t)){var E=t;t=E.key,s=E.value,f=E.duration,T=E.ease;var n=E.speed;f===void 0&&n!==void 0&&(f=Math.abs(s-this.parent.data.values[t])/n*1e3)}f===void 0&&(f=1e3),T===void 0&&(T="Linear");var C=this.getEaseTask(t);return C.restart({key:t,from:s,duration:f,ease:T}),this}stopEase(t,s){s===void 0&&(s=!0);var f=this.easeTasks[t];return f&&f.stop(s),this}stopAll(t){t===void 0&&(t=!0);for(var s in this.easeTasks)this.stopEase(s,t);return this}}var iO=function(i,t){t.on("complete",function(s){i.emit(`easedata.${s}.complete`,i),i.emit("easedata.complete",s,i)})};const sO={easeDataTo(i,t,s,f){return this._easeData||(this._easeData=new eO(this),iO(this,this._easeData)),this._easeData.easeTo(i,t,s,f),this},easeDataToPromise(i,t,s,f){return this.easeDataTo(i,t,s,f),ch(this._easeData,`complete-${i}`)},stopEaseData(i,t){return this._easeData?(this._easeData.stopEase(i,t),this):this},stopAllEaseData(i){return this._easeData?(this._easeData.stopAll(i),this):this}};var ts=function(i){A0(i,!1)},es=function(i){A0(i,!0)},qu=function(i){if(!i)return!1;var t=xh(i);return!t.hidden},A0=function(i,t){if(!!i){var s=xh(i);s.hidden=t;var f=be(i);f?f.setChildVisible(i,!t):i.setVisible(!t)}};const rO={show(i){return i===void 0&&(i=this),ts(i),this},hide(i){return i===void 0&&(i=this),es(i),this},isShow(i){return i===void 0&&(i=this),qu(i)}};var L0={exports:{}};(function(i){var t=Object.prototype.hasOwnProperty,s="~";function f(){}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(s=!1));function T(e,u,x){this.fn=e,this.context=u,this.once=x||!1}function E(e,u,x,d,o){if(typeof x!="function")throw new TypeError("The listener must be a function");var a=new T(x,d||e,o),r=s?s+u:u;return e._events[r]?e._events[r].fn?e._events[r]=[e._events[r],a]:e._events[r].push(a):(e._events[r]=a,e._eventsCount++),e}function n(e,u){--e._eventsCount===0?e._events=new f:delete e._events[u]}function C(){this._events=new f,this._eventsCount=0}C.prototype.eventNames=function(){var u=[],x,d;if(this._eventsCount===0)return u;for(d in x=this._events)t.call(x,d)&&u.push(s?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(x)):u},C.prototype.listeners=function(u){var x=s?s+u:u,d=this._events[x];if(!d)return[];if(d.fn)return[d.fn];for(var o=0,a=d.length,r=new Array(a);o<a;o++)r[o]=d[o].fn;return r},C.prototype.listenerCount=function(u){var x=s?s+u:u,d=this._events[x];return d?d.fn?1:d.length:0},C.prototype.emit=function(u,x,d,o,a,r){var l=s?s+u:u;if(!this._events[l])return!1;var v=this._events[l],h=arguments.length,c,p;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),h){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,x),!0;case 3:return v.fn.call(v.context,x,d),!0;case 4:return v.fn.call(v.context,x,d,o),!0;case 5:return v.fn.call(v.context,x,d,o,a),!0;case 6:return v.fn.call(v.context,x,d,o,a,r),!0}for(p=1,c=new Array(h-1);p<h;p++)c[p-1]=arguments[p];v.fn.apply(v.context,c)}else{var g=v.length,m;for(p=0;p<g;p++)switch(v[p].once&&this.removeListener(u,v[p].fn,void 0,!0),h){case 1:v[p].fn.call(v[p].context);break;case 2:v[p].fn.call(v[p].context,x);break;case 3:v[p].fn.call(v[p].context,x,d);break;case 4:v[p].fn.call(v[p].context,x,d,o);break;default:if(!c)for(m=1,c=new Array(h-1);m<h;m++)c[m-1]=arguments[m];v[p].fn.apply(v[p].context,c)}}return!0},C.prototype.on=function(u,x,d){return E(this,u,x,d,!1)},C.prototype.once=function(u,x,d){return E(this,u,x,d,!0)},C.prototype.removeListener=function(u,x,d,o){var a=s?s+u:u;if(!this._events[a])return this;if(!x)return n(this,a),this;var r=this._events[a];if(r.fn)r.fn===x&&(!o||r.once)&&(!d||r.context===d)&&n(this,a);else{for(var l=0,v=[],h=r.length;l<h;l++)(r[l].fn!==x||o&&!r[l].once||d&&r[l].context!==d)&&v.push(r[l]);v.length?this._events[a]=v.length===1?v[0]:v:n(this,a)}return this},C.prototype.removeAllListeners=function(u){var x;return u?(x=s?s+u:u,this._events[x]&&n(this,x)):(this._events=new f,this._eventsCount=0),this},C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prefixed=s,C.EventEmitter=C,i.exports=C})(L0);const nO=L0.exports;class O0 extends nO{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const aO={setEventEmitter(i,t){return t===void 0&&(t=O0),this._privateEE=i===!0||i===void 0,this._eventEmitter=this._privateEE?new t:i,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(i){return this._eventEmitter&&i&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},hO=["next","exit","enter"];class F0{constructor(t){var s=Mt(t,"states",void 0);s&&this.addStates(s);var f=Mt(t,"extend",void 0);if(f)for(var T in f)(!this.hasOwnProperty(T)||this[T]===void 0)&&(this[T]=f[T]);var E=Mt(t,"eventEmitter",void 0),n=Mt(t,"EventEmitterClass",void 0);this.setEventEmitter(E,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Mt(t,"enable",!0)),this.start(Mt(t,"start",void 0));var s=Mt(t,"init",void 0);return s&&s.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var s="exit_"+this._prevState,f=this[s];f&&f.call(this),this.emit(s,this)}if(this._stateLock=!1,this._state!=null){var T="enter_"+this._state,E=this[T];E&&E.call(this),this.emit(T,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,s=this["next_"+this.state];return s&&(typeof s=="string"?t=s:t=s.call(this)),this.goto(t),this}get stateProperties(){return hO}addState(t,s){typeof t!="string"&&(s=t,t=s.name);for(var f=this.stateProperties,T=0,E=f.length;T<E;T++){var n=f[T],C=s[n];C&&(this[`${n}_${t}`]=C)}return this}addStates(t){if(Array.isArray(t))for(var s=0,f=t.length;s<f;s++)this.addState(t[s]);else for(var T in t)this.addState(T,t[T]);return this}runMethod(t,s,f,T,E,n){var C=this[t+"_"+this.state];if(!!C){var e=arguments.length;switch(e){case 1:return C.call(this);case 2:return C.call(this,s);case 3:return C.call(this,s,f);case 4:return C.call(this,s,f,T);case 5:return C.call(this,s,f,T,E);case 6:return C.call(this,s,f,T,E,n)}for(var u=new Array(e-1),x=1;x<e;x++)u[x-1]=arguments[x];return C.apply(this,u)}}}Object.assign(F0.prototype,aO);var Io=function(i,t,s,f,T){T===void 0&&(T=!1);var E=i._events[t];if(!E)return!1;for(var n=0,C=E.length;n<C;n++){var e=E[n];if(e.fn===s&&e.context===f&&e.once===T)return!0}return!1};const oO=["next","exit","enter","update","preupdate","postupdate"];class zi extends F0{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Mt(t,"scene",void 0),this}get stateProperties(){return oO}update(t,s){this.runMethod("update",t,s)}preupdate(t,s){this.runMethod("preupdate",t,s)}postupdate(t,s){this.runMethod("postupdate",t,s)}startUpdate(t){t||(t=this._scene);var s=t.sys.events;return Io(s,"update",this.update,this)?this:(this._scene=t,s.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var s=t.sys.events;return Io(s,"preupdate",this.preupdate,this)?this:(this._scene=t,s.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var s=t.sys.events;return Io(s,"postupdate",this.postupdate,this)?this:(this._scene=t,s.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}class lO extends zi{constructor(t,s){super(s),this.parent=t;var f=s.initState||"IDLE";this.start(f)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var s=t.runTransitionInCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var s=t.runTransitionOutCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}}var uO=function(i,t,s,f,T){var E=Ar(i),n=E.time.delayedCall(t,function(){E.game.events.once("poststep",function(){s.call(f,T)})});return n};const dO={delayCall(i,t,s){return this.delayCallTimer=uO(this,i,t,s),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},fO={setTransitInTime(i){return this.transitInTime=i,this},setTransitOutTime(i){return this.transitOutTime=i,this},setTransitInCallback(i){return i||(i=he),this.transitInCallback=i,this},setTransitOutCallback(i){return i||(i=he),this.transitOutCallback=i,this}},vO={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(i,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?i:this.parent;var s=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=s,this}},cO={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(i,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?i:this.parent;var s=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=s,this}};var b0={};Object.assign(b0,dO,fO,vO,cO);const ir=Phaser.Utils.Objects.GetValue;class Th extends Yt{constructor(t,s){super(t,s),this.setTransitInTime(ir(s,"duration.in",200)),this.setTransitOutTime(ir(s,"duration.out",200)),this.setTransitInCallback(ir(s,"transitIn")),this.setTransitOutCallback(ir(s,"transitOut")),this.oneShotMode=ir(s,"destroy",!1),this.delayCallTimer=void 0,this._state=new lO(this,{eventEmitter:!1,initState:ir(s,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(Th.prototype,b0);const pO=Phaser.GameObjects.Rectangle;class _u extends pO{constructor(t,s,f){super(t,0,0,2,2,s,1),this.setAlpha(f),this.setScrollFactor(0),this.boot()}boot(){var t=this.scene;t.sys.events.on("prerender",this.resize,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.sys.events.off("prerender",this.resize,this),super.destroy(t))}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}resize(){var t=this.scene,s=t.sys.scale.gameSize,f=t.sys.cameras.main,T=s.width,E=s.height,n=1/f.zoom,C=T/2,e=E/2,u=T*n,x=E*n;(this.x!==C||this.y!==e)&&this.setPosition(C,e),(this.width!==u||this.height!==x)&&this.setSize(u,x).setOrigin(.5)}}const Go=Phaser.Utils.Objects.GetValue;class Sh extends Yt{constructor(t,s){super(t,{eventEmitter:!1}),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setHitAreaMode(Go(t,"hitAreaMode",0)),this.setEnable(Go(t,"enable",!0)),this.setStopMode(Go(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,s,f,T){this.stopAllLevels&&T.stopPropagation()},this).on("pointerup",function(t,s,f,T){this.stopAllLevels&&T.stopPropagation()},this).on("pointermove",function(t,s,f,T){this.stopAllLevels&&T.stopPropagation()},this).on("pointerover",function(t,s,f,T){this.stopAllLevels&&T.stopPropagation()},this).on("pointerout",function(t,s){this.stopAllLevels&&s.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=gO[t]);var s=this.parent;return s.input&&s.removeInteractive(),t===0?s.setInteractive():s.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var gO={default:0,fullWindow:1};const Yv=Phaser.Utils.Objects.GetValue;class td extends _u{constructor(t,s){var f=Yv(s,"color",0),T=Yv(s,"alpha",.8);super(t,f,T),this.touchEventStop=new Sh(this,{hitAreaMode:1})}}var mO=function(i,t){var s=i.scene,f=new td(s,t);return s.add.existing(f),i.isRexContainerLite?(i.pin(f,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),i.moveDepthBelow(f)):s.children.moveBelow(f,i),f};const fa={popUp(i,t){i._modalScaleSave!==void 0?(i.scaleX=i._modalScaleSave,i.scaleY=i._modalScaleSave):i._modalScaleSave=i.scaleX,Ju(i,t)},scaleDown(i,t){M0(i,t,void 0,void 0,!1)},fadeIn(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,yh(i,t)},fadeOut(i,t){Ch(i,t,!1)}};var xO=function(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,yh(i,t,i.alpha)},yO=function(i,t){Ch(i,t,!1)},gn=function(i,t,s,f,T){if(!i||f&&!f(i,t,s))return!1;var E=pu(i,!0);return!(!E.contains(t,s)||T&&!T(i,t,s))};const hi=Phaser.Utils.Objects.GetValue;class CO extends Th{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=$i.popUp),s.transitOut==null&&(s.transitOut=$i.scaleDown),s.destroy=hi(s,"destroy",!0),super(t,s);var f=hi(s,"cover");this.cover=f!==!1?mO(t,f):void 0,this.cover&&(this.setCoverTransitInCallback(hi(f,"transitIn",xO)),this.setCoverTransitOutCallback(hi(f,"transitOut",yO)));var T=hi(s,"touchOutsideClose",!1),E=hi(s,"duration.hold",-1),n=hi(s,"timeOutClose",E>=0),C=hi(s,"anyTouchClose",!1),e=hi(s,"manualClose",!1);e&&(T=!1,C=!1,n=!1),C&&(T=!1),n?this.setDisplayTime(E):this.setDisplayTime(-1),C?this.once("open",this.anyTouchClose,this):T&&this.once("open",this.touchOutsideClose,this),hi(s,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&gn(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),s=this.cover;return s&&this.coverTransitInCallback&&this.coverTransitInCallback(s,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),s=this.cover;return s&&this.coverTransitOutCallback&&this.coverTransitOutCallback(s,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=$i[t]),t){case $i.popUp:t=fa.popUp;break;case $i.fadeIn:t=fa.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=$i[t]),t){case $i.scaleDown:t=fa.scaleDown;break;case $i.fadeOut:t=fa.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}}const $i={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var ed=function(i,t){var s=new CO(i,t);return s.on("open",function(){i.emit("modal.open",s)}),s.on("close",function(f){i.emit("modal.close",f,s)}),i.on("modal.requestClose",s.requestClose,s),s},TO=function(i,t){var s=ed(i,t);return new Promise(function(f,T){s.once("close",function(E){f(E)})})},D0=function(i,t){i.emit("modal.requestClose",t)},Ii=function(i){return i&&typeof i=="function"};const id={modal(i,t){return Ii(i)&&(t=i,i=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,i),this._modalBehavior=ed(this,i)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(i){var t=this;return new Promise(function(s,f){t.modal(i,s)})},modalClose(i){return D0(this,i),this}};var Eh=function(i,t,s,f){if(t)return gn(i,t.worldX,t.worldY,s,f);for(var T=i.scene.input.manager,E=T.pointersTotal,n=T.pointers,C=0;C<E;C++)if(t=n[C],gn(i,t.worldX,t.worldY,s,f))return!0;return!1},SO=function(i,t){return(De(i)||typeof i=="string")&&(t=i,i=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),Eh(t,i)},si=function(i){return Object.prototype.toString.call(i)==="[object Array]"},th=function(i,t,s,f,T){return gn(i,t,s,EO(f),PO(T))},Hv=function(i){var t=i.rexSizer&&i.rexSizer.hidden;return!t},EO=function(i){return i?function(t,s,f){return Hv(t)?(i(t,s,f),!0):!1}:Hv},PO=function(i){return i},MO=function(i,t,s,f,T){if(Ii(s)||(T=s,s=void 0,f=void 0),T===void 0&&(this.sizerChildren?T=this.sizerChildren:T=this.children),si(T)){for(var E,n=0,C=T.length;n<C;n++)if(E=T[n],th(E,i,t,s,f))return E}else{var E;for(var e in T)if(E=T[e],th(E,i,t,s,f))return E}return null},wO=function(i,t){return t===void 0?t={}:t===!0&&(t=RO),t.x=i.x,t.y=i.y,t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.width=i.width,t.height=i.height,t.displayWidth=i.displayWidth,t.displayHeight=i.displayHeight,t},RO={},Ln=function(i){this.sizerEventsEnable&&(wO(i,this.getChildPrevState(i)),this.layoutedChildren.push(i))},On=function(i,t,s,f,T,E,n,C){Mn(i,t,s,f,T,E),n!==void 0&&(i.x+=n),C!==void 0&&(i.y+=C),this.resetChildPositionState(i),this.sizerEventsEnable&&i.emit("sizer.postlayout",i,this)};const AO=Phaser.Display.Align.CENTER;var LO=function(){if(this.backgroundChildren!==void 0)for(var i=this.backgroundChildren,t=this.left,s=this.top,f=this.width,T=this.height,E,n,C,e,u,x,d,o=0,a=i.length;o<a;o++)E=i[o],n=E.rexSizer,!n.hidden&&(C=n.padding,Ln.call(this,E),e=t+C.left,u=s+C.top,x=f-C.left-C.right,d=T-C.top-C.bottom,pe(E,x,d),On.call(this,E,e,u,x,d,AO))};const OO=Phaser.Utils.Objects.IsPlainObject;var FO=function(i,t,s){if(OO(i)){var f=i;i=f.sensor,s=f.target,t=f.draggable}else typeof t!="boolean"&&(s=t,t=void 0);var T=typeof i;if(T==="string"){var E=i;if(i=this.getElement(E),!i)return console.error(`Can get element '${E}'`),this}else(i===void 0||T!="object")&&(t=i,i=this);return t===void 0&&(t=!0),i.input&&i.input._rexUIDragSizer?i.input.draggable=t:t&&(i.setInteractive(),i.scene.input.setDraggable(i),i.on("drag",function(n,C,e){var u=s===void 0?this.getTopmostSizer():s;u.x+=C-i.x,u.y+=e-i.y,u.emit("sizer.drag",n,C,e)},this).on("dragstart",function(n,C,e){var u=s===void 0?this.getTopmostSizer():s;u.emit("sizer.dragstart",n,C,e)},this).on("dragend",function(n,C,e,u){var x=s===void 0?this.getTopmostSizer():s;x.emit("sizer.dragend",n,C,e,u)},this).on("drop",function(n,C){var e=s===void 0?this.getTopmostSizer():s;e.emit("sizer.drop",n,C)}),i.input._rexUIDragSizer=!0),this};const B0={onClick(i,t,s,f){return i?(typeof i=="function"&&(f=s,s=t,t=i,i=this),i._click===void 0&&(i._click=new Ni(i,f)),i._click.on("click",t,s),this):this},offClick(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._click===void 0?this:(i._click.off("click",t,s),this)},enableClick(i,t){return typeof i=="boolean"&&(t=i,i=void 0),i===void 0&&(i=this),i._click===void 0?this:(i._click.setEnable(t),this)},disableClick(i){return i===void 0&&(i=this),i._click===void 0?this:(i._click.setEnable(!1),this)}},Kr=Phaser.Utils.Objects.GetValue;class sd extends Yt{constructor(t,s){super(t,s),this._enable=void 0;var f=Kr(s,"inputConfig",void 0);f&&t.setInteractive(f),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Kr(t,"enable",!0)),this.setMode(Kr(t,"mode",1)),this.setClickInterval(Kr(t,"clickInterval",100)),this.setDragThreshold(Kr(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var s=this.parent.scene;s.input.off("pointerdown",this.onPress,this),s.input.off("pointerup",this.onRelease,this),s.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=bO[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var s=this.parent,f=s.input?yu:Eh;return f(s,t)}onPress(t){!this.parent.willRender(t.camera)||this.pointer===void 0&&(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t)))}onRelease(t){!this.parent.willRender(t.camera)||this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,s,f,T){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,s){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,s),this;this.pointer=void 0;var f=this.lastClickTime;return f!==void 0&&t-f<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,s),this)}cancel(){return this.pointer=void 0,this}}const bO={press:0,pointerdown:0,release:1,pointerup:1},DO={onClickOutside(i,t,s,f){return i?(typeof i=="function"&&(f=s,s=t,t=i,i=this),i._clickOutside===void 0&&(i._clickOutside=new sd(i,f)),i._clickOutside.on("clickoutside",t,s),this):this},offClickOutside(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._clickOutside===void 0?this:(i._clickOutside.off("clickoutside",t,s),this)},enableClickOutside(i,t){return typeof i=="boolean"&&(t=i,i=void 0),i===void 0&&(i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(t),this)},disableClickOutside(i){return i===void 0&&(i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(!1),this)}};class BO extends zi{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,s){this.remainderTime-=s,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>s?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const No=Phaser.Utils.Objects.GetValue;class Er extends Yt{constructor(t,s){super(t,s),this._enable=void 0,this.cooldown=new BO,this.parent.setInteractive(No(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(No(t,"enable",!0)),this.setCooldown(No(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,s,f){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,s){this.cooldown.update(t,s),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const IO={isPointerInBounds(i){return i===void 0?i=this:typeof i=="string"&&(i=this.getElement(i)),i?Eh(i):!1},onTouching(i,t,s,f){return i?(typeof i=="function"&&(f=s,s=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new Er(i,f)),i._inTouching.on("intouch",t,s),this):this},offTouching(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("intouch",t,s),this)},onTouchingEnd(i,t,s,f){return i?(typeof i=="function"&&(f=s,s=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new Er(i,f)),i._inTouching.on("touchend",t,s),this):this},offTouchingEnd(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("touchend",t,s),this)},enableTouching(i,t){return typeof i=="boolean"&&(t=i,i=void 0),i===void 0&&(i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(t),this)},disableTouching(i){return i===void 0&&(i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(!1),this)}};var I0=function(i,t,s){for(var f,T=0,E=i.length;T<E;T++)if(f=i[T],!!th(f,t,s))return f.pointToChild(t,s);return null},Ci=function(i,t,s,f,T,E,n,C){var e;if(E===void 0)e=T;else if(f==="parent")e=I0(s,T,E);else for(var u=0,x=s.length;u<x;u++){var d=s[u];if(th(d,T,E)){e=d;break}}!e||i.emit(t,e,n,C)};const GO=Phaser.Utils.Objects.GetValue;var NO=function(i){var t=GO(i,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",VO,this))},VO=function(i,t,s,f){var T=this._childrenInteractive;Ci(T.eventEmitter,`${T.eventNamePrefix}down`,T.targetSizers,T.targetMode,i.worldX,i.worldY,i,f)};const zO=Phaser.Utils.Objects.GetValue;var XO=function(i){var t=zO(i,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",WO,this))},WO=function(i,t,s,f){var T=this._childrenInteractive;Ci(T.eventEmitter,`${T.eventNamePrefix}up`,T.targetSizers,T.targetMode,i.worldX,i.worldY,i,f)};const UO=Phaser.Utils.Objects.GetValue;var kO=function(i){var t=UO(i,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",$v,this).on("pointerover",$v,this).on("pointerout",YO,this))},$v=function(i,t,s,f){var T=this._childrenInteractive,E=I0(T.targetSizers,i.worldX,i.worldY),n=T.lastOverChild;E&&n&&E===n||(T.lastOverChild=E,Ci(T.eventEmitter,`${T.eventNamePrefix}out`,T.targetSizers,T.targetMode,n,void 0,i,f),Ci(T.eventEmitter,`${T.eventNamePrefix}over`,T.targetSizers,T.targetMode,E,void 0,i,f))},YO=function(i,t){var s=this._childrenInteractive,f=s.lastOverChild;s.lastOverChild=null,Ci(s.eventEmitter,`${s.eventNamePrefix}out`,s.targetSizers,s.targetMode,f,void 0,i,t)};const HO=Phaser.Utils.Objects.GetValue;var $O=function(i){var t=HO(i,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var s=this._childrenInteractive;this._click=new Ni(this,t),this._click.on("click",function(f,T,E,n){Ci(s.eventEmitter,`${s.eventNamePrefix}click`,s.targetSizers,s.targetMode,E.worldX,E.worldY,E,n)},this)}};const Vo=Phaser.Utils.Objects.GetValue;class Ph extends fh{constructor(t,s){var f=Ar(t);f===t&&(t=void 0),super(f,s),this.gameObject=t,t&&t.setInteractive(Vo(s,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(Vo(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(Vo(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=zo,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){!this.scene||(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,s){if(!!this.enable&&this.pointer===void 0){var f=this.bounds?this.bounds.contains(t.x,t.y):!0;!f||this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=Kv,this.gameObject===void 0&&(this.isTouchingAnyObject=s.length>0),this.onDragStart())}}onPointerUp(t){if(!!this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;!s||this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=zo,this.onDragEnd())}}onPointerMove(t){if(!!this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,f=this.pointer===t;!f&&s||(f&&!s?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===Kv&&this.onDragEnd(),this.pointer=void 0,this.tracerState=zo,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,s){}postUpdate(t,s){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=KO,this}}const zo=0,Kv=1,KO="IDLE",Ps=Phaser.Utils.Objects.GetValue,ZO=Phaser.Math.Distance.Between;class Mh extends Ph{constructor(t,s){super(t,s);var f=this,T={states:{IDLE:{enter:function(){f.stop(),f.tapsCount=0,f.x=0,f.y=0,f.worldX=0,f.worldY=0},exit:function(){var E=f.lastPointer;f.x=E.x,f.y=E.y,f.worldX=E.worldX,f.worldY=E.worldY}},BEGIN:{enter:function(){f.start(),f.tapsCount=0,f.emit("tappingstart",f,f.gameObject,f.lastPointer)}},RECOGNIZED:{enter:function(){f.start(),f.emit("tap",f,f.gameObject,f.lastPointer),f.emit(`${f.tapsCount}tap`,f,f.gameObject,f.lastPointer)}}},init:function(){this.state=Ms},eventEmitter:!1};this.setRecongizedStateObject(new zi(T))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Ps(t,"time",250)),this.setTapInterval(Ps(t,"tapInterval",200)),this.setDragThreshold(Ps(t,"threshold",9)),this.setTapOffset(Ps(t,"tapOffset",10));var s=Ps(t,"taps",void 0);return s!==void 0?this.setTaps(s):(this.setMaxTaps(Ps(t,"maxTaps",void 0)),this.setMinTaps(Ps(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Ms:this.state=sr;break;case sr:var t=this.lastPointer,s=ZO(t.upX,t.upY,t.x,t.y);s>this.tapOffset&&(this.state=rr,this.state=sr);break;case rr:this.state=sr;break}}onDragEnd(){this.state===sr&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=rr))}onDrag(){this.state!==Ms&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Ms)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===sr){var f=this.lastPointer;if(f.isDown){var T=t-f.downTime;T>this.holdTime&&(this.state=Ms)}else{var E=t-f.upTime;E>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=rr:this.state=Ms)}}}postUpdate(t,s){!this.isRunning||!this.enable||this.state===rr&&(this.state=Ms)}get isTapped(){return this.state===rr}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,s){return s===void 0&&(s=t),this.setMinTaps(t).setMaxTaps(s),this}}const Ms="IDLE",sr="BEGIN",rr="RECOGNIZED",Zv=Phaser.Utils.Objects.GetValue;class wh extends Ph{constructor(t,s){super(t,s);var f=this,T={states:{IDLE:{enter:function(){f.x=0,f.y=0,f.worldX=0,f.worldY=0},exit:function(){var E=f.lastPointer;f.x=E.x,f.y=E.y,f.worldX=E.worldX,f.worldY=E.worldY}},BEGIN:{enter:function(){f.start()},exit:function(){f.stop()}},RECOGNIZED:{enter:function(){f.emit("pressstart",f,f.gameObject,f.lastPointer)},exit:function(){f.emit("pressend",f,f.gameObject,f.lastPointer)}}},init:function(){this.state=va},eventEmitter:!1};this.setRecongizedStateObject(new zi(T))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Zv(t,"threshold",9)),this.setHoldTime(Zv(t,"time",251)),this}onDragStart(){this.state=Jv,this.holdTime===0&&(this.state=Xo)}onDragEnd(){this.state=va}onDrag(){this.state!==va&&this.pointer.getDistance()>this.dragThreshold&&(this.state=va)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===Jv){var f=t-this.pointer.downTime;f>=this.holdTime&&(this.state=Xo)}}get isPressed(){return this.state===Xo}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const va="IDLE",Jv="BEGIN",Xo="RECOGNIZED",JO=Phaser.Utils.Objects.GetValue;class G0 extends Ph{constructor(t,s){super(t,s);var f=this,T={states:{IDLE:{},BEGIN:{enter:function(){var E=f.pointer;f.startX=E.x,f.startY=E.y,f.startWorldX=E.worldX,f.startWorldY=E.worldY}},RECOGNIZED:{enter:function(){f.emit("panstart",f,f.gameObject,f.lastPointer)},exit:function(){var E=f.lastPointer;f.endX=E.x,f.endY=E.y,f.endWorldX=E.worldX,f.endWorldY=E.worldY,f.emit("panend",f,f.gameObject,f.lastPointer)}}},init:function(){this.state=Qv},eventEmitter:!1};this.setRecongizedStateObject(new zi(T))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(JO(t,"threshold",10)),this}onDragStart(){this.state=jv,this.dragThreshold===0&&(this.state=ca)}onDragEnd(){this.state=Qv}onDrag(){switch(this.state){case jv:this.pointer.getDistance()>=this.dragThreshold&&(this.state=ca);break;case ca:var t=this.pointer.position,s=this.pointer.prevPosition;this.dx=t.x-s.x,this.dy=t.y-s.y;var f=this.pointer;this.x=f.x,this.y=f.y,this.worldX=f.worldX,this.worldY=f.worldY,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===ca}setDragThreshold(t){return this.dragThreshold=t,this}}const Qv="IDLE",jv="BEGIN",ca="RECOGNIZED",QO=Phaser.Math.Distance.Between,jO=Phaser.Math.Angle.Between,qO={getDt:function(){var i=Su(this.scene);return i},getVelocity:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=QO(t.x,t.y,i.x,i.y),f=s/(this.getDt()*.001);return f},getVelocityX:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(i.x-t.x),f=s/(this.getDt()*.001);return f},getVelocityY:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(i.y-t.y),f=s/(this.getDt()*.001);return f},getVelocityAngle:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=jO(t.x,t.y,i.x,i.y);return s}},_O={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var t3=function(i,t,s){switch(s===void 0?s={}:s===!0&&(s=e3),s.left=!1,s.right=!1,s.up=!1,s.down=!1,i=(i+360)%360,t){case 0:i<180?s.down=!0:s.up=!0;break;case 1:i>90&&i<=270?s.left=!0:s.right=!0;break;case 2:i>45&&i<=135?s.down=!0:i>135&&i<=225?s.left=!0:i>225&&i<=315?s.up=!0:s.right=!0;break;case 3:i>22.5&&i<=67.5?(s.down=!0,s.right=!0):i>67.5&&i<=112.5?s.down=!0:i>112.5&&i<=157.5?(s.down=!0,s.left=!0):i>157.5&&i<=202.5?s.left=!0:i>202.5&&i<=247.5?(s.left=!0,s.up=!0):i>247.5&&i<=292.5?s.up=!0:(i>292.5&&i<=337.5&&(s.up=!0),s.right=!0);break}return s},e3={};const Wo=Phaser.Utils.Objects.GetValue,i3=Phaser.Math.RadToDeg;class Fn extends Ph{constructor(t,s){super(t,s);var f=this,T={states:{IDLE:{enter:function(){f.x=0,f.y=0,f.worldX=0,f.worldY=0},exit:function(){var E=f.lastPointer;f.x=E.x,f.y=E.y,f.worldX=E.worldX,f.worldY=E.worldY}},BEGIN:{enter:function(){f.validDrag=!1}},RECOGNIZED:{enter:function(){f.start(),f.updateDirectionStates(),f.emit("swipe",f,f.gameObject,f.lastPointer)},exit:function(){f.stop(),f.clearDirectionStates()}}},init:function(){this.state=Uo},eventEmitter:!1};this.setRecongizedStateObject(new zi(T)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Wo(t,"threshold",10)),this.setVelocityThreshold(Wo(t,"velocityThreshold",1e3)),this.setDirectionMode(Wo(t,"dir","8dir")),this}onDragStart(){this.state=qv}onDragEnd(){this.state=Uo}onDrag(){this.state===qv&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=ko))}postUpdate(t,s){!this.isRunning||!this.enable||this.state===ko&&(this.state=Uo)}get isSwiped(){return this.state===ko}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=_O[t]),this.dirMode=t,this}updateDirectionStates(){var t=i3(this.getVelocityAngle());return t3(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Fn.prototype,qO);const Uo="IDLE",qv="BEGIN",ko="RECOGNIZED",pa=Phaser.Utils.Objects.GetValue,s3=Phaser.Utils.Array.SpliceOne,r3=Phaser.Math.Distance.Between,n3=Phaser.Math.Angle.Between;class rd{constructor(t,s){var f=Ar(t);f===t&&(t=void 0);var T=f.input.manager.pointersTotal-1;T<2&&f.input.addPointer(2-T),this.scene=f,this.gameObject=t,t&&t.setInteractive(pa(s,"inputConfig",void 0)),this.setEventEmitter(pa(s,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(pa(t,"enable",!0)),this.bounds=pa(t,"bounds",void 0),this.tracerState=ga,this.pointers.length=0,Fi(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){!this.scene||(this.destroyEventEmitter(),this.pointers.length=0,Fi(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(!!this.enable&&this.pointers.length!==2){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(!!s){var f=this.pointers.indexOf(t);if(f===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case ga:this.tracerState=Jr,this.onDrag1Start();break;case Jr:this.tracerState=oi,this.onDrag2Start();break}}}}onPointerUp(t){if(!!this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(!!s){var f=this.pointers.indexOf(t);if(f!==-1)switch(delete this.movedState[t.id],s3(this.pointers,f),this.tracerState){case Jr:this.tracerState=ga,this.onDrag1End();break;case oi:this.tracerState=Jr,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(!!this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,f=this.pointers.indexOf(t)!==-1;if(!(!f&&s)){if(f&&!s)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case Jr:this.onDrag1();break;case oi:this.onDrag2();break}}}}dragCancel(){return this.tracerState===oi&&this.onDrag2End(),this.pointers.length=0,Fi(this.movedState),this.tracerState=ga,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==oi)return 0;var t=this.pointers[0],s=this.pointers[1];return r3(t.x,t.y,s.x,s.y)}get angleBetween(){if(this.tracerState!==oi)return 0;var t=this.pointers[0],s=this.pointers[1];return n3(t.x,t.y,s.x,s.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var s=t.position,f=t.prevPosition;Zr.x=s.x-f.x,Zr.y=s.y-f.y}else Zr.x=0,Zr.y=0;return Zr}get centerX(){if(this.tracerState!==oi)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.x+s.x)/2}get centerY(){if(this.tracerState!==oi)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.y+s.y)/2}get prevCenterX(){if(this.tracerState!==oi)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+s.x)/2}get prevCenterY(){if(this.tracerState!==oi)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+s.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=a3,this}}Object.assign(rd.prototype,wr);var Zr={};const ga=0,Jr=1,oi=2,a3="IDLE",h3=Phaser.Utils.Objects.GetValue;class N0 extends rd{constructor(t,s){super(t,s);var f=this,T={states:{IDLE:{enter:function(){f.prevDistance=void 0,f.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){f.emit("pinchstart",f)},exit:function(){f.emit("pinchend",f)}}},init:function(){this.state=_v},eventEmitter:!1};this.setRecongizedStateObject(new zi(T))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(h3(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=tc,this.dragThreshold===0&&(this.state=ma)}onDrag2End(){this.state=_v}onDrag2(){switch(this.state){case tc:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=ma}break;case ma:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===ma}setDragThreshold(t){return this.dragThreshold=t,this}}const _v="IDLE",tc="BEGIN",ma="RECOGNIZED",o3=Phaser.Math.RotateAround;var ec=function(i,t,s,f){return o3(i,t,s,f),i.rotation+=f,i},l3=function(i,t,s,f){return f===void 0?f={}:f===!0&&(f=u3),s.getWorldPoint(i,t,f),f},u3={},d3=function(i,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var s=this.movementCenterX,f=this.movementCenterY,T=l3(this.centerX,this.centerY,t,!0),E=T.x,n=T.y,C=this.rotation;if(Array.isArray(i))for(var e=i,u=0,x=e.length;u<x;u++)i=e[u],i.x+=s,i.y+=f,ec(i,E,n,C);else i.x+=s,i.y+=f,ec(i,E,n,C);return this};const f3=Phaser.Utils.Objects.GetValue,Yo=Phaser.Math.Angle.WrapDegrees,ic=Phaser.Math.Angle.ShortestBetween,Ho=Phaser.Math.RadToDeg,v3=Phaser.Math.DegToRad;class nd extends rd{constructor(t,s){super(t,s);var f=this,T={states:{IDLE:{enter:function(){f.prevAngle=void 0,f.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){f.emit("rotatestart",f)},exit:function(){f.emit("rotateend",f)}}},init:function(){this.state=sc},eventEmitter:!1};this.setRecongizedStateObject(new zi(T))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(f3(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=Yo(Ho(this.angleBetween)),this.state=rc,this.dragThreshold===0&&(this.state=xa)}onDrag2End(){this.state=sc}onDrag2(){switch(this.state){case rc:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=Yo(Ho(this.angleBetween));this.angle=ic(this.prevAngle,t),this.prevAngle=t,this.state=xa}break;case xa:var t=Yo(Ho(this.angleBetween));this.angle=ic(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===xa}get rotation(){return v3(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var c3={spinObject:d3};Object.assign(nd.prototype,c3);const sc="IDLE",rc="BEGIN",xa="RECOGNIZED",p3=Phaser.Utils.Objects.GetValue;var g3=function(i){var t=p3(i,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._tap=new Mh(this,t),this._tap.on("tap",function(f,T,E){Ci(s.eventEmitter,`${s.eventNamePrefix}${f.tapsCount}tap`,s.targetSizers,s.targetMode,f.worldX,f.worldY,E)},this)}};const m3=Phaser.Utils.Objects.GetValue;var x3=function(i){var t=m3(i,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._press=new wh(this,t),this._press.on("pressstart",function(f,T,E){Ci(s.eventEmitter,`${s.eventNamePrefix}pressstart`,s.targetSizers,s.targetMode,f.worldX,f.worldY,E)},this).on("pressend",function(f,T,E){Ci(s.eventEmitter,`${s.eventNamePrefix}pressend`,s.targetSizers,s.targetMode,f.worldX,f.worldY,E)},this)}};const y3=Phaser.Utils.Objects.GetValue;var C3=function(i){var t=y3(i,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var s=this._childrenInteractive;this._swipe=new Fn(this,t),this._swipe.on("swipe",function(f,T,E){var n=f.left?"left":f.right?"right":f.up?"up":"down";Ci(s.eventEmitter,`${s.eventNamePrefix}swipe${n}`,s.targetSizers,s.targetMode,f.worldX,f.worldY,E)},this)}};const Qr=Phaser.Utils.Objects.GetValue;var ad=function(i,t){return i.setInteractive(),Qr(t,"dropZone",!1)&&(i.input.dropZone=!0),i._childrenInteractive={targetSizers:Qr(t,"targets",[i]),targetMode:Qr(t,"targetMode","parent"),eventEmitter:Qr(t,"eventEmitter",i),eventNamePrefix:Qr(t,"inputEventPrefix","child.")},NO.call(i,t),XO.call(i,t),kO.call(i,t),$O.call(i,t),g3.call(i,t),x3.call(i,t),C3.call(i,t),i},T3=function(i){return ad(this,i),this},S3=function(){for(var i=this.getAllChildren([this]),t=0,s=i.length;t<s;t++){var f=i[t];f.emit.apply(f,arguments)}return this},V0={getSizerConfig:WA,getChildPrevState:UA,pushIntoBounds:kA,drawBounds:eL,resolveWidth:Uu,hasWidthWrap:ku,resolveChildrenWidth:gL,runWidthWrap:Yu,resolveHeight:Hu,hasHeightWrap:$u,resolveChildrenHeight:mL,runHeightWrap:Ku,getChildWidth:xL,getChildHeight:yL,getExpandedChildWidth:CL,getExpandedChildHeight:TL,getChildrenWidth:SL,getChildrenHeight:EL,addChildrenMap:Fv,addElement:Fv,removeChildrenMap:dL,getElement:fL,getChildIndex:cL,getAllChildrenSizers:PL,getChildrenSizers:ML,preLayout:An,layout:RL,runLayout:AL,layoutChildren:FL,layoutBackgrounds:LO,postLayout:DL,_postLayout:bL,setAnchor:NL,isInTouching:SO,pointToChild:MO,setDraggable:FO,setChildrenInteractive:T3,broadcastEvent:S3};Object.assign(V0,pL,rL,uL,Or,Qu,HL,ZL,tO,sO,B0,DO,IO,rO,id,wL);const nr=Phaser.Utils.Objects.GetValue;class Xs extends Be{constructor(t,s,f,T,E,n){super(t,s,f,1,1),this.isRexSizer=!0,this.setMinSize(T,E),this.setName(nr(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.enableLayoutWarn(!1);var C=nr(n,"anchor",void 0);C&&this.setAnchor(C),this.setInnerPadding(nr(n,"space",0));var e=nr(n,"draggable",!1);e&&this.setDraggable(e),this.setSizerEventsEnable(nr(n,"sizerEvents",!1)),this.setDirty(!0),nr(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s=this.getAllChildrenSizers([this]),f=0,T=s.length;f<T;f++)s[f].sizerEventsEnable=!1;super.destroy(t),Fi(this.backgroundChildren),Fi(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,s){return this.setMinWidth(t).setMinHeight(s),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Rt(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Rt(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Rt(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-At(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+At(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+At(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}}Object.assign(Xs.prototype,V0);var E3=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,s,f,T,E=!1;for(var n in t)s=t[n],T=this.getChildWidth(s),T===void 0&&(E=!0),!E&&(f=s.rexSizer.padding,T+=f.left+f.right,i=Math.max(T,i));if(!E)return i+this.space.left+this.space.right},P3=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,s,f,T,E=!1;for(var n in t)s=t[n],T=this.getChildHeight(s),T===void 0&&(E=!0),!E&&(f=s.rexSizer.padding,T+=f.top+f.bottom,i=Math.max(T,i));if(!E)return i+this.space.top+this.space.bottom},M3=function(i,t){t===void 0&&(t=this.width);var s,f=i.rexSizer;if(f.expandWidth){var T=this.space,E=t-T.left-T.right,n=f.padding;s=E-n.left-n.right}return s},w3=function(i,t){t===void 0&&(t=this.height);var s,f=i.rexSizer;if(f.expandHeight){var T=this.space,E=t-T.top-T.bottom,n=f.padding;s=E-n.top-n.bottom}return s},R3=function(i){i===void 0&&(i=[]);var t=this.sizerChildren,s;for(var f in t)s=t[f],s.isRexSizer&&i.push(s);return i},z0=function(i,t,s,f){s===void 0&&(s=!0),f===void 0?f={}:f===!0&&(f=A3);var T=i.width,E=i.height,n=t.width,C=t.height;if(T<=n&&E<=C)if(s){var e=T/E,u=n/C;u<e?(f.width=n,f.height=n/e):u>e?(f.width=C*e,f.height=C):(f.width=n,f.height=C)}else f.width=T,f.height=E;else{var e=T/E;f.width=Math.min(T,n),f.height=Math.min(E,C);var x=f.width/f.height;x<e?f.height=f.width/e:x>e&&(f.width=f.height*e)}return f},A3={},hd=function(i,t){i.layoutWarnEnable&&(i.width<i.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${i.constructor.name}`),i.height<i.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${i.constructor.name}`))},L3=function(){var i,t,s,f=this.innerLeft,T=this.innerTop,E=this.innerWidth,n=this.innerHeight,C,e,u,x,d,o,a,r=this.sizerChildren;for(var l in r)i=r[l],!i.rexSizer.hidden&&(t=i.rexSizer,s=t.padding,Ln.call(this,i),d=this.getExpandedChildWidth(i),o=this.getExpandedChildHeight(i),t.aspectRatio>0&&($o.width=t.aspectRatio,$o.height=1,Ko.width=d,Ko.height=o,a=z0($o,Ko,!0,!0),d=a.width,o=a.height),i.isRexSizer?(i.runLayout(this,d,o),hd(i,this)):pe(i,d,o),C=f+s.left,u=E-s.left-s.right,e=T+s.top,x=n-s.top-s.bottom,On.call(this,i,C,e,u,x,t.align,t.alignOffsetX,t.alignOffsetY))},$o={},Ko={};const nc=Phaser.Utils.Objects.IsPlainObject,$e=Phaser.Utils.Objects.GetValue,ac=Phaser.Display.Align.CENTER,O3=Phaser.Utils.String.UUID;var F3=function(i,t,s,f,T,E,n,C,e,u){if(wn.call(this,i),nc(t)){var d=t;t=$e(d,"key",void 0),s=$e(d,"align",ac),f=$e(d,"padding",0),T=$e(d,"expand",!0),i.isRexSizer||(E=$e(d,"minWidth",i._minWidth),n=$e(d,"minHeight",i._minHeighted)),C=$e(d,"offsetX",0),e=$e(d,"offsetY",0),u=$e(d,"aspectRatio",0)}var x=t!==void 0;x||(t=O3()),typeof s=="string"&&(s=Lr[s]),s===void 0&&(s=ac),f===void 0&&(f=0),T===void 0&&(T=!0),i.isRexSizer||(E===void 0&&(E=i._minWidth),n===void 0&&(n=i._minHeight)),C===void 0&&(C=0),e===void 0&&(e=0),u===void 0?u=0:u===!0&&(u=Rt(i)/At(i)),u>0&&(T=!0,E===void 0&&(E=0),n===void 0&&(n=0));var d=this.getSizerConfig(i);return d.align=s,d.padding=hs(f),nc(T)?(d.expandWidth=$e(T,"width",!1),d.expandHeight=$e(T,"height",!1)):(d.expandWidth=T,d.expandHeight=T),i.isRexSizer||(d.expandWidth&&(i.minWidth=E===void 0?Rt(i):E),d.expandHeight&&(i.minHeight=n===void 0?At(i):n)),d.alignOffsetX=C,d.alignOffsetY=e,d.aspectRatio=u,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=i,x&&this.addChildrenMap(t,i),this};const b3={add:F3},D3=Be.prototype.clear;var Rh=function(i){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!i&&this.sizerEventsEnable,s;if(t&&(s=this.getChildren([])),D3.call(this,i),t)for(var f,T=0,E=s.length;T<E;T++)f=s[T],f.emit("sizer.remove",f,this),this.emit("remove",f,this);return this};const B3={remove(i,t){var s;if(typeof i=="string"){if(s=i,i=this.sizerChildren[s],!i)return this}else{if(this.getParentSizer(i)!==this)return this;s=this.childToKey(i)}return s&&(delete this.sizerChildren[s],this.childrenMap.hasOwnProperty(s)&&delete this.childrenMap[s]),Rn.call(this,i,t),this},removeAll(i){for(var t in this.sizerChildren)this.remove(t,i);return this},clear(i){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Rh.call(this,i),this}};var X0={getChildrenWidth:E3,getChildrenHeight:P3,getExpandedChildWidth:M3,getExpandedChildHeight:w3,getChildrenSizers:R3,layoutChildren:L3};Object.assign(X0,b3,B3);var Ah=function(i,t){if(Array.isArray(i))return i.indexOf(t);for(var s in i)if(i[s]===t)return s;return null};const hc=Phaser.Utils.Objects.IsPlainObject,ar=Phaser.Utils.Objects.GetValue;class He extends Xs{constructor(t,s,f,T,E,n){hc(s)?(n=s,s=ar(n,"x",0),f=ar(n,"y",0),T=ar(n,"width",void 0),E=ar(n,"height",void 0)):hc(T)&&(n=T,T=ar(n,"width",void 0),E=ar(n,"height",void 0)),super(t,s,f,T,E,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var s=t;if(this.sizerChildren.hasOwnPropery(s))return s}else return Ah(this.sizerChildren,t);return null}}Object.assign(He.prototype,X0);var I3=Phaser.Math.Distance.Between,eh=function(i,t,s){var f=i.width/2;return I3(f,f,t,s)<=f};const G3=Phaser.Math.Angle.Between,N3=Phaser.Math.Angle.Normalize;var oc=function(i,t,s){if(!!this.enable&&!!i.isDown){var f=this.sizerChildren.knob;if(!!eh(f,t,s)){var T=f.width/2,E=f.startAngle,n=G3(T,T,t,s),C=f.anticlockwise?E-n:n-E,e=N3(C)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-e)<.1?this.value=e:this.easeValueTo(e)}}},V3=function(){var i=this.sizerChildren.knob;i.on("pointerdown",oc,this).on("pointermove",oc,this).setInteractive()};const lc=Phaser.Math.Angle.Between,z3=Phaser.Math.Angle.Wrap;var X3=function(i,t,s){if(!(!this.enable||this.panPointer)){var f=this.sizerChildren.knob;!eh(f,t,s)||W0.call(this,i)}},W3=function(i,t,s){if(!!this.enable&&!!i.isDown){var f=this.sizerChildren.knob;switch(this.panState){case od:eh(f,t,s)&&W0.call(this,i);break;case k0:eh(f,t,s)?k3.call(this):U0.call(this);break}}},U3=function(i,t,s){!this.enable||this.panPointer!==i||U0.call(this)},W0=function(i){this.panPointer=i,this.panState=k0},U0=function(){this.panPointer=void 0,this.panState=od},k3=function(){var i=this.panPointer.prevPosition,t=this.panPointer.position,s=this.sizerChildren.knob,f=lc(s.x,s.y,i.x,i.y),T=lc(s.x,s.y,t.x,t.y),E=s.anticlockwise?f-T:T-f,n=z3(E)/(Math.PI*2);this.stopEaseValue(),this.value+=n};const od=0,k0=1;var Y3=function(){var i=this.sizerChildren.knob;i.on("pointerdown",X3,this).on("pointermove",W3,this).on("pointerup",U3,this).setInteractive(),this.panPointer=void 0,this.panState=od},H3=function(i,t){return this.textFormatCallback=i,this.textFormatCallbackScope=t,this},Y0=function(i){i===void 0&&(i=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(i):t=this.textFormatCallback.call(this.textFormatCallbackScope,i),t},$3=function(i){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(Y0.call(this,i)),t.layout&&t.layout()),this};const K3={setTextFormatCallback:H3,getFormatText:Y0,updateText:$3},Ke=Phaser.Utils.Objects.GetValue,Z3=Phaser.Math.Snap.To;class ld extends zs(He){constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexKnob",this.bootProgressBase(s);var f=Ke(s,"background",void 0),T=Ke(s,"text",void 0);f&&this.addBackground(f),T&&(s.textColor=void 0,s.textStrokeColor=void 0,this.setTextFormatCallback(Ke(s,"textFormatCallback",void 0),Ke(s,"textFormatCallbackScope",void 0)));var E=new mh(t,s);E.setDepth(Ke(s,"knobDepth",0)),E._value=-1,t.add.existing(E),this.add(E,"knob"),T&&(this.add(T,"text","center",0,!1),t.children.moveBelow(E,T)),this.addChildrenMap("background",f),this.addChildrenMap("knob",E),this.addChildrenMap("text",T),this.setEnable(Ke(s,"enable",void 0)),this.setGap(Ke(s,"gap",void 0)),this.setValue(Ke(s,"value",0),Ke(s,"min",void 0),Ke(s,"max",void 0));var n=Ke(s,"input",0);switch(typeof n=="string"&&(n=J3[n]),n){case 0:Y3.call(this);break;case 1:V3.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=Z3(t,this.gap));var s=this.value;this.sizerChildren.knob.value=t;var f=this.value;s!==f&&(this.updateText(),this.eventEmitter.emit("valuechange",f,s,this.eventEmitter))}}const J3={pan:0,drag:0,click:1,none:-1};Object.assign(ld.prototype,K3);st.register("knob",function(i){var t=new ld(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Knob",ld);const Q3={arc:Eu,circle:o0,curve:Bw,ellipse:Iw,line:Gw,lines:rs,rectangle:sR,roundRectangle:ja,triangle:nR},uc=Phaser.Utils.Objects.GetValue,j3=Phaser.Utils.Objects.IsPlainObject,q3=function(){for(var i=this.getShapes(),t=0,s=i.length;t<s;t++)i[t].lineStyle().fillStyle()},_3={createShape(i,t){var s=Q3[i],f=new s;return t&&f.setName(t),f},buildShapes(i){var t=uc(i,"create",void 0);if(j3(t)){var s=t;for(var f in s){var T=s[f];switch(typeof T){case"number":for(var E=0;E<T;E++)this.addShape(this.createShape(f));break;case"string":this.addShape(this.createShape(f,T));break;default:for(var n=T,E=0,C=n.length;E<C;E++)this.addShape(this.createShape(f,n[E]));break}}}else if(Array.isArray(t))for(var s=t,E=0,C=s.length;E<C;E++){var e=s[E];this.addShape(this.createShape(e.type,e.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(uc(i,"update"))},setUpdateShapesCallback(i){return i===void 0&&(i=q3),this.dirty=this.dirty||this.updateCallback!==i,this.updateCallback=i,this},updateShapes(){this.updateCallback.call(this)}},dc=Phaser.GameObjects.Components.TransformMatrix,tF=Phaser.Math.TransformXY;var eF=function(i,t,s,f,T){f===void 0&&(f=i.scene.cameras.main),T===void 0?T={}:T===!0&&(T=iF);var E=f.scrollX,n=f.scrollY,C=t+E*i.scrollFactorX-E,e=s+n*i.scrollFactorY-n;return i.parentContainer?(ya===void 0&&(ya=new dc,fc=new dc),i.getWorldTransformMatrix(ya,fc),ya.applyInverse(C,e,T)):tF(C,e,i.x,i.y,i.rotation,i.scaleX,i.scaleY,T),T.x+=i.displayOriginX,T.y+=i.displayOriginY,T},ya,fc,iF={};const jr=Phaser.Utils.Objects.GetValue,sF=Phaser.Utils.Objects.IsPlainObject;class Lh extends Ns{constructor(t,s,f,T,E,n){sF(s)&&(n=s,s=jr(n,"x",0),f=jr(n,"y",0),T=jr(n,"width",2),E=jr(n,"height",2)),super(t,s,f,T,E),this.type=jr(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,s,f,T){return typeof f=="boolean"&&(T=f,f=void 0),eF(this,t,s,f,T)}}Object.assign(Lh.prototype,_3);st.register("customShapes",function(i,t,s,f,T){var E=new Lh(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.CustomShapes",Lh);const qr=Phaser.Utils.Objects.GetValue,rF=Phaser.Utils.Objects.IsPlainObject;class Ei extends zs(Lh){constructor(t,s,f,T,E,n){rF(s)&&(n=s,s=qr(n,"x",0),f=qr(n,"y",0),T=qr(n,"width",2),E=qr(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,s,f,T,E,n),this.bootProgressBase(n),this.setValue(qr(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}st.register("customProgress",function(i,t,s,f,T){var E=new Ei(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.CustomProgress",Ei);const nF={setTransitionStartCallback(i,t){return this.onStartCallback=i,this.onStartCallbackScope=t,this},setTransitionProgressCallback(i,t){return this.onProgressCallback=i,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(i,t){return this.onCompleteCallback=i,this.onCompleteCallbackScope=t,this}},vc=Phaser.Utils.Objects.IsPlainObject,Zo=Phaser.Utils.Objects.GetValue,aF=Phaser.Utils.Array.GetRandom;var hF={out:0,in:1},li=function(i,t,...s){for(var f=0,T=s.length;f<T;f++){var E=s[f];if(E&&E.hasOwnProperty(i))return E[i]}return t};const oF={setTransitionDirection(i){return typeof i=="string"&&(i=hF[i]),this.dir=i,this},setDuration(i){return this.duration=i,this},setEaseFunction(i){return this.easeFunction=i,this},setNextTexture(i,t){return this.nextImage.setTexture(i,t),this},transit(i,t,s){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),s!==void 0&&(i={key:i,frame:t,mode:s}),this.currentTransitionMode=void 0,vc(i)){var f=i;i=Zo(f,"key",void 0),t=Zo(f,"frame",void 0),s=Zo(f,"mode"),Array.isArray(s)&&(s=aF(s));var T;this.transitionModes&&this.transitionModes.hasOwnProperty(s)&&(T=this.transitionModes[s],this.currentTransitionMode=s),this.setDuration(li("duration",this.duration,f,T)).setEaseFunction(li("ease",this.easeFunction,f,T)).setTransitionDirection(li("dir",this.dir,f,T));var E=li("mask",void 0,f,T);E&&this.setMaskGameObject(E),this.setMaskEnable(E===!0);var n=li("onStart",void 0,f,T),C=li("onProgress",void 0,f,T),e=li("onComplete",void 0,f,T);(n!==void 0||C!==void 0||e!==void 0)&&this.setTransitionStartCallback(n,li("onStartScope",void 0,f,T)).setTransitionProgressCallback(C,li("onProgressScope",void 0,f,T)).setTransitionCompleteCallback(e,li("onCompleteScope",void 0,f,T))}return this.setNextTexture(i,t),this.start(),this},addTransitionMode(i,t){return this.transitionModes===void 0&&(this.transitionModes={}),vc(i)&&(t=i,i=t.name,delete t.name),this.transitionModes[i]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new fs(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};var cc=function(i,t,s,f,T){switch(this.clear().fillStyle(16777215),this.shapeType){case 1:s=s.left;var E=Math.min(i,t)/2;this.fillCircle(-i*(f-.5),-t*(T-.5),E+s);break;default:this.fillRect(-(i*f)-s.left,-(t*T)-s.top,i+s.left+s.right,t+s.top+s.bottom);break}};const lF=Phaser.GameObjects.Graphics;class ql extends lF{constructor(t,s,f){s===void 0&&(s=0),typeof s=="string"&&(s=uF[s]),super(t.scene),this.parent=t,this.shapeType=s,this.padding=hs(f),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,s){var f=this.parent;return t===void 0&&(t=f.x),s===void 0&&(s=f.y),super.setPosition(t,s),this}resize(t,s,f){var T=this.parent;t===void 0&&(t=T.width),s===void 0&&(s=T.height),f===void 0?f=this.padding:typeof f=="number"&&(f=hs(f));var E=this.width!==t||this.height!==s,n=this.padding!==f&&!ph(this.padding,f);return!E&&!n?this:(this.width=t,this.height=s,n&&Bi(f,this.padding),this.originX=T.originX,this.originY=T.originY,cc.call(this,t,s,f,T.originX,T.originY),this)}setOrigin(t,s){s===void 0&&(s=t);var f=this.parent;return t===void 0&&(t=f.originX),s===void 0&&(s=f.originY),this.originX===t&&this.originY===s?this:(this.originX=t,this.originY=s,cc.call(this,this.width,this.height,this.padding,t,s),this)}}const uF={rectangle:0,circle:1},dF={setMaskGameObject(i){if(!i)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(i===!0&&this.maskGameObject instanceof ql)return this;if(this.maskGameObject===i)return this;this.removeMaskGameObject()}return i===!0&&(i=new ql(this)),i.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(i),this.maskGameObject=i,i._maskObject||(i._maskObject=i.createGeometryMask(),i.once("destroy",function(){i._maskObject.destroy(),i._maskObject=void 0})),this.childrenMask=i._maskObject,this},removeMaskGameObject(i){return i===void 0&&(i=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,i),this.maskGameObject=void 0,this},setImageMaskEnable(i,t,s){return t===void 0&&(t=!0),s===void 0&&(s=!1),t?(this.childrenMask||this.setMaskGameObject(!0),i.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(s)):i.clearMask(),this},setCurrentImageMaskEnable(i,t){return this.setImageMaskEnable(this.currentImage,i,t),this},setNextImageMaskEnable(i,t){return this.setImageMaskEnable(this.nextImage,i,t),this},setCellImagesMaskEnable(i,t){for(var s=this.getCellImages(),f=0,T=s.length;f<T;f++)this.setImageMaskEnable(s[f],i,t);return this},setMaskEnable(i,t){return this.setImageMaskEnable(this.backImage,i,t),this.setImageMaskEnable(this.frontImage,i,t),this.setCellImagesMaskEnable(i,t),this}};var fF=function(i,t){typeof i=="object"&&(i=i.name),t===void 0&&(t=",");var s;return i==="__BASE"?s=function(f,T){return`${f}${t}${T}`}:s=function(f,T){return`${i}_${f}${t}${T}`},s},vF=function(i,t,s,f,T,E){s==null&&(s="__BASE"),E||(E=fF(s,E));for(var n=i.sys.textures.get(t),C=typeof s=="object"?s:n.get(s),e=C.width,u=C.height,x,d,o,a=e/f,r=u/T,l=C.cutX,v=C.cutY,h=0,c=0,p=0;p<T;p++){h=0;for(var g=0;g<f;g++)o=E(g,p),x=h+l,d=c+v,n.add(o,0,x,d,a,r),h+=a;c+=r}return{getFrameNameCallback:E,cellWidth:a,cellHeight:r,columns:f,rows:T}};const Mi=Phaser.Utils.Objects.GetValue,cF=Phaser.GameObjects.Image,pF=Phaser.Utils.Objects.IsPlainObject,gF=Phaser.Math.RotateAround;var mF=function(i,t,s,f){pF(t)&&(f=t,t=Mi(f,"columns",1),s=Mi(f,"rows",1));var T=Mi(f,"createImageCallback");if(!T){var E=Mi(f,"ImageClass",cF);T=function(B,I,N){return new E(B,0,0,I,N)}}for(var n=Mi(f,"originX",.5),C=Mi(f,"originY",.5),e=Mi(f,"add",!0),u=Mi(f,"align",e),x=Mi(f,"objectPool",void 0),d=i.scene,o=i.texture,a=i.frame,r=vF(d,o,a,t,s),l=r.getFrameNameCallback,v=i.scaleX,h=i.scaleY,c=i.rotation,p=i.getTopLeft(),g=p.x,m=p.y,y=[],S=r.cellWidth*v,M=r.cellHeight*h,P=0;P<s;P++)for(var w=0;w<t;w++){var R,A=l(w,P);if(x&&x.length>0?R=x.pop().setTexture(o,A):R=T(d,o,A),e&&d.add.existing(R),u){var L=g+S*w,F=m+M*P,O=L+n*S,b=F+C*M;R.setOrigin(n,C).setPosition(O,b).setScale(v,h).setRotation(c),gF(R,g,m,c)}y.push(R)}return y};const xF={gridCutImage(i,t,s,f){f===void 0&&(f={}),f.objectPool=this.imagesPool;for(var T=mF(i,t,s,f),E,n=0,C=T.length;n<C;n++)E=T[n],E.setVisible(!0),this.add(E);return this.cellImages=T,this.setChildLocalVisible(i,!1),T},gridCutCurrentImage(i,t,s){return this.gridCutImage(this.currentImage,i,t,s)},gridCutNextImage(i,t,s){return this.gridCutImage(this.nextImage,i,t,s)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var i=this.cellImages[0].texture,t=this.cellImages,s,f,T=0,E=t.length;T<E;T++)s=t[T],this.setChildLocalAlpha(s,1).setChildLocalScale(s,1).setChildLocalVisible(s,!1),s.clearMask(),f=s.frame.name,s.setTexture(),i.remove(f);return this.imagesPool.push(...t),t.length=0,this}},H0={setFlipX(i){return this.flipX=i,this},setFlipY(i){return this.flipY=i,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(i,t){return this.flipX=i,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var $0={};Object.assign($0,nF,oF,dF,xF,H0);var yF=function(i,t,s,f){},CF=function(i,t,s,f){i.setChildLocalAlpha(t,1-f).setChildLocalAlpha(s,f)},TF=function(i,t,s,f){i.setChildLocalAlpha(t,1)};const pc=Phaser.Utils.Objects.IsPlainObject,qt=Phaser.Utils.Objects.GetValue,SF=Phaser.Math.Clamp;class Oh extends Be{constructor(t,s,f,T,E,n){pc(s)?(n=s,s=qt(n,"x",0),f=qt(n,"y",0),T=qt(n,"key",void 0),E=qt(n,"frame",void 0)):pc(E)&&(n=E,E=void 0);var C=qt(n,"back",void 0),e=qt(n,"front",void 0);C||(C=t.add.image(s,f,T,E)),e||(e=t.add.image(s,f,T,E));var u=qt(n,"width",e.width),x=qt(n,"height",e.height);super(t,s,f,u,x),this.type="rexTransitionImage",C.setVisible(!1),this.addMultiple([C,e]),this.backImage=C,this.frontImage=e,this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var d=qt(n,"onStart",void 0),o=qt(n,"onProgress",void 0),a=qt(n,"onComplete",void 0),r=qt(n,"dir",0);d===void 0&&o===void 0&&a===void 0&&(d=yF,o=CF,a=TF,r=0),this.setTransitionStartCallback(d,qt(n,"onStartScope",void 0)).setTransitionProgressCallback(o,qt(n,"onProgressScope",void 0)).setTransitionCompleteCallback(a,qt(n,"onCompleteScope",void 0)).setTransitionDirection(r).setDuration(qt(n,"duration",1e3)).setEaseFunction(qt(n,"ease","Linear"));var l=qt(n,"mask",void 0);l&&this.setMaskGameObject(l),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}get t(){return this._t}set t(t){if(t=SF(t,0,1),this._t!==t){this._t=t;var s=this.currentImage,f=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),Jo(this.onStartCallback,this.onStartCallbackScope,this,s,f,t)),Jo(this.onProgressCallback,this.onProgressCallbackScope,this,s,f,t),t===1){Jo(this.onCompleteCallback,this.onCompleteCallbackScope,this,s,f,t);var T=f.texture.key,E=f.frame.name;this.frontImage.setTexture(T,E),this.backImage.setTexture(T,E),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,s){return super.setOrigin(t,s),this.backImage.setOrigin(t,s),this.frontImage.setOrigin(t,s),this.maskGameObject&&this.maskGameObject.setOrigin(t,s),this}setTexture(t,s){return this.frontImage.setTexture(t,s),this.backImage.setTexture(t,s).setVisible(!1),this}}var Jo=function(i,t,s,f,T,E){!i||(t?i.call(t,s,f,T,E):i(s,f,T,E))};Object.assign(Oh.prototype,$0);st.register("transitionImage",function(i,t,s,f,T){var E=new Oh(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.TransitionImage",Oh);const EF="slideLeft",PF="slideRight",MF="slideUp",wF="slideDown",RF="slideAwayLeft",AF="slideAwayRight",LF="slideAwayUp",OF="slideAwayDown",FF="pushLeft",bF="pushRight",DF="pushUp",BF="pushDown",IF="zoomOut",GF="zoomIn",NF="zoomInOut",VF="fade",zF="crossFade",XF="wipeLeft",WF="wipeRight",UF="wipeUp",kF="wipeDown",YF="irisOut",HF="irisIn",$F="irisInOut",KF="pieOut",ZF="pieIn",JF="pieInOut",QF="blinds",jF="squares",qF="diamonds",_F="circles",tb="curtain",eb="pixellate",ib="dissolve",sb="revealLeft",rb="revealRight",nb="revealUp",ab="revealDown";var hb=function(i){i.addTransitionMode(AF,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=s.width*T;t.setChildLocalPosition(s,E,0)},onComplete:function(t,s,f,T){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(RF,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=s.width*-T;t.setChildLocalPosition(s,E,0)},onComplete:function(t,s,f,T){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(OF,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=s.height*T;t.setChildLocalPosition(s,0,E)},onComplete:function(t,s,f,T){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(LF,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=s.height*-T;t.setChildLocalPosition(s,0,E)},onComplete:function(t,s,f,T){t.setChildLocalPosition(s,0,0)}})},ob=function(i){i.addTransitionMode(PF,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=f.width*(T-1);t.setChildLocalPosition(f,E,0)},onComplete:function(t,s,f,T){t.setChildLocalPosition(f,0,0)}}).addTransitionMode(EF,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=f.width*(1-T);t.setChildLocalPosition(f,E,0)},onComplete:function(t,s,f,T){t.setChildLocalPosition(f,0,0)}}).addTransitionMode(wF,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=f.height*(T-1);t.setChildLocalPosition(f,0,E)},onComplete:function(t,s,f,T){t.setChildLocalPosition(f,0,0)}}).addTransitionMode(MF,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=f.height*(1-T);t.setChildLocalPosition(f,0,E)},onComplete:function(t,s,f,T){t.setChildLocalPosition(f,0,0)}})},lb=function(i){i.addTransitionMode(bF,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=s.width*T;t.setChildLocalPosition(s,E,0);var E=f.width*(T-1);t.setChildLocalPosition(f,E,0)},onComplete:function(t,s,f,T){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(f,0,0)}}).addTransitionMode(FF,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=s.width*-T;t.setChildLocalPosition(s,E,0);var E=f.width*(1-T);t.setChildLocalPosition(f,E,0)},onComplete:function(t,s,f,T){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(f,0,0)}}).addTransitionMode(BF,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=s.height*T;t.setChildLocalPosition(s,0,E);var E=f.height*(T-1);t.setChildLocalPosition(f,0,E)},onComplete:function(t,s,f,T){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(f,0,0)}}).addTransitionMode(DF,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=s.height*-T;t.setChildLocalPosition(s,0,E);var E=f.height*(1-T);t.setChildLocalPosition(f,0,E)},onComplete:function(t,s,f,T){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(f,0,0)}})},ub=function(i){i.addTransitionMode(IF,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=1-T;t.setChildLocalScale(s,E,E)},onComplete:function(t,s,f,T){t.setChildLocalScale(s,1,1)}}).addTransitionMode(GF,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){var E=T;t.setChildLocalScale(f,E,E)},onComplete:function(t,s,f,T){t.setChildLocalScale(f,1,1)}}).addTransitionMode(NF,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,f,T){f.tint=0},onProgress:function(t,s,f,T){var E;T<.5?(E=1-Fe(T),t.setChildLocalScale(s,E,E)):(s.visible&&t.setChildVisible(s,!1),E=1-Fe(T),t.setChildLocalScale(f,E,E))},onComplete:function(t,s,f,T){t.setChildLocalScale(s,1,1),t.setChildVisible(s,!0),s.tint=16777215,t.setChildLocalScale(f,1,1),t.setChildVisible(f,!0),f.tint=16777215}})},db=function(i){i.addTransitionMode(VF,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,f,T){f.tint=0},onProgress:function(t,s,f,T){var E;T<.5?(T=Fe(T),E=Math.floor(255*(1-T)),s.tint=(E<<16)+(E<<8)+E):(s.visible&&t.setChildVisible(s,!1),T=Fe(T),E=Math.floor(255*(1-T)),f.tint=(E<<16)+(E<<8)+E)},onComplete:function(t,s,f,T){t.setChildVisible(s,!0),s.tint=16777215,t.setChildVisible(f,!0),f.tint=16777215}}).addTransitionMode(zF,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,f,T){},onProgress:function(t,s,f,T){t.setChildLocalAlpha(s,1-T),t.setChildLocalAlpha(f,T)},onComplete:function(t,s,f,T){t.setChildLocalAlpha(s,1)}})},fb=function(i){var t=new Ei(i,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var s=this.getShape("rect").fillStyle(16777215),f=1-this.value;switch(this.wipeMode){case"right":s.setSize(this.width*f,this.height).setTopLeftPosition(this.width-s.width,0);break;case"left":s.setSize(this.width*f,this.height).setTopLeftPosition(0,0);break;case"down":s.setSize(this.width,this.height*f).setTopLeftPosition(0,this.height-s.height);break;case"up":s.setSize(this.width,this.height*f).setTopLeftPosition(0,0);break}}});return t},vb=function(i){var t=fb(i.scene);i.once("destroy",function(){t.destroy()}).addTransitionMode(WF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="right"},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}}).addTransitionMode(XF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="left"},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}}).addTransitionMode(kF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="down"},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}}).addTransitionMode(UF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="up"},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}})},cb=function(i){var t=new Ei(i,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},pb=function(i){var t=cb(i.scene);i.once("destroy",function(){t.destroy()}).addTransitionMode(YF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}}).addTransitionMode(HF,{ease:"Linear",dir:"in",mask:t,onStart:function(s,f,T,E){s.setNextImageMaskEnable(!0,!0)},onProgress:function(s,f,T,E){s.maskGameObject.setValue(1-E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}}).addTransitionMode($F,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){T.tint=0,s.setCurrentImageMaskEnable(!0),s.setNextImageMaskEnable(!0)},onProgress:function(s,f,T,E){var n;E<.5?(E=Fe(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(1-E),f.tint=(n<<16)+(n<<8)+n):(f.visible&&s.setChildVisible(f,!1),E=Fe(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(1-E),T.tint=(n<<16)+(n<<8)+n)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1),s.setChildVisible(f,!0),f.tint=16777215,s.setChildVisible(T,!0),T.tint=16777215}})},gb=function(i){var t=new Ei(i,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var s=Math.max(this.width,this.height)*2,f=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(s).setAngle(90-f,90+f).setPie()}});return t},mb=function(i){var t=gb(i.scene);i.once("destroy",function(){t.destroy()}).addTransitionMode(KF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}}).addTransitionMode(ZF,{ease:"Linear",dir:"in",mask:t,onStart:function(s,f,T,E){s.setNextImageMaskEnable(!0,!0)},onProgress:function(s,f,T,E){s.maskGameObject.setValue(1-E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}}).addTransitionMode(JF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){T.tint=0,s.setCurrentImageMaskEnable(!0),s.setNextImageMaskEnable(!0)},onProgress:function(s,f,T,E){var n;E<.5?(E=Fe(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(1-E),f.tint=(n<<16)+(n<<8)+n):(f.visible&&s.setChildVisible(f,!1),E=Fe(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(1-E),T.tint=(n<<16)+(n<<8)+n)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1),s.setChildVisible(f,!0),f.tint=16777215,s.setChildVisible(T,!0),T.tint=16777215}})},xb=function(i,t){var s=new Ei(i,{type:"Graphics",create:{rectangle:t},update:function(){for(var f=this.getShapes(),T=this.width/t,E=0;E<t;E++)f[E].fillStyle(16777215).setSize(T*this.value,this.height).setTopLeftPosition(T*E,0)}});return s},yb=function(i){var t=xb(i.scene,10);i.once("destroy",function(){t.destroy()}).addTransitionMode(QF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}})},Cb=function(i,t,s){var f=new Ei(i,{type:"Graphics",create:{rectangle:t*s},update:function(){for(var T=this.getShapes(),E=this.width/t,n=this.height/s,C=0;C<s;C++)for(var e=0;e<t;e++)T[e*s+C].fillStyle(16777215).setSize(E*this.value,n*this.value).setCenterPosition(E*(e+.5),n*(C+.5))}});return f},Tb=function(i){var t=Cb(i.scene,Math.ceil(i.width/40),Math.ceil(i.height/40));i.once("destroy",function(){t.destroy()}).addTransitionMode(jF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}})},Sb=function(i,t,s){var f=new Ei(i,{type:"Graphics",create:{lines:t*s},update:function(){for(var T=this.getShapes(),E=this.width/(t-1),n=this.height/s,C=n*2,e=E*this.value,u=n*this.value,x=0;x<s;x++)for(var d=0;d<t;d++){var o=d*E,a=x*C+d%2*n;T[d*s+x].fillStyle(16777215).start(o+e,a).lineTo(o,a+u).lineTo(o-e,a).lineTo(o,a-u).lineTo(o+e,a).close()}}});return f},Eb=function(i){var t=Sb(i.scene,Math.ceil(i.width/60),Math.ceil(i.height/60));i.once("destroy",function(){t.destroy()}).addTransitionMode(qF,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}})},Pb=function(i,t,s){var f=new Ei(i,{type:"Graphics",create:{circle:t*s},update:function(){for(var T=this.getShapes(),E=this.width/(t-1),n=this.height/s,C=n*2,e=Math.max(E,n)*this.value,u=0;u<s;u++)for(var x=0;x<t;x++){var d=x*E,o=u*C+x%2*n;T[x*s+u].fillStyle(16777215).setCenterPosition(d,o).setRadius(e)}}});return f},Mb=function(i){var t=Pb(i.scene,Math.ceil(i.width/60),Math.ceil(i.height/60));i.once("destroy",function(){t.destroy()}).addTransitionMode(_F,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,f,T,E){s.maskGameObject.setValue(E)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1)}})},wb=function(i,t){var s=new Ei(i,{type:"Graphics",create:{lines:t},update:function(){for(var f=this.getShapes(),T=this.width/t,E=T/2,n=0;n<t;n++){var C=T*n,e=this.height*this.value,u=C+E;f[n].fillStyle(16777215).start(C,0).horizontalLineTo(e).arc(u,e,E,180,0,!0).horizontalLineTo(-e).lineTo(C,0).close()}}});return s},Rb=function(i){var t=wb(i.scene,10);i.once("destroy",function(){t.destroy()}).addTransitionMode(tb,{ease:"Linear",dir:"out",mask:t,onStart:function(s,f,T,E){T.tint=0,s.setCurrentImageMaskEnable(!0,!0),s.setNextImageMaskEnable(!0,!0)},onProgress:function(s,f,T,E){var n;E<.5?(E=Fe(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(E),f.tint=(n<<16)+(n<<8)+n):(f.visible&&s.setChildVisible(f,!1),E=Fe(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(E),T.tint=(n<<16)+(n<<8)+n)},onComplete:function(s,f,T,E){s.removeMaskGameObject(!1),s.setChildVisible(f,!0),f.tint=16777215,s.setChildVisible(T,!0),T.tint=16777215}})},Ab=function(i){i.addTransitionMode(eb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,f,T){t.setChildVisible(f,!1),s.effect=s.preFX.addPixelate(0),f.effect=f.preFX.addPixelate(0)},onProgress:function(t,s,f,T){if(T<.5){T=Fe(T);var E=Math.min(s.width,s.height)/5;s.effect.amount=Math.ceil(E*T)}else{s.visible&&t.setChildVisible(s,!1),f.visible||t.setChildVisible(f,!0),T=Fe(T);var E=Math.min(f.width,f.height)/5;f.effect.amount=Math.ceil(E*T)}},onComplete:function(t,s,f,T){s.preFX.remove(s.effect),delete s.effect,t.setChildVisible(s,!0),f.preFX.remove(f.effect),delete f.effect}})};const Lb=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,Ob=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${Lb}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,Fb=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,Ze=Phaser.Utils.Objects.GetValue,bb=Phaser.Math.Clamp;class Qo extends Fb{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:Ob}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(Ze(t,"progress",0)),this.setTransitionTargetTexture(Ze(t,"toTexture","__DEFAULT"),Ze(t,"toFrame",void 0),Ze(t,"resizeMode",1)),this.setNoise(Ze(t,"noiseX",void 0),Ze(t,"noiseY",void 0),Ze(t,"noiseZ",void 0)),this.setFromEdge(Ze(t,"fromEdgeStart",.01),Ze(t,"fromEdgeWidth",.05)),this.setToEdge(Ze(t,"toEdgeStart",.01),Ze(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=bb(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,s,f){t===void 0&&(t="__DEFAULT");var T=this.game.textures.getFrame(t,s);return T||(T=this.game.textures.getFrame("__DEFAULT")),this.toRatio=T.width/T.height,this.toFrame=T,this.targetTexture=T.glTexture,f!==void 0&&(this.resizeMode=f),this}setResizeMode(t){return typeof t=="string"&&(t=Db[t]),this.resizeMode=t,this}setNoise(t,s,f){return t===void 0&&(t=4+Math.random()*6),s===void 0&&(s=4+Math.random()*6),f===void 0&&(f=Math.random()*10),this.noiseX=t,this.noiseY=s,this.noiseZ=f,this}setFromEdge(t,s){return this.fromEdgeStart=t,this.fromEdgeWidth=s,this}setToEdge(t,s){return this.toEdgeStart=t,this.toEdgeWidth=s,this}}var Db={stretch:0,contain:1,cover:2},Bb=function(i,t,s){Bs(i).renderer.pipelines.addPostPipeline(t,s)},Ib=function(i,t,s){s===void 0&&(s={}),i.setPostPipeline(t);var f=i.postPipelines[i.postPipelines.length-1];return f.resetFromJSON(s),s.name&&(f.name=s.name),f};const gc=Phaser.Utils.Array.SpliceOne;var Gb=function(i,t,s){if(s===void 0)for(var f=i.postPipelines,T=f.length-1;T>=0;T--){var E=f[T];E instanceof t&&(E.destroy(),gc(f,T))}else for(var f=i.postPipelines,T=0,n=f.length;T<n;T++){var E=f[T];E instanceof t&&E.name===s&&(E.destroy(),gc(f,T))}},Nb=function(i){Bb(i.scene.game,"rexDissolvePostFx",Qo),i.addTransitionMode(ib,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,f,T){s.effect=Ib(s,Qo)},onProgress:function(t,s,f,T){s.effect.setProgress(T)},onComplete:function(t,s,f,T){Gb(s,Qo),delete s.effect}})};const Ca=.1,Vb=0,zb=0,Xb=1,Wb=1,mc=0,xc=1;var Ub=function(i){i.addTransitionMode(rb,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,f,T){f.effect=f.preFX.addReveal(Ca,Vb,mc)},onProgress:function(t,s,f,T){f.effect.progress=T},onComplete:function(t,s,f,T){f.preFX.remove(f.effect),delete f.effect}}).addTransitionMode(sb,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,f,T){f.effect=f.preFX.addReveal(Ca,Xb,mc)},onProgress:function(t,s,f,T){f.effect.progress=T},onComplete:function(t,s,f,T){f.preFX.remove(f.effect),delete f.effect}}).addTransitionMode(ab,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,f,T){f.effect=f.preFX.addReveal(Ca,zb,xc)},onProgress:function(t,s,f,T){f.effect.progress=T},onComplete:function(t,s,f,T){f.preFX.remove(f.effect),delete f.effect}}).addTransitionMode(nb,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,f,T){f.effect=f.preFX.addReveal(Ca,Wb,xc)},onProgress:function(t,s,f,T){f.effect.progress=T},onComplete:function(t,s,f,T){f.preFX.remove(f.effect),delete f.effect}})};const yc=[hb,ob,lb,ub,db,pb,mb,vb,yb,Tb,Eb,Mb,Rb,Ab,Nb,Ub];class K0 extends Oh{constructor(t,s,f,T,E,n){super(t,s,f,T,E,n);for(var C=0,e=yc.length;C<e;C++)yc[C](this)}}st.register("transitionImagePack",function(i,t,s,f,T){var E=new K0(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.TransitionImagePack",K0);var kb=function(){var i=this.image,t=z0(i,{width:this.width,height:this.height},this.scaleUp,!0);return i.setDisplaySize(t.width,t.height),this.resetChildScaleState(i),this},Z0={scaleImage:kb};Object.assign(Z0,H0);var Yb=function(){var i=this.background;return i?(i.setOrigin(this.originX,this.originY),i.setPosition(this.x,this.y),pe(i,this.displayWidth,this.displayHeight),this.resetChildScaleState(i),this):this};const Cc=Phaser.Utils.Objects.IsPlainObject,wi=Phaser.Utils.Objects.GetValue;class Fh extends Be{constructor(t,s,f,T,E,n){Cc(s)?(n=s,s=wi(n,"x",0),f=wi(n,"y",0),T=wi(n,"key",void 0),E=wi(n,"frame",void 0)):Cc(E)&&(n=E,E=void 0);var C=wi(n,"image");C?C.setPosition(s,f).setOrigin(.5):(C=t.add.image(s,f,T,E),T===void 0&&C.setVisible(!1)),super(t,s,f,1,1),this.type="rexImageBox";var e=wi(n,"background");e&&this.add(e),this.background=e,this.add(C),this.image=C,this.scaleUp=wi(n,"scaleUp",!1);var u=wi(n,"width",C.width),x=wi(n,"height",C.height);this.resize(u,x)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,s){return super.resize(t,s),Yb.call(this),this.scaleImage(),this}setTexture(t,s){var f=this.image;return f.setTexture(t,s),t!==null?(this.setChildVisible(f,!0),this.scaleImage()):this.setChildVisible(f,!1),this}}Object.assign(Fh.prototype,Z0);st.register("imageBox",function(i,t,s,f,T){var E=new Fh(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.ImageBox",Fh);st.register("fullWindowRectangle",function(i,t){var s=new _u(this.scene,i,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.FullWindowRectangle",_u);st.register("cover",function(i){var t=new td(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Cover",td);var ud=function(i,t){if(this.scene.sys.scale.autoRound&&(i=Math.floor(i),t=Math.floor(t)),this.width===i&&this.height===t)return this;var s=this.node.style;return s.width=`${i}px`,s.height=`${t}px`,this.updateSize(),this};const Tc={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},Sc={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"],direction:["direction",void 0]},Hb={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},Ec=Phaser.Utils.Objects.GetValue;var J0=function(i,t,s,f){var T=Ec(f,"preventDefault",!1),E=Ec(f,"preTest");for(let n in s)t.addEventListener(n,function(C){(!E||E(i,n))&&i.emit(s[n],i,C),T&&C.preventDefault()})};const $b=Phaser.GameObjects.DOMElement,Pc=Phaser.Utils.Objects.IsPlainObject,ui=Phaser.Utils.Objects.GetValue;class bh extends $b{constructor(t,s,f,T,E,n){Pc(s)?(n=s,s=ui(n,"x",0),f=ui(n,"y",0),T=ui(n,"width",0),E=ui(n,"height",0)):Pc(T)&&(n=T,T=ui(n,"width",0),E=ui(n,"height",0)),n===void 0&&(n={});var C,e=ui(n,"inputType",void 0);e===void 0&&(e=ui(n,"type","text")),e==="textarea"?(C=document.createElement("textarea"),C.style.resize="none"):(C=document.createElement("input"),C.type=e),Ja(Tc,n,C);var u=ui(n,"style",void 0);u=Ja(Sc,n,u);var x=C.style;for(var d in n)d in Tc||d in Sc||d in x&&(u[d]=n[d]);u["box-sizing"]="border-box",super(t,s,f,C,u),this.type="rexInputText",this.resize(T,E),J0(this,C,Hb),s0(C),ui(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return t===void 0?this.node.select():this.node.setSelectionRange(t,s),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node.style[t]=s,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var Kb={resize:ud};Object.assign(bh.prototype,Kb);st.register("inputText",function(i){var t=new bh(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.InputText",bh);const Mc=Phaser.Utils.Objects.GetValue;var Zb=function(i,t){var s=document.createElement("input");s.type="file";var f=Mc(t,"accept",""),T=Mc(t,"multiple",!1);return s.setAttribute("accept",f),T?s.setAttribute("multiple",""):s.removeAttribute("multiple"),s},Q0=function(i,t){return i===void 0&&(i=0),new Promise(function(s,f){setTimeout(function(){s(t)},i)})},j0=function({game:i,fileInput:t,closeDelay:s}){return ch(Bs(i).events,"focus").then(function(){return Q0(s)}).then(function(){var f={files:t.files};return Promise.resolve(f)})};const Jb=Phaser.Utils.Objects.GetValue,Qb=Phaser.DOM.RemoveFromDOM;var q0=function(i,t){var s=Jb(t,"closeDelay",200),f=Zb(i,t);return f.click(),j0({game:i,fileInput:f,closeDelay:s}).then(function(T){return Qb(f),f.remove(),Promise.resolve(T)})},_0=function(i){return this.setOrigin(i.originX,i.originY),this.setPosition(i.x,i.y),this.resize(i.displayWidth,i.displayHeight),this},jb=function(i,t,s){if(s===void 0)switch(t){case"image":case"svg":s="textures";break;case"animation":s="json";break;case"tilemapTiledJSON":case"tilemapCSV":s="tilemap";break;case"glsl":s="shader";break;default:s=t;break}i=Bs(i);var f;return s==="textures"?f=i.textures:f=i.cache[s],f},tm=function(i,t,s,f,T,E){if(!(T===null||T===!1))if(Ii(T))T();else{var n=jb(i,s,T);n.exists(f)&&n.remove(f)}var C=i.load;if(E&&C.once(`filecomplete-${s}-${f}`,function(u,x,d){E(d)}),Ii(t))t();else{var e=window.URL.createObjectURL(t);C[s](f,e)}C.start()},qb=function(i,t,s,f,T){var E=this.scene;return tm(E,i,t,s,f,T),this},_b=function(i,t,s,f){var T=this.scene;return new Promise(function(E,n){var C=function(e){E(e)};tm(T,i,t,s,f,C)})};const em={loadFile:qb,loadFilePromise:_b},t4=Phaser.GameObjects.DOMElement,wc=Phaser.Utils.Objects.IsPlainObject,di=Phaser.Utils.Objects.GetValue;class bn extends t4{constructor(t,s,f,T,E,n){wc(s)?(n=s,s=di(n,"x",0),f=di(n,"y",0),T=di(n,"width",0),E=di(n,"height",0)):wc(T)&&(n=T,T=di(n,"width",0),E=di(n,"height",0));var C=document.createElement("input");C.type="file";var e=C.style;e.display="none";var u=document.createElement("label");u.appendChild(C);var x=di(n,"style",void 0);super(t,s,f,u,x),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(T,E);var d=this;C.onchange=function(){d.emit("change",d)},this.setCloseDelay(di(n,"closeDelay",200)),C.onclick=function(){j0({game:t,fileInput:C,closeDelay:d.closeDelay}).then(function(){d.emit("select",d)})}}resetFromJSON(t){return this.setAccept(di(t,"accept","")),this.setMultiple(di(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var e4={resize:ud,syncTo:_0};Object.assign(bn.prototype,e4,em);st.register("fileChooser",function(i){var t=new bn(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileChooser",bn);const i4={setDropEnable(i){return i===void 0&&(i=!0),this.dropEnable=i,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},s4={addFilter(i,t){return this.filters||(this.filters={}),this.filters[i]=t,this},addFilters(i){this.filters||(this.filters={});for(var t in i)this.filters[t]=i[t];return this}};var im={resize:ud,syncTo:_0};Object.assign(im,i4,s4,em);const r4={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},n4=Phaser.GameObjects.DOMElement,Rc=Phaser.Utils.Objects.IsPlainObject,Ri=Phaser.Utils.Objects.GetValue;class dd extends n4{constructor(t,s,f,T,E,n){Rc(s)?(n=s,s=Ri(n,"x",0),f=Ri(n,"y",0),T=Ri(n,"width",0),E=Ri(n,"height",0)):Rc(T)&&(n=T,T=Ri(n,"width",0),E=Ri(n,"height",0)),n===void 0&&(n={});var C=document.createElement("div"),e=Ri(n,"style",void 0);super(t,s,f,C,e),this.type="rexFileDropZone",this.resize(T,E),this._files=[],this.setDropEnable(Ri(n,"dropEnable",!0));var u=Ri(n,"filters");u&&this.addFilters(u),J0(this,C,r4,{preventDefault:!0,preTest(x){return x.dropEnable}}),this.on("drop",function(x,d){this._files=d.dataTransfer.files;var o=this._files;if(o&&this.filters)for(var a in this.filters){for(var r=this.filters[a],l=[],v=0,h=o.length;v<h;v++){var c=o[v];r(c,o)&&l.push(c)}l.length>0&&this.emit(`drop.${a}`,l)}},this)}get files(){return this._files}}Object.assign(dd.prototype,im);st.register("fileDropZone",function(i){var t=new dd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileDropZone",dd);var a4=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,s=this.sizerChildren,f,T,E,n,C,e=!1;if(this.childrenProportion,this.orientation===0)for(var u=this.space.item,x=!0,d=0,o=s.length;d<o;d++)f=s[d],f.hasOwnProperty("rexSizer")&&(T=f.rexSizer,!T.hidden&&(E=T.proportion,E===0||i?(C=this.getChildWidth(f),T.fitRatio>0&&!T.resolved&&(C=void 0),C===void 0&&(E!==0&&!this.hasProportion0Child?C=0:e=!0)):C=0,!e&&(n=f.rexSizer.padding,C+=n.left+n.right,x?x=!1:C+=u,t+=C)));else for(var d=0,o=s.length;d<o;d++)f=s[d],f.hasOwnProperty("rexSizer")&&(T=f.rexSizer,!T.hidden&&(C=this.getChildWidth(f),C===void 0&&(e=!0),!e&&(n=T.padding,C+=n.left+n.right,t=Math.max(C,t))));if(!e)return t+this.space.left+this.space.right},h4=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,s=this.sizerChildren,f,T,E,n,C,e=!1;if(this.childrenProportion,this.orientation===0)for(var u=0,x=s.length;u<x;u++)f=s[u],f.hasOwnProperty("rexSizer")&&(T=f.rexSizer,!T.hidden&&(C=this.getChildHeight(f),C===void 0&&(e=!0),!e&&(n=T.padding,C+=n.top+n.bottom,t=Math.max(C,t))));else for(var d=this.space.item,o=!0,u=0,x=s.length;u<x;u++)f=s[u],f.hasOwnProperty("rexSizer")&&(T=f.rexSizer,!T.hidden&&(E=T.proportion,E===0||i?(C=this.getChildHeight(f),T.fitRatio>0&&!T.resolved&&(C=void 0),C===void 0&&(E!==0&&!this.hasProportion0Child?C=0:e=!0)):C=0,!e&&(n=T.padding,C+=n.top+n.bottom,o?o=!1:C+=d,t+=C)));if(!e)return t+this.space.top+this.space.bottom},o4=function(i,t){t===void 0&&(t=this.width);var s,f=i.rexSizer;if(this.orientation===0)f.proportion>0&&this.proportionLength>0&&(s=f.proportion*this.proportionLength);else if(f.expand){var T=this.space,E=t-T.left-T.right,n=f.padding;s=E-n.left-n.right}return s},l4=function(i,t){t===void 0&&(t=this.height);var s,f=i.rexSizer;if(this.orientation===0){if(f.expand){var T=this.space,E=t-T.top-T.bottom,n=f.padding;s=E-n.top-n.bottom}}else f.proportion>0&&this.proportionLength>0&&(s=f.proportion*this.proportionLength);return s},u4=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,s,f=0,T=t.length;f<T;f++)s=t[f],s.isRexSizer&&i.push(s);return i},d4=function(){this.hasRatioFitChild=!1;for(var i,t,s=this.sizerChildren,f=0,T=s.length;f<T;f++)i=s[f],t=i.rexSizer,!t.hidden&&t.fitRatio>0&&(pe(i,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,An.call(this),this};const f4=Phaser.Math.Wrap;var v4=function(){for(var i=this.sizerChildren,t,s,f,T=this.innerLeft,E=this.innerTop,n=this.innerWidth,C=this.innerHeight,e=T,u=E,x,d,o,a,r,l,v,h=this.startChildIndex,c=0,p=i.length;c<p;c++)h===0?v=c:v=f4(c+h,0,p),this.rtl&&(v=p-v-1),t=i[v],!t.rexSizer.hidden&&(s=t.rexSizer,f=s.padding,Ln.call(this,t),t.isRexSpace?(r=0,l=0):(r=this.getExpandedChildWidth(t),l=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,r,l),hd(t,this)):pe(t,r,l),r===void 0&&(r=Rt(t)),l===void 0&&(l=At(t)),this.orientation===0?(x=e+f.left,s.proportion===0||this.proportionLength===0?o=r:o=s.proportion*this.proportionLength,d=u+f.top,a=C-f.top-f.bottom):(x=e+f.left,o=n-f.left-f.right,d=u+f.top,s.proportion===0||this.proportionLength===0?a=l:a=s.proportion*this.proportionLength),On.call(this,t,x,d,o,a,s.align),this.orientation===0?e+=o+f.left+f.right+this.space.item:u+=a+f.top+f.bottom+this.space.item)},c4=function(t){var t=Uu.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var s=t-this.childrenWidth;s>0?(s=t-this.getChildrenWidth(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},p4=function(t){var t=Hu.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var s=t-this.childrenHeight;s>0?(s=t-this.getChildrenHeight(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},g4=function(){return this.hasRatioFitChild&&this.orientation===1?!0:ku.call(this)},sm=function(i,t){if(!!this.hasRatioFitChild){var s;this.orientation===0?s=t-this.getInnerPadding("top")-this.getInnerPadding("bottom"):i-this.getInnerPadding("left")-this.getInnerPadding("right");for(var f,T,E,n,C=this.sizerChildren,e=0,u=C.length;e<u;e++){var f=C[e],T=f.rexSizer;if(!T.hidden){var x=T.fitRatio;!x||(this.orientation===0?(n=s-this.getChildOuterPadding(f,"top")-this.getChildOuterPadding(f,"bottom"),E=n*x):(E=s-this.getChildOuterPadding(f,"top")-this.getChildOuterPadding(f,"bottom"),n=E/x),pe(f,E,n),f.isRexSizer&&f.setMinSize(E,n),T.resolved=!0)}}}},m4=function(i){this.wrapResult||(this.orientation===1&&sm.call(this,i,void 0),Yu.call(this,i))},x4=function(){return this.hasRatioFitChild&&this.orientation===0?!0:$u.call(this)},y4=function(i){this.wrapResult||(this.orientation===0&&sm.call(this,void 0,i),Ku.call(this,i))};const C4=Phaser.GameObjects.Zone;class fd extends C4{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var T4=function(i,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var f=-1,T=1/0,E=0,n=s.length;E<n;E++){var C=s[E],e;this.orientation===0?e=Math.abs(C.left-i):e=Math.abs(C.top-t),T>e&&(T=e,f=E)}var C=s[s.length-1],e;return this.orientation===0?e=Math.abs(C.right-i):e=Math.abs(C.bottom-t),T>e&&(T=e,f=E+1),f};const rm=Phaser.Utils.Objects.IsPlainObject,Ai=Phaser.Utils.Objects.GetValue,Ac=Phaser.Display.Align.CENTER,S4={min:0,full:-1};var jo=function(i,t,s,f,T,E,n,C,e,u){wn.call(this,i);var x=i.isRexSpace,d=typeof t;if(t===null)return this;if(d!=="number"){if(d==="string")t=S4[t];else if(rm(t)){var o=t;t=Ai(o,"proportion",void 0),s=Ai(o,"align",Ac),f=Ai(o,"padding",0),T=Ai(o,"expand",!1),E=Ai(o,"key",void 0),n=Ai(o,"index",void 0),i.isRexSizer||(C=Ai(o,"minWidth",void 0),e=Ai(o,"minHeight",void 0)),u=Ai(o,"fitRatio",0)}}typeof s=="string"&&(s=Lr[s]),t===void 0&&(t=x?1:0),s===void 0&&(s=Ac),f===void 0&&(f=0),T===void 0&&(T=!1),C===void 0&&(x?C=0:i.isRexSizer||(C=i._minWidth)),e===void 0&&(x?e=0:i.isRexSizer||(e=i._minHeight)),u===void 0||u===!1?u=0:u===!0&&(u=Rt(i)/At(i));var o=this.getSizerConfig(i);return o.proportion=t,o.align=s,o.padding=hs(f),o.expand=T,o.fitRatio=t===0?u:0,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(n,0,i),i.isRexSizer||(t>0&&(this.orientation===0?i.minWidth=C===void 0?Rt(i):C:i.minHeight=e===void 0?At(i):e),T&&(this.orientation===0?i.minHeight=e:i.minWidth=C)),E!==void 0&&this.addChildrenMap(E,i),this};const E4={add:jo,addSpace(i){return this.insertSpace(void 0,i),this},insertSpace(i,t){return t===void 0&&(t=1),jo.call(this,new fd(this.scene),{proportion:t,minWidth:0,minHeight:0,index:i}),this},insert(i,t,s,f,T,E,n,C){return rm(s)&&(s.index=i),jo.call(this,t,s,f,T,E,n,i,C),this},insertAtPosition(i,t,s,f,T,E,n,C,e){var u=T4.call(this,i,t);return u===-1&&(u=void 0),this.insert(u,s,f,T,E,n,C,e),this}},P4=Phaser.Utils.Array.Remove,M4={remove(i,t){return this.getParentSizer(i)!==this?this:(P4(this.sizerChildren,i),Rn.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Rh.call(this,i),this}},w4={getChildAlign(i){return this.getSizerConfig(i).align},setChildAlign(i,t){return typeof t=="string"&&(t=Lr[t]),this.getSizerConfig(i).align=t,this}},R4={getChildProportion(i){return this.getSizerConfig(i).proportion},setChildProportion(i,t){return this.getSizerConfig(i).proportion=t,this}},A4={getChildExpand(i){return this.getSizerConfig(i).expand},setChildExpand(i,t){return this.getSizerConfig(i).expand=t,this}};var L4=function(i){i===void 0&&(i="left");var t=this.sizerChildren,s=t[0],f=s&&s.isRexSpace;i==="right"||i==="bottom"||i==="center"?f||this.insertSpace(0):f&&this.remove(s,!0);var T=t.length-1,E=t[T],n=E&&E.isRexSpace;return i==="center"?n||this.insertSpace(T+1):n&&this.remove(E,!0),this},nm={getChildrenWidth:a4,getChildrenHeight:h4,getExpandedChildWidth:o4,getExpandedChildHeight:l4,getChildrenSizers:u4,preLayout:d4,layoutChildren:v4,resolveWidth:c4,resolveHeight:p4,hasWidthWrap:g4,runWidthWrap:m4,hasHeightWrap:x4,runHeightWrap:y4,setChildrenAlignMode:L4};Object.assign(nm,E4,M4,w4,R4,A4);var O4=function(){for(var i=0,t=this.sizerChildren,s,f,T=0,E=t.length;T<E;T++)s=t[T],!s.rexSizer.hidden&&(f=s.rexSizer.proportion,f>0?i+=f:f===0&&(this.hasProportion0Child=!0));return i},F4={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Dn=function(i){return typeof i=="string"&&(i=F4[i]),i};const qo=Phaser.Utils.Objects.IsPlainObject,ze=Phaser.Utils.Objects.GetValue;class St extends Xs{constructor(t,s,f,T,E,n,C){qo(s)?(C=s,s=ze(C,"x",0),f=ze(C,"y",0),T=ze(C,"width",void 0),E=ze(C,"height",void 0),n=ze(C,"orientation",0)):qo(T)?(C=T,T=ze(C,"width",void 0),E=ze(C,"height",void 0),n=ze(C,"orientation",0)):qo(n)&&(C=n,n=ze(C,"orientation",0)),n===void 0&&(n=0),super(t,s,f,T,E,C),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(ze(C,"space.item",0)),this.setStartChildIndex(ze(C,"startChildIndex",0)),this.setRTL(ze(C,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Dn(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=O4.call(this)),this._childrenProportion}}Object.assign(St.prototype,nm);var Ta=function(i,t,s){if(!!i){var f=t==null,T=s==null;return f&&T||(f||(i.displayWidth=t),T||(i.displayHeight=s),f&&(i.scaleX=i.scaleY),T&&(i.scaleY=i.scaleX)),i}},b4=function(i){i===void 0?i={}:typeof i=="string"&&(i={text:i});var t=i.text||"";this.setText(t);var s=this.childrenMap.icon;if(s){i.icon?this.show(s):this.hide(s);var f=i.iconSize;f&&(this.setChildDisplaySize(s,f,f),this.iconWidth!==void 0&&this.setIconSize(f)),i.icon!==!0&&this.setIconTexture(i.icon,i.iconFrame)}var T=this.childrenMap.action;if(T){i.action?this.show(T):this.hide(T);var E=i.actionSize;E&&(this.setChildDisplaySize(T,E,E),this.actionWidth!==void 0&&this.setActionSize(E)),i.action!==!0&&this.setActionTexture(i.action,i.actionFrame)}return this},D4={appendText:fg,resetDisplayContent:b4};class vd extends St{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var s=this.childrenMap.text;!s||s.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,s){var f=this.childrenMap.icon;return f?(f.setTexture(t,s),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(Ta(f,this.iconWidth,this.iconHeight),this.resetChildScaleState(f)),this):this}setTexture(t,s){return this.setIconTexture(t,s),this}setIconSize(t,s){return s===void 0&&(s=t),this.iconWidth=t,this.iconHeight=s,this}get texture(){var t=this.childrenMap.icon;if(!!t)return t.texture}get frame(){var t=this.childrenMap.icon;if(!!t)return t.frame}setActionTexture(t,s){var f=this.childrenMap.action;return f===void 0?this:(f.setTexture(t,s),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(Ta(f,this.actionWidth,this.actionHeight),this.resetChildScaleState(f)),this)}get actionTexture(){var t=this.childrenMap.action;if(!!t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(!!t)return t.frame}setActionSize(t,s){return s===void 0&&(s=t),this.actionWidth=t,this.actionHeight=s,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&Ta(t,this.iconWidth,this.iconHeight);var s=this.childrenMap.action;s&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&Ta(s,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,s,f){var T=this.childrenMap.iconMask;T&&(T.setPosition(),this.resetChildPositionState(T));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),this}resize(t,s){super.resize(t,s);var f=this.childrenMap.iconMask;f&&f.resize();var T=this.childrenMap.actionMask;return T&&T.resize(),this}}Object.assign(vd.prototype,D4);var ri=function(i,t,s,f){var T=new ql(t,s,f);if(i&&!i.isRexSizer){var E=T.createGeometryMask();i.setMask(E),this.once("destroy",function(){i.setMask(),E.destroy()})}return this.pin(T),T};const Pt=Phaser.Utils.Objects.GetValue;class Xi extends vd{constructor(t,s){super(t,s),this.type="rexLabel";var f=Pt(s,"background",void 0),T=Pt(s,"icon",void 0),E=Pt(s,"iconMask",void 0),n=Pt(s,"text",void 0),C=Pt(s,"action",void 0),e=Pt(s,"actionMask",void 0),u=Pt(s,"align",void 0);if(f&&this.addBackground(f),T){var x;this.orientation===0?(n||C)&&(x={right:Pt(s,"space.icon",0),top:Pt(s,"space.iconTop",0),bottom:Pt(s,"space.iconBottom",0),left:Pt(s,"space.iconLeft",0)}):(n||C)&&(x={bottom:Pt(s,"space.icon",0),left:Pt(s,"space.iconLeft",0),right:Pt(s,"space.iconRight",0),top:Pt(s,"space.iconTop",0)});var d=Pt(s,"squareFitIcon",!1)?1:0;if(this.add(T,{proportion:0,padding:x,fitRatio:d}),E&&(E=ri.call(this,T,T,1)),!d){var o=Pt(s,"iconSize",void 0);this.setIconSize(Pt(s,"iconWidth",o),Pt(s,"iconHeight",o))}}if(n){var a=Pt(s,"space.text",0),r=Pt(s,"expandTextWidth",!1),l=Pt(s,"expandTextHeight",!1),v,x,h;this.orientation===0?(v=r?1:0,C&&(x={right:a}),h=l):(v=l?1:0,C&&(x={bottom:a}),h=r),this.add(n,{proportion:v,expand:h,padding:x})}if(C){var x;this.orientation===0?x={top:Pt(s,"space.actionTop",0),bottom:Pt(s,"space.actionBottom",0),right:Pt(s,"space.actionRight",0)}:x={left:Pt(s,"space.actionLeft",0),right:Pt(s,"space.actionRight",0),bottom:Pt(s,"space.actionBottom",0)};var d=Pt(s,"squareFitAction",!1)?1:0;if(this.add(C,{proportion:0,padding:x,fitRatio:d}),e&&(e=ri.call(this,C,C,1)),!d){var c=Pt(s,"actionSize");this.setActionSize(Pt(s,"actionWidth",c),Pt(s,"actionHeight",c))}}this.setChildrenAlignMode(u),this.addChildrenMap("background",f),this.addChildrenMap("icon",T),this.addChildrenMap("iconMask",E),this.addChildrenMap("text",n),this.addChildrenMap("action",C),this.addChildrenMap("actionMask",e)}}const ji=Phaser.Utils.Objects.GetValue;var B4=function(i,t){var s=ji(t,"canvas"),f=ji(s,"width",128),T=ji(s,"height",128),E=new Vs(i,0,0,f,T);i.add.existing(E);var n=ji(s,"key"),C=ji(s,"frame"),e=ji(s,"fill");return e!==void 0?E.fill(e):n!==void 0&&E.loadTexture(n,C),E.setTexture=E.loadTexture.bind(E),E},I4=function(i,t){var s=new Fh(i,{scaleUp:ji(t,"scaleUpIcon",!1),background:ji(t,"iconBackground"),image:B4(i,t)});return i.add.existing(s),s};const G4=Phaser.Utils.Objects.GetValue;var am=function(i,t){var s=G4(t,"clickTarget",this);return typeof s=="string"&&(s=i.getElement(s)),s};const N4=Phaser.Utils.Objects.GetValue;var V4=function(i,t){var s=am(i,t);if(!!s){var f=N4(t,"click"),T=new Ni(s,f);return T.on("click",i.open,i),T}};const hm={accept:"image/*",multiple:!1};var om=function(i,t){if(t.length!==0){var s=i.childrenMap.icon,f=s.image,T=t[0];return f.loadFromFilePromise(T).then(function(){return s.scaleImage(),i.emit("select",T,i),Promise.resolve(T)})}},z4=function(i,t){var s=i.scene,f=new bn(s,hm);return s.add.existing(f),i.pin(f),f.on("change",function(){om(i,f.files)}),f};const X4={async openPromise(){var i=this;return q0(this.scene.game,hm).then(function(t){return om(i,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(i){return i===void 0&&(i=!0),this.clickBehavior&&this.clickBehavior.setEnable(i),this.fileChooser&&this.fileChooser.setOpenEnable(i),this}};var W4=function(i){if(!i)return null;var t=i.name;return t.substr(0,t.lastIndexOf("."))},U4=function(i){var t=this.childrenMap.canvas;return t.generateTexture(i),this},lm={getFileName:W4,saveTexture:U4};Object.assign(lm,X4);const k4=Phaser.Utils.Objects.GetValue;class cd extends Xi{constructor(t,s){var f=I4(t,s);s.icon=f,super(t,s),this.type="rexImageFileInputLabel";var T=this.iconWidth,E=this.iconWidth;T!==void 0&&E!==void 0&&f.resize(T,E),this.clickTarget=am(this,s),this.clickTarget&&(k4(s,"domButton",!0)?this.fileChooser=z4(this):this.clickBehavior=V4(this,s)),this.addChildrenMap("canvas",f.image),this.addChildrenMap("iconBackground",f.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser))}}Object.assign(cd.prototype,lm);st.register("imageInputLabel",function(i){var t=new cd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ImageInputLabel",cd);class Y4 extends Yt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(Dt(t,s))return t[s];var f=t.parent;if(Dt(f,s))return f[s]}set(t,s,f){return Dt(t,s)?t[s]=f:Dt(t.parent,s)&&(t.parent[s]=f),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}}const _o=Phaser.Utils.Objects.GetValue;class H4 extends Yt{constructor(t,s){super(t,s),this.style=_o(s,"style",this);var f=_o(s,"propertiesMap");this.activeStyle=tl(s,"active",f),this.hoverStyle=tl(s,"hover",f),this.disableStyle=tl(s,"disable",f),this.onModifyStyle=_o(s,"onModifyStyle")}getStyle(t){return Tu(this.style,t)}modifyStyle(t){for(var s in t)this.style[s]=t[s];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(!!t){var s=this.getStyle(t);if(!ph(s,t))return this.modifyStyle(t),s}}setActiveState(t){return el.call(this,"active",t),this}setHoverState(t){return el.call(this,"hover",t),this}setDisableState(t){return el.call(this,"disable",t),this}}var tl=function(i,t,s){var f=Hl(i,t);if(s)for(var T in f)s.hasOwnProperty(T)&&(f[s[T]]=f[T],delete f[T]);return f},el=function(i,t){t===void 0&&(t=!0);var s=`${i}State`,f=`${i}Style`,T=`${i}StyleSave`;this[s]!==t&&(this[s]=t,t?this[T]=this.applyStyle(this[f]):(this.applyStyle(this[T]),this[T]=void 0))};const Dh={addStyleManager(i){return this.styleManager=new H4(this,i),this},setActiveState(i){return this.styleManager.setActiveState(i),this},setHoverState(i){return this.styleManager.setHoverState(i),this},setDisableState(i){return this.styleManager.setDisableState(i),this}},$4=Phaser.GameObjects.Image,_r=Phaser.Utils.Objects.GetValue;class Bn extends $4{constructor(t,s){s===void 0&&(s={});var f=_r(s,"x",0),T=_r(s,"y",0),E=_r(s,"key",""),n=_r(s,"frame",void 0);super(t,f,T,E,n),this.type="rexStatesImage";var C=_r(s,"effects",!0);C&&lh(this,C),this.style=new Y4(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}}Object.assign(Bn.prototype,Dh);st.register("statesImage",function(i){var t=new Bn(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesImage",Bn);class Bh extends ls{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexStatesRoundRectangleShape",s.style=this,s.propertiesMap=K4,this.addStyleManager(s),delete s.style,delete s.propertiesMap}}const K4={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(Bh.prototype,Dh);st.register("statesRoundRectangle",function(i){var t=new Bh(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesRoundRectangle",Bh);class Z4 extends Yt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(Dt(t,s))return t[s];var f=t.parent;if(Dt(f,s))return f[s]}set(t,s,f){return Dt(t,s)?t[s]=f:Dt(t.parent,s)&&(t.parent[s]=f),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get leftWidth(){return this.parent.leftWidth}set leftWidth(t){var s=this.parent;parent.setSlices(s.width,s.height,t,s.rightWidth,s.topHeight,s.bottomHeight)}get rightWidth(){return this.parent.rightWidth}set rightWidth(t){var s=this.parent;parent.setSlices(s.width,s.height,s.leftWidth,t,s.topHeight,s.bottomHeight)}get topHeight(){return this.parent.topHeight}set topHeight(t){var s=this.parent;parent.setSlices(s.width,s.height,s.leftWidth,s.rightWidth,t,s.bottomHeight)}get bottomHeight(){return this.parent.bottomHeight}set bottomHeight(t){var s=this.parent;parent.setSlices(s.width,s.height,s.leftWidth,s.rightWidth,s.topHeight,t)}}const J4=Phaser.GameObjects.NineSlice,Je=Phaser.Utils.Objects.GetValue;class Ih extends J4{constructor(t,s){s===void 0&&(s={});var f=Je(s,"x",0),T=Je(s,"y",0),E=Je(s,"key",null),n=Je(s,"frame",null),C=Je(s,"width",0),e=Je(s,"height",0),u=Je(s,"leftWidth",0),x=Je(s,"rightWidth",0),d=Je(s,"topHeight",0),o=Je(s,"bottomHeight",0);super(t,f,T,E,n,C,e,u,x,d,o),this.type="rexStatesNineSlice";var a=Je(s,"effects",!0);a&&lh(this,a),this.style=new Z4(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}}Object.assign(Ih.prototype,Dh);st.register("statesNineSlice",function(i){var t=new Ih(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesNineSlice",Ih);const Q4=Phaser.GameObjects.Text,il=Phaser.Utils.Objects.GetValue;class Gh extends Q4{constructor(t,s){s===void 0&&(s={});var f=il(s,"x",0),T=il(s,"y",0),E=il(s,"text","");super(t,f,T,E,s),this.type="rexStatesText",s.style=this.style,s.onModifyStyle=function(n,C){var e=C.hasOwnProperty("fontStyle")||C.hasOwnProperty("fontSize")||C.hasOwnProperty("fontFamily");n.style.update(e)},this.addStyleManager(s),delete s.style}}Object.assign(Gh.prototype,Dh);st.register("statesText",function(i){var t=new Gh(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesText",Gh);var j4=function(i){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,q4(this,i)),this},q4=function(i,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var s=t.options;s.responsive=!1,s.maintainAspectRatio=!1,s.hasOwnProperty("devicePixelRatio")||(s.devicePixelRatio=1);var f=!1;s.animation===void 0?s.animation={}:s.animation===!1&&(f=!0,s.animation={});var T=s.animation;f&&(T.duration=0);var E=T.onProgress;T.onProgress=function(C){E&&E(C),i.needRedraw()};var n=T.onComplete;return T.onComplete=function(C){n&&n(C),i.needRedraw()},t},_4=function(i){if(this.chart!==void 0)if(typeof i=="string"){for(var t=this.chart.data.datasets,s,f=0,T=t.length;f<T;f++)if(s=t[f],s.label===i)return s}else return this.chart.data.datasets[i]},tD=function(i,t){var s=this.getChartDataset(i);if(s!==void 0){if(typeof t=="string"){var f=this.chart.data.labels;if(t=f.indexOf(t),t===-1)return}return s.data[t]}},eD=function(i,t,s){if(this.chart===void 0)return this;var f=this.getChartDataset(i);if(typeof t=="string"){var T=this.chart.data.labels;if(t=T.indexOf(t),t===-1)return this}return f.data[t]=s,this},iD=function(){return this.chart===void 0?this:(this.chart.update(),this)};class pd extends Vs{constructor(t,s,f,T,E,n){super(t,s,f,T,E),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){!this.scene||(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,s){if(t===this.width&&s===this.height)return this;if(super.resize(t,s),this.chart){var f=this.chart;f.height=this.canvas.height,f.width=this.canvas.width,f.aspectRatio=f.height?f.width/f.height:null,f.update()}return this}}var sD={setChart:j4,getChartDataset:_4,getChartData:tD,setChartData:eD,updateChart:iD};Object.assign(pd.prototype,sD);st.register("chart",function(i,t,s,f,T){var E=new pd(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.Chart",pd);st.register("container",function(i,t,s,f,T){var E=new Be(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.Container",Be);st.register("sizer",function(i,t,s,f,T,E){var n=new St(this.scene,i,t,s,f,T,E);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.Sizer",St);var um=function(){return Array.prototype.reduce.call(arguments,rD,0)},rD=function(i,t){return i+t},nD=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,s,f=this.sizerChildren,T,E,n,C,e=!1;this.totalColumnProportions;for(var u=0;u<this.columnCount;u++){if(C=this.columnProportions[u],s=0,C===0||i){for(var x=0;x<this.rowCount;x++)T=f[x*this.columnCount+u],T&&(T.rexSizer.hidden||(n=this.getChildWidth(T),n===void 0&&(C!==0&&!this.hasColumnProportion0Child?n=0:e=!0),!e&&(E=T.rexSizer.padding,n+=E.left+E.right,s=Math.max(s,n))));e||(t+=s)}e||i&&(this.columnWidth[u]=s)}if(!e){var d=this.space,o=Math.max(d.indentLeftOdd,d.indentLeftEven);return t+um(d.left,o,...d.column,d.right)}},aD=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,s,f=this.sizerChildren,T,E,n,C,e=!1;this.totalRowProportions;for(var u=0;u<this.rowCount;u++){if(C=this.rowProportions[u],s=0,C===0||i){for(var x=0;x<this.columnCount;x++)T=f[u*this.columnCount+x],T&&(T.rexSizer.hidden||(n=this.getChildHeight(T),n===void 0&&(C!==0&&!this.hasRowProportion0Child?n=0:e=!0),!e&&(E=T.rexSizer.padding,n+=E.top+E.bottom,s=Math.max(s,n))));e||(t+=s)}e||i&&(this.rowHeight[u]=s)}if(!e){var d=this.space,o=Math.max(d.indentTopOdd,d.indentTopEven);return t+um(d.top,o,...d.row,d.bottom)}},hD=function(i,t){var s,f=i.rexSizer;if(f.expandWidth){var T=f.padding;s=t-T.left-T.right}return s},oD=function(i,t){var s,f=i.rexSizer;if(f.expandHeight){var T=f.padding;s=t-T.top-T.bottom}return s},lD=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,s,f=0,T=t.length;f<T;f++)s=t[f],s&&s.isRexSizer&&i.push(s);return i},uD=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,An.call(this),this},dD=function(){for(var i,t,s,f=this.innerLeft,T=this.innerTop,E,n=T,C,e,u,x,d,o,a=this.space.column,r=this.space.row,l=this.space.indentLeftOdd,v=this.space.indentLeftEven,h=this.space.indentTopOdd,c=this.space.indentTopEven,p,g,m,y,S=0;S<this.rowCount;S++){g=this.getRowHeight(S),m=S%2?v:l,E=f+m;for(var M=0;M<this.columnCount;M++){if(p=this.getColumnWidth(M),i=this.getChildAt(M,S),!i||i.rexSizer.hidden){E+=p+a[M];continue}Ln.call(this,i),d=this.getExpandedChildWidth(i,p),o=this.getExpandedChildHeight(i,g),i.isRexSizer?(i.runLayout(this,d,o),hd(i,this)):pe(i,d,o),t=i.rexSizer,s=t.padding,C=E+s.left,u=p-s.left-s.right,y=M%2?c:h,e=n+y+s.top,x=g-s.top-s.bottom,On.call(this,i,C,e,u,x,t.align),E+=p+a[M]}n+=g+r[S]}},fD=function(t){var t=Uu.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var s=this.totalColumnProportions;if(s>0){var f=t-this.getChildrenWidth(!1);f>=0&&(this.proportionWidthLength=f/s)}else this.proportionWidthLength=0}return t},vD=function(t){var t=Hu.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var s=this.totalRowProportions;if(s>0){var f=t-this.getChildrenHeight(!1);f>=0&&(this.proportionHeightLength=f/s)}else this.proportionHeightLength=0}return t},cD=function(i){var t,s,f,T;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(T=this.getColumnWidth(parseInt(E)%this.columnCount),s=this.getExpandedChildWidth(t,T),f=t.resolveWidth(s),f===void 0&&(f=s),t.resolveChildrenWidth(f))},pD=function(i){var t,s,f,T;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(T=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),s=this.getExpandedChildHeight(t,T),f=t.resolveHeight(s),f===void 0&&(f=s),t.resolveChildrenHeight(f))},gD=function(i){var t,s,f,T;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(T=this.getColumnWidth(parseInt(E)%this.columnCount),s=this.getExpandedChildWidth(t,T),t.isRexSizer&&(f=t.resolveWidth(s),f===void 0&&(f=s)),t.runWidthWrap(f));return this},mD=function(i){var t,s,f,T;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(T=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),s=this.getExpandedChildHeight(t,T),t.isRexSizer&&(f=t.resolveHeight(s),f===void 0&&(f=s)),t.runHeightWrap(f));return this};const Lc=Phaser.Utils.Objects.IsPlainObject,Ki=Phaser.Utils.Objects.GetValue,Oc=Phaser.Display.Align.CENTER;var Fc=function(i,t,s,f,T){if(typeof i=="number"||typeof t=="number")if(i===void 0){for(var E,n=0;n<f;n++)if(E=t*f+n,!s[E])return E}else if(t===void 0){for(var E,n=0;n<T;n++)if(E=n*f+i,!s[E])return E}else{var E=t*f+i;if(!s[E])return E}else if(t===!0){for(var E,n=0;n<f;n++)for(var C=0;C<T;C++)if(E=C*f+n,!s[E])return E}else for(var n=0,e=s.length;n<e;n++)if(!s[n])return n;return null},xD=function(i,t,s,f,T,E,n){if(wn.call(this,i),Lc(t)){var e=t;t=Ki(e,"column",void 0),s=Ki(e,"row",void 0),f=Ki(e,"align",Oc),T=Ki(e,"padding",0),E=Ki(e,"expand",!1),n=Ki(e,"key",void 0)}var C=Fc(t,s,this.sizerChildren,this.columnCount,this.rowCount);if(C===null){if(typeof t=="number"&&typeof s=="number")return this;s===!0||typeof s=="number"?this.addEmptyColumn():this.addEmptyRow(),C=Fc(t,s,this.sizerChildren,this.columnCount,this.rowCount)}typeof f=="string"&&(f=Lr[f]),f===void 0&&(f=Oc),T===void 0&&(T=0),E===void 0&&(E=!0);var e=this.getSizerConfig(i);return e.align=f,e.padding=hs(T),Lc(E)?(e.expandWidth=Ki(E,"width",!1),e.expandHeight=Ki(E,"height",!1)):(e.expandWidth=E,e.expandHeight=E),this.sizerChildren[C]=i,n!==void 0&&this.addChildrenMap(n,i),this};const yD={add:xD};var xr=function(i,t,s,f){s===void 0&&(s=0),f===void 0&&(f=i.length-1);for(var T=s;T<=f;T++)i[T]=t;return i};const CD={remove(i,t){if(this.getParentSizer(i)!==this)return this;var s=this.sizerChildren.indexOf(i);return s!==-1&&(this.sizerChildren[s]=null),Rn.call(this,i,t),this},removeAt(i,t,s){var f=this.getChildAt(i,t);return f&&this.remove(f,s),this},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--){var s=this.sizerChildren[t];!s||this.remove(s,i)}return this},clear(i){return xr(this.sizerChildren,null),Rh.call(this,i),this}},TD={setColumnSpace(i){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof i=="number")xr(this.space.column,i);else for(var t=0,s=this.columnCount-1;t<s;t++)this.space.column[t]=i[t]||0;return this},setRowSpace(i){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof i=="number")xr(this.space.row,i);else for(var t=0,s=this.rowCount-1;t<s;t++)this.space.row[t]=i[t]||0;return this},setIndentLeft(i,t){return this.space.indentLeftOdd=i,this.space.indentLeftEven=t,this},setIndentTop(i,t){return this.space.indentTopOdd=i,this.space.indentTopEven=t,this}},bc=Phaser.Utils.Objects.GetValue;var SD=function(i,t,s,f,T){if(s===void 0&&(s=0),f===void 0&&(f=0),this.columnCount=i,this.rowCount=t,this.gridCount=i*t,this.removeAll(),this.sizerChildren.length=i*t,xr(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=i,typeof s=="number")xr(this.columnProportions,s);else for(var E=0;E<i;E++)this.columnProportions[E]=s[E]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof f=="number")xr(this.rowProportions,f);else for(var E=0;E<t;E++)this.rowProportions[E]=f[E]||0;this.columnWidth=[],this.columnWidth.length=i,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(bc(T,"column",0)),this.setRowSpace(bc(T,"row",0));var n=this.scene,C=this.createCellContainerCallback;if(C)for(var e=0,u=this.rowCount;e<u;e++)for(var x=0,d=this.columnCount;x<d;x++){var o={column:x,row:e},a=C(n,x,e,o);a&&this.add(a,o)}return this},dm=function(i,t,s){t===void 0&&(t=this.rowProportions[0]||0),s===void 0&&(s=this.space.row[0]||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var f=[i*this.columnCount,0],T=0;T<this.columnCount;T++)f.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,f),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(i,0,s),this},ED=function(i,t){return dm.call(this,this.rowCount,i,t),this},fm=function(i,t,s){t===void 0&&(t=this.columnProportions[0]||0),s===void 0&&(s=this.space.column[0]||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var f=this.rowCount-1;f>=0;f--){var T=f*this.columnCount+i;this.sizerChildren.splice(T,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(i,0,s),this},PD=function(i,t){return fm.call(this,this.columnCount,i,t),this},vm={getChildrenWidth:nD,getChildrenHeight:aD,getExpandedChildWidth:hD,getExpandedChildHeight:oD,getChildrenSizers:lD,preLayout:uD,layoutChildren:dD,resolveWidth:fD,resolveHeight:vD,resolveChildrenWidth:cD,resolveChildrenHeight:pD,runWidthWrap:gD,runHeightWrap:mD,resetGrid:SD,inseryEmptyRow:dm,addEmptyRow:ED,insertEmptyColumn:fm,addEmptyColumn:PD};Object.assign(vm,yD,CD,TD);var MD=function(){for(var i=0,t,s=0;s<this.columnCount;s++)t=this.columnProportions[s],t>0?i+=t:t===0&&(this.hasColumnProportion0Child=!0);return i},wD=function(){for(var i=0,t,s=0;s<this.rowCount;s++)t=this.rowProportions[s],t>0?i+=t:t===0&&(this.hasRowProportion0Child=!0);return i};const Sa=Phaser.Utils.Objects.IsPlainObject,Ft=Phaser.Utils.Objects.GetValue;class ni extends Xs{constructor(t,s,f,T,E,n,C,e,u,x){Sa(s)?(x=s,s=Ft(x,"x",0),f=Ft(x,"y",0),T=Ft(x,"width",void 0),E=Ft(x,"height",void 0),n=Ft(x,"column",x.col||0),C=Ft(x,"row",0),e=Ft(x,"columnProportions",0),u=Ft(x,"rowProportions",0)):Sa(T)?(x=T,T=Ft(x,"width",void 0),E=Ft(x,"height",void 0),n=Ft(x,"column",x.col||0),C=Ft(x,"row",0),e=Ft(x,"columnProportions",0),u=Ft(x,"rowProportions",0)):Sa(n)?(x=n,n=Ft(x,"column",x.col||0),C=Ft(x,"row",0),e=Ft(x,"columnProportions",0),u=Ft(x,"rowProportions",0)):Sa(e)&&(x=e,e=Ft(x,"columnProportions",0),u=Ft(x,"rowProportions",0)),super(t,s,f,T,E,x),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Ft(x,"createCellContainerCallback")),this.setIndentLeft(Ft(x,"space.indentLeftOdd",0),Ft(x,"space.indentLeftEven",0)),this.setIndentTop(Ft(x,"space.indentTopOdd",0),Ft(x,"space.indentTopEven",0)),this.resetGrid(n,C,e,u,Ft(x,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,s){return t>=this.columnProportions.length?this:(this.columnProportions[t]=s,this)}setRowProportion(t,s){return t>=this.rowProportions.length?this:(this.rowProportions[t]=s,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=MD.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=wD.call(this)),this._totalRowProportions}getChildAt(t,s){return this.sizerChildren[s*this.columnCount+t]}childToGridIndex(t,s){if(!t)return null;var f=this.sizerChildren.indexOf(t);return f===-1?null:(s===void 0&&(s={}),s.x=f%this.columnCount,s.y=Math.floor(f/this.columnCount),s)}getColumnWidth(t){var s=this.columnProportions[t],f=s===0?this.columnWidth[t]:s*this.proportionWidthLength;return f}getRowHeight(t){var s=this.rowProportions[t],f=s===0?this.rowHeight[t]:s*this.proportionHeightLength;return f}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(ni.prototype,vm);st.register("gridSizer",function(i,t,s,f,T,E,n,C,e){var u=new ni(this.scene,i,t,s,f,T,E,n,C,e);return this.scene.add.existing(u),u});et(window,"RexPlugins.UI.GridSizer",ni);var RD=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t;if(this.orientation===0?i?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+this.space.left+this.space.right},AD=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t;if(this.orientation===1?i?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+this.space.top+this.space.bottom},LD=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,s,f=0,T=t.length;f<T;f++)s=t[f],s!==`
`&&s.isRexSizer&&i.push(s);return i},OD=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,An.call(this),this},FD=function(){for(var i=this.orientation===0,t=i?this.innerWidth:this.innerHeight,s=this.justifyPercentage,f=this.space.item,T=this.space.line,E=this.space.indentLeftOdd,n=this.space.indentLeftEven,C=this.space.indentTopOdd,e=this.space.indentTopEven,u,x,d,o=0,a,r,l=this.innerLeft,v=this.innerTop,h,c,p,g,m=this.wrapResult.lines,y,S,M,P=l,w=v,R=0,A=m.length;R<A;R++){switch(y=m[R],S=y.children,this.rtl&&S.reverse(),i?(a=R%2?n:E,P=l+a):(r=R%2?e:C,w=v+r),M=t-(i?y.width:y.height),this.align){case 0:break;case 1:i?P+=M:w+=M;break;case 2:i?P+=M/2:w+=M/2;break;case 3:o=sl(t,M,s,S.length);break;case 4:o=sl(t,M,s,S.length),o===0&&(i?P+=M:w+=M);break;case 5:o=sl(t,M,s,S.length),o===0&&(i?P+=M/2:w+=M/2);break}for(var L=!0,F=0,O=S.length;F<O;F++)u=S[F],!u.rexSizer.hidden&&(x=u.rexSizer,d=x.padding,Ln.call(this,u),i?h=P+d.left:c=w+d.top,L?L=!1:i?h+=f:c+=f,p=Rt(u),g=At(u),i?(r=F%2?e:C,c=w+r+d.top,P=h+p+d.right+o):(a=F%2?n:E,h=P+a+d.left,w=c+g+d.top+o),On.call(this,u,h,c,p,g,x.align));i?w+=y.height+T:P+=y.width+T}},sl=function(i,t,s,f){return t/i<=s?t/(f-1):0},bD=function(){return this.orientation===0?!0:ku.call(this)},cm=function(i){var t={lines:[],width:0,height:0},s=this.sizerChildren,f=this.space.item,T=this.space.line,E=this.space.indentLeftOdd,n=this.space.indentLeftEven,C=this.space.indentTopOdd,e=this.space.indentTopEven,u,x,d,o,a=0,r,l,v=t.lines,h=void 0,c;if(this.orientation===0){for(var p=0,g=s.length;p<g;p++){if(u=s[p],u===`
`)u=void 0,d=0,c=!0;else{if(u.rexSizer.hidden)continue;u.isRexSizer&&u.layout(),d=this.getChildWidth(u),x=u.rexSizer.padding,d+=x.left+x.right,c=a<d||h===void 0}c&&(h&&(h.width=i-(a+f),t.width=Math.max(t.width,h.width),t.height+=h.height+T),h={children:[],width:0,height:0},v.push(h),r=v.length%2?E:n,a=i-r),a-=d+f,u&&(h.children.push(u),o=this.getChildHeight(u),x=u.rexSizer.padding,o+=x.top+x.bottom,h.height=Math.max(h.height,o))}h&&(h.width=i-(a+f),t.width=Math.max(t.width,h.width),t.height+=h.height),t.height+=Math.max(C,e)}else{for(var m=i,p=0,g=s.length;p<g;p++){if(u=s[p],u===`
`)u=void 0,d=0,c=!0;else{if(u.rexSizer.hidden)continue;u.isRexSizer&&u.layout(),o=this.getChildHeight(u),x=u.rexSizer.padding,o+=x.top+x.bottom,c=a<o||h===void 0}c&&(h&&(h.height=m-(a+f),t.height=Math.max(t.height,h.height),t.width+=h.width+T),h={children:[],width:0,height:0},v.push(h),l=v.length%2?C:e,a=m-l),a-=o+f,u&&(h.children.push(u),d=this.getChildWidth(u),x=u.rexSizer.padding,d+=x.left+x.right,h.width=Math.max(h.width,d))}h&&(h.height=m-(a+f),t.height=Math.max(t.height,h.height),t.width+=h.width),t.width+=Math.max(E,n)}return t},DD=function(i){if(!this.wrapResult&&this.orientation===0){var t=i-this.space.left-this.space.right;this.wrapResult=cm.call(this,t),this.rexSizer.resolved=!0,Yu.call(this,i)}},BD=function(){return this.orientation===1?!0:$u.call(this)},ID=function(i){if(!this.wrapResult&&this.orientation===1){var t=i-this.space.top-this.space.bottom;this.wrapResult=cm.call(this,t),this.rexSizer.resolved=!0,Ku.call(this,i)}};const Dc=Phaser.Math.Distance.Between;var GD=function(i,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var f=-1,T=1/0,E=0,n=s.length;E<n;E++){var C=s[E];if(!(Math.abs(C.centerY-t)>C.height/2)){var u=Dc(C.left,C.centerY,i,t);T>u&&(T=u,f=E);var e=s[E+1];if(!(e&&e.y===C.y)){var u=Dc(C.right,C.centerY,i,t);T>u&&(T=u,f=E+1)}}}return f};const ND=Phaser.Utils.Objects.IsPlainObject,rl=Phaser.Utils.Objects.GetValue,VD=Phaser.Display.Align.CENTER;var nl=function(i,t,s,f){if(i===`
`)return this.addNewLine(),this;if(wn.call(this,i),ND(t)){var T=t;t=rl(T,"padding",0),s=rl(T,"key",void 0),f=rl(T,"index",void 0)}t===void 0&&(t=0);var T=this.getSizerConfig(i);return T.align=VD,T.padding=hs(t),f===void 0||f>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(f,0,i),s!==void 0&&this.addChildrenMap(s,i),this};const zD={add(i,t,s){if(si(i))for(var f=i,T=0,E=f.length;T<E;T++)nl.call(this,f[T],t);else nl.call(this,i,t,s);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(i,t,s,f){return nl.call(this,t,s,f,i),this},insertAtPosition(i,t,s,f,T){var E=GD.call(this,i,t);return E===-1&&(E=void 0),this.insert(E,s,f,T),this}},XD=Phaser.Utils.Array.Remove,WD={remove(i,t){return this.getParentSizer(i)!==this?this:(XD(this.sizerChildren,i),Rn.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Rh.call(this,i),this}};var pm={getChildrenWidth:RD,getChildrenHeight:AD,getChildrenSizers:LD,preLayout:OD,layoutChildren:FD,hasWidthWrap:bD,runWidthWrap:DD,hasHeightWrap:BD,runHeightWrap:ID};Object.assign(pm,zD,WD);var UD=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,s,f,T=!1,E=0,n=i.length;E<n;E++)s=i[E],s!==`
`&&(f=this.getChildWidth(s),f===void 0&&(T=!0),!T&&(t=Math.max(f,t)));if(!T)return t},kD=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,s,f,T=!1,E=0,n=i.length;E<n;E++)s=i[E],s!==`
`&&(f=this.getChildHeight(s),f===void 0&&(T=!0),!T&&(t=Math.max(f,t)));if(!T)return t};const Bc=Phaser.Utils.Objects.IsPlainObject,ue=Phaser.Utils.Objects.GetValue;class Ws extends Xs{constructor(t,s,f,T,E,n){Bc(s)?(n=s,s=ue(n,"x",0),f=ue(n,"y",0),T=ue(n,"width",void 0),E=ue(n,"height",void 0)):Bc(T)&&(n=T,T=ue(n,"width",void 0),E=ue(n,"height",void 0)),super(t,s,f,T,E,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(ue(n,"orientation",0)),this.setItemSpacing(ue(n,"space.item",0)),this.setLineSpacing(ue(n,"space.line",0)),this.setIntentLeft(ue(n,"space.indentLeftOdd",0),ue(n,"space.indentLeftEven",0)),this.setIntentTop(ue(n,"space.indentTopOdd",0),ue(n,"space.indentTopEven",0)),this.setAlign(ue(n,"align",0)),this.setJustifyPercentage(ue(n,"justifyPercentage",.25)),this.setRTL(ue(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Dn(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,s){return this.space.indentLeftOdd=t,this.space.indentLeftEven=s,this}setIntentTop(t,s){return this.space.indentTopOdd=t,this.space.indentTopEven=s,this}setAlign(t){return typeof t=="string"&&(t=YD[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=UD.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=kD.call(this)),this._maxChildHeight}}const YD={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Ws.prototype,pm);st.register("fixWidthSizer",function(i,t,s,f,T){var E=new Ws(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.FixWidthSizer",Ws);st.register("overlapSizer",function(i,t,s,f,T){var E=new He(this.scene,i,t,s,f,T);return this.scene.add.existing(E),E});et(window,"RexPlugins.UI.OverlapSizer",He);st.register("space",function(){var i=new fd(this.scene);return i});et(window,"RexPlugins.UI.Space",fd);st.register("label",function(i){var t=new Xi(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Label",Xi);var Ue=function(i,t){var s;t&&(t.hasOwnProperty("type")?s=t.type:t.hasOwnProperty("leftWidth")?s="nineSlice":t.hasOwnProperty("key")&&(s="image"));var f;switch(s){case"image":f=new Bn(i,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?f=new rh(i,t):f=new Ih(i,t);break;default:f=new Bh(i,t);break}return i.add.existing(f),f};const hr=Phaser.Utils.Objects.GetValue,HD=Phaser.GameObjects.BitmapText;var gm=function(i,t){var s=hr(t,"$type");s===void 0&&hr(t,"key")&&(s="bitmaptext");var f;switch(s){case"bitmaptext":case"bitmap":var T=hr(t,"key"),E=hr(t,"size");E===void 0&&(E=hr(t,"fontSize")),f=new HD(i,0,0,T,"",E);var n=hr(t,"color");n!==void 0&&f.setTint(n);break;case"bbcodetext":case"bbcode":f=new lu(i,0,0,"",t);break;case"text":default:f=new Gh(i,t);break}return i.add.existing(f),f};const $D=Phaser.GameObjects.BitmapText;var mm=function(i){return i instanceof $D};const KD=Phaser.GameObjects.Text;var gd=function(i){return i instanceof KD},ZD=function(i){var t=function(s){var f=i.padding,T=s-f.left-f.right,E=i.style;return gd(i)?(E.wordWrapWidth=T,E.maxLines=0):(E.wrapMode===0&&(E.wrapMode=1),E.wrapWidth=T,E.maxLines=0),E.fixedWidth=s,E.fixedHeight=0,i.updateText(),i.minHeight=i.height,i};return t},JD=function(i){var t=function(s){return i.setFixedSize(s,0).runWordWrap(),i.minHeight=i.height,i};return t},QD=function(i){var t=function(s){return i.setMaxWidth(s),i.minHeight=i.height,i};return t},jD=function(i){return i instanceof Mr},xm=function(i,t){return t===void 0&&(t=0),i._minWidth=t,i.runWidthWrap=jD(i)?JD(i):mm(i)?QD(i):ZD(i),i},Ic=function(i,t){var s=new Bn(i,t);return i.add.existing(s),s};const tn=Phaser.Utils.Objects.GetValue;var md=function(i,t,s){t=t?Oe(t):{};var f=tn(s,"background",Ue),T=tn(s,"text",gm),E=tn(s,"icon",Ic),n=tn(s,"action",Ic);if(f?t.background=f(i,t.background):delete t.background,T){var C=tn(t,"wrapText",!1);C&&(C===!0&&(C="word"),et(t,"text.wrap.mode",C),t.expandTextWidth=!0),t.text=T(i,t.text),C&&(t.text=xm(t.text))}else delete t.text;return E&&t.icon!==null?t.icon=E(i,t.icon):delete t.icon,n&&t.action!==null?t.action=n(i,t.action):delete t.action,t};class Nh extends Xi{constructor(t,s,f){s=md(t,s,f),super(t,s),this.type="rexSimpleLabel"}setActiveState(t){return al(this.getChildren(),"setActiveState",t),this}setHoverState(t){return al(this.getChildren(),"setHoverState",t),this}setDisableState(t){return al(this.getChildren(),"setDisableState",t),this}}var al=function(i,t,s){for(var f=0,T=i.length;f<T;f++){var E=i[f];E&&E[t]&&E[t](s)}};st.register("simpleLabel",function(i,t){var s=new Nh(this.scene,i,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.SimpleLabel",Nh);const gt=Phaser.Utils.Objects.GetValue;var qD=function(i){var t=this.scene,s=gt(i,"orientation",0);this.setOrientation(s);var f=gt(i,"icon",void 0),T=gt(i,"iconMask",void 0),E=gt(i,"innerBackground",void 0),n=gt(i,"title",void 0),C=gt(i,"separator",void 0),e=gt(i,"text",void 0),u=gt(i,"action",void 0),x=gt(i,"actionMask",void 0);if(f){var v;this.orientation===0?v={right:gt(i,"space.icon",0),top:gt(i,"space.iconTop",0),bottom:gt(i,"space.iconBottom",0),left:gt(i,"space.iconLeft",0)}:v={bottom:gt(i,"space.icon",0),left:gt(i,"space.iconLeft",0),right:gt(i,"space.iconRight",0),top:gt(i,"space.iconTop",0)};var d=gt(i,"squareFitIcon",!1)?1:0;if(this.add(f,{proportion:0,padding:v,fitRatio:d}),T&&(T=ri.call(this,f,f,1)),!d){var o=gt(i,"iconSize",void 0);this.setIconSize(gt(i,"iconWidth",o),gt(i,"iconHeight",o))}}var a=new St(t,{orientation:1});E&&a.addBackground(E);var r=gt(i,"space.separator",0);if(n){var l=gt(i,"align.title","left"),v={bottom:!C&&e?r:0,left:gt(i,"space.titleLeft",0),right:gt(i,"space.titleRight",0)};a.add(n,{proportion:0,align:l,padding:v})}if(C){var v={top:n?r:0,bottom:e?r:0,left:gt(i,"space.separatorLeft",0),right:gt(i,"space.separatorRight",0)};a.add(C,{expand:!0,padding:v})}if(e){var l=gt(i,"align.text","left"),v={left:gt(i,"space.textLeft",0),right:gt(i,"space.textRight",0)};a.add(e,{proportion:0,align:l,padding:v})}var v=void 0;if(u&&(v={right:gt(i,"space.text",0)}),this.add(a,{proportion:1,padding:v}),u){var v;this.orientation===0?v={top:gt(i,"space.actionTop",0),bottom:gt(i,"space.actionBottom",0),right:gt(i,"space.actionRight",0)}:v={left:gt(i,"space.actionLeft",0),right:gt(i,"space.actionRight",0),bottom:gt(i,"space.actionBottom",0)};var d=gt(i,"squareFitAction",!1)?1:0;if(this.add(u,{proportion:0,padding:v,fitRatio:d}),x&&(x=ri.call(this,u,u,1)),!d){var h=gt(i,"actionSize");this.setActionSize(gt(i,"actionWidth",h),gt(i,"actionHeight",h))}}this.addChildrenMap("icon",f),this.addChildrenMap("iconMask",T),this.addChildrenMap("innerSizer",a),this.addChildrenMap("innerBackground",E),this.addChildrenMap("title",n),this.addChildrenMap("separator",C),this.addChildrenMap("text",e),this.addChildrenMap("action",u),this.addChildrenMap("actionMask",x)};const dt=Phaser.Utils.Objects.GetValue;var _D=function(i){this.setOrientation(1),this.setRTL(!1);var t=this.scene,s=dt(i,"title",void 0),f=dt(i,"separator",void 0),T=dt(i,"innerBackground",void 0),E=dt(i,"icon",void 0),n=dt(i,"iconMask",void 0),C=dt(i,"text",void 0),e=dt(i,"action",void 0),u=dt(i,"actionMask",void 0);if(s){var x=dt(i,"align.title","left"),d={bottom:dt(i,"space.title",0),left:dt(i,"space.titleLeft",0),right:dt(i,"space.titleRight",0)};this.add(s,{proportion:0,align:x,padding:d})}if(f){var o=dt(i,"space.separator",0),d={top:s?o:0,bottom:C?o:0,left:dt(i,"space.separatorLeft",0),right:dt(i,"space.separatorRight",0)};this.add(f,{proportion:0,expand:!0,padding:d})}var a=dt(i,"orientation",0),r=new St(t,{orientation:a,rtl:dt(i,"rtl",!1),space:{left:dt(i,"space.innerLeft",0),right:dt(i,"space.innerRight",0),top:dt(i,"space.innerTop",0),bottom:dt(i,"space.innerBottom",0)}});if(T&&r.addBackground(T),this.add(r,{proportion:1,expand:!0}),E){var d=void 0;r.orientation===0?d={right:dt(i,"space.icon",0),top:dt(i,"space.iconTop",0),bottom:dt(i,"space.iconBottom",0),left:dt(i,"space.iconLeft",0)}:d={bottom:dt(i,"space.icon",0),left:dt(i,"space.iconLeft",0),right:dt(i,"space.iconRight",0),top:dt(i,"space.iconTop",0)};var l=dt(i,"squareFitIcon",!1)?1:0;if(r.add(E,{proportion:0,padding:d,fitRatio:l}),n&&(n=ri.call(this,E,E,1)),!l){var v=dt(i,"iconSize",void 0);this.setIconSize(dt(i,"iconWidth",v),dt(i,"iconHeight",v))}}if(C){var x=dt(i,"align.text","left"),h=dt(i,"space.text",0),c=dt(i,"expandTextWidth",!1),p=dt(i,"expandTextHeight",!1),g,d,m;r.orientation===0?(g=c?1:0,e&&(d={right:h}),m=p):(g=p?1:0,e&&(d={bottom:h}),m=c),r.add(C,{proportion:g,expand:m,align:x,padding:d})}if(e){var d;r.orientation===0?d={top:dt(i,"space.actionTop",0),bottom:dt(i,"space.actionBottom",0),right:dt(i,"space.actionRight",0)}:d={left:dt(i,"space.actionLeft",0),right:dt(i,"space.actionRight",0),bottom:dt(i,"space.actionBottom",0)};var l=dt(i,"squareFitAction",!1)?1:0;if(r.add(e,{proportion:0,padding:d,fitRatio:l}),u&&(u=ri.call(this,e,e,1)),!l){var y=dt(i,"actionSize");this.setActionSize(dt(i,"actionWidth",y),dt(i,"actionHeight",y))}}this.addChildrenMap("title",s),this.addChildrenMap("separator",f),this.addChildrenMap("innerSizer",r),this.addChildrenMap("innerBackground",T),this.addChildrenMap("icon",E),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",C),this.addChildrenMap("action",e),this.addChildrenMap("actionMask",u)};const Gc=Phaser.Utils.Objects.GetValue,Nc=[qD,_D];class xd extends vd{constructor(t,s){super(t,s),this.type="rexTitleLabel";var f=Gc(s,"background",void 0);f&&this.addBackground(f);var T=Gc(s,"layoutMode",0),E=Nc[T]||Nc[0];E.call(this,s),this.addChildrenMap("background",s.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var s=this.childrenMap.title;!s||s.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var s=this.childrenMap.title;return s&&(t.title===void 0||(t.title?(this.show(s),this.setTitle(t.title)):this.hide(s))),this}}st.register("titleLabel",function(i){var t=new xd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TitleLabel",xd);const Tt=Phaser.Utils.Objects.GetValue,t5=Phaser.Utils.Objects.IsPlainObject;var e5=function(i,t){var s=Tt(t,"background",void 0),f=Tt(t,"icon",void 0),T=Tt(t,"iconMask",void 0),E=Tt(t,"nameText",void 0),n=Tt(t,"valueText",void 0),C=Tt(t,"bar",void 0),e=Tt(t,"action",void 0),u=Tt(t,"actionMask",void 0),x=Tt(t,"barShape","line")==="line";if(t5(C)){var d=x?Au:wu;C=new d(i,C),i.add.existing(C),E&&i.children.moveBelow(C,E),n&&i.children.moveBelow(C,n)}var o=E||n||C;if(s&&this.addBackground(s),f){var a=void 0;this.orientation===0?(o||e)&&(a={right:Tt(t,"space.icon",0),top:Tt(t,"space.iconTop",0),bottom:Tt(t,"space.iconBottom",0)}):(o||e)&&(a={bottom:Tt(t,"space.icon",0),left:Tt(t,"space.iconLeft",0),right:Tt(t,"space.iconRight",0)}),this.add(f,{proportion:0,padding:a}),T&&(T=ri.call(this,f,f,1))}if(o){var r=new St(i,{orientation:1}),l;if(E||n){if(l=new St(i,{orientation:0}),E){E.text===""&&E.setText(" "),E.setOrigin(0,E.originY);var a={left:Tt(t,"space.name",0)};l.add(E,{padding:a})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),l.addSpace();var a={right:Tt(t,"space.value",0)};l.add(n,{padding:a}),this.setValueTextFormatCallback(Tt(t,"valueTextFormatCallback",i5),Tt(t,"valueTextFormatCallbackScope",void 0))}r.add(l,{expand:!0})}if(C)if(x){var v=l?Tt(t,"space.bar"):0;v===void 0&&(v=Tt(t,"space.barTop",0));var a={top:v,bottom:Tt(t,"space.barBottom",0),left:Tt(t,"space.barLeft",0),right:Tt(t,"space.barRight",0)};r.add(C,{expand:!0,padding:a})}else{var a={top:Tt(t,"space.barTop",0),bottom:Tt(t,"space.barBottom",0),left:Tt(t,"space.barLeft",0),right:Tt(t,"space.barRight",0)};this.addBackground(C,a)}var a=void 0;e&&(a={right:Tt(t,"space.text",0)});var h=Tt(t,"align.text","bottom");this.add(r,{proportion:1,align:h,padding:a})}if(e){var a;this.orientation===0?a={top:Tt(t,"space.actionTop",0),bottom:Tt(t,"space.actionBottom",0)}:a={left:Tt(t,"space.actionLeft",0),right:Tt(t,"space.actionRight",0)},this.add(e,{proportion:0,padding:a}),u&&(u=ri.call(this,e,e,1))}this.addChildrenMap("background",s),this.addChildrenMap("icon",f),this.addChildrenMap("iconMask",T),this.addChildrenMap("name",E),this.addChildrenMap("value",n),this.addChildrenMap("bar",C),this.addChildrenMap("action",e),this.addChildrenMap("actionMask",u)},i5=function(i,t,s){return i.toString()};const s5=Phaser.Math.Clamp,r5={setValueTextFormatCallback(i,t){return this.valueTextFormatCallback=i,this.valueTextFormatCallbackScope=t,this},getFormatValueText(i,t,s){i===void 0&&(i=this.value),t===void 0&&(t=this.minValue),s===void 0&&(s=this.maxValue);var f;return this.valueTextFormatCallbackScope?f=this.valueTextFormatCallback(i,t,s):f=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,i,t,s),f},updateValueText(i,t,s){var f=this.childrenMap.value;return f&&this.valueTextFormatCallback&&(f.setText(this.getFormatValueText(i,t,s)),f.layout&&f.layout()),this},setValue(i,t,s){return i=s5(i,t,s),this.value=i,this.minValue=t,this.maxValue=s,this.updateValueText(i,t,s),this.setBarValue(i,t,s),this},setEaseValueDuration(i){return this.easeValueDuration=i,this},easeValueTo(i,t,s){return this.minValue=t,this.maxValue=s,this.easeValueTask===void 0&&(this.easeValueTask=new fs(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:i,duration:this.easeValueDuration}),this}};class Vh extends St{constructor(t,s){super(t,s),this.type="rexNameValueLabel",e5.call(this,t,s),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var s=this.childrenMap.name;s!==void 0&&s.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var s=this.childrenMap.value;s!==void 0&&s.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var s=this.childrenMap.bar;s!==void 0&&s.setValue(t)}setBarValue(t,s,f){var T=this.childrenMap.bar;return T===void 0?this:(T.setValue(t,s,f),this)}easeBarValueTo(t,s,f){var T=this.childrenMap.bar;return T===void 0?this:(T.easeValueTo(t,s,f),this)}setTexture(t,s){var f=this.childrenMap.icon;if(f!==void 0)return f.setTexture(t,s),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,s,f){var T=this.childrenMap.iconMask;T&&(T.setPosition(),this.resetChildPositionState(T));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),this}resize(t,s){super.resize(t,s);var f=this.childrenMap.iconMask;f&&f.resize();var T=this.childrenMap.actionMask;return T&&T.resize(),this}}Object.assign(Vh.prototype,r5);st.register("nameValueLabel",function(i){var t=new Vh(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.NameValueLabel",Vh);class n5 extends O0{constructor(t){super(),this.setTable(Mt(t,"table")),this.setMaxLevel(Mt(t,"maxLevel"));var s=Mt(t,"exp",0),f=Mt(t,"level",void 0);f!==void 0&&!this.checkLevel(f,s)&&(console.error(`Level ${f} and Exp ${s} are mismatch`),f=void 0),this.resetExp(s,f)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=Ii(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var s;return t!==-1?s=this.getExp(t):s=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=s,this}resetExp(t,s){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),s===void 0&&(s=this.getLevel(t)),this._exp=t,this._level=s,this._requiredExp=this.getRequiredExpToNextLevel(s,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var s=this.getLevel(t,this._level),f=this._level,T=this._exp,E;;){var n=this.getExp(f),C=this.getExp(f+1);if(E=Math.min(C,t),this.emit("levelup",f,T,E,n,C),f===s&&E===t)break;f++,T=C}this.resetExp(t,s)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,s){if(t===void 0)return this._level;for(s===void 0&&(s=0);;){var f=this.getExp(s+1);if(f>t||(s++,this.hasMaxLevel&&f===this.maxExp))break}return s}getRequiredExpToNextLevel(t,s){return t===void 0&&(t=this.level),s===void 0&&(s=this.exp),this.getExp(t+1)-s}checkLevel(t,s){return s>=this.getExp(t)&&s<this.getExp(t+1)}gainExp(t,s,f){return s&&this.on("levelup",s,f),this.exp+=t,s&&this.off("levelup",s,f),this}setExp(t,s,f){return s&&this.on("levelup",s,f),this.exp=t,s&&this.off("levelup",s,f),this}setLevel(t,s,f){return s&&this.on("levelup",s,f),this.level=t,s&&this.off("levelup",s,f),this}}var _l=function(i,t,s){var f=Mt(s,"reverse",!1),T;if(si(i[0]))if(f)for(var n=i.length,E=n-1;E>=0;E--)T=_l(i[E],t,s);else for(var E=0,n=i.length;E<n;E++)T=_l(i[E],t,s);else T=a5(i,t,s);return T},a5=function(i,t,s){var f=Mt(s,"argsConvert",void 0),T=Mt(s,"argsConvertScope",void 0),E=i[0];if(Zi=Qa(Zi,i,1),f){f===!0&&(f=mu,T=void 0);for(var n=0,C=Zi.length;n<C;n++)T?Zi[n]=f.call(T,Zi[n],i):Zi[n]=f(Zi[n],i)}var e;typeof E=="string"?(e=t[E],e==null&&(e=Mt(t,E,null))):e=E;var u=e.apply(t,Zi);return u},Zi=[];const Qe=Phaser.Utils.Objects.GetValue;class ym extends Yt{constructor(t,s){super(t,s);var f=Qe(s,"clock",void 0);f||(f=new Ug(t)),this.clock=f,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(s)}resetFromJSON(t){return this.clock.resetFromJSON(Qe(t,"clock",void 0)),this.state=Qe(t,"state",0),this.commands=Qe(t,"commands",[]),this.scope=Qe(t,"scope",void 0),this.setTimeUnit(Qe(t,"timeUnit",0)),this.setDtMode(Qe(t,"dtMode",0)),this.index=Qe(t,"index",0),this.nextTime=Qe(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,s,f){this.stop();var T=Qe(f,"timeUnit",void 0);T!==void 0&&this.setTimeUnit(T);var E=Qe(f,"dtMode",void 0);return E!==void 0&&this.setDtMode(E),t=t.filter(function(n){var C=n[0];return!isNaN(C)}).map(function(n){var C=n[0];return typeof C=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,C){var e=n[0],u=C[0];return e>u?1:e<u?-1:0}),Qa(this.commands,t),this.scope=s,this}clear(){return this.commands.length=0,this}append(t,s,...f){var T;return Array.isArray(s)?T=s:T=[s,...f],this.commands.push([t,T]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var s=this.commands;;){var f=s[this.index],T=f[1];if(si(T)||(T=Qa(h5,f,1)),_l(T,this.scope),this.emit("runcommand",T,this.scope),this.index>=s.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var s=this.commands[this.index][0];return this.timeUnit===1&&(s=s*1e3),this.dtMode===1&&(s+=t),s}setDtMode(t){return typeof t=="string"&&(t=l5[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=o5[t]),this.timeUnit=t,this}}var h5=[];const o5={ms:0,s:1,sec:1},l5={abs:0,absolute:0,inc:1,increment:1};var u5=function(i,t,s,f,T){var E=(s-t)/(T-f)*this.totalEaseDuration,n=s===T?i+1:i;this.player.append(0,this.setEaseValueDuration,E).append(0,this.easeValueTo,s,f,T).append(0,this.emit,"levelup.start",i,t,s,this).append(E,he).append(0,this.emit,"levelup.end",n,t,s,this),this.player.isPlaying||this.player.start()};const d5={setExpTable(i){return this.levelCounter.setTable(i),this},resetExp(i){return this.levelCounter.resetExp(i),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(i){return this.levelCounter.getExp(i)},getLevel(i,t){return this.levelCounter.getLevel(i,t)},getRequiredExpToNextLevel(i,t){return this.levelCounter.getRequiredExpToNextLevel(i,t)},gainExp(i){return this.levelCounter.gainExp(i),this},setExp(i){return this.levelCounter.setExp(i),this},setLevel(i){return this.levelCounter.setLevel(i),this}},Vc=Phaser.Utils.Objects.GetValue;class yd extends Vh{constructor(t,s){super(t,s),this.type="rexExpBar",this.setTotalEaseDuration(Vc(s,"easeDuration",1e3)),this.levelCounter=new n5(Vc(s,"levelCounter")),this.player=new ym(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",u5,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(yd.prototype,d5);st.register("expBar",function(i){var t=new yd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ExpBar",yd);const Ea=St.prototype.add,zc=St.prototype.addSpace;var hl=function(i){var t=!i.isRexSpace,s=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var f=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");f&&zc.call(this),Ea.call(this,i,{proportion:s,expand:!0});var T=!this.buttonsExpand&&this.buttonsAlign==="center";T&&zc.call(this),this.hasTailSpace=T}else Ea.call(this,i,{proportion:s,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var E=this.sizerChildren.length-1;Ea.call(this,i,{index:E,proportion:s,expand:!0})}else Ea.call(this,i,{proportion:s,expand:!0});return t&&this.buttonGroup.add(i),this};const f5={addButton(i){if(si(i))for(var t=i,s=0,f=t.length;s<f;s++)hl.call(this,t[s]);else hl.call(this,i);return this},addButtons(i){for(var t=0,s=i.length;t<s;t++)hl.call(this,i[t]);return this}},v5=St.prototype.remove,c5=St.prototype.clear;var ol=function(i,t){return this.getParentSizer(i)!==this?this:(this.buttonGroup.remove(i),v5.call(this,i,t),this)};const p5={remove(i,t){if(si(i))for(var s=i,f=0,T=s.length;f<T;f++)ol.call(this,s[f],t);else ol.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,c5.call(this,i),this},removeButton(s,t){var s=this.getButton(s);return s?(this.remove(s,t),this):this},clearButtons(i){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)ol.call(this,t[s],i);return this}};var g5=function(i,t,s){if(!!i){var f=this.setValueCallback,T=this.setValueCallbackScope;f&&(T?f.call(T,i,t,s):f(i,t,s)),this.fireEvent("button.statechange",i,t,s)}},m5=function(i){var t=this;i._selected=void 0,Object.defineProperty(i,"selected",{get:function(){return i._selected},set:function(s){if(i._selected!==s){var f=i._selected;i._selected=s,g5.call(t,i,s,f)}},enumerable:!0,configurable:!0}),i.selected=!1};const x5={add(i){return this.buttons.push(i),i._click||(i._click=new Ni(i,this.clickConfig),i._click.on("click",function(t,s,f,T){this.fireEvent("button.click",s,f,T)},this).on("enable",function(t,s){this.fireEvent("button.enable",s)},this).on("disable",function(t,s){this.fireEvent("button.disable",s)},this).on("over",function(t,s,f,T){this.fireEvent("button.over",s,f,T)},this).on("out",function(t,s,f,T){this.fireEvent("button.out",s,f,T)},this).on("down",function(t,s,f,T){this.fireEvent("button.down",s,f,T)},this).on("up",function(t,s,f,T){this.fireEvent("button.up",s,f,T)},this)),this.buttonsType&&(i.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),m5.call(this,i)),this},addMultiple(i){for(var t=0,s=i.length;t<s;t++)this.add(i[t]);return this}},y5=Phaser.Utils.Array.Remove,C5={remove(i){return this.buttonsType&&delete i.selected,y5(this.buttons,i),this},clear(){if(this.buttonsType)for(var i=this.buttons,t=0,s=i.length;t<s;t++)delete i[t].selected;return this.buttons.length=0,this}};var T5=function(i,t,...s){if(!!this.buttons){var f;if(typeof t=="number"){if(f=t,t=this.buttons[f],!t)return}else if(f=this.buttons.indexOf(t),f===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(i,t,f,...s),this.groupName!==void 0?this.eventEmitter.emit(i,t,this.groupName,f,...s):this.eventEmitter.emit(i,t,f,...s)}};const en=Phaser.Utils.Objects.GetValue,S5={setButtonsType(i){i===void 0&&(i={});var t=en(i,"buttonsType",i.type);if(this.buttonsType=t,!this.buttonsType)return this;var s,f;switch(s=en(i,"setValueCallback",void 0),f=en(i,"setValueCallbackScope",void 0),s===void 0&&(s=en(i,"setButtonStateCallback",void 0),f=en(i,"setButtonStateCallbackScope",void 0)),this.setValueCallback=s,this.setValueCallbackScope=f,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var i=this.parent,t=this.buttons;i._value=void 0;var s=void 0;return Object.defineProperty(i,"value",{get:function(){return i._value},set:function(f){if(i._value!==f){i._value=f;for(var T=0,E=t.length;T<E;T++){var n=t[T];n.rexSizer.hidden||(s===void 0?n.name===f?n.selected=!0:n.selected=!1:s===T?n.selected=!0:n.selected=!1)}}},enumerable:!0,configurable:!0}),i.on("button.click",function(f){s=this.buttons.indexOf(f),i.value=f.name,s=void 0},this),this},setCheckboxesType(){var i=this.parent;return i.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var i=this.buttons,t=0,s=i.length;t<s;t++){var f=i[t];f.selected=!1}return this},getAllButtonsState(){for(var i={},t=this.buttons,s=0,f=t.length;s<f;s++){var T=t[s];T.rexSizer.hidden||(i[T.name]=T.selected)}return i},setSelectedButtonName(i){return this.parent.value=i,this},getSelectedButtonName(){return this.parent.value},setButtonState(i,t){t===void 0&&(t=!0);for(var s=this.buttons,f=0,T=s.length;f<T;f++){var E=s[f];if(!E.rexSizer.hidden&&E.name===i){E.selected=t;break}}return this},getButtonState(i){for(var t=this.buttons,s=0,f=t.length;s<f;s++){var T=t[s];if(!T.rexSizer.hidden&&T.name===i)return T.selected}}};var E5=function(i,t){if(i)if(si(i)){for(var s,f=0,T=i.length;f<T;f++)if(s=Xc(i[f],t),s)return s}else{var s;for(var E in i)if(s=Xc(i[E],t),s)return s}else return null},Xc=function(i,t){return i?i.hasOwnProperty("name")?i.name===t?i:null:GetElementByName(i,t):null};const zh={getButton(i){var t=this.buttons,s,f=typeof i;switch(f){case"number":s=t[i];break;case"string":s=E5(t,i);break;default:s=i,t.indexOf(s)===-1&&(s=void 0);break}return s},getButtons(){return this.buttons},setButtonEnable(i,t){var s=this.buttons;if(i===void 0||typeof i=="boolean"){t=i;for(var f=0,T=s.length;f<T;f++)s[f]._click.setEnable(t)}else this.getButton(i)._click.setEnable(t);return this},toggleButtonEnable(i){var t=this.buttons;if(i===void 0||typeof i=="boolean")for(var s=0,f=t.length;s<f;s++)t[s]._click.toggleEnable();else this.getButton(i)._click.toggleEnable();return this},getButtonEnable(i){return i===void 0&&(i=0),this.getButton(i)._click.enable},emitButtonClick(i){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",i),this},emitButtonOver(i){for(var t=this.buttonGroup?this.buttonGroup:this,s=this.buttons,f=0,T=s.length;f<T;f++){var E=s[f];!E._click.isOver||(E._click.isOver=!1,t.fireEvent("button.out",E))}var E=this.getButton(i);return E&&(E._click.isOver=!0,t.fireEvent("button.over",E)),this},showButton(i){return ts(this.getButton(i)),this},hideButton(i){return es(this.getButton(i)),this},isButtonShown(i){return qu(this.getButton(i)),this},forEachButtton(i,t){for(var s=this.buttons,f=0,T=s.length;f<T;f++)t?i.call(t,s[f],f,s):i(s[f],f,s);return this}};class Xh{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var P5={fireEvent:T5};Object.assign(Xh.prototype,x5,C5,S5,zh,P5);const Cd={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(i){return this.buttonGroup.setSelectedButtonName(i),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(i,t){return this.buttonGroup.setButtonState(i,t),this},getButtonState(i){return this.buttonGroup.getButtonState(i)}},ws=Phaser.Utils.Objects.GetValue;class ie extends St{constructor(t,s){s===void 0&&(s={});var f=s.space;typeof f=="number"&&(s.space={item:f}),super(t,s),this.type="rexButtons",this.buttonGroup=new Xh({parent:this,eventEmitter:ws(s,"eventEmitter",this),groupName:ws(s,"groupName",void 0),clickConfig:ws(s,"click",void 0)}).setButtonsType(s);var T=ws(s,"background",void 0),E=ws(s,"buttons",void 0);this.buttonsExpand=ws(s,"expand",!1),this.buttonsAlign=ws(s,"align",void 0),T&&this.addBackground(T),E&&this.addButtons(E),this.addChildrenMap("background",T),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(ie.prototype,f5,p5,zh,Cd);st.register("buttons",function(i){var t=new ie(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Buttons",ie);const M5=ni.prototype.add,w5={addButton(i,t,s){return M5.call(this,i,t,s,void 0,0,this.buttonsExpand),this.buttonGroup.add(i),this},addButtons(i,t){for(var s=0,f=i;s<f;s++)this.addButton(i[s],void 0,t);return this}},R5=ni.prototype.remove,A5=ni.prototype.clear;var ll=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),R5.call(this,s,t),this):this};const L5={remove(i,t){if(si(i))for(var s=i,f=0,T=s.length;f<T;f++)ll.call(this,s[f],t);else ll.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,A5.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)ll.call(this,t[s],i);return this}},fi=Phaser.Utils.Objects.GetValue;class Wh extends ni{constructor(t,s){s===void 0&&(s={});var f=fi(s,"row",0),T=fi(s,"column",s.col||0),E=fi(s,"createCellContainerCallback"),n=fi(s,"buttons",void 0),C=fi(s,"expand",!0),e=C?1:0;if(E&&(s.createCellContainerCallback=void 0),n!==void 0){f=Math.max(f,n.length);for(var u=0,x=n.length;u<x;u++)T=Math.max(T,n[u].length)}s.row=f,s.column=T,s.columnProportions=e,s.rowProportions=e,super(t,s),this.type="rexGridButtons",this.buttonGroup=new Xh({parent:this,eventEmitter:fi(s,"eventEmitter",this),groupName:fi(s,"groupName",void 0),clickConfig:fi(s,"click",void 0)}).setButtonsType(s);var d=fi(s,"background",void 0);if(this.buttonsExpand=C,fi(s,"space",void 0),d&&this.addBackground(d),n)for(var o,a,r=0,l=n.length;r<l;r++){o=n[r];for(var v=0,h=o.length;v<h;v++)a=o[v],a&&this.addButton(a,v,r)}else if(E)for(var c=0;c<f;c++)for(var p=0;p<T;p++){var a=E(t,p,c);a&&this.addButton(a,p,c)}this.addChildrenMap("background",d),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Wh.prototype,w5,L5,zh,Cd);st.register("gridButtons",function(i){var t=new Wh(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.GridButtons",Wh);const Cm=Ws.prototype.add;var Pa=function(i){return Cm.call(this,i),this.buttonGroup.add(i),this};const O5={addButton(i){if(si(i))for(var t=i,s=0,f=t.length;s<f;s++)Pa.call(this,t[s]);else Pa.call(this,i);return this},addButtons(i){if(si(i[0]))for(var t=i,s,f=0,T=t.length-1;f<=T;f++){s=t[f];for(var E=0,n=s.length;E<n;E++)Pa.call(this,s[E]);f>T&&Cm.addNewLine(this)}else for(var E=0,n=i.length;E<n;E++)Pa.call(this,i[E]);return this}},F5=Ws.prototype.remove,b5=Ws.prototype.clear;var ul=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),F5.call(this,s,t),this):this};const D5={remove(i,t){if(si(i))for(var s=i,f=0,T=s.length;f<T;f++)ul.call(this,s[f],t);else ul.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,b5.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)ul.call(this,t[s],i);return this}},or=Phaser.Utils.Objects.GetValue;class os extends Ws{constructor(t,s){s===void 0&&(s={});var f=s.space;typeof f=="number"&&(s.space={item:f,line:f}),super(t,s),this.type="rexFixWidthButtons",this.buttonGroup=new Xh({parent:this,eventEmitter:or(s,"eventEmitter",this),groupName:or(s,"groupName",void 0),clickConfig:or(s,"click",void 0)}).setButtonsType(s);var T=or(s,"background",void 0),E=or(s,"buttons",void 0);this.buttonsAlign=or(s,"align",void 0),T&&this.addBackground(T),E&&this.addButtons(E),this.addChildrenMap("background",T),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(os.prototype,O5,D5,zh,Cd);st.register("fixWidthButtons",function(i){var t=new os(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FixWidthButtons",os);const B5={setAccept(i){return this.childrenMap.fileChooser.setAccept(i),this},setMultiple(i){return this.childrenMap.fileChooser.setMultiple(i),this},loadFile(i,t,s,f,T){return this.childrenMap.fileChooser.loadFile(i,t,s,f,T),this},loadFilePromise(i,t,s,f){return this.childrenMap.fileChooser.loadFilePromise(i,t,s,f)}},Wc=Phaser.Utils.Objects.GetValue;class Td extends Xi{constructor(t,s){super(t,s),this.type="rexFileSelectorButton";var f=new bn(t);t.add.existing(f),this.addBackground(f),this.addChildrenMap("fileChooser",f),this.setAccept(Wc(s,"accept","")),this.setMultiple(Wc(s,"multiple",!1)),f.on("change",function(T){var E=T.files;E.length!==0&&(E=Array.from(E),this.emit("select",E,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(Td.prototype,B5);st.register("fileSelectorButton",function(i){var t=new Td(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileSelectorButton",Td);const I5={getChoice(i){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(i)},getAction(i){return this.childrenMap.actionsSizer.getButton(i)},getToolbar(i){return this.childrenMap.toolbarSizer.getButton(i)},getLeftToolbar(i){return this.childrenMap.leftToolbarSizer.getButton(i)},setChoiceEnable(i,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonEnable(i,t),this},setActionEnable(i,t){return this.childrenMap.actionsSizer.setButtonEnable(i,t),this},setToolbarEnable(i,t){return this.childrenMap.toolbarSizer.setButtonEnable(i,t),this},setLeftToolbarEnable(i,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(i,t),this},toggleChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(i),this},toggleActionEnable(i){return this.childrenMap.actionsSizer.toggleButtonEnable(i),this},toggleToolbarEnable(i){return this.childrenMap.toolbarSizer.toggleButtonEnable(i),this},toggleLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(i),this},getChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(i):!1},getActionEnable(i){return this.childrenMap.actionsSizer.getButtonEnable(i)},getToolbarEnable(i){return this.childrenMap.toolbarSizer.getButtonEnable(i)},getLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.getButtonEnable(i)},emitChoiceClick(i){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(i),this},emitActionClick(i){return this.childrenMap.actionsSizer.emitButtonClick(i),this},emitToolbarClick(i){return this.childrenMap.toolbarSizer.emitButtonClick(i),this},emitLeftToolbarClick(i){return this.childrenMap.leftToolbarSizer.emitButtonClick(i),this},showChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.showButton(i),this},showAction(i){return this.childrenMap.actionsSizer.showButton(i),this},showToolbar(i){return this.childrenMap.toolbarSizer.showButton(i),this},showLeftToolbar(i){return this.childrenMap.leftToolbarSizer.showButton(i),this},hideChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(i),this},hideAction(i){return this.childrenMap.actionsSizer.hideButton(i),this},hideToolbar(i){return this.childrenMap.toolbarSizer.hideButton(i),this},hideLeftToolbar(i){return this.childrenMap.leftToolbarSizer.hideButton(i),this},addChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.addButton(i),this},addAction(i){return this.childrenMap.actionsSizer.addButton(i),this},addToolbar(i){return this.childrenMap.toolbarSizer.addButton(i),this},addLeftToolbar(i){return this.childrenMap.leftToolbarSizer.addButton(i),this},removeChoice(i,t){var s=this.childrenMap.choicesSizer;return s&&s.removeButton(i,t),this},removeAction(i,t){return this.childrenMap.actionsSizer.removeButton(i,t),this},removeToolbar(i,t){return this.childrenMap.toolbarSizer.removeButton(i,t),this},removeLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.removeButton(i,t),this},clearChoices(i){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(i),this},clearActions(i){return this.childrenMap.actionsSizer.clearButtons(i),this},clearToolbar(i){return this.childrenMap.toolbarSizer.clearButtons(i),this},clearLeftToolbar(i){return this.childrenMap.leftToolbarSizer.clearButtons(i),this},forEachChoice(i,t){var s=this.childrenMap.choicesSizer;return s&&s.forEachButtton(i,t),this},forEachAction(i,t){return this.childrenMap.actionsSizer.forEachButtton(i,t),this},forEachToolbar(i,t){return this.childrenMap.toolbarSizer.forEachButtton(i,t),this},forEachLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.forEachButtton(i,t),this},setAllButtonsEnable(i){return i===void 0&&(i=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(i),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(i),this.childrenMap.actionsSizer&&this.setActionEnable(i),this.childrenMap.choicesSizer&&this.setChoiceEnable(i),this},getChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i?i.getAllButtonsState():{}},getChoicesButtonState(i){var t=this.childrenMap.choicesSizer;return i===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(i):!1},setChoicesButtonState(i,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonState(i,t),this},clearChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i&&i.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var i=this.childrenMap.choicesSizer;return i?i.getSelectedButtonName():""},setChoicesSelectedButtonName(i){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(i),this}},G5={onCreateModalBehavior(i){i.on("button.click",function(t,s,f,T,E){if(s==="actions"){var n={index:f,text:t.text,button:t,dialog:i};switch(i.buttonsType){case"radio":n.value=i.getChoicesSelectedButtonName();break;case"checkboxes":n.value=i.getChoicesButtonStates();break;default:n.value=void 0}i.modalClose(n)}})},modal(i,t){return i&&i.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,id.modal.call(this,i,t),this}};var Tm={};Object.assign(Tm,I5,G5);const lt=Phaser.Utils.Objects.GetValue;class Uh extends St{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexDialog",this.eventEmitter=lt(s,"eventEmitter",this);var f=lt(s,"background",void 0),T=lt(s,"title",void 0),E=lt(s,"toolbar",void 0),n=lt(s,"toolbarBackground",void 0),C=lt(s,"leftToolbar",void 0),e=lt(s,"leftToolbarBackground",void 0),u=lt(s,"content",void 0),x=lt(s,"description",void 0),d,o=lt(s,"choices",void 0),a=lt(s,"choicesBackground",void 0),r,l=lt(s,"actions",void 0),v=lt(s,"actionsBackground",void 0),h=lt(s,"click",void 0);f&&this.addBackground(f);var c;E&&(c=new ie(t,{groupName:"toolbar",background:n,buttons:E,orientation:0,space:{item:lt(s,"space.toolbarItem",0)},click:h,eventEmitter:this.eventEmitter}));var p;if(C&&(p=new ie(t,{groupName:"leftToolbar",background:e,buttons:C,orientation:0,space:{item:lt(s,"space.leftToolbarItem",0)},click:h,eventEmitter:this.eventEmitter})),T||E||C){var g=!!T&&lt(s,"expand.title",!0),m=lt(s,"align.title","center"),y=T&&!g&&m==="center"||!T&&(E||C),S=!y,M;S?M=new St(t,{orientation:0}):M=new He(t);var P=S?!0:{height:!0};if(p&&M.add(p,{align:"left",expand:P}),T){S&&!g&&m==="right"&&M.addSpace();var w={left:lt(s,"space.titleLeft",0),right:lt(s,"space.titleRight",0)},R=g?1:0;M.add(T,{align:m,proportion:R,expand:P,padding:w}),S&&!g&&m==="left"&&M.addSpace()}c&&(S&&!T&&M.addSpace(),M.add(c,{align:"right",expand:P}));var w;(u||x||o||l)&&(w={bottom:lt(s,"space.title",0),top:lt(s,"space.titleTop",0)});var R=lt(s,"proportion.title",0);this.add(M,{padding:w,proportion:R,expand:!0})}if(u){var A=lt(s,"align.content","center"),L=lt(s,"space.content",0),w={left:lt(s,"space.contentLeft",0),right:lt(s,"space.contentRight",0),bottom:x||o||l?L:0},R=lt(s,"proportion.content",0),F=lt(s,"expand.content",!0);this.add(u,{align:A,padding:w,proportion:R,expand:F})}if(x){var A=lt(s,"align.description","center"),O=lt(s,"space.description",0),w={left:lt(s,"space.descriptionLeft",0),right:lt(s,"space.descriptionRight",0),bottom:o||l?O:0},R=lt(s,"proportion.description",0),F=lt(s,"expand.description",!0);this.add(x,{align:A,padding:w,proportion:R,expand:F})}if(o){var b=lt(s,"choicesType","").split("-"),B=sn(b,"wrap")?os:sn(b,"grid")?Wh:ie,I=sn(b,"radio")?"radio":sn(b,"checkboxes")?"checkboxes":void 0,N={left:lt(s,"space.choicesBackgroundLeft",0),right:lt(s,"space.choicesBackgroundRight",0),top:lt(s,"space.choicesBackgroundTop",0),bottom:lt(s,"space.choicesBackgroundBottom",0)},X=lt(s,"space.choice",0);B===ie?N.item=X:B===os?(N.item=X,N.line=lt(s,"space.choiceLine",X)):(N.column=lt(s,"space.choiceColumn",X),N.row=lt(s,"space.choiceRow",X));var k={width:lt(s,"choicesWidth",void 0),height:lt(s,"choicesHeight",void 0),groupName:"choices",buttonsType:I,background:a,buttons:o,space:N,click:h,eventEmitter:this.eventEmitter,setValueCallback:lt(s,"choicesSetValueCallback",void 0),setValueCallbackScope:lt(s,"choicesSetValueCallbackScope",void 0)};B===ie&&(k.orientation=sn(b,"x")?0:1),d=new B(t,k);var H=lt(s,"space.choices",0),w={left:lt(s,"space.choicesLeft",0),right:lt(s,"space.choicesRight",0),bottom:l?H:0},A=lt(s,"align.choices","center"),R=lt(s,"proportion.choices",0),F=lt(s,"expand.choices",!0);this.add(d,{align:A,padding:w,proportion:R,expand:F}),this.buttonsType=I}if(l){r=new ie(t,{groupName:"actions",background:v,buttons:l,orientation:0,space:{item:lt(s,"space.action",0)},expand:lt(s,"expand.actions",!1),align:lt(s,"align.actions","center"),click:h,eventEmitter:this.eventEmitter});var w={left:lt(s,"space.actionsLeft",0),right:lt(s,"space.actionsRight",0),bottom:lt(s,"space.actionsBottom",0)},R=lt(s,"proportion.action",0);this.add(r,{align:"center",padding:w,proportion:R,expand:!0})}rn(this,"click"),rn(this,"over"),rn(this,"out"),rn(this,"enable"),rn(this,"disable"),this.addChildrenMap("background",f),this.addChildrenMap("title",T),this.addChildrenMap("toolbar",E),this.addChildrenMap("leftToolbar",C),this.addChildrenMap("content",u),this.addChildrenMap("description",x),this.addChildrenMap("choices",d?d.buttons:void 0),this.addChildrenMap("actions",r?r.buttons:void 0),this.addChildrenMap("choicesSizer",d),this.addChildrenMap("actionsSizer",r),this.addChildrenMap("toolbarSizer",c),this.addChildrenMap("leftToolbarSizer",p)}}var sn=function(i,t){return i.indexOf(t)!==-1},Uc={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},rn=function(i,t){i.on(`button.${t}`,function(s,f,T,E,n){!Uc.hasOwnProperty(f)||i.emit(`${Uc[f]}.${t}`,s,T,E,n)})};Object.assign(Uh.prototype,Tm);st.register("dialog",function(i){var t=new Uh(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Dialog",Uh);var ke=function(i,t,s){var f=new Nh(i,t,s);return i.add.existing(f),f},N5=function(i){return i===void 0&&(i={}),V5.call(this,i),z5.call(this,i),X5.call(this,i),W5.call(this,i),this},V5=function(i){var t=this.childrenMap.title;t.resetDisplayContent(i.title)},z5=function(i){var t=this.childrenMap.content;if(t.resetDisplayContent)t.resetDisplayContent(i.content);else{var s=i.content||"";t.setText(s)}},X5=function(i){var t=this.childrenMap.actions;if(!!t){var s=i.buttons;if(s){for(var E=this.scene,n=this.defaultActionConfig,C=this.defaultActionButtonCreator,e=0,u=s.length;e<u;e++){var x=s[e],d=t[e];d||(d=ke(E,n,C),this.addAction(d)),d.show().resetDisplayContent(x)}this.buttonMode=s.length;for(var e=s.length,u=t.length;e<u;e++)t[e].hide()}else{var f=t[0];f&&f.resetDisplayContent(i.buttonA);var T=t[1];T&&T.resetDisplayContent(i.buttonB)}}},W5=function(i){var t=this.childrenMap.choices;if(!!t){var s=i.choices;s||(s=[]);for(var f=this.scene,T=this.defaultChoiceConfig,E=this.defaultActionButtonCreator,n=0,C=s.length;n<C;n++){var e=s[n];typeof e=="string"&&(e={text:e});var u=t[n];u||(u=ke(f,T,E),this.addChoice(u)),u.show().resetDisplayContent(e);var x;e.hasOwnProperty("value")?x=e.value:x=e.text,u.setName(x)}for(var n=s.length,C=t.length;n<C;n++)t[n].hide()}};Phaser.Utils.Objects.GetValue;var U5=function(i,t){Ii(i)&&(t=i,i=void 0),i===void 0&&(i={});var s=this.buttonMode===0;i.hasOwnProperty("anyTouchClose")||(i.anyTouchClose=s),i.hasOwnProperty("manualClose")||(i.manualClose=!s);var f=this,T=function(E){var n=E.index;n===f.confirmButtonIndex?f.emit("confirm",E):n===f.cancelButtonIndex&&f.emit("cancel",E),t&&t(E)};return id.modal.call(this,i,T),this};const k5={setConfirmButtonIndex(i){return this.confirmButtonIndex=i,this},setCancelButtonIndex(i){return this.cancelButtonIndex=i,this}};var Sm={resetDisplayContent:N5,modal:U5};Object.assign(Sm,k5);var Y5=function(i){i.setHoverState&&i.setHoverState(!0)},H5=function(i){i.setHoverState&&i.setHoverState(!1)},$5=function(i,t,s,f){i.setActiveState&&i.setActiveState(f)},K5=function(i){i.setDisableState&&i.setDisableState(!1)},Z5=function(i){i.setDisableState&&i.setDisableState(!0)},J5=function(){this.on("button.over",Y5).on("button.out",H5).on("button.enable",K5).on("button.disable",Z5).on("button.statechange",$5)};const Em={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var Sd=function(i,t){t===void 0&&(t="scrollMode"),i.hasOwnProperty(t)||(i[t]=Q5(i));var s=i[t];return typeof s=="string"&&(s=Em[s]),s},Q5=function(i){var t=!!i.sliderY||!!i.scrollerY,s=!!i.sliderX||!!i.scrollerX,f;return t&&s?f=2:t?f=0:s?f=1:f=0,f};const _t=Phaser.Utils.Objects.GetValue;var j5=function(i,t,s){var f=_t(s,"child"),T=_t(f,"gameObject",void 0);if(T){var E=_t(s,"space.child",0);i.childMargin={};var n=i.childMargin,C={};if(typeof E=="number")switch(i.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=E,n.bottom=E,n.left=E,n.right=E;break}else switch(i.scrollMode){case 0:n.top=_t(E,"top",0),n.bottom=_t(E,"bottom",0),C.left=_t(E,"left",0),C.right=_t(E,"right",0);break;case 1:n.top=_t(E,"left",0),n.bottom=_t(E,"right",0),C.top=_t(E,"top",0),C.bottom=_t(E,"bottom",0);break;default:n.top=_t(E,"top",0),n.bottom=_t(E,"bottom",0),n.left=_t(E,"left",0),n.right=_t(E,"right",0);break}t.add(T,{column:1,row:1,align:_t(f,"align","center"),padding:C,expand:{width:_t(f,"expandWidth",!0),height:_t(f,"expandHeight",!0)}})}i.addChildrenMap("child",T)};const kc=Phaser.Math.Percent;var Pm=function(i,t,s){var f;return i.y===t.y?f=kc(s.x,i.x,t.x):i.x===t.x&&(f=kc(s.y,i.y,t.y)),f},q5=function(i,t,s){if(!!this.enable){dl.x=t,dl.y=s;var f,T;this.reverseAxis?(f=this.getEndPoint(),T=this.getStartPoint()):(f=this.getStartPoint(),T=this.getEndPoint()),this.value=Pm(f,T,dl)}},dl={},Yc=function(i,t,s){if(!!this.enable&&!!i.isDown){fl.x=i.worldX,fl.y=i.worldY;var f,T;this.reverseAxis?(f=this.getEndPoint(),T=this.getStartPoint()):(f=this.getStartPoint(),T=this.getEndPoint());var E=Pm(f,T,fl);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-E)<.1?this.value=E:this.easeValueTo(E)}},fl={},Mm=function(i,t){t===void 0&&(t=_5);var s=this.childrenMap.thumb,f=s.x,T=s.y;return Mn(s,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,i),t.x=s.x,t.y=s.y,s.x=f,s.y=T,t},_5={};const t9=Phaser.Display.Align.LEFT_CENTER,e9=Phaser.Display.Align.TOP_CENTER;var i9=function(i){if(i===void 0&&(i=s9),this.childrenMap.thumb){var t=this.orientation===0?t9:e9;Mm.call(this,t,i)}else this.orientation===0?(i.x=this.innerLeft+1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerTop+1);return i},s9={};const r9=Phaser.Display.Align.RIGHT_CENTER,n9=Phaser.Display.Align.BOTTOM_CENTER;var a9=function(i){if(i===void 0&&(i=h9),this.childrenMap.thumb){var t=this.orientation===0?r9:n9;Mm.call(this,t,i)}else this.orientation===0?(i.x=this.innerRight-1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerBottom-1);return i},h9={};const Hc=Phaser.Math.Linear;var o9=function(i,t,s,f){return f===void 0&&(f=l9),f.x=Hc(t.x,s.x,i),f.y=Hc(t.y,s.y,i),f},l9={},u9=function(i){var t=this.childrenMap.thumb;if(t===void 0)return this;i===void 0&&(i=this.value);var s,f;return this.reverseAxis?(s=this.getEndPoint(),f=this.getStartPoint()):(s=this.getStartPoint(),f=this.getEndPoint()),o9(i,s,f,t),this.resetChildPositionState(t),this};const d9=Phaser.Display.Align.LEFT_CENTER,f9=Phaser.Display.Align.TOP_CENTER,v9=Phaser.Display.Align.RIGHT_CENTER,c9=Phaser.Display.Align.BOTTOM_CENTER;var p9=function(i){var t=this.childrenMap.indicator;if(t===void 0)return this;i===void 0&&(i=this.value);var s=this.reverseAxis,f,T,E=this.childrenMap.thumb;if(E)if(this.orientation===0){var n=Rt(E);if(s){var C=E.x-n*E.originX;f=this.right-C}else{var C=E.x-n*E.originX,e=C+n;f=e-this.left}}else{var u=At(E);if(s){var x=E.y-u*E.originY;T=this.bottom-x}else{var x=E.y-u*E.originY,d=x+u;T=d-this.top}}else this.orientation===0?f=this.width*i:T=this.height*i;pe(t,f,T);var o;s?o=this.orientation===0?v9:c9:o=this.orientation===0?d9:f9,P0(t,this,o),this.resetChildPositionState(t)};const je=Phaser.Utils.Objects.GetValue,Ma=Phaser.Utils.Objects.IsPlainObject,g9=Phaser.Math.Clamp,m9=Phaser.Math.Snap.To;class Fr extends zs(St){constructor(t,s){super(t,s),this.type="rexSlider",this.bootProgressBase(s),this.reverseAxis=je(s,"reverseAxis",!1);var f=je(s,"background",void 0),T=je(s,"track",void 0),E=je(s,"indicator",void 0),n=je(s,"thumb",void 0);f&&(Ma(f)&&(f=Ue(t,f)),this.addBackground(f)),T&&(Ma(T)&&(T=Ue(t,T)),this.add(T,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),E&&(Ma(E)&&(E=Ue(t,E)),this.pin(E)),n&&(Ma(n)&&(n=Ue(t,n)),this.pin(n));var C=je(s,"input",0);switch(typeof C=="string"&&(C=x9[C]),C){case 0:n&&(n.setInteractive(),this.scene.input.setDraggable(n),n.on("drag",q5,this).on("dragstart",function(e){this.eventEmitter.emit("inputstart",e)},this).on("dragend",function(e){this.eventEmitter.emit("inputend",e)},this));break;case 1:this.on("pointerdown",Yc,this).on("pointermove",Yc,this).on("pointerdown",function(e){this.eventEmitter.emit("inputstart",e)},this).on("pointerup",function(e){this.eventEmitter.emit("inputend",e)},this).on("pointerover",function(e){e.isDown&&this.eventEmitter.emit("inputstart",e)},this).on("pointerout",function(e){e.isDown&&this.eventEmitter.emit("inputend",e)},this).setInteractive();break}this.addChildrenMap("background",f),this.addChildrenMap("track",T),this.addChildrenMap("indicator",E),this.addChildrenMap("thumb",n),this.setEnable(je(s,"enable",void 0)),this.setGap(je(s,"gap",void 0)),this.setValue(je(s,"value",0),je(s,"min",void 0),je(s,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,s,f){return t&&s!==void 0&&(t=t/(f-s)),this.gap=t,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=m9(t,this.gap));var s=this._value;this._value=g9(t,0,1),s!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,s,this.eventEmitter))}postLayout(t,s,f){return this.updateThumb(),this.updateIndicator(),this}}const x9={pan:0,drag:0,click:1,none:-1};var y9={getStartPoint:i9,getEndPoint:a9,updateThumb:u9,updateIndicator:p9};Object.assign(Fr.prototype,y9);const ye=Phaser.Utils.Objects.GetValue;class Ed extends St{constructor(t,s){super(t,s),this.type="rexScrollBar";var f=ye(s,"background",void 0),T=ye(s,"buttons",void 0),E=ye(T,"top",ye(T,"left",void 0)),n=ye(T,"bottom",ye(T,"right",void 0)),C,e=ye(s,"slider",void 0);if(f&&this.addBackground(f),E){this.add(E);var u=new Er(E);u.on("intouch",function(){if(!!this.enable){var v=C.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(e){e.orientation=this.orientation,e.eventEmitter=this,e.value=null;var x;if(this.orientation===0){var d=ye(e,"width",void 0);x=d===void 0?1:0}else{var o=ye(e,"height",void 0);x=o===void 0?1:0}C=new Fr(t,e),t.add.existing(C),this.add(C,{proportion:x})}if(n){this.add(n);var u=new Er(n);u.on("intouch",function(){if(!!this.enable){var h=C.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=h}},this)}var a=[E,n];this.addChildrenMap("background",f),this.addChildrenMap("slider",C),this.addChildrenMap("buttons",a);var r=ye(s,"valuechangeCallback",null);if(r!==null){var l=ye(s,"valuechangeCallbackScope",void 0);this.on("valuechange",r,l)}this.setEnable(ye(s,"enable",void 0)),this.setValue(ye(s,"value",0)),this.setScrollStep(ye(T,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){!this.childrenMap.slider||(this.childrenMap.slider.value=t)}setValue(t,s,f){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,f),this}addValue(t,s,f){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,f),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,f){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,f),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}}var C9=function(i,t){t===void 0&&(t={});var s=Bi(t);t={slider:s},t.orientation=s.orientation,delete s.orientation,t.background=s.background,delete s.background,t.buttons=s.buttons,delete s.buttons,t.value=null;var f=new Ed(i,t);i.add.existing(f);var T=f.childrenMap.slider;return f.addChildrenMap("track",T.childrenMap.track),f.addChildrenMap("indicator",T.childrenMap.indicator),f.addChildrenMap("thumb",T.childrenMap.thumb),f};class T9 extends zi{constructor(t,s){super(s),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,s=this.parent,f=s.dragState;return f.isDown&&(t=s.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,s){this.next()}next_DRAGBEGIN(){var t,s=this.parent,f=s.dragState;return f.isDown?t=f.pointer.getDistance()>=s.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,s){this.next()}next_DRAG(){var t,s=this.parent,f=s.dragState;return f.isUp&&(s.outOfBounds?t="BACK":s.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,s){var f=this.parent,T=f.dragState;T.justMoved&&f.dragging(),this.next()}enter_DRAG(){this.parent.onDragStart()}exit_DRAG(){this.parent.onDragEnd()}next_SLIDE(){var t,s=this.parent,f=s.dragState;return f.isDown?t="DRAG":s.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,s){this.parent.sliding(t,s),this.next()}next_BACK(){var t,s=this.parent,f=s.dragState;return f.isDown?t="DRAG":s.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,s){this.parent.pullBack(t,s),this.next()}}const wa=Phaser.Utils.Objects.GetValue,S9=Phaser.Math.Distance.Between;class E9 extends Yt{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(wa(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(wa(t,"enable",!0)),this.holdThreshold=wa(t,"holdThreshold",50),this.pointerOutReleaseEnable=wa(t,"pointerOutRelease",!0),this}boot(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=Su(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=S9(this.preX,this.preY,this.x,this.y),s=t/(this.dt*.001);return s}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,s,f){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.localX=s,this.localY=f)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,s,f){!this.enable||!t.isDown||this.pointer!==t||(this.localX=s,this.localY=f)}preupdate(t,s){if(!!this.enable){var f=this.pointer;this.justMoved=!1,f&&!this.isInTouched?(this.x=f.worldX,this.y=f.worldY,this.preX=f.worldX,this.preY=f.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",f,this.localX,this.localY)):f&&this.isInTouched?this.x===f.x&&this.y===f.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=f.worldX,this.y=f.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",f,this.localX,this.localY)):!f&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",f))}}}const vl=Phaser.Utils.Objects.GetValue;class P9{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(vl(t,"value",0)),this.setSpeed(vl(t,"speed",0)),this.setAcceleration(vl(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class M9{constructor(){this.value,this.dir,this.movement=new P9}init(t,s,f,T,E){return this.value=t,this.end=E,E!==void 0?this.dir=t<E:this.dir=s,this.movement.setSpeed(f).setAcceleration(-T),this}stop(){this.movement.reset()}update(t){var s=this.movement.getDeltaValue(t);return this.dir||(s=-s),this.end===void 0?this.value+=s:s===0?this.value=this.end:(this.value+=s,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const $t=Phaser.Utils.Objects.GetValue,w9=Phaser.Math.Clamp;class R9 extends Yt{constructor(t,s){super(t,s);var f=$t(s,"enable",!0);this._state=new T9(this,{enable:f,eventEmitter:!1});var T={inputConfig:$t(s,"inputConfig",void 0),enable:f,pointerOutRelease:$t(s,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new E9(t,T),this._enable=void 0,this._value=void 0,this._slowDown=new M9;var E=$t(s,"valuechangeCallback",null);if(E!==null){var n=$t(s,"valuechangeCallbackScope",void 0);this.on("valuechange",E,n)}if(E=$t(s,"overmaxCallback",null),E!==null){var n=$t(s,"overmaxCallbackScope",void 0);this.on("overmax",E,n)}if(E=$t(s,"overminCallback",null),E!==null){var n=$t(s,"overminCallbackScope",void 0);this.on("overmin",E,n)}this.resetFromJSON(s),this.boot()}resetFromJSON(t){this.setOrientationMode($t(t,"orientation",0)),this.setDragThreshold($t(t,"threshold",10)),this.setSlidingDeceleration($t(t,"slidingDeceleration",5e3)),this.setBackDeceleration($t(t,"backDeceleration",2e3));var s=$t(t,"dragRate",1);s=s*($t(t,"dragReverse",!1)?-1:1),this.setDragRate(s);var f=$t(t,"bounds",void 0);return f?this.setBounds(f):this.setBounds($t(t,"max",0),$t(t,"min",0)),this.setValue($t(t,"value",this.maxValue||0)),this.setEnable($t(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=A9[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,s){if(Array.isArray(t)){var f=t;t=f[0],s=f[1]}return t<s?(this.minValue=t,this.maxValue=s):(this.minValue=s,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var s=this._value,f=this.overMax(t),T=this.overMin(t);f&&this.emit("overmax",t,s),T&&this.emit("overmin",t,s),this.backEnable||(f&&(t=this.maxValue),T&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,s)}}setValue(t,s){return s===void 0&&(s=!1),s&&(t=w9(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,s){return this.setValue(this.value+t,s),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}onDragStart(){this.emit("dragstart")}onDragEnd(){this.emit("dragend")}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,s=this.dragSpeed;if(s===0){this._slowDown.stop(),this._state.next();return}var f=this.slidingDeceleration;this._slowDown.init(t,s>0,Math.abs(s),f)}sliding(t,s){s*=.001;var f=this._slowDown.update(s).value;this.overMax(f)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(f)?(this.value=this.minValue,this._slowDown.stop()):this.value=f}onPullBack(){var t=this.value,s=this.outOfMinBound?this.minValue:this.maxValue,f=Math.abs(s-t),T=this.backDeceleration,E=Math.sqrt(2*T*f);this._slowDown.init(t,void 0,E,T,s)}pullBack(t,s){s*=.001,this.value=this._slowDown.update(s).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}const A9={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Ra=Phaser.Utils.Objects.GetValue;class L9 extends Yt{constructor(t,s){if(super(t,s),this.parent!==this.scene?this.focusMode=Ra(s,"focus",!0):this.focusMode=!1,this.setSpeed(Ra(s,"speed",.1)),this.setEnable(Ra(s,"enable",!0)),!this.focusMode)this.scene.input.on("wheel",this.onSceneScroll,this);else{var t=this.parent;t.setInteractive(Ra(s,"inputConfig",void 0)).on("wheel",function(T,E,n,C,e){!this.enable||this.scroll(n)},this)}}destroy(){this.focusMode||this.scene.input.off("wheel",this.onSceneScroll,this)}onSceneScroll(t,s,f,T,E,n){!this.enable||this.scroll(T)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}scroll(t){t*=this.speed,this.emit("scroll",t,this.parent,this)}}const te=Phaser.Utils.Objects.GetValue;var Aa=function(i,t,s,f){s=s.toUpperCase();var T=s==="Y",E=i.scrollMode===2,n=i.childrenMap.child,C,e,u=`slider${s}`;if(E||f.hasOwnProperty(u)?C=te(f,u,void 0):C=te(f,"slider",void 0),C){C===!0&&(C={}),C.orientation=T?1:0,e=C9(i.scene,C);var x,d,o,a=te(C,"position",0);typeof a=="string"&&(a=O9[a]);var r=te(f,`space.slider${s}`,void 0),l;r===void 0&&(r=te(f,"space.slider",void 0),r===void 0&&(E?r=0:l=te(f,"space.child",0)));var v;l===void 0?v=typeof r=="number":v=typeof l=="number",T?a===0?(x=2,d=1,l===void 0?o=v?{left:r}:r:o={left:te(l,"right",l)}):(x=0,d=1,l===void 0?o=v?{right:r}:r:o={right:te(l,"left",l)}):a===0?(x=1,d=2,l===void 0?o=v?{top:r}:r:o={top:te(l,"bottom",l)}):(x=1,d=0,l===void 0?o=v?{bottom:r}:r:o={bottom:te(l,"top",l)}),t.add(e,{column:x,row:d,align:"center",padding:o,expand:!0}),i[`hideUnscrollableSlider${s}`]=te(C,"hideUnscrollableSlider",!1),i[`adaptThumb${s}SizeMode`]=te(C,"adaptThumbSize",!1),i[`minThumb${s}Size`]=te(C,"minThumbSize",void 0)}else i[`hideUnscrollableSlider${s}`]=!1,i[`adaptThumb${s}SizeMode`]=!1,i[`minThumb${s}Size`]=void 0;var h,c,p=`scroller${s}`;E||f.hasOwnProperty(p)?h=te(f,p,!0):h=te(f,"scroller",!0),h&&n&&(h===!0&&(h={}),h.orientation=T?0:1,c=new R9(n,h));var g=te(f,E?`mouseWheelScroller${s}`:"mouseWheelScroller",!1),m;if(g&&n&&(m=new L9(n,g)),i.addChildrenMap(`slider${s}`,e),i.addChildrenMap(`scroller${s}`,c),i.addChildrenMap(`mouseWheelScroller${s}`,m),(!E||T)&&(i.hideUnscrollableSlider=i[`hideUnscrollableSlider${s}`],i.adaptThumbSizeMode=i[`adaptThumb${s}SizeMode`],i.minThumbSize=i[`minThumb${s}Size`],i.addChildrenMap("slider",e),i.addChildrenMap("scroller",c),i.addChildrenMap("mouseWheelScroller",m)),e){var y,S;E?(y=T?"t":"s",S=`scroll${s}`):(y="t",S="scroll"),e.on("valuechange",function(w){i[y]=w,i.emit(S,i)})}if(c){var M,S;E?(M=`childO${s}`,S=`scroll${s}`):(M="childOY",S="scroll"),c.on("valuechange",function(R){i[M]=R,i.emit(S,i)})}if(m){var P;E?P=`addChildO${s}`:P="addChildOY",m.on("scroll",function(w){i[P](-w,!0)})}};const O9={right:0,left:1,bottom:0,top:1},La=Phaser.Utils.Objects.GetValue;var F9=function(i,t){var s=i.scene,f=[0,1,0],T=[0,1,0],E=La(t,"width"),n=La(t,"height");if(!E){var C=La(t,"child.expandWidth",!0);C||(f[1]=0)}if(!n){var e=La(t,"child.expandHeight",!0);e||(T[1]=0)}var u=new ni(s,{column:3,row:3,columnProportions:f,rowProportions:T});switch(j5(i,u,t),i.scrollMode){case 0:Aa(i,u,"y",t);break;case 1:Aa(i,u,"x",t);break;default:Aa(i,u,"y",t),Aa(i,u,"x",t);break}return u},b9=function(){switch(this.scrollMode){case 0:case 1:cl.call(this),this.updateController(),pl.call(this),gl.call(this);break;default:cl.call(this,"y"),cl.call(this,"x"),this.updateController(),pl.call(this,"y"),pl.call(this,"x"),gl.call(this,"y"),gl.call(this,"x");break}return this},cl=function(i){var t,s,f,T;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,s=this.bottomChildOY,f=this.childrenMap.scroller,T=this.childrenMap.slider;break;default:i=i.toUpperCase(),i==="Y"?(t=this.topChildOY,s=this.bottomChildOY):(t=this.leftChildOX,s=this.rightChildOX),f=this.childrenMap[`scroller${i}`],T=this.childrenMap[`slider${i}`]}f&&f.setBounds(t,s),T&&T.setEnable(t!==s)},pl=function(i){switch(this.scrollMode){case 0:case 1:var t=this.childrenMap.slider;t&&this.hideUnscrollableSlider&&this.setChildVisible(t,this.isOverflow);break;default:i=i.toUpperCase();var t=this.childrenMap[`slider${i}`],s=this[`hideUnscrollableSlider${i}`],f=this[`isOverflow${i}`];t&&s&&this.setChildVisible(t,f);break}},gl=function(i){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var E=this.childrenMap.slider;if(!E)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=E.childrenMap.track,C=E.childrenMap.thumb,e=this.minThumbSize;if(this.scrollMode===0){var s=n.displayHeight*t;e!==void 0&&s<e&&(s=e),pe(C,void 0,s)}else{var f=n.displayWidth*t;e!==void 0&&f<e&&(f=e),pe(C,f,void 0)}$c(E);break;default:i=i.toUpperCase();var T=this[`adaptThumb${i}SizeMode`];if(!T)return;var E=this.childrenMap[`slider${i}`];if(!E)return;var n=E.childrenMap.track,C=E.childrenMap.thumb,e=this[`minThumb${i}Size`];if(i==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),s=n.displayHeight*t;e!==void 0&&s<e&&(s=e),pe(C,void 0,s)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),f=n.displayWidth*t;e!==void 0&&f<e&&(f=e),pe(C,f,void 0)}$c(E);break}},$c=function(i){var t=i.minWidth,s=i.minHeight;i.minWidth=i.width,i.minHeight=i.height,i.layout(),i.minWidth=t,i.minHeight=s},D9=function(){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.scroller,t=this.childrenMap.slider;i&&i.setValue(this.childOY),t&&t.setValue(this.t);break;default:var s=this.childrenMap.scrollerY,f=this.childrenMap.sliderY,T=this.childrenMap.scrollerX,E=this.childrenMap.sliderX;s&&s.setValue(this.childOY),f&&f.setValue(this.t),T&&T.setValue(this.childOX),E&&E.setValue(this.s);break}};const vi=Phaser.Utils.Objects.GetValue,Oa=Phaser.Math.Clamp;class In extends St{constructor(t,s){s===void 0&&(s={});var f=Sd(s),T=f===1;s.orientation=T?0:1,super(t,s),this.type=vi(s,"type","rexScrollable"),this.scrollMode=f;var E=vi(s,"background",void 0);E&&this.addBackground(E);var n=vi(s,"header",void 0);if(n){var C=vi(s,"align.header","center"),e=vi(s,"space.header",0),u;T?u={right:e}:u={bottom:e},this.add(n,{proportion:0,align:C,padding:u,expand:vi(s,"expand.header",!0)})}var x=F9(this,s);x&&this.add(x,{proportion:1,align:"center",padding:0,expand:!0});var d=vi(s,"footer",void 0);if(d){var C=vi(s,"align.footer","center"),o=vi(s,"space.footer",0),u;T?u={left:o}:u={top:o},this.add(d,{proportion:0,align:C,padding:u,expand:vi(s,"expand.footer",!0)})}this.addChildrenMap("background",E),this.addChildrenMap("header",n),this.addChildrenMap("footer",d),this.runLayoutFlag=!1}postLayout(t,s,f){var T=0,E=0;return this.runLayoutFlag?(E=this.t,this.scrollMode===2&&(T=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(E),this.scrollMode===2&&this.setS(T),this}set t(t){var s=this.childMargin;if(s.top!==0||s.bottom!==0){var f=this.childrenMap.child,T=f.topChildOY-f.bottomChildOY,E=T+s.top+s.bottom,n=E*t-s.top;t=T!==0?n/T:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,s=this.childMargin;if(s.top!==0||s.bottom!==0){var f=this.childrenMap.child,T=f.topChildOY-f.bottomChildOY,E=T+s.top+s.bottom,n=T*t+s.top;t=E!==0?n/E:0}return t}set s(t){var s=this.childMargin;if(s.left!==0||s.right!==0){var f=this.childrenMap.child,T=f.leftChildOX-f.rightChildOX,E=T+s.left+s.right,n=E*t-s.left;t=T!==0?n/T:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,s=this.childMargin;if(s.left!==0||s.right!==0){var f=this.childrenMap.child,T=f.leftChildOX-f.rightChildOX,E=T+s.left+s.right,n=T*t+s.left;t=E!==0?n/E:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}setChildOY(t,s){return s===void 0&&(s=!1),s&&(t=Oa(t,this.bottomChildOY,this.topChildOY)),this.childOY=t,this}addChildOY(t,s){return this.setChildOY(this.childOY+t,s),this}setT(t,s){return s===void 0&&(s=!1),s&&(t=Oa(t,0,1)),this.t=t,this}addT(t,s){return this.setT(this.t+t,s),this}scrollToTop(){return this.t=0,this}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}setChildOX(t,s){return s===void 0&&(s=!1),s&&(t=Oa(t,this.leftChildOX,this.rightChildOX)),this.childOX=t,this}addChildOX(t,s){return this.setChildOX(this.childOX+t,s),this}setS(t,s){return s===void 0&&(s=!1),s&&(t=Oa(t,0,1)),this.s=t,this}addS(t,s){return this.setS(this.s+t,s),this}scrollToLeft(){return this.s=0,this}scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var s=this.childrenMap.slider;!s||s.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var s=this.childrenMap.sliderX;!s||s.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var s=this.childrenMap.scroller;!s||s.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;!s||s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;!s||s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var s=this.childrenMap.mouseWheelScroller;!s||s.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var s=this.childrenMap.mouseWheelScrollerX;!s||s.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setInteractive(),s.input.dropZone=t,this}}var B9={resizeController:b9,updateController:D9};Object.assign(In.prototype,B9);const Te=0,Ae=1,Le=2;var br=function(i){var t;return mm(i)?t=Le:gd(i)?t=Te:t=Ae,t},Pd=function(i,t,s){var f=br(i);switch(f){case Te:s=i.getWrappedText(t);break;case Ae:s=i.getPenManager(t,s);break;case Le:i.maxWidth>0?s=i.setText(t).getTextBounds().wrappedText.split(`
`):s=t.split(`
`);break}return s},I9=function(i){return i!==void 0&&(this.text=i),this.lines=Pd(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},wm=function(i){return(i-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},Rm=function(i){return i*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},G9=function(i){var t=i+this.visibleLinesCount+1,s;switch(this.textObjectType){case Te:s=this.lines.slice(i,t).join(`
`);break;case Ae:var f=this.lines.getLineStartIndex(i),T=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(f,T,!0);break;case Le:s=this.lines.slice(i,t).join(`
`);break}return s},Md=function(i,t){var s=br(i);switch(s){case Te:var E=i.style,f=E.wordWrapWidth,T=E.wordWrapCallback;E.wordWrapWidth=0,E.wordWrapCallback=void 0,i.setText(t),E.wordWrapWidth=f,E.wordWrapCallback=T;break;case Ae:var E=i.style,n=E.wrapMode;E.wrapMode=0,i.setText(t),E.wrapMode=n;break;case Le:var C=i._maxWidth;i._maxWidth=0,i.setText(t),i._maxWidth=C;break}},Am=function(){var i=this.textObject.rexSizer;this.textObject.y+=i.offsetY-i.preOffsetY,i.preOffsetY=i.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&N9.call(this)},N9=function(){if(!!this.textObject.setCrop){var i=this.textObject.rexSizer.offsetY,t,s;i<=0?(t=-i,s=this.height):(t=0,s=this.height-i),this.textObject.setCrop(0,t,this.width,s)}},V9=function(){var i=Math.max(Math.floor(wm.call(this,-this.textOY)),0),t=Rm.call(this,i)+this.textOY,s=G9.call(this,i);return Md(this.textObject,s),this.textObject.rexSizer.offsetY=t,Am.call(this),this},z9=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,An.call(this),this},X9=function(i,t,s){if(s+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===s)){switch(this.textObjectWidth=t,this._textObjectRealHeight=s,this.textObjectType){case Te:case Ae:i.setFixedSize(t,s);var f=i.style,T=Math.max(t,0);this.textObjectType===Te?f.wordWrapWidth=T:(f.wrapMode===0&&(f.wrapMode=1),f.wrapWidth=T);break;case Le:i.setMaxWidth(t);break}this.setText()}},W9=function(){var i,t,s,f=this.left,T=this.top,E,n,C,e;i=this.textObject,i.rexSizer.hidden||(t=i.rexSizer,s=t.padding,E=f+s.left,n=T+s.top,C=this.width-s.left-s.right,e=this.height-s.top-s.bottom,X9.call(this,i,C,e),Mn(i,E,n,C,e,t.align),t.preOffsetY=0,Am.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const U9={setText:I9,updateTextObject:V9,preLayout:z9,layoutChildren:W9},Kc=Phaser.Utils.Objects.IsPlainObject,we=Phaser.Utils.Objects.GetValue,k9=Phaser.Display.Align.TOP_LEFT;class Lm extends Xs{constructor(t,s,f,T,E,n){Kc(s)?(n=s,s=we(n,"x",0),f=we(n,"y",0),T=we(n,"width",void 0),E=we(n,"height",void 0)):Kc(T)&&(n=T,T=we(n,"width",void 0),E=we(n,"height",void 0)),super(t,s,f,T,E,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=we(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(we(n,"clamplTextOY",!0)),this.alwaysScrollable=we(n,"alwaysScrollable",!1);var C=we(n,"background",void 0),e=we(n,"text",void 0);e===void 0&&(e=Y9(t)),this.textCropEnable=we(n,"textCrop",!!e.setCrop);var u=we(n,"textMask",!this.textCropEnable);C&&this.addBackground(C),this.add(e),this.sizerChildren=[e];var x=this.getSizerConfig(e);x.align=k9,x.padding=hs(0),x.expand=!0,this.textObject=e,this.textObjectType=br(e),x.preOffsetY=0,x.offsetY=0,u&&(this.textMask=ri.call(this,this.textObject,this)),this.addChildrenMap("background",C),this.addChildrenMap("text",e)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Te:this.lines.length=0;break;case Ae:this.lines.destroy();break;case Le:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Te:case Ae:var s=this.textObject.style;t=s.metrics.fontSize+s.strokeThickness;break;case Le:var f=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*f;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Te:case Ae:t=this.textObject.lineSpacing;break;case Le:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(wm.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=Rm.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var s=this.topTextOY,f=this.bottomTextOY,T=this.textOYExceedTop(t),E=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:T?t=s:E&&(t=f)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),T&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=T,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,f)),this.execeedBottomState=E}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var Y9=function(i){return i.add.text(0,0,"")};Object.assign(Lm.prototype,U9);var H9=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.textOY},set:function(t){i.textOY=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTextOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTextOY}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.textObjectHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.textHeight}})};const $9={setText(i){var t=this.childrenMap.child;return t.setText(i),this.resizeController(),this},appendText(i){return this.setText(this.text+i),this}},K9={scrollToLine(i){return this.setChildOY(-this.lineHeight*i),this},scrollToNextLine(i){i===void 0&&(i=1);var t=this.lineIndex+i;return this.scrollToLine(t),this}},ci=Phaser.Utils.Objects.GetValue;class Gn extends In{constructor(t,s){s===void 0&&(s={});var f=ci(s,"text",void 0),T=ci(s,"textWidth",void 0),E=ci(s,"textHeight",void 0),n=ci(s,"textCrop",!!f.setCrop),C=ci(s,"textMask",!n),e=ci(s,"content",""),u=new Lm(t,{width:T,height:E,text:f,textMask:C,textCrop:n&&!C,content:e,clamplTextOY:ci(s,"clamplChildOY",!1),alwaysScrollable:ci(s,"alwaysScrollable",!1)});t.add.existing(u),H9(u),s.scrollMode=0,s.type="rexTextArea",s.child={gameObject:u,expandWidth:T===void 0,expandHeight:E===void 0};var x=ci(s,"space",void 0);x&&(x.child=ci(x,"text",0)),super(t,s),this.addChildrenMap("text",f)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(Gn.prototype,$9,K9);const Fa=Phaser.Utils.Objects.GetValue;var Z9=function(i,t,s){t=t?Oe(t):{};var f=Fa(s,"background",Ue),T=Fa(s,"text",gm),E=Fa(s,"track",Ue),n=Fa(s,"thumb",Ue);f?t.background=f(i,t.background):delete t.background,T?t.text=T(i,t.text):delete t.text;var C=t.slider;C!==!1&&(C===void 0&&(C={}),E?C.track=E(i,C.track):delete C.track,n?C.thumb=n(i,C.thumb):delete C.thumb,t.slider=C);var e=new Gn(i,t);return i.add.existing(e),e};const J9=Phaser.Utils.Objects.GetValue;var Q9=function(i,t,s){var f=J9(t,"$type");f===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(f="textarea");var T;switch(f){case"textarea":T=new Z9(i,t,s);break;default:T=new ke(i,t,s);break}return i.add.existing(T),T};const ml=Phaser.Utils.Objects.GetValue;class kh extends Uh{constructor(t,s,f){s=s?Oe(s):{},f===void 0&&(f={});var T=ml(f,"background",Ue);T?s.background=T(t,s.background):delete s.background,s.title=ke(t,s.title,f.title),s.content=Q9(t,s.content,f.content),s.content instanceof Gn&&mi(s,"height")&&!mi(s,"proportion.content")&&et(s,"proportion.content",1);var E=s.button,n=s.buttonA||E,C=s.buttonB||E,e=s.buttonMode;e===void 0&&(e=!!n&&!!C?2:n?1:0);var u=f.button,x=f.buttonA||u,d=f.buttonB||u;switch(e){case 2:s.actions=[ke(t,n,x),ke(t,C,d)];break;case 1:s.actions=[ke(t,n,x)];break;case 0:break;default:s.actions=[];break}var o=s.choice;o&&(s.choices=[]),super(t,s),this.type="rexConfirmDialog",this.buttonMode=e,this.defaultActionConfig=E,this.defaultActionButtonCreator=u,this.defaultChoiceConfig=o,this.defaultChoiceCreator=f.choice;var a=this.childrenMap.actions;this.addChildrenMap("buttonA",a?a[0]:null),this.addChildrenMap("buttonB",a?a[1]:null),J5.call(this),this.setConfirmButtonIndex(ml(s,"confirmButtonIndex",0)),this.setCancelButtonIndex(ml(s,"cancelButtonIndex",1))}}Object.assign(kh.prototype,Sm);st.register("confirmDialog",function(i,t){var s=new kh(this.scene,i,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.ConfirmDialog",kh);const Zc=Phaser.Utils.Objects.GetValue;var Om=function(i,t){var s=t.dialog,f=!s;if(f){var T=t.style;T.buttonMode=2,s=new kh(i,T,t.creators),i.add.existing(s)}s.setConfirmButtonIndex(Zc(t,"confirmButtonIndex",0)).setCancelButtonIndex(Zc(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),f&&t.onCreateDialog&&t.onCreateDialog(s);var E=t.modal;E&&!E.hasOwnProperty("destroy")&&(E.destroy=f);var n=t.confirm,C=t.cancel,e=t.confirmScope,u=t.cancelScope;n&&s.once("confirm",n,e),C&&s.once("cancel",C,u);var x=function(d){s.off("confirm",n,e),s.off("cancel",C,u)};return s.modal(E,x),s};class Fm extends Xi{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Bi(s.confirmDialog||{}),s.confirm&&this.setConfirmCallback(s.confirm,s.confirmScope),s.cancel&&this.setCancelCallback(s.cancel,s.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=Om(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,s){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=s,this}setCancelCallback(t,s){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=s,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,s=this.confirmActionConfig.confirmScope;return t&&t.call(s),this}}st.register("confirmActionButton",function(i){var t=new Fm(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ConfirmActionButton",Fm);var Fs=function(i,t){if(!!i){var s=be(i);!s||s.remove(i,t)}};const ba=Phaser.Utils.Objects.GetValue;var Nn=function(i,t,s){var f=ba(i,`proportion.${t}`,s.proportion),T=ba(i,`align.${t}`,"center"),E=ba(i,`space.${t}`,void 0);if(typeof E=="number"&&s.paddingKey){var n=E;E={},E[s.paddingKey]=n}var C=ba(i,`expand.${t}`,!0);return{proportion:f,align:T,padding:E,expand:C}},Yh=function(i){return Nn(i,"header",{proportion:0,paddingKey:"bottom"})},Hh=function(i){return Nn(i,"leftSide",{proportion:0,paddingKey:"right"})},$h=function(i){return Nn(i,"content",{proportion:1})},Kh=function(i){return Nn(i,"rightSide",{proportion:0,paddingKey:"left"})},Zh=function(i){return Nn(i,"footer",{proportion:0,paddingKey:"top"})},bi=function(i){return{proportion:1,align:"center",padding:0,expand:!0}},Di=function(i,t){var s=new St(i,{orientation:t});return i.add.existing(s),s},j9=function(i){var t=this.scene,s=i.header;s&&this.add(s,Yh(i));var f=Di(t,0);this.add(f,bi());var T=i.leftSide;T&&f.add(T,Hh(i));var E=i.content;E&&f.add(E,$h(i));var n=i.rightSide;n&&f.add(n,Kh(i));var C=i.footer;C&&this.add(C,Zh(i))},q9=function(i){var t=this.scene,s=i.header;s&&this.add(s,Yh(i));var f=Di(t,0);this.add(f,bi());var T=i.leftSide;T&&f.add(T,Hh(i));var E=Di(t,1);f.add(E,bi());var n=Di(t,0);E.add(n,bi());var C=i.content;C&&n.add(C,$h(i));var e=i.rightSide;e&&n.add(e,Kh(i));var u=i.footer;u&&E.add(u,Zh(i))},_9=function(i){var t=this.scene,s=i.header;s&&this.add(s,Yh(i));var f=Di(t,0);this.add(f,bi());var T=Di(t,1);f.add(T,bi());var E=Di(t,0);T.add(E,bi());var n=i.leftSide;n&&E.add(n,Hh(i));var C=i.content;C&&E.add(C,$h(i));var e=i.footer;e&&T.add(e,Zh(i));var u=i.rightSide;u&&f.add(u,Kh(i))},tB=function(i){var t=this.scene,s=i.header;s&&this.add(s,Yh(i));var f=Di(t,0);this.add(f,bi());var T=i.leftSide;T&&f.add(T,Hh(i));var E=Di(t,1);f.add(E,bi());var n=i.content;n&&E.add(n,$h(i));var C=i.footer;C&&E.add(C,Zh(i));var e=i.rightSide;e&&f.add(e,Kh(i))};const eB=Phaser.Utils.Objects.GetValue,Jc=[j9,q9,_9,tB];var iB=function(i){i===void 0&&(i={});var t=i.background,s=i.header,f=i.leftSide,T=i.content,E=i.rightSide,n=i.footer;Fs(t),Fs(s),Fs(f),Fs(T),Fs(E),Fs(n),this.clear(!0),t&&this.addBackground(t);var C=eB(i,"layoutMode",0);typeof C=="string"&&(C=sB[C.toUpperCase()]);var e=Jc[C]||Jc[0];return e.call(this,i),this.addChildrenMap("background",t),this.addChildrenMap("header",s),this.addChildrenMap("leftSide",f),this.addChildrenMap("content",T),this.addChildrenMap("rightSide",E),this.addChildrenMap("footer",n),this};const sB={FFF:0,LFF:1,FFR:2,LFR:3};class wd extends St{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexHolyGrail",this.build(s)}}var rB={build:iB};Object.assign(wd.prototype,rB);st.register("holyGrail",function(i){var t=new wd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.HolyGrail",wd);const nB={getButtonsSizer(i){return this.childrenMap[`${i}ButtonsSizer`]},getButton(i,t){var s=this.getButtonsSizer(i);return s?s.getButton(t):void 0},setButtonEnable(i,t,s){return this.getButtonsSizer(i).setButtonEnable(t,s),this},setLeftButtonEnable(i,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(i,t),this},setRightButtonEnable(i,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(i,t),this},setTopButtonEnable(i,t){return this.childrenMap.topButtonsSizer.setButtonEnable(i,t),this},setBottomButtonEnable(i,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(i,t),this},toggleButtonEnable(i,t){return this.getButtonsSizer(i).toggleButtonEnable(t),this},toggleLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(i),this},toggleRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(i),this},toggleTopButtonEnable(i){return this.childrenMap.topButtonsSizer.toggleButtonEnable(i),this},toggleBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(i),this},getButtonEnable(i,t){return this.getButtonsSizer(i).getButtonEnable(t)},getLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.getButtonEnable(i)},getRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.getButtonEnable(i)},getTopButtonEnable(i){return this.childrenMap.topButtonsSizer.getButtonEnable(i)},getBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.getButtonEnable(i)},emitButtonClick(i,t){var s=this.getButtonsSizer(i);return s?(s.emitButtonClick(t),this):this},emitLeftButtonClick(i){return this.childrenMap.leftButtonsSizer.emitButtonClick(i),this},emitRightButtonClick(i){return this.childrenMap.rightButtonsSizer.emitButtonClick(i),this},emitTopButtonClick(i){return this.childrenMap.topButtonsSizer.emitButtonClick(i),this},emitBottomButtonClick(i){return this.childrenMap.bottomButtonsSizer.emitButtonClick(i),this},getLeftButton(i){return this.childrenMap.leftButtonsSizer.getButton(i)},getRightButton(i){return this.childrenMap.rightButtonsSizer.getButton(i)},getTopButton(i){return this.childrenMap.topButtonsSizer.getButton(i)},getBottomButton(i){return this.childrenMap.bottomButtonsSizer.getButton(i)},showButton(i,t){return ts(this.getButton(i,t)),this},showLeftButton(i){return ts(this.getLeftButton(i)),this},showRightButton(i){return ts(this.getRightButton(i)),this},showTopButton(i){return ts(this.getTopButton(i)),this},showBottomButton(i){return ts(this.getBottomButton(i)),this},hideButton(i,t){return es(this.getButton(i,t)),this},hideLeftButton(i){return es(this.getLeftButton(i)),this},hideRightButton(i){return es(this.getRightButton(i)),this},hideTopButton(i){return es(this.getTopButton(i)),this},hideBottomButton(i){return es(this.getBottomButton(i)),this},addButton(i,t){return this.getButtonsSizer(i).addButton(t),this},addLeftButton(i){return this.addButton("left",i),this},addRightButton(i){return this.addButton("right",i),this},addTopButton(i){return this.addButton("top",i),this},removeButton(i,t,s){return this.getButtonsSizer(i).removeButton(t,s),this},removeLeftButton(i,t){return this.removeButton("left",i,t),this},removeRightButton(i,t){return this.removeButton("right",i,t),this},removeTopButton(i,t){return this.removeButton("top",i,t),this},removeBottomButton(i,t){return this.removeButton("bottom",i,t),this},clearButtons(i,t){return this.getButtonsSizer(i).clearButtons(t),this},clearLeftButtons(i){return this.clearButtons("left",i),this},clearRightButtons(i){return this.clearButtons("right",i),this},clearTopButtons(i){return this.clearButtons("top",i),this},clearBottomButtonss(i){return this.clearButtons("bottom",i),this},forEachButton(i,t,s){return this.getButtonsSizer(i).forEachButtton(t,s),this},forEachLeftButton(i,t){return this.childrenMap.leftButtonsSizer.forEachButtton(i,t),this},forEachRightButton(i,t){return this.childrenMap.rightButtonsSizer.forEachButtton(i,t),this},forEachTopButton(i,t){return this.childrenMap.topButtonsSizer.forEachButtton(i,t),this},forEachBottomButton(i,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(i,t),this}},wt=Phaser.Utils.Objects.GetValue;class Rd extends ni{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,s.columnProportions=[0,0,0],s.rowProportions=[0,0,0];var f=wt(s,"expand.panel",!1);f&&(s.columnProportions[1]=1,s.rowProportions[1]=1),super(t,s),this.type="rexTabs",this.eventEmitter=wt(s,"eventEmitter",this);var T=wt(s,"background",void 0),E=wt(s,"panel",void 0),n=wt(s,"leftButtons",void 0),C=wt(s,"leftButtonsBackground",void 0),e,u=wt(s,"rightButtons",void 0),x=wt(s,"rightButtonsBackground",void 0),d,o=wt(s,"topButtons",void 0),a=wt(s,"topButtonsBackground",void 0),r,l=wt(s,"bottomButtons",void 0),v=wt(s,"bottomButtonsBackground",void 0),h,c=wt(s,"click",void 0);if(T&&this.addBackground(T),E&&this.add(E,{column:1,row:1,expand:f}),n){var p=wt(s,"space.leftButtonsOffset",0),g=wt(s,"space.leftButton",0),m=wt(s,"expand.leftButtons",!1),y=wt(s,"align.leftButtons","top");e=new ie(t,{groupName:"left",background:C,buttons:n,orientation:"y",space:{item:g},expand:m,click:c,eventEmitter:this.eventEmitter}),this.add(e,{column:0,row:1,align:y,padding:{top:p},expand:m})}if(u){var S=wt(s,"space.rightButtonsOffset",0),M=wt(s,"space.rightButton",0),P=wt(s,"expand.rightButtons",!1),w=wt(s,"align.rightButtons","top");d=new ie(t,{groupName:"right",background:x,buttons:u,orientation:"y",space:{item:M},expand:P,click:c,eventEmitter:this.eventEmitter}),this.add(d,{column:2,row:1,align:w,padding:{top:S},expand:P})}if(o){var R=wt(s,"space.topButtonsOffset",0),A=wt(s,"space.topButton",0),L=wt(s,"expand.topButtons",!1),F=wt(s,"align.topButtons","left");r=new ie(t,{groupName:"top",background:a,buttons:o,orientation:"x",space:{item:A},expand:L,align:wt(s,"align.topButtons",void 0),click:c,eventEmitter:this.eventEmitter}),this.add(r,{column:1,row:0,align:F,padding:{left:R},expand:L})}if(l){var O=wt(s,"space.bottomButtonsOffset",0),b=wt(s,"space.bottomButton",0),B=wt(s,"expand.bottomButtons",!1),I=wt(s,"align.bottomButtons","left");h=new ie(t,{groupName:"bottom",background:v,buttons:l,orientation:"x",space:{item:b},expand:B,align:wt(s,"align.bottomButtons",void 0),click:c,eventEmitter:this.eventEmitter}),this.add(h,{column:1,row:2,align:I,padding:{left:O},expand:B})}this.addChildrenMap("background",T),this.addChildrenMap("panel",E),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",u),this.addChildrenMap("topButtons",o),this.addChildrenMap("bottomButtons",l),this.addChildrenMap("leftButtonsSizer",e),this.addChildrenMap("rightButtonsSizer",d),this.addChildrenMap("topButtonsSizer",r),this.addChildrenMap("bottomButtonsSizer",h)}}Object.assign(Rd.prototype,nB);st.register("tabs",function(i){var t=new Rd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Tabs",Rd);st.register("slider",function(i){var t=new Fr(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Slider",Fr);class bm{constructor(t,s){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,s){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,s),this}setCellContainerAlign(t){return typeof t=="string"&&(t=Lr[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var s=this.parent;this._deltaHeight===0&&t!==0?s.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&s.nonZeroDeltaHeightCount--;var f=this._deltaHeight!==t;if(this._deltaHeight=t,f){s.resetTotalRowsHeight();var T=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(T,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(bm.prototype,ah);const Qc=Phaser.Utils.Objects.GetValue,aB=Phaser.Utils.Array.SpliceOne;class hB{constructor(t,s){this.parent=t,this.cells=[],this.cellPool=new xi,this.resetFromJSON(s)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var s=t.cellHeight;s===void 0&&(s=30);var f=t.cellWidth;return f===void 0&&(f=30),this.setDefaultCellHeight(s),this.setDefaultCellWidth(f),this.initCells(Qc(t,"cellsCount",0)),this.setColumnCount(Qc(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var s=this.cells;s.length=t;for(var f=0;f<t;f++)s[f]=null;return this}insertNewCells(t,s){var f=this.cells;if(t===f.length){var T=t+s;f.legth=T;for(var E=t;E<T;E++)f[E]=null}else{var n=[];n.length=s;for(var E=0;E<s;E++)n[E]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,s){for(var f=t+s,T=t;T<f;T++)this.freeCell(T);return f===this.cells.length?this.cells.length=t:(s===1?aB(this.cells,t):this.cells.splice(t,s),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,s){if(s===void 0&&(s=0),t===0)return 0;if(this.defaultCellHeightMode){var C=t/this.defaultCellHeight;switch(s){case 1:C=Math.ceil(C);break;default:C=Math.floor(C);break}return C}for(var f=this.rowCount,T=t,E,n,C=0;;)if(n=this.getRowHeight(C),T-=n,E=C>=0&&C<f,T>0&&E)C+=1;else{if(T===0)return s===2&&(C+=1),C;if(s===1){var e=C;C+=1,E=C>=0&&C<f,E||(C=e)}return C}}widthToColIndex(t,s){if(t===0)return 0;var f=t/this.defaultCellWidth;return s?f=Math.ceil(f):f=Math.floor(f),f}colRowToCellIndex(t,s){return t>=this.colCount?null:s*this.colCount+t}rowIndexToHeight(t,s){if(this.defaultCellHeightMode)return(s-t+1)*this.defaultCellHeight;for(var f,T=0,E=t;E<=s;E++)f=this.getRowHeight(E),T+=f;return T}colIndexToWidth(t,s){return(s-t+1)*this.defaultCellWidth}getRowHeight(t){var s=this.colCount;if(s<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var f=0,T,E=0;E<s;E++)T=this.getCellHeight(this.colRowToCellIndex(E,t)),f<T&&(f=T);return f}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var s;if(this.defaultCellHeightMode)s=this.defaultCellHeight;else{var f=this.getCell(t,!1),T=f?f.deltaHeight:0;s=this.defaultCellHeight+T}return s}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,s){if(!this.isValidCellIdx(t))return null;if(s===void 0&&(s=!0),this.cells[t]===null&&s){var f=this.newCell(t);this.cells[t]=f}return this.cells[t]}newCell(t){var s=this.cellPool.pop();return s===null?s=new bm(this):s.setParent(this),s.index=t,s}buildCellIndex(t){t===void 0&&(t=0);for(var s=this.cells,f,T=t,E=s.length;T<E;T++)f=s[T],f&&(f.index=T);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var oB=function(i){var t=this.table,s=this.topTableOY,f=this.bottomTableOY,T=i>this.topTableOY,E=i<this.bottomTableOY;if(this.clampTableOXY){var n=t.rowCount,C=t.heightToRowIndex(this.instHeight,1);n<C?i=0:T?i=s:E&&(i=f)}return this._tableOY!==i&&(this._tableOY=i),T&&(this.execeedTopState||this.emit("execeedtop",this,i,s)),this.execeedTopState=T,E&&(this.execeedBottomState||this.emit("execeedbottom",this,i,f)),this.execeedBottomState=E,this},lB=function(i){var t=this.table,s=this.leftTableOX,f=this.rightTableOX,T=i>this.leftTableOX,E=i<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,C=t.widthToColIndex(this.instWidth,!0);n<C?i=0:T?i=s:E&&(i=f)}return this._tableOX!==i&&(this._tableOX=i),T&&(this.execeedLeftState||this.emit("execeedleft",this,i,s)),this.execeedLeftState=T,E&&(this.execeedRightState||this.emit("execeedright",this,i,f)),this.execeedRightState=E,this},Ad=function(i){return i.hasOwnProperty("geometryMask")?i.geometryMask:i.bitmapMask};const uB=Phaser.Geom.Intersects.RectangleToRectangle,dB=Phaser.Geom.Rectangle.Overlaps;var fB=function(i,t,s){if(!!t){s===void 0&&(s=i.getAllChildren());for(var f=i.getBounds(),T=Ad(t),E,n,C,e=0,u=s.length;e<u;e++)if(E=s[e],E!==T&&!!vB(E))if(E.getBounds)switch(n=E.getBounds(n),C=cB(f,n),C){case 4:pB(i,E);break;case 0:uB(f,n)||dB(f,n)?xl(i,E,t):gB(i,E);break;default:xl(i,E,t);break}else xl(i,E,t)}},vB=function(i){if(!i.displayList)return!1;for(;;){var t=i.rexContainer;if(t)if(t.visible){var s=t.parent;if(s){i=s;continue}else return!0}else return!1;else return i.visible}},cB=function(i,t){var s=t.top,f=t.bottom,T=t.left,E=t.right,n=0;return n+=i.contains(T,s)?1:0,n+=i.contains(T,f)?1:0,n+=i.contains(E,s)?1:0,n+=i.contains(E,f)?1:0,n},pB=function(i,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,i.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),i.setChildMaskVisible(t,!0))},xl=function(i,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,i.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(s),i.setChildMaskVisible(t,!0))},gB=function(i,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,i.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),i.setChildMaskVisible(t,!1))};const yl=Phaser.Utils.Objects.GetValue,mB={update:0,everyTick:1},Dm={setupChildrenMask(i){return i===!1?this:(this.setMaskUpdateMode(yl(i,"updateMode",0)),this.enableChildrenMask(yl(i,"padding",0)),this.setMaskLayer(yl(i,"layer",void 0)),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this):this},setMaskUpdateMode(i){return typeof i=="string"&&(i=mB[i]),this.maskUpdateMode=i,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(i){var t=ri.call(this,null,this,0,i);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(i){return i===void 0&&(i=!0),this.maskChildrenFlag=i,this},setMaskLayer(i){return this.maskLayer=i,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):fB(this,this.childrenMask),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var i=Ad(this.childrenMask);return i.setPosition().resize(),this.resetChildPositionState(i),this}};var xB=function(){if(this.cellsCount!==0){var i=this.table;this.startRowIndex=Math.max(i.heightToRowIndex(-this.tableOY,2),0);for(var t=this.startRowIndex,s=Math.max(i.widthToColIndex(-this.tableOX),0),f=s,T=i.colRowToCellIndex(f,t),E=this.bottomBound,n=this.rightBound,C=i.cellsCount-1,e=i.colCount-1,u=this.getCellTLX(f),x=u,d=this.getCellTLY(t);d<E&&T<=C;){if(this.table.isValidCellIdx(T)){var o=i.getCell(T,!0);this.visibleCells.set(o),this.preVisibleCells.contains(o)||this.showCell(o);var a,r;if(this.scrollMode===0?(a=x,r=d):(a=d,r=x),o.cellContainerAlign==null)o.setXY(a,r);else{var l=o.getContainer();Mn(l,a,r,o.width,o.height,o.cellContainerAlign),o.setXY(l.x,l.y)}}x<n&&f<e?(x+=i.getColWidth(f),f+=1):(x=u,d+=i.getRowHeight(t),f=s,t+=1),T=i.colRowToCellIndex(f,t)}}},Bm=function(i){var t=null,s=i.getContainer();if(s?(t=s,i.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",i,t,this),this.cellContainersPool){var s=i.getContainer();s?t===null?this.cellContainersPool.add(s):t!==s&&(this.cellContainersPool.add(s),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},yB=function(i){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,s=this.tableOX+this.table.colIndexToWidth(0,i-1)+t;return s},CB=function(i){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,s=this.tableOY+this.table.rowIndexToHeight(0,i-1)+t;return s},TB=function(){var i=this.preVisibleCells,t=this.visibleCells;i.iterate(function(s){t.contains(s)||this.hideCell(s)},this)},Im=function(i){if(this.emit("cellinvisible",i),this.cellContainersPool){var t=i.popContainer();t&&this.cellContainersPool.killAndHide(t)}i.destroyContainer()},SB=function(i){return i===void 0&&(i=!1),i&&(jc.call(this),this.hideCells()),jc.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),this},jc=function(){var i=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=i,this.visibleCells.clear()},EB=function(i){var t=this.table.getCell(i,!1);return t&&this.visibleCells.contains(t)},Gm=function(i,t){t-=this.y+this.topLeftY,i-=this.x+this.topLeftX;var s=this.tableOY-(this.scrollMode===0?t:i),f=this.tableOX-(this.scrollMode===0?i:t),T=this.table,E=T.heightToRowIndex(-s,0),n=T.widthToColIndex(-f),C=T.colRowToCellIndex(n,E);return C===null||!this.isCellVisible(C)?null:C},PB=function(i,t){var s=Gm.call(this,i,t);if(s!==null)return this.getCellContainer(s)},MB=function(i,t){return this.visibleCells.each(i,t),this},wB=function(i,t){return this.visibleCells.iterate(i,t),this},RB=function(i,t){return this.table.cells.slice().forEach(i,t),this},AB=function(i,t){return this.table.cells.forEach(i,t),this},LB=function(i){var t=this.cellsCount;return t===i?this:(t>i?this.removeCells(i,t-i):this.insertNewCells(t,i-t),this)};const OB=Phaser.Math.Clamp;var FB=function(i,t){return typeof i=="object"&&(i=i.index),t===void 0&&(t=1),t<=0?this:(i=OB(i,0,this.cellsCount),this.table.insertNewCells(i,t),this)},bB=function(i,t){if(typeof i=="object"&&(i=i.index),t===void 0&&(t=1),i<0&&(t+=i,i=0),t<=0)return this;if(i>this.cellsCount)return this;for(var s,f=i,T=i+t;f<T;f++)s=this.getCell(f,!1),s&&(this.visibleCells.contains(s)&&(Im.call(this,s),this.visibleCells.delete(s)),this.preVisibleCells.delete(s));return this.table.removeCells(i,t),this},DB=function(i){return this.table.colCount===i?this:(this.table.setColumnCount(i),this)},BB=function(i,t){return this.setCellsCount(i*t),this.table.setColumnCount(i),this},IB=function(i){var t=this.table.getCell(i,!1);return!t||!t.container?this:(Bm.call(this,t),this)},Nm={setTableOY:oB,setTableOX:lB,showCells:xB,showCell:Bm,getCellTLX:yB,getCellTLY:CB,hideCells:TB,hideCell:Im,updateTable:SB,isCellVisible:EB,pointToCellIndex:Gm,pointToCellContainer:PB,eachVisibleCell:MB,iterateVisibleCell:wB,eachCell:RB,iterateCell:AB,setCellsCount:LB,insertNewCells:FB,removeCells:bB,setColumnCount:DB,setGridSize:BB,updateVisibleCell:IB};Object.assign(Nm,Dm);const GB=Phaser.GameObjects.Group,qc=Phaser.Structs.Set,pi=Phaser.Utils.Objects.GetValue;class Vm extends Be{constructor(t,s,f,T,E,n){n===void 0&&(n={}),super(t,s,f,T,E),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new qc,this.preVisibleCells=new qc,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var C=pi(n,"reuseCellContainer",!1);C&&(this.cellContainersPool=new GB(t));var e=pi(n,"cellVisibleCallback",null);if(e!==null){var u=pi(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",e,u)}if(e=pi(n,"cellInvisibleCallback",null),e!==null){var u=pi(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",e,u)}pi(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(pi(n,"mask",void 0)),this.setScrollMode(pi(n,"scrollMode",0)),this.setClampMode(pi(n,"clamplTableOXY",!0));var x,d,o,a=this.scrollMode===0;if(a?(x=n.cellWidth,d=n.cellHeight,o=n.columns):(x=n.cellHeight,d=n.cellWidth,o=pi(n,"rows",n.columns)),o||(o=1),this.expandCellSize=x===void 0,this.expandCellSize){var T=a?this.width:this.height;x=T/o}n.cellWidth=x,n.cellHeight=d,n.columns=o,this.table=new hB(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=NB[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,s){return this.setTableOY(s).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,s){return this.addTableOY(s).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var s=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-s).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var s=this.table.getCell(t,!1),f;return s&&(f=s.getContainer()),f}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,s){var f;return typeof t=="number"?f=this.table.getCell(t,!0):f=t,f.height=s,this}setCellWidth(t,s){var f;return typeof t=="number"?f=this.table.getCell(t,!0):f=t,f.width=s,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,s){return this.width===t&&this.height===s?this:(super.resize(t,s),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this.layoutChildrenMask(),this.maskChildren(),this)}}Object.assign(Vm.prototype,Nm);const NB={v:0,vertical:0,h:1,horizontal:1};var VB=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.tableOY},set:function(t){i.tableOY=t}}),Object.defineProperty(i,"childOX",{configurable:!0,get:function(){return i.tableOX},set:function(t){i.tableOX=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTableOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTableOY}}),Object.defineProperty(i,"leftChildOX",{get:function(){return i.leftTableOX}}),Object.defineProperty(i,"rightChildOX",{get:function(){return i.rightTableOX}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.instHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.tableHeight}}),Object.defineProperty(i,"childVisibleWidth",{get:function(){return i.instWidth}}),Object.defineProperty(i,"childWidth",{get:function(){return i.tableWidth}})},zB=function(i){i.on("cellvisible",function(t,n,f){var T=this.createCellContainerCallback,E=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;E?n=T.call(E,t,n,f):n=T(t,n,f),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},Ti=function(i,t,s,f,T,E,n){var C;if(T===void 0?C=f:C=s.pointToCellIndex(f,T),C!=null){var e=s.getCellContainer(C);e&&i.emit(t,e,C,E,n)}},XB=function(i,t){i.on("pointerdown",function(s,f,T,E){Ti(this.eventEmitter,"cell.down",i,s.worldX,s.worldY,s,E)},this).on("pointerup",function(s,f,T,E){Ti(this.eventEmitter,"cell.up",i,s.worldX,s.worldY,s,E)},this)},WB=function(i,t){i.on("pointermove",_c,this).on("pointerover",_c,this).on("pointerout",UB,this)},_c=function(i,t,s,f){var T=this.childrenMap.child,E=T.pointToCellIndex(i.worldX,i.worldY);if(E!==T.input.lastOverCellIndex){var n=T.input.lastOverCellIndex;T.input.lastOverCellIndex=E,Ti(this.eventEmitter,"cell.out",T,n,void 0,i,f),Ti(this.eventEmitter,"cell.over",T,E,void 0,i,f)}},UB=function(i,t){var s=this.childrenMap.child,f=s.input.lastOverCellIndex;s.input.lastOverCellIndex=void 0,Ti(this.eventEmitter,"cell.out",s,f,void 0,i,t)};const kB=Phaser.Utils.Objects.GetValue;var YB=function(i,t){var s=kB(t,"click",void 0);s!==!1&&(s===void 0&&(s={}),s.threshold=10,i._click=new Ni(i,s),i._click.on("click",function(f,T,E,n){Ti(this.eventEmitter,"cell.click",T,E.worldX,E.worldY,E,n)},this))};const HB=Phaser.Utils.Objects.GetValue;var $B=function(i,t){var s=HB(t,"tap",void 0);s!==!1&&(i._tap=new Mh(i,s),i._tap.on("tap",function(f,T,E){var n=`cell.${f.tapsCount}tap`;Ti(this.eventEmitter,n,f.gameObject,f.worldX,f.worldY,E)},this))};const KB=Phaser.Utils.Objects.GetValue;var ZB=function(i,t){var s=KB(t,"press",void 0);s!==!1&&(i._press=new wh(i,s),i._press.on("pressstart",function(f,T,E){Ti(this.eventEmitter,"cell.pressstart",i,f.worldX,f.worldY,E)},this).on("pressend",function(f,T,E){Ti(this.eventEmitter,"cell.pressend",i,f.worldX,f.worldY,E)},this))};const JB=Phaser.Utils.Objects.GetValue;var QB=function(i,t){var s=JB(t,"swipe",void 0);s!==!1&&(s===void 0&&(s={}),s.dir="4dir",i._swipe=new Fn(i,s),i._swipe.on("swipe",function(f,T,E){var n=f.left?"left":f.right?"right":f.up?"up":"down";Ti(this.eventEmitter,`cell.swipe${n}`,i,f.worldX,f.worldY,E)},this))},jB=function(i,t){i.setInteractive(),XB.call(this,i,t),WB.call(this,i,t),YB.call(this,i,t),$B.call(this,i,t),ZB.call(this,i,t),QB.call(this,i,t)},qB=function(i,t){i===void 0?this.items=[]:this.items=i,t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setCellsCount(this.items.length),t&&(s.updateTable(!0),this.resizeController()),this};const _B={scrollToRow(i){var t=this.childrenMap.child;return t.scrollToRow(i),this},scrollToNextRow(i){var t=this.childrenMap.child;return t.scrollToNextRow(i),this}},qe=Phaser.Utils.Objects.GetValue;class Ld extends In{constructor(t,s){s===void 0&&(s={});var f=Sd(s),T=qe(s,"table",void 0);T===void 0&&(T={}),T.scrollMode=f===2?0:f,T.clamplTableOXY=qe(s,"clamplChildOY",!1);var E=qe(T,"width",void 0),n=qe(T,"height",void 0),C=new Vm(t,0,0,E,n,T);t.add.existing(C);var e,u;T.scrollMode===0?(e=E===void 0,u=n===void 0):(e=n===void 0,u=E===void 0),VB(C),C._minWidth=E===void 0?0:void 0,C._minHeight=n===void 0?0:void 0,s.type="rexGridTable",s.child={gameObject:C,expandWidth:e,expandHeight:u};var x=qe(s,"space",void 0);x&&(x.child=qe(x,"table",0)),super(t,s),this.addChildrenMap("table",C),this.addChildrenMap("tableLayer",C.maskLayer),this.eventEmitter=qe(s,"eventEmitter",this);var d=qe(s,"createCellContainerCallback",he),o=qe(s,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(d,o),zB.call(this,C),this.resizeControllerFlag=!1;var a=f===0?"cellheightchange":"cellwidthchange";C.on(a,function(){this.resizeControllerFlag=!0},this),qe(T,"interactive",!0)&&jB.call(this,C,T),this.setItems(qe(s,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,s){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=s,this}refresh(){return this.setItems(this.items),this}getCell(t){var s=this.childrenMap.child;return s.getCell(t)}getCellContainer(t){var s=this.childrenMap.child;return s.getCellContainer(t)}updateVisibleCell(t){var s=this.childrenMap.child;return s.updateVisibleCell(t)}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var tI={setItems:qB};Object.assign(Ld.prototype,_B,tI);st.register("gridTable",function(i){var t=new Ld(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.GridTable",Ld);var Od=function(i,t){return i.sameOrientation?i.orientation=t.orientation:i.orientation=t.orientation===0?1:0,i},eI=function(i,t){i.popUp(Od(i.root.easeIn,i))},iI=function(i,t){i.scaleDown(Od(i.root.easeOut,i))};const sI={setTransitInCallback(i){return i===void 0&&(i=eI),this.transitInCallback=i,this},setTransitOutCallback(i){return i===void 0&&(i=iI),this.transitOutCallback=i,this}};var rI=function(i,t,s,f,T){var E=Ar(i),n=E.time.delayedCall(t,function(){E.sys.events.once("postupdate",function(){s.call(f,T)})});return n};const nI={delayCall(i,t,s){return this.timer=rI(this,i,t,s),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var aI=function(i,t){var f=this.childrenMap.subMenu;if(f&&f.parentButton===i)return this;this.collapseSubMenu();var s;this.root.toggleOrientation?s=this.orientation===0?1:0:s=this.orientation;var f=new this.constructor(this.scene,{items:t,orientation:s,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:i});return this.pin(f),this.childrenMap.subMenu=f,this.root.emit("expand",f,i,this),this},hI=function(){var i=this.root;i.emit("collapse",this,this.parentButton,i);var t=i.easeOut.duration;return i.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},oI=function(){var i=this.childrenMap.subMenu;return i===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(i),i.collapse(),this)},zm={expandSubMenu:aI,collapse:hI,collapseSubMenu:oI};Object.assign(zm,sI,nI);var lI=function(i,t,s,f){var T;return s&&(t.scene=i,f?T=s.call(f,t):T=s(t),t.scene=void 0),T},uI=function(i,t,s,f){var T,E=[],n;if(t&&s)for(var C=0,e=t.length;C<e;C++)T=t[C],T.scene=i,f?n=s.call(f,T,C,t):n=s(T,C,t),T.scene=void 0,E.push(n);return E},dI=function(i){i.on(i.root.expandEventName,function(t,s){if(!this._isPassedEvent){var f=this.root.childrenKey,T=this.items[s][f];T&&this.expandSubMenu(t,T)}},i).on("button.click",function(t,s,f,T){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,s,f,T),this.root._isPassedEvent=!1)},i).on("button.over",function(t,s,f,T){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,s,f,T),this.root._isPassedEvent=!1)},i).on("button.out",function(t,s,f,T){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,s,f,T),this.root._isPassedEvent=!1)},i)},tp=function(i,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Dn(t.orientation)===i.orientation:t.sameOrientation=!0,t.destroy=!1,t},fI=function(){var i=this.root,t=i.easeIn.duration;i.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const ce=Phaser.Utils.Objects.GetValue;class Fd extends ie{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1);var f=s._rootMenu,T=s._parentMenu,E=s._parentButton,n=ce(s,"popup",!0),C=ce(s,"items",void 0),e=ce(s,"createBackgroundCallback",void 0),u=ce(s,"createBackgroundCallbackScope",void 0);s.background=lI(t,C,e,u);var x=ce(s,"createButtonCallback",void 0),d=ce(s,"createButtonCallbackScope",void 0);if(s.buttons=uI(t,C,x,d),super(t,s),this.type="rexMenu",this.items=C,this.root=f===void 0?this:f,this.isRoot=this.root===this,this.parentMenu=T,this.parentButton=E,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var o=s.bounds;o===void 0&&(o=Rr(t)),this.bounds=o,this.subMenuSide=[this.y<o.centerY?eu:Ka,this.x<o.centerX?tu:$a];var a=ce(s,"subMenuSide",void 0);a!==void 0&&(typeof a=="string"&&(a=vI[a]),this.subMenuSide[this.orientation]=a),this.toggleOrientation=ce(s,"toggleOrientation",!1),this.expandEventName=ce(s,"expandEvent","button.click"),this.easeIn=tp(this,ce(s,"easeIn",0)),this.easeOut=tp(this,ce(s,"easeOut",0)),this.setTransitInCallback(ce(s,"transitIn")),this.setTransitOutCallback(ce(s,"transitOut")),this.createBackgroundCallback=e,this.createBackgroundCallbackScope=u,this.createButtonCallback=x,this.createButtonCallbackScope=d,this.childrenKey=ce(s,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=ce(s,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var r=0,l=0;if(!this.root.easeIn.sameOrientation){var v=Od(this.root.easeIn,this).orientation,h=T?T.orientation:this.orientation,a=this.root.subMenuSide[h];v===0&&a===$a&&(r=1),v===1&&a===Ka&&(l=1)}if(n&&this.setOrigin(r,l).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var a=this.root.subMenuSide[T.orientation];switch(a){case $a:this.alignTop(E.top).alignRight(E.left);break;case tu:this.alignTop(E.top).alignLeft(E.right);break;case Ka:this.alignLeft(E.left).alignBottom(E.top);break;case eu:this.alignLeft(E.left).alignTop(E.bottom);break}}dI(this),n&&(this.pushIntoBounds(this.root.bounds),fI.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const $a=2,tu=0,Ka=3,eu=1,vI={up:Ka,down:eu,left:$a,right:tu};Object.assign(Fd.prototype,zm);st.register("menu",function(i){var t=new Fd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Menu",Fd);var cI={setWrapEnable(i){return i===void 0&&(i=!0),this.listWrapEnable=i,this},setCreateButtonCallback(i){return this.listCreateButtonCallback=i,this},setCreateListBackgroundCallback(i){return this.listCreateBackgroundCallback=i,this},setButtonClickCallback(i){return this.listOnButtonClick=i,this},setButtonOverCallback(i){return this.listOnButtonOver=i,this},setButtonOutCallback(i){return this.listOnButtonOut=i,this},setListExpandDirection(i){return typeof i=="string"&&(i=pI[i]),this.listExpandDirection=i,this},setListEaseInDuration(i){return i===void 0&&(i=0),this.listEaseInDuration=i,this},setListEaseOutDuration(i){return i===void 0&&(i=0),this.listEaseOutDuration=i,this},setListTransitInCallback(i){return this.listTransitInCallback=i,this},settListTransitOutCallback(i){return this.listTransitOutCallback=i,this},setListBounds(i){return this.listBounds=i,this},setListWidth(i){return this.listWidth=i,this},setListHeight(i){return this.listHeight=i,this},setListSize(i,t){return this.setListWidth(i).setListHeight(t),this},setListAlignmentMode(i){return this.listAlignMode=i,this},setListAlignmentSide(i){return i===void 0&&(i=""),this.listAlignSide=i,this},setListSpace(i){return i===void 0&&(i={}),this.listSpace=i,this},setListDraggable(i){return i===void 0&&(i=!0),this.listDraggable=i,this}};const pI={down:0,up:1};var gI=function(){var i=this.scene,t,s=this.listCreateBackgroundCallback;s&&(t=s.call(this,i),i.add.existing(t));var f=[],T=this.listCreateButtonCallback;if(T)for(var E=this.options,n=0,C=E.length;n<C;n++){var e=T.call(this,i,E[n],n,E);!e||(i.add.existing(e),f.push(e))}var u=this.listWidth;u===void 0&&(this.listAlignMode==="text"?u=this.getElement("text").width:u=this.width);var x=this.listHeight,d;return this.listWrapEnable?d=new os(i,{width:u,height:x,background:t,buttons:f,space:this.listSpace,draggable:this.listDraggable}):d=new ie(i,{width:u,height:x,orientation:"y",background:t,buttons:f,space:this.listSpace,draggable:this.listDraggable}),i.add.existing(d),d},mI=function(i,t,s,f,T){f===void 0&&(f="Linear");var E={};switch(E.mode=0,s){case 0:case"x":E.end={x:0};break;case 1:case"y":E.end={y:0};break;default:E.end=0;break}return E.duration=t,E.ease=f,T===void 0?T=new pn(i,E):T.resetFromJSON(E),T.restart(),T},xI=function(i,t,s,f,T){return mi(i,t)?Mt(i,t):s&&mi(i,s)?Mt(i,s):f&&mi(i,f)?Mt(i,f):T};const lr=Phaser.Utils.Objects.GetValue;var yI=function(i,t){var s=lr(t,"expandDirection",void 0);typeof s=="string"&&(s=CI[s]);var f=xI(t,"alignTarget","alignTargetX"),T=lr(t,"alignTargetY",f),E=lr(t,"alignOffsetX",0),n=lr(t,"alignOffsetY",0),C=lr(t,"alignSide",""),e=C.includes("right"),u=lr(t,"bounds"),x=s===0,d=s===1,o=!x&&!d,a=e?1:0,r=x||o?0:1;i.setOrigin(a,r);var l,v;e?l=f.getTopRight().x:l=f.getTopLeft().x,v=T.getBottomLeft().y,i.setPosition(l+E,v+n);var h=u;h||(h=Rr(i.scene)),o&&i.getBottomLeft().y>h.bottom&&(v=T.getTopLeft().y,i.setOrigin(0,1).setPosition(l+E,v+n))};const CI={down:0,up:1},ep=Phaser.Utils.Objects.GetValue;class Xm extends Th{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=function(E,n){Ju(E,n,"y","Cubic")}),s.transitOut==null&&(s.transitOut=function(E,n){mI(E,n,"y","Linear")}),s.manualClose=!0,s.clickOutsideClose=!0,s.destroy=!0,super(t,s),yI(t,s),t.isRexSizer&&t.layout();var f=ep(s,"touchOutsideClose",!1),T=ep(s,"anyTouchClose",!1);T&&(f=!1),T?this.once("open",this.anyTouchClose,this):f&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&gn(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var TI=function(){if(this.listPanel)return this;var i=gI.call(this);i.on("button.over",function(f,T,E,n){this.currentOverIndex=T,this.listOnButtonOver&&this.listOnButtonOver.call(this,f,T,E,n),this.emit("button.over",this,i,f,T,E,n)},this).on("button.out",function(f,T,E,n){this.currentOverIndex===T&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,f,T,E,n),this.emit("button.out",this,i,f,T,E,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var s=new Xm(i,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds,anyTouchClose:!0}).on("open",function(){i.on("button.click",function(f,T,E,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,f,T,E,n),this.emit("button.click",this,i,f,T,E,n)},this),this.emit("list.open",this,i)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return this.listPanel=i,this.dropDownBehavior=s,this.pin(i),this},SI=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},EI=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},PI=function(i){if(i===void 0&&(i=this.currentOverIndex),i===void 0)return this;var t=this.listPanel,s=t?t.getButton(i):this.options[i];return this.listOnButtonClick&&this.listOnButtonClick.call(this,s,i),this.emit("button.click",this,t,s,i),this},MI=function(i){var t=this.listPanel;return t?(t.emitButtonOver(i),this):this};const wI={focusNextButton(){if(!this.isOpened)return this;var i=this.currentOverIndex,t;if(i===void 0)t=0;else{var s=this.listPanel.getButtons().length;t=(i+1)%s}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var i=this.currentOverIndex,t;if(i===void 0)t=0;else{var s=this.listPanel.getButtons().length;t=(i-1+s)%s}return this.emitButtonOver(t),this}};var Wm={openListPanel:TI,closeListPanel:SI,toggleListPanel:EI,emitButtonClick:PI,emitButtonOver:MI};Object.assign(Wm,cI,wI);const Bt=Phaser.Utils.Objects.GetValue;class Vn extends Xi{constructor(t,s){super(t,s),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Bt(s,"options"));var f=Bt(s,"list");this.setWrapEnable(Bt(f,"wrap",!1)),this.setCreateButtonCallback(Bt(f,"createButtonCallback")),this.setCreateListBackgroundCallback(Bt(f,"createBackgroundCallback")),this.setButtonClickCallback(Bt(f,"onButtonClick")),this.setButtonOverCallback(Bt(f,"onButtonOver")),this.setButtonOutCallback(Bt(f,"onButtonOut")),this.setListExpandDirection(Bt(f,"expandDirection")),this.setListEaseInDuration(Bt(f,"easeIn",500)),this.setListEaseOutDuration(Bt(f,"easeOut",100)),this.setListTransitInCallback(Bt(f,"transitIn")),this.settListTransitOutCallback(Bt(f,"transitOut")),this.setListSize(Bt(f,"width"),Bt(f,"height")),this.setListAlignmentMode(Bt(f,"alignParent","text")),this.setListAlignmentSide(Bt(f,"alignSide","")),this.setListBounds(Bt(f,"bounds")),this.setListSpace(Bt(f,"space")),this.setListDraggable(Bt(f,"draggable",!1)),this.setValueChangeCallback(Bt(s,"setValueCallback"),Bt(s,"setValueCallbackScope")),this.setValue(Bt(s,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,s){return this.valueChangeCallback=t,this.valueChangeCallbackScope=s,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t;var f=this.valueChangeCallback,T=this.valueChangeCallbackScope;f&&(T?f.call(T,this,t,s):f(this,t,s)),this.emit("valuechange",this,t,s)}}}Object.assign(Vn.prototype,Wm);st.register("dropDownList",function(i){var t=new Vn(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.DropDownList",Vn);var Um=function(i,t,s){t=t?Oe(t):{},s===void 0&&(s={});var f=t.label||t.button,T=t.button||t.label;delete t.label,delete t.button;var E=s.label||s.button||s,n=s.button||s.label||s,C=md(i,f,E);return C.list=t.list||{},C.list.createButtonCallback=function(e,u){var x=ke(e,T,n).resetDisplayContent(u);return u.hasOwnProperty("value")&&(x.value=u.value),x},C.list.onButtonOver=function(e,u,x,d){e.setHoverState&&e.setHoverState(!0)},C.list.onButtonOut=function(e,u,x,d){e.setHoverState&&e.setHoverState(!1)},C};class km extends Vn{constructor(t,s,f){s=Um(t,s,f),super(t,s),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var s=0,f=t.length;s<f;s++){var T=t[s];typeof T=="string"&&(t[s]={text:T,value:T})}return super.setOptions(t),this}}st.register("simpleDropDownList",function(i,t){var s=new km(this.scene,i,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.SimpleDropDownList",km);var RI=function(i){var t=br(i),s,f,T;switch(t){case Te:case Ae:s=i.height-i.padding.top-i.padding.bottom,f=i.lineSpacing,T=i.style.metrics.fontSize+i.style.strokeThickness;break;case Le:s=i.height,f=0;var E=i.fontSize/i.fontData.size;T=i.fontData.lineHeight*E;break}return(s-f)/(T+f)},AI=function(i,t){i===void 0&&(i=this.startLineIndex),t===void 0&&(t=i+this.pageLinesCount);var s;switch(this.textObjectType){case Te:case Le:s=this.lines.slice(i,t).join(`
`);break;case Ae:var f=this.lines.getLineStartIndex(i),T=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(f,T,!0);break}return s},Cl=function(i){return Array.isArray(i)?i=i.join(`
`):typeof i=="number"&&(i=i.toString()),i};const LI={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(s){var t=this.totalLinesCount;this.sections.push(Cl(s));var s=this.sections.join(`
`);this.lines=Pd(this.parent,s,this.lines);for(var f=this.totalLinesCount-t,T=Math.ceil(f/this.pageLinesCount),E=0;E<T;E++)this.pageStartIndexes.push(t+E*this.pageLinesCount);return this},setText(i,t){t===void 0&&(t=!0),t&&this.resetPageIdx(),this.clearText();for(var s=Cl(i).split(this.pageBreak),f=0,T=s.length;f<T;f++)this.appendPage(s[f]);return this},appendText(i){var t=this.content+Cl(i);return this.setText(t,!1),this}},OI=Phaser.Math.Clamp,FI={getPage(i){return i===void 0&&(i=this.pageIndex),this.setPageIndex(i).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},resetPageIdx(){return this.pageIndex=-1,this},setPageIndex(i){return i=OI(i,0,this.lastPageIndex),this.pageIndex=i,this.startLineIndex=this.pageStartIndexes[i],this.endLineIndex=this.pageStartIndexes[i+1],this}},bI={showPage(i){return this.displayText(this.getPage(i)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showNextLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex+1).getLines()),this},showPreviousLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex-1).getLines()),this},displayText(i){Md(this.parent,i)}};var Ym={getLines:AI};Object.assign(Ym,LI,FI,bI);const nn=Phaser.Utils.Objects.GetValue,DI=Phaser.Math.Clamp;class Jh extends Yt{constructor(t,s){super(t,{eventEmitter:!1}),this.textObjectType=br(this.parent),this.pageStartIndexes=[],this.lines=Pd(this.parent,""),this.sections=[],this.resetFromJSON(s)}resetFromJSON(t){return this.setMaxLines(nn(t,"maxLines",void 0)),this.setPageBreak(nn(t,"pageBreak",`\f
`)),this.setText(nn(t,"text","")),this.setStartLineIndex(nn(t,"start",0)),this.setPageIndex(nn(t,"page",-1)),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Te:this.lines.length=0;break;case Ae:this.lines.destroy();break;case Le:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get startLineIndex(){return this._startLineIndex}set startLineIndex(t){t=DI(t,0,this.totalLinesCount-1),this._startLineIndex=t}setStartLineIndex(t){return this.startLineIndex=t,this}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Te:case Ae:var s=this.parent.style.maxLines;s>0?t=s:t=Math.floor(RI(this.parent));break;case Le:t=this.totalLinesCount;break}return t}get content(){return this.sections.join(this.pageBreak)}}Object.assign(Jh.prototype,Ym);var BI=function(i,t){var s=br(i);switch(s){case Te:i.style.syncFont(i.canvas,i.context),t=i.runWordWrap(t);break;case Ae:t=i.getText(t,void 0,void 0,!0);break;case Le:t=i.setText(t).getTextBounds().wrappedText;break}return t};const an=Phaser.Utils.Objects.GetFastValue,Tl=Phaser.Utils.Objects.GetValue;class bd extends Yt{constructor(t,s){super(t,s),this.timer=null,this.resetFromJSON(s)}resetFromJSON(t){this.setTextWrapEnable(Tl(t,"wrap",!1)),this.setTypeMode(Tl(t,"typeMode",0)),this.setTypingSpeed(Tl(t,"speed",333)),this.setTextCallback=an(t,"setTextCallback",null),this.setTextCallbackScope=an(t,"setTextCallbackScope",null),this.setTypingContent(an(t,"text","")),this.typingIdx=an(t,"typingIdx",0),this.insertIdx=null,this.insertChar=null;var s=an(t,"elapsed",null);return s!==null&&this.start(void 0,void 0,this.typingIdx,s),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=II[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var s=ip(t);this.textWrapEnable&&(s=BI(this.parent,s)),this._text=s}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIdx===this.textLen}start(t,s,f,T){return t!==void 0&&this.setTypingContent(t),s!==void 0&&(this.speed=s),f===void 0&&(f=0),this.typingIdx=f+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(T)),this}appendText(t){var s=this.text.concat(ip(t));return this.isTyping?this.setTypingContent(s):this.start(s,void 0,this.textLen),this}stop(t){var s=this.getTimer();if(s&&this.freeTimer(),t){for(;!this.isLastChar;)this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode),this.emit("typechar",this.insertChar),this.typingIdx++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=t,this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.parent)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,s,f,T){var E;if(T===0){var n=0,C=s;this.insertIdx=C,E=this.getSubString(t,n,C)}else if(T===1){var C=f,n=C-s;this.insertIdx=0,E=this.getSubString(t,n,C)}else if(T===2){var e=f/2,n=Math.floor(e-s/2),C=n+s;this.insertIdx=s%2?s:0,E=this.getSubString(t,n,C)}else if(T===3){var u=Math.floor(s/2),x;if(u>0){var C=f,n=C-u;x=this.getSubString(t,n,C)}else x="";var d=s-u,o;if(d>0){var n=0,C=n+d;this.insertIdx=C,o=this.getSubString(t,n,C)}else o="",this.insertIdx=0;E=o+x}return this.insertChar=E.charAt(this.insertIdx-1),E}startTimer(t){this.timer&&this.freeTimer();var s;return t===void 0?s=0:(this.speed,s=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:s,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):t=this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.textWrapEnable?Md(this.parent,t):this.parent.setText(t)}getTextLength(t){var s=this.parent,f;return s.getPlainText?f=s.getPlainText(t).length:f=t.length,f}getSubString(t,s,f){var T=this.parent,E;return T.getSubString?E=T.getSubString(t,s,f):E=t.slice(s,f),E}}var ip=function(i){return Array.isArray(i)?i=i.join(`
`):typeof i=="number"&&(i=i.toString()),i};const II={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},sp=Phaser.Utils.Objects.GetValue;var GI=function(i,t){t===void 0&&(t="rexTextBox");class s extends i{constructor(T,E){super(T,E),this.type=t;var n=this.childrenMap.text;this.page=new Jh(n,sp(E,"page",void 0)),this.typing=new bd(n,sp(E,"typing",E.type)),this.typing.on("complete",this.onPageEnd,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidth=n.width,this.textHeight=n.height}start(T,E){return this.page.setText(T),E!==void 0&&this.setTypingSpeed(E),this.emit("start"),this.typeNextPage(),this}typeNextPage(){if(this.isLastPage)this.emit("complete");else{var T=this.page.getNextPage();this.typing.start(T)}return this}pause(){return this.isTyping&&(this.typing.pause(),this.emit("pause")),this}resume(){return this.isTyping||(this.emit("resume"),this.typing.resume()),this}stop(T){return this.typing.stop(T),this}showLastPage(){return this.typing.stop(),this.page.showLastPage(),this.emit("type"),this.onPageEnd(),this}setTypeSpeed(T){return this.typing.setTypingSpeed(T),this}setTypingSpeed(T){return this.typing.setTypingSpeed(T),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get typingSpeed(){return this.typing.speed}onType(){var T=this.childrenMap.text;(this.textWidth!==T.width||this.textHeight!==T.height)&&(this.textWidth=T.width,this.textHeight=T.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(T){this.emit("typechar",T)}onPageEnd(){var T=this.isLastPage;this.emit("pageend"),T&&this.emit("complete")}}return s};class Hm extends GI(xd){constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("layoutMode")||(s.layoutMode=1),super(t,s)}}st.register("textBox",function(i){var t=new Hm(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextBox",Hm);const Re=Phaser.Utils.Objects.GetValue;class $m extends St{constructor(t,s){super(t,s),this.type="rexNumberBar";var f=Re(s,"background",void 0),T=Re(s,"icon",void 0),E=Re(s,"iconMask",void 0),n=Re(s,"slider",void 0),C=Re(s,"text",void 0),e=Re(s,"space.icon",0),u=Re(s,"space.slider",0);if(f&&this.addBackground(f),T){var x;this.orientation===0?(n||C)&&(x={right:e}):(n||C)&&(x={bottom:e}),this.add(T,{proportion:0,align:"center",padding:x}),E&&(E=ri.call(this,T,T,1))}var d;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),d=new Fr(t,n),t.add.existing(d);var x;this.orientation===0?C&&(x={right:u}):C&&(x={bottom:u});var o;if(this.orientation===0){var a=Re(n,"width",void 0);o=a===void 0?1:0}else{var r=Re(n,"height",void 0);o=r===void 0?1:0}this.add(d,{proportion:o,align:"center",padding:x})}C&&this.add(C),this.addChildrenMap("background",f),this.addChildrenMap("icon",T),this.addChildrenMap("iconMask",E),this.addChildrenMap("slider",d),this.addChildrenMap("text",C);var l=Re(s,"valuechangeCallback",null);if(l!==null){var v=Re(s,"valuechangeCallbackScope",void 0);this.on("valuechange",l,v)}this.setEnable(Re(s,"enable",void 0)),this.setValue(Re(s,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){!this.childrenMap.slider||(this.childrenMap.slider.value=t)}setValue(t,s,f){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,f),this}addValue(t,s,f){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,f),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,f){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,f),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var s;return t.text?s=t.text:s=t.getData("text"),s}set text(t){var s=this.childrenMap.text;s!==void 0&&(s.setText?s.setText(t):s.setData("text",t))}setText(t){return this.text=t,this}}st.register("numberBar",function(i){var t=new $m(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.NumberBar",$m);st.register("scrollBar",function(i){var t=new Ed(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ScrollBar",Ed);const Sl=Phaser.Utils.Objects.GetValue,rp={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class Km extends He{constructor(t,s){super(t,s),this.type="rexBadge";var f=Sl(s,"background",void 0);f&&this.addBackground(f),this.addChildrenMap("background",f);var T=Sl(s,"main",void 0);T&&this.add(T,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",T);for(var E in rp){var n=Sl(s,E,void 0);n&&(this.add(n,{key:E,align:rp[E],expand:!1}),this.addChildrenMap(E,n))}}}st.register("badgeLabel",function(i){var t=new Km(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.BadgeLabel",Km);const NI=He.prototype.add;var np=function(i,t,s,f,T,E,n,C,e){return i.setVisible(!1),NI.call(this,i,t,s,f,T,E,n,C,e),this};const VI={add:np,addPage:np};var zI=function(i){return i===void 0?null:this.sizerChildren.hasOwnProperty(i)?this.sizerChildren[i]:null};const ap=Be.prototype.setChildVisible;var XI=function(i,t){this._previousKey=this._currentKey;var s=this.previousPage;s&&(this.swapMode===0?(ap.call(this,s,!1),this.emit("pageinvisible",s,this._previousKey,this)):s.destroy()),i&&!this.sizerChildren.hasOwnProperty(i)&&this.emit("createpage",i,this),this._currentKey=i;var f=this.currentPage;return f&&(ap.call(this,f,!0),this.emit("pagevisible",f,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&f.setAlpha(0).fadeIn(t,1)),this},WI=function(i){return this.sizerChildren.hasOwnProperty(i)},Zm={getPage:zI,swapPage:XI,hasPage:WI};Object.assign(Zm,VI);const hp=Phaser.Utils.Objects.GetValue;class Qh extends He{constructor(t,s){super(t,s),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(hp(s,"swapMode",0)),this.setFadeInDuration(hp(s,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=UI[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Qh.prototype,Zm);const UI={invisible:0,destroy:1};st.register("pages",function(i){var t=new Qh(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Pages",Qh);const kI=Phaser.GameObjects.Mesh;class Jm extends kI{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const Qm=Phaser.Math.Vector3,YI=Phaser.Math.Matrix4;var op=new Qm,lp=new Qm,up=new YI,HI=function(i,t,s,f,T,E,n){t===void 0&&(t=0),s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=0),E===void 0&&(E=0),n===void 0&&(n=0),op.set(t,s,f),lp.set(T,E,n),up.fromRotationXYTranslation(lp,op,!0);for(var C=0,e=i.vertices.length;C<e;C++)i.vertices[C].transformMat4(up)};const $I=Phaser.Utils.Objects.IsPlainObject,Rs=Phaser.Utils.Objects.GetValue,KI=Phaser.Geom.Mesh.GenerateGridVerts,El=Phaser.Math.RadToDeg,Za=Phaser.Math.DegToRad,jm=45,ZI=1+1/Math.sin(Za(jm));class qm extends Jm{constructor(t,s,f,T,E,n){$I(s)&&(n=s,s=Rs(n,"x",0),f=Rs(n,"y",0),T=Rs(n,"key",null),E=Rs(n,"frame",null)),super(t,s,f,T,E),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(ZI),this.hideCCW=Rs(n,"hideCCW",!0);var C=Rs(n,"gridWidth",0),e=Rs(n,"gridHeight",C);this.resetVerts(C,e),this.prevFrame=this.frame}preUpdate(t,s){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,s)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,jm),this}resetVerts(E,n){if(E!==void 0&&(this.gridWidth=E),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var f=this.frame.cutWidth,T=this.frame.cutHeight,E,n;this.gridWidth===0?E=Math.max(f/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(T/8,32):n=this.gridHeight,KI({mesh:this,width:f/this.height,height:T/this.height,widthSegments:Math.ceil(f/E),heightSegments:Math.ceil(T/n)});var C=this.transformInfo;return C&&this.transformVerts(C.x,C.y,C.z,C.rotateX,C.rotateY,C.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return El(this.rotationX)}set angleX(t){this.rotationX=Za(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return El(this.rotationY)}set angleY(t){this.rotationY=Za(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return El(this.rotationZ)}set angleZ(t){this.rotationZ=Za(t)}transformVerts(t,s,f,T,E,n){return t===void 0&&(t=0),s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=0),E===void 0&&(E=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=s,this.transformInfo.rotateX=T,this.transformInfo.rotateY=E,this.transformInfo.rotateZ=n,HI(this,t,s,f,T,E,n),this}}const JI=Phaser.Textures.DynamicTexture;var _m=function(i,t,s){t===void 0&&(t=2),s===void 0&&(s=2);var f=new JI(i.sys.textures,null,t,s);return f};const QI=Phaser.Utils.Objects.IsPlainObject,Da=Phaser.Utils.Objects.GetValue;class tx extends qm{constructor(t,s,f,T,E,n){QI(s)&&(n=s,s=Da(n,"x",0),f=Da(n,"y",0),T=Da(n,"width",32),E=Da(n,"height",32));var C=_m(t,T,E);super(t,s,f,C,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,s){return s===void 0&&(s={}),s.gameObjects=t,s.renderTexture=this.rt,Lu(s),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var ii=function(i,t,s,f){if(Array.isArray(i))for(var T=!1,E=0,n=i.length;E<n;E++){var C=i[E];if(!(f&&!C)&&(s?T=t.call(s,C,E,i):T=t(C,E,i),T))return}else{var T=!1;for(var e in i){var C=i[e];if(!(f&&!C)&&(s?T=t.call(s,C,e,i):T=t(C,e,i),T))return}}};const ur=Phaser.Math.RadToDeg,dr=Phaser.Math.DegToRad;class jI extends Be{constructor(t,s,f,T,E,n){super(t,s,f,T,E),this.faces=n,ii(n,function(C){C.setPosition(s,f),this.add(C)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return ur(this.rotationX)}set angleX(t){this.rotationX=dr(t)}get rotateX(){return ur(this.rotationX)}set rotateX(t){this.rotationX=dr(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return ur(this.rotationY)}set angleY(t){this.rotationY=dr(t)}get rotateY(){return ur(this.rotationY)}set rotateY(t){this.rotationY=dr(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return ur(this.rotationZ)}set angleZ(t){this.rotationZ=dr(t)}get rotateZ(){return ur(this.rotationZ)}set rotateZ(t){this.rotationZ=dr(t)}setDebug(t,s){return ii(this.faces,function(f){f.setDebug(t,s)},null,!0),this}panX(t){return ii(this.faces,function(s){s.panX(t)},null,!0),this}panY(t){return ii(this.faces,function(s){s.panY(t)},null,!0),this}panZ(t){return ii(this.faces,function(s){s.panZ(t)},null,!0),this}transformVerts(t,s,f,T,E,n){return ii(this.faces,function(C){C.transformVerts(t,s,f,T,E,n)},null,!0),this}forEachFace(t,s,f){return ii(this.faces,t,s,f),this}}const qI=Phaser.Utils.Objects.IsPlainObject,_I={key:"__WHITE"},t8={image:qm,rendertexture:tx};var dp=function(i,t){t===void 0&&(t=_I);var s;return qI(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),s=new t8[t.type](i,t),i.add.existing(s)):s=t,s},e8=function(i,t,s){var f;if(s===void 0){f=[];for(var T,E,n=0,C=t.length;n<C;n++)E=t[n],E?T=dp(i,E):T=null,f.push(T)}else{f={};for(var T,e,n=0,C=s.length;n<C;n++)e=s[n],t.hasOwnProperty(e)?T=dp(i,t[e]):T=null,f[e]=T}return f};const i8=Phaser.Math.DegToRad,fp=i8(180);var s8=function(i,t){var s=t.back;s&&(i.orientation===0?s.transformVerts(0,0,0,0,fp,0):s.transformVerts(0,0,0,fp,0,0))};const Pl=Phaser.Utils.Objects.GetValue,r8=Phaser.Math.Linear;class n8 extends Gs{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(Pl(t,"ease","Cubic")),this.setFrontToBackDirection(Pl(t,"frontToBack",0)),this.setBackToFrontDirection(Pl(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=vp[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=vp[t]),this.endAngleBF=t===0?-180:180,this}start(t,s){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var f=s+1,T=this.parent;return T.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*f):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*f),super.start(),this}flip(t,s){return this.isRunning?this:(t===void 0&&(t=this.duration),s===void 0&&(s=0),this.start(t,s),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+s+1)%2,this)}flipRight(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,s),this}flipLeft(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,s),this}updateGameObject(t,s){var f=this.easeFn(s.t),T=r8(this.startAngle,this.endAngle,f);t.orientation===0?t.angleY=T:t.angleX=T}}const vp={right:0,"left-to-right":0,left:1,"right-to-left":1},a8=Phaser.Utils.Objects.IsPlainObject,As=Phaser.Utils.Objects.GetValue,h8=["back","front"];class o8 extends jI{constructor(t,s,f,T){a8(s)&&(T=s,s=As(T,"x",0),f=As(T,"y",0));var E=e8(t,T,h8),n=E.back,C=E.front,e=As(T,"width"),u=As(T,"height");if(e===void 0||u===void 0){if(e===void 0){var x=C?C.width:0,d=n?n.width:0;e=Math.max(x,d)}if(u===void 0){var o=C?C.height:0,a=n?n.height:0;u=Math.max(o,a)}}super(t,s,f,e,u,E),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,ii(E,function(l,v){this[`${v}Face`]=l},this);var r=As(T,"flip",void 0);r!==!1&&(this.flip=new n8(this,r)),this.setOrientation(As(T,"orientation",0)),s8(this,E),this.setFace(As(T,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,ii(this.faces,function(s){s.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,ii(this.faces,function(s){s.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,ii(this.faces,function(s){s.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=l8[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=u8[t]),this.currentFaceIndex=t;var s=t===1,f=s?180:0;this.orientation===0?this.angleY=f:this.angleX=f}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const l8={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},u8={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const d8=Phaser.Utils.Objects.GetValue;var f8=function(i,t,s){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=d8(s,"useParentBounds",!1),t.setPosition(i.x,i.y).setVisible(!1),i.pin(t)},ex=function(i,t){if(!i)return!1;for(var s=t.visibleSibling,f=0,T=s.length;f<T;f++)i.setChildVisible(s[f],!0);return s.length=0,i.setChildVisible(t,!1),t.isRunning=!1,!0},v8=function(i,t){if(!i)return!1;ex(i,t);var s=t.useParentBounds;Lu({gameObjects:i.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:s?i.displayWidth:void 0,height:s?i.displayHeighth:void 0,originX:s?i.originX:void 0,originY:s?i.originY:void 0}),i.setChildVisible(t,!0);for(var f=t.visibleSibling,T=i.children,E=0,n=T.length;E<n;E++){var C=T[E];C.visible&&C!==t&&(i.setChildVisible(C,!1),f.push(C))}return t.isRunning=!0,!0},ix=function(i){return class extends i{constructor(s,f){var T=s.scene;super(T,0,0,1,1,f),T.add.existing(this),f8(s,this,f)}destroy(s){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(s))}enter(){var s=v8(this.rexContainer.parent,this);return s&&this.syncSize(),this}exit(){return ex(this.rexContainer.parent,this),this}}};class sx extends ix(tx){get perspectiveState(){return this.isRunning}}const c8=Phaser.Utils.Objects.GetValue;var p8=function(i){var t=this.scene;this.setSnapshotPadding(c8(i,"snapshotPadding",0)),i=Bi(i),delete i.width,delete i.height,i.front={width:1,height:1},i.back={width:1,height:1};var s=new o8(t,i);t.add.existing(s);var f=s.flip;if(f){var T=this;f.on("start",function(){T.enterPerspectiveMode()}).on("complete",function(){T.exitPerspectiveMode()})}return s};const g8=["front","back"],m8={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var i=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,i),this.setChildVisible(this.childrenMap.back,!i),this},setSnapshotPadding(i){return this.snapshotPadding=i,this},snapshotFace(i){typeof i=="number"&&(i=g8[i]);var t=this.perspectiveCard.faces[i],s=this.childrenMap[i];t.rt.clear();var f=s.visible;s.visible=!0;var T=s.isRexContainerLite?s.getAllVisibleChildren():s;return t.snapshot(T,{padding:this.snapshotPadding}),s.visible=f,this}},cp=Phaser.Utils.Objects.GetValue;class Dd extends He{constructor(t,s){super(t,s),this.type="rexPerspectiveCard";var f=s.back,T=cp(s,"expand.back",!0);this.add(f,{key:"back",expand:T});var E=s.front,n=cp(s,"expand.front",!0);this.add(E,{key:"front",expand:n}),this.perspectiveCard=p8.call(this,s),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var s=t===0,f=this.childrenMap.front,T=this.childrenMap.back;this.setChildVisible(f,s),this.setChildVisible(T,!s)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,s,f,T,E,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,s,f,T,E,n),this}forEachFace(t,s,f){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,s,f),this}}Object.assign(Dd.prototype,m8);st.register("perspectiveCard",function(i){var t=new Dd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.PerspectiveCard",Dd);var x8=function(i){var t=this.getElement("tabs.buttons");if(!(i>=t.length))return t[i].name},y8=function(i){for(var t=this.getElement("tabs.buttons"),s=0,f=t.length;s<f;s++)if(t[s].name===i)return s};const C8=Phaser.Utils.Objects.IsPlainObject,Ml=Phaser.Utils.Objects.GetValue,T8=Phaser.Utils.String.UUID;var S8=function(i,t,s){if(C8(i)){var f=i;i=Ml(f,"key"),t=Ml(f,"tab"),s=Ml(f,"page")}return i||(i=T8()),t.name=i,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(s,{key:i}),this},E8=function(i,t){var s;if(typeof i=="number"?s=i:s=this.getPageIndex(i),s!=null){var f;t!==void 0&&(f=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(s),f!==void 0&&(this.childrenMap.pages.fadeInDuration=f)}return this},P8=function(i){return this.swapPage(0,i),this},M8=function(i){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,i),this};const w8={swapPage:E8,swapFirstPage:P8,swapLastPage:M8},R8={removePage(i,t){typeof i=="number"&&(i=this.getPageKey(i));var s=this.childrenMap.tabs,f=s.getByName(i),T=this.childrenMap.pages,E=T.getElement(i);return!f||!E?this:(T.removeChildrenMap(i),s.removeButton(f,t),T.remove(E,t),this)},removeAllPages(i){for(var t=this.getElement("tabs.buttons"),s=t.length-1;s>=0;s--)this.removePage(t[s].name,i);return this}};var A8=function(i){return typeof i=="number"&&(i=this.getPageKey(i)),this.childrenMap.pages.getPage(i)},L8=function(i){var t;return typeof i=="number"?t=i:t=this.getPageIndex(i),this.getElement("tabs.buttons")[t]},O8={top:1,left:3,right:5,bottom:7},pp={top:"bottom",left:"right",right:"left",bottom:"top"},F8=function(i){var t=O8[i];if(t===void 0)return this;var s=this.childrenMap.tabs,f=this.sizerChildren.indexOf(s);if(f===t)return this;this.sizerChildren[f]=null,this.sizerChildren[t]=s;var T=this.getSizerConfig(s).padding,E=pp[this.tabsPosition],n=pp[i];return T[n]=T[E],T[E]=0,this.tabsPosition=i,this},rx={getPageKey:x8,getPageIndex:y8,addPage:S8,getPage:A8,getTab:L8,setTabPosition:F8};Object.assign(rx,w8,R8);const _e=Phaser.Utils.Objects.GetValue,gp=ni.prototype.add;class jh extends ni{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,s.columnProportions=[0,0,0],s.rowProportions=[0,0,0];var f=_e(s,"expand.pages",!0);f&&(s.columnProportions[1]=1,s.rowProportions[1]=1),super(t,s),this.type="rexTabPages";var T=_e(s,"background",void 0);T&&this.addBackground(T);var E=_e(s,"pages"),n=new Qh(t,E);t.add.existing(n);var C=_e(s,"tabsPosition",void 0);C===void 0&&(C=_e(s,"tabPosition","top"));var e=_e(s,"wrapTabs",!1),u=e?os:ie,x=_e(s,"tabs",void 0);x===void 0&&(x={}),x.orientation=C==="top"||C==="bottom"?"x":"y",x.buttonsType="radio",!e&&!x.hasOwnProperty("expand")&&(x.expand=_e(s,"expand.tabs",!1));var d=new u(t,x);t.add.existing(d),gp.call(this,n,{column:1,row:1,expand:f});var o,a,r=_e(s,"space.item",0);switch(C){case"top":o=1,a=0,r={bottom:r};break;case"bottom":o=1,a=2,r={top:r};break;case"left":o=0,a=1,r={right:r};break;case"right":o=2,a=1,r={left:r};break}gp.call(this,d,{column:o,row:a,padding:r,expand:e?!0:_e(s,"expand.tabs",!1),align:_e(s,"align.tabs","left")}),this.addChildrenMap("background",T),this.addChildrenMap("tabs",d),this.addChildrenMap("pages",n),this.tabsPosition=C,d.on("button.click",function(l){var v=l.name;n.hasPage(v)&&n.swapPage(v)}),d.on("button.statechange",function(l,v,h,c){var p=h?"tab.focus":"tab.blur";this.emit(p,l,l.name)},this),n.on("pagevisible",function(l,v,h){this.emit("page.focus",l,v)}),n.on("pageinvisible",function(l,v,h){this.emit("page.blur",l,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}}Object.assign(jh.prototype,rx);st.register("tabPages",function(i){var t=new jh(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TabPages",jh);class b8 extends Th{constructor(t,s){s===void 0&&(s={}),s.destroy=!1,super(t,s)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const D8={expand(i){if(this.expanded===!0)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,s=this.childrenMap.child;if(this.show(s),this.reLayoutEnable){var f=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();f.layout()}return t.emit("folder.expand",i,this),s.emit("folder.expand",i,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,i),this},collapse(i){if(this.expanded===!1)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,s=this.childrenMap.child;return t.emit("folder.collapse",i,this),s.emit("folder.collapse",i,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(s,1,1).hide(s),this.reLayoutEnable){var f=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();f.layout()}this.emit("collapse.complete",this)},this).requestClose(null,i),this},toggle(i){return this.expanded?this.collapse(i):this.expand(i),this},setExpandedState(i){return this.reLayoutEnable=!1,i===void 0?this.expanded=void 0:i?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var B8=function(i,t){Qu.popUp.call(i,t,this.expandDirection)},I8=function(i,t){Qu.scaleDown.call(i,t,this.expandDirection)};const G8={setTransitionDuration(i){return this.transitionDuration=i,this.childTransition.setTransitInTime(i).setTransitOutTime(i),this},setExpandCallback(i){return i===void 0&&(i=B8.bind(this)),this.childTransition.setTransitInCallback(i),this},setCollapseCallback(i){return i===void 0&&(i=I8.bind(this)),this.childTransition.setTransitOutCallback(i),this}},kt=Phaser.Utils.Objects.GetValue;class zn extends St{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var f=s.background,T=s.title,E=s.child;f&&this.addBackground(f);var n=kt(s,"space"),C=this.orientation===1?"left":"top",o=kt(s,"align.title",C),a=kt(s,"expand.title",!0);this.add(T,{proportion:0,align:o,expand:a,padding:{left:kt(n,"titleLeft",0),right:kt(n,"titleRight",0),top:kt(n,"titleTop",0),bottom:kt(n,"titleBottom",0)}});var e=kt(s,"toggleByTarget",void 0),u=kt(s,"toggleClickConfig");e===void 0&&(e=T),e&&B0.onClick.call(e,function(){this.toggle()},this,u),this.childTransition=new b8(E);var x=kt(s,"customChildOrigin",!1);if(!x){var d=this.rtl?1:0;E.setOrigin(d)}var o=kt(s,"align.child","left"),a=kt(s,"expand.child",!0),r=a?1:0;this.add(E,{proportion:r,align:o,expand:a,padding:{left:kt(n,"childLeft",0),right:kt(n,"childRight",0),top:kt(n,"childTop",0),bottom:kt(n,"childBottom",0)}}),this.addChildrenMap("title",T),this.addChildrenMap("child",E),this.addChildrenMap("background",f);var l=s.transition;this.setTransitionDuration(kt(l,"duration",200)),this.setExpandCallback(kt(l,"expandCallback",void 0)),this.setCollapseCallback(kt(l,"collapseCallback",void 0)),this.reLayoutTarget=kt(s,"reLayoutTarget",void 0);var v=s.onExpandStart;v&&this.on("expand.start",v);var h=s.onExpandComplete;h&&this.on("expand.complete",h);var c=s.onCollapseStart;c&&this.on("collapse.start",c);var p=s.onCollapseComplete;p&&this.on("collapse.complete",p);var g=kt(s,"expanded",void 0);g!==void 0&&this.setExpandedState(g)}}Object.assign(zn.prototype,D8,G8);st.register("folder",function(i){var t=new zn(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Folder",zn);var nx=function(i){return class extends i{setText(s){return this.text=s,this}get text(){var s=this.childrenMap.nodeBody;return s.text}set text(s){var f=this.childrenMap.nodeBody;f.setText&&f.setText(s)}setTexture(s,f){var T=this.childrenMap.nodeBody;return T.setTexture&&T.setTexture(s,f),this}get texture(){var s=this.childrenMap.nodeBody;if(!!s)return s.texture}get frame(){var s=this.childrenMap.nodeBody;if(!!s)return s.frame}}};const N8={getTreePatent(i){if(i===void 0&&(i=this),!!i.rexSizer)return i.rexSizer.treeParent},getTreeRoot(i){i===void 0&&(i=this);for(var t;;){if(!i.rexSizer)return;if(t=i.rexSizer.treeParent,t===null)return i;i=t}},isGrandsonNode(i){if(i===void 0||!i.rexSizer)return!1;for(var t;;){if(!i.rexSizer)return!1;if(t=i.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;i=t}return!1}},V8=Phaser.Utils.Objects.GetValue;var mn=function(i,t,s,f,T){var E=V8(t,s),n;return De(E)?(n=E,delete t[s]):Ii(E)?(n=E(i,f),i.add.existing(n)):T&&(n=T(i,E,f),i.add.existing(n)),n};const Ba=Phaser.Utils.Objects.GetValue;class ax extends nx(St){constructor(t,s,f){var T=s.space;super(t,{orientation:"x",space:{left:Ba(T,"nodeLeft",0),right:Ba(T,"nodeRight",0),top:Ba(T,"nodeTop",0),bottom:Ba(T,"nodeBottom",0)}}),this.type="rexTreeNode";var E=mn(t,s,"nodeBackground",f),n=mn(t,s,"nodeBody",f,z8);E&&this.addBackground(E),this.add(n,{proportion:1,key:"nodeBody"})}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}}var z8=function(i,t,s){var f=new Nh(i,t);return f.resetDisplayContent(""),f},hx=function(i,t){var s=i.parentContainer;if(s){t.isRexContainerLite?t.addToContainer(s):s.add(t);return}var f=i.displayList;if(Jl(f)){t.isRexContainerLite?t.addToLayer(f):f.add(t);return}i.scene.add.existing(t)};const mp=Phaser.Utils.String.UUID,X8={addTree(i,t){if(De(i)){var s=i;i={nodeBody:s,nodeKey:t}}return this.insertTree(void 0,i)},insertTree(i,t){var s;typeof t=="string"?(s=t,t=void 0):t&&(s=t.nodeKey,delete t.nodeKey),s===void 0&&(s=mp());var f=this.createTree(t);return hx(this,f),this.insertNode(i,f,{expand:!0}),f},addNode(i,t){return this.insertNode(void 0,i,t)},insertNode(i,t,s){var f;De(t)||(s=t,t=new ax(this.scene,this.configSave,{isLeaf:!0})),typeof s=="string"?(f=s,s=void 0):s&&(f=s.nodeKey,delete s.nodeKey),f===void 0&&(f=mp()),s===void 0&&(s={}),s.hasOwnProperty("expand")||(s.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(f)&&(console.error(`[Trees] Duplicate nodeKey '${f}'`),this.removeNode(this.nodesMap[f],!0)),t.nodeKey=f,this.nodesMap[f]=t;var T=this.childrenMap.child;return T.insert(i,t,s),t}},W8={removeNode(i,t){if(!i)return this;var s=this.getTreePatent(i);if(!s)return this;delete s.nodesMap[i.nodeKey],i.nodeKey=null,i.rexSizer.treeParent=null;var f=s.childrenMap.child;return f.remove(i,t),this},removeAllNodes(i){var t=this.nodesMap;for(var s in t)this.removeNode(t[s],i);return this}},U8={getNode(i){if(typeof i=="string"&&(i=i.split(".")),i.length!==0){var t=i.shift(),s=this.nodesMap[t];return i.length===0?s:s&&this.isTree(s)?s.getNode(i):null}},getNodes(i){var t=this.nodesMap;if(!i)i=nodes;else for(var s in t)i.push(t[s]);return i},getAllNodes(i){}};var ox={};Object.assign(ox,N8,X8,W8,U8);const k8=Phaser.Utils.Objects.GetValue;var Y8=function(i,t){var s=new ax(i,t,{isLeaf:!1});i.add.existing(s);var f=mn(i,t,"toggleButton",{isLeaf:!1},H8);return s.insert(0,f,{padding:{right:k8(t,"space.toggleButton",0)},fitRatio:1,key:"toggleButton"}),s},H8=function(i,t,s){var f=new En(i,t);return f.on("expand.start",function(T){T.setDirection("down")}).on("collapse.complete",function(T){T.setDirection("right")}),f};const $8=Phaser.Utils.Objects.GetValue;var K8=function(i,t){var s=new St(i,{orientation:$8(t,"childrenOrientation","y")});i.add.existing(s);var f=mn(i,t,"childrenBackground",{isLeaf:!1});return f&&s.addBackground(f),s};const Z8=Phaser.Utils.Objects.Clone;var J8=function(i,t){var s=i?Z8(i):{};if(!t)return s;for(var f in t)s[f]=t[f];return s};const Ls=Phaser.Utils.Objects.GetValue;class Pr extends nx(zn){constructor(t,s){s===void 0&&(s={});var f=mn(t,s,"background",{isLeaf:!1}),T=K8(t,s),E=T.childrenMap.items,n=Y8(t,s),C=n.childrenMap.toggleButton,e=n.childrenMap.nodeBody,u=Dn(Ls(s,"orientation","y")),x=s.space;if(x){var d=Ls(x,"indent",0);x.childLeft=Ls(x,"indentLeft",u===1?d:0),x.childRight=Ls(x,"indentRight",0),x.childTop=Ls(x,"indentTop",u===0?d:0),x.childBottom=Ls(x,"indentBottom",0)}var o={background:f,title:n,child:T,toggleByTarget:C,transition:s.transition,orientation:u,space:x,align:s.align,expand:s.expand};super(t,o),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=s,this.addChildrenMap("toggleButton",C),this.addChildrenMap("nodeBody",e),this.addChildrenMap("childrenNodes",E),this.on("expand.start",function(){C.emit("expand.start",C)}).on("expand.complete",function(){C.emit("expand.complete",C)}).on("collapse.start",function(){C.emit("collapse.start",C)}).on("collapse.complete",function(){C.emit("collapse.complete",C)});var a=Ls(s,"expanded",!0);a!==void 0&&this.setExpandedState(a)}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}createTree(t){return Pr.CreateTree(this.scene,this.configSave,t)}isTree(t){return!!t&&t instanceof TreeNode}}Pr.CreateTree=function(i,t,s){return new Pr(i,J8(t,s))};Object.assign(Pr.prototype,ox);const Q8=Phaser.Utils.String.UUID,j8={addTree(i){if(De(i)){var t=i;i={nodeBody:t,nodeKey}}return this.insertTree(void 0,i)},insertTree(i,t){var s;typeof t=="string"?(s=t,t=void 0):t&&(s=t.nodeKey,delete t.nodeKey),s===void 0&&(s=Q8());var f=Pr.CreateTree(this.scene,this.treeConfig,t);return hx(this,f),f.nodeKey=s,this.treesMap[s]=f,this.insert(i,f,{expand:!0}),f}},q8={removeTree(i,t){return i?(delete this.treesMap[i.nodeKey],i.nodeKey=null,this.remove(i,t),this):this},removeAllNodes(i){var t=this.treesMap;for(var s in t)this.removeTree(t[s],i);return this}},_8={getTree(i){return this.treesMap[i]},getNode(i){var t=i.indexOf(".");if(t===-1)return this.getTree(i);var s=this.getTree(i.substring(0,t));if(!!s)return s.getNode(i.substring(t+1))}};var lx={};Object.assign(lx,j8,q8,_8);const tG=Phaser.Utils.Objects.GetValue;class Bd extends St{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation="y"),super(t,s),this.type="rexTrees",this.treesMap={},this.treeConfig=tG(s,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(Bd.prototype,lx);st.register("trees",function(i){var t=new Bd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Trees",Bd);st.register("textArea",function(i){var t=new Gn(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextArea",Gn);var eG=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.textOY},set:function(t){i.textOY=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTextOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTextOY}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.textVisibleHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.contentHeight}})};const iG={setText(i){var t=this.childrenMap.child;return t.setText(i),this},appendText(i){return this.setText(this.text+i),this}},sG={scrollToLine(i){return this.setChildOY(-this.lineHeight*i),this},scrollToNextLine(i){i===void 0&&(i=1);var t=this.lineIndex+i;return this.scrollToLine(t),this}},Ia=Phaser.Utils.Objects.GetValue;class qh extends In{constructor(t,s){s===void 0&&(s={});var f=Ia(s,"text"),T;De(f)?T=f:(f===void 0&&(f={}),f.textArea=!0,T=new Tn(t,f),t.add.existing(T)),eG(T);var E=f.width===void 0,n=f.height===void 0;E&&(T.minWidth=0),n&&(T.minHeight=0),s.scrollMode=0,s.type="rexTextAreaInput",s.child={gameObject:T,expandWidth:E,expandHeight:n};var C=Ia(s,"space",void 0);C&&(C.child=Ia(C,"text",0)),s.scroller=!1,super(t,s),this.addChildrenMap("text",T);var e,u;T.on("cursorin",function(){var d=T.textOY,o=T.contentHeight,a=e!==d,r=u!==o;e=d,u=o,r&&this.resizeController(),(a||r)&&(this.t=T.t)},this),T.on("textchange",function(d){this.emit("textchange",d,this)},this);var x=Ia(s,"content",void 0);x&&this.setText(x)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var s=this.childrenMap.child;s.readOnly=t}setReadOnly(t){var s=this.childrenMap.child;return s.setReadOnly(t),this}}Object.assign(qh.prototype,iG,sG);st.register("textAreaInput",function(i){var t=new qh(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextAreaInput",qh);var rG=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,s=t.rexSizer,f=!1;if(s.hidden)i=0;else switch(this.scrollMode){case 0:i=this.getChildWidth(t),i===void 0&&(f=!0);break;case 1:i=0;break;default:i=0;break}if(!f)return i},nG=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,s=t.rexSizer,f=!1;if(s.hidden)i=0;else switch(this.scrollMode){case 0:i=0;break;case 1:i=this.getChildHeight(t),i===void 0&&(f=!0);break;default:i=0;break}if(!f)return i},aG=function(i){return i===void 0&&(i=[]),this.child&&this.child.isRexSizer&&i.push(this.child),i},hG=function(){var i=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:i+=this.childOY;break;default:t+=this.childOY,i+=this.childOX;break}this.child.setPosition(i,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},oG=function(){var i=this.child,t,s;if(!i.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width;break;case 1:s=this.height;break}i.isRexSizer?i.runLayout(this,t,s):pe(i,t,s),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},lG=function(i,t){t||i.clearMask&&i.clearMask(!1)},ux={getChildrenWidth:rG,getChildrenHeight:nG,getChildrenSizers:aG,resetChildPosition:hG,layoutChildren:oG,removeChildCallback:lG};Object.assign(ux,Dm);const xp=Phaser.Utils.Objects.IsPlainObject,Xe=Phaser.Utils.Objects.GetValue,uG=Phaser.Display.Align.TOP_LEFT;class dx extends Xs{constructor(t,s,f,T,E,n){xp(s)?(n=s,s=Xe(n,"x",0),f=Xe(n,"y",0),T=Xe(n,"width",void 0),E=Xe(n,"height",void 0)):xp(T)&&(n=T,T=Xe(n,"width",void 0),E=Xe(n,"height",void 0)),super(t,s,f,T,E,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(Xe(n,"scrollMode",0));var C=Xe(n,"clamplChildOY",!0),e=Xe(n,"clamplChildOX",C);this.setClampMode(C,e);var u=Xe(n,"child",void 0),x=Xe(n,"expand",!0);u.setOrigin&&u.setOrigin(0),this.add(u),this.sizerChildren=[u];var d=this.getSizerConfig(u);d.align=uG,d.expand=x,this.child=u,this.setupChildrenMask(Xe(n,"mask",void 0)),this.childrenMask&&(this.maskGameObject=Ad(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=Em[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,s){return this.clampChildOY=t,this.clampChildOX=s,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.height:this.width}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.width:this.height}get childHeight(){return this.scrollMode===0||this.scrollMode===2?At(this.child):Rt(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?Rt(this.child):At(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var s=this.topChildOY,f=this.bottomChildOY,T=this.childOYExceedTop(t),E=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:T?t=s:E&&(t=f)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),T&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=T,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,f)),this.execeedBottomState=E}get childOX(){return this._childOX}set childOX(t){var s=this.leftChildOX,f=this.rightChildOX,T=this.childOXExceedLeft(t),E=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:T?t=s:E&&(t=f)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),T&&(this.execeedLeftState||this.emit("execeedleft",this,t,s)),this.execeedLeftState=T,E&&(this.execeedRightState||this.emit("execeedright",this,t,f)),this.execeedRightState=E}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(dx.prototype,ux);var dG=function(i,t){if(!this.hasChild(i))return this;switch(this.scrollMode){case 0:Ga.call(this,i,"y",t);break;case 1:Ga.call(this,i,"x",t);break;default:Ga.call(this,i,"y",t),Ga.call(this,i,"x",t);break}return this};const yp=["top","bottom","centerY","center"],Cp=["left","right","centerX","center"];var Ga=function(i,t,s){t=t.toUpperCase();var f=t==="Y",T=this.childrenMap.child,E;if(f){if(s)for(var n=0,C=yp.length;n<C;n++){var e=yp[n];if(s.indexOf(e)!==-1){s=e;break}}switch(s){case"top":E=T.top-i.getTopLeft().y;break;case"bottom":E=T.bottom-i.getBottomLeft().y;break;case"centerY":case"center":E=T.centerY-i.getCenter().y;break;default:var u=T.top-i.getTopLeft().y,x=T.bottom-i.getBottomLeft().y;u<=0&&x>=0?E=0:E=Math.abs(u)<=Math.abs(x)?u:x;break}}else{if(s)for(var n=0,C=Cp.length;n<C;n++){var e=Cp[n];if(s.indexOf(e)!==-1){s=e;break}}switch(s){case"left":E=T.left-i.getTopLeft().x;break;case"right":E=T.right-i.getTopRight().x;break;case"centerX":case"center":E=T.centerX-i.getCenter().x;break;default:var d=T.left-i.getTopLeft().x,o=T.right-i.getTopRight().x;d<=0&&o>=0?E=0:E=Math.abs(d)<=Math.abs(o)?d:o;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=E;break;default:this[`childO${t}`]+=E;break}};const Ji=Phaser.Utils.Objects.GetValue;class Id extends In{constructor(t,s){s===void 0&&(s={});var f=Sd(s),T=Ji(s,"panel",void 0);T===void 0&&(T={}),T.scrollMode=f,T.clamplChildOY=Ji(s,"clamplChildOY",!1),T.clamplChildOX=Ji(s,"clamplChildOX",!1);var E=new dx(t,T);t.add.existing(E);var n,C;switch(f){case 0:n=Ji(s,"expand.panel",!0),C=!0;break;case 1:n=!0,C=Ji(s,"expand.panel",!0);break;default:n=!0,C=!0}s.type="rexScrollablePanel",s.child={gameObject:E,expandWidth:n,expandHeight:C,align:Ji(s,"align.panel","center")};var e=Ji(s,"space",void 0);e&&(e.child=Ji(e,"panel",0)),super(t,s),this.addChildrenMap("panel",E.child),this.addChildrenMap("panelLayer",E.maskLayer),this.addChildrenMap("mask",E.maskGameObject),this.addChildrenMap("scrollableBlock",E)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),ad(this.childrenMap.child,t),this}}var fG={scrollToChild:dG};Object.assign(Id.prototype,fG);st.register("scrollablePanel",function(i){var t=new Id(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ScrollablePanel",Id);const Na={popUp:function(i,t){i.popUp(t)},scaleDown:function(i,t){i.scaleDown(t)},fadeIn:function(i,t){i.fadeIn(t)},fadeOut:function(i,t){i.fadeOut(t)}},qi={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},vG={setDisplayTime(i){return this.displayTime=i,this},setTransitOutTime(i){return this.transitOutTime=i,this},setTransitInTime(i){return this.transitInTime=i,this},setTransitInCallback(i){switch(typeof i=="string"&&(i=qi[i]),i){case qi.popUp:i=Na.popUp;break;case qi.fadeIn:i=Na.fadeIn;break}return i||(i=he),this.transitInCallback=i,this},setTransitOutCallback(i){switch(typeof i=="string"&&(i=qi[i]),i){case qi.scaleDown:i=Na.scaleDown;break;case qi.fadeOut:i=Na.fadeOut;break}return i||(i=he),this.transitOutCallback=i,this}},cG={showMessage(i){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),i===void 0){if(this.messages.length===0)return this;i=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(i),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof i=="string"?this.setText(i):i(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[he]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[he]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},hn=Phaser.Utils.Objects.GetValue;class Gd extends Xi{constructor(t,s){s===void 0&&(s={text:createDefaultTextObject(t)}),super(t,s),this.type="rexToast",this.setTransitInTime(hn(s,"duration.in",200)),this.setDisplayTime(hn(s,"duration.hold",1200)),this.setTransitOutTime(hn(s,"duration.out",200)),this.setTransitInCallback(hn(s,"transitIn",qi.popUp)),this.setTransitOutCallback(hn(s,"transitOut",qi.scaleDown)),this.player=new ym(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,s){return s===void 0&&(s=t),this.scaleX0=t,this.scaleY0=s,super.setScale(t,s),this}}Object.assign(Gd.prototype,vG,cG);st.register("toast",function(i){var t=new Gd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Toast",Gd);var pG=function(i,t){if(t===!1)return null;if(De(t))return t;var s=new ls(i,t);return i.add.existing(s),s},Xn=function(i,t,s){s===void 0&&(s=!0),s?t=t?Oe(t):{}:t||(t={});var f=new Tn(i,t);return i.add.existing(f),f};const Tp=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],gG=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var iu={},Sp;for(var Va=0,mG=Tp.length;Va<mG;Va++)Sp=Tp[Va].toLowerCase(),iu[Sp]=gG[Va];var xG=function(i){return i=i.toLowerCase(),iu.hasOwnProperty(i)?iu[i]:null},yG=function(i){return typeof i!="string"||(i.startsWith("#")?i=parseInt(i.substring(1),16):i.startsWith("0x")?i=parseInt(i.substring(2),16):i=xG(i)),i};const CG=Phaser.Utils.String.Pad;var Ep=function(i,t){t===void 0&&(t="0x");var s=i.toString(16).toUpperCase();return s=CG(s,6,0,1),s=t+s,s},TG=function(i,t){!i||(i.setTint?i.setTint(t):i.setFillStyle&&i.setFillStyle(t))};const We=Phaser.Utils.Objects.GetValue,SG=Phaser.Utils.Objects.IsPlainObject,EG=Phaser.Math.Clamp;class Nd extends St{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorInputLite";var f=We(s,"background",void 0),T=We(s,"swatch"),E;SG(T)&&(E=We(T,"size"));var n=pG(t,We(s,"swatch")),C=We(s,"inputText",{}),e;if(C&&(e=Xn(t,C)),f&&this.addBackground(f),n){E=We(s,"swatchSize",E);var u;E!==void 0?(pe(n,E,E),u=!1):u=We(s,"squareExpandSwatch",!0);var x=u?1:0;this.add(n,{proportion:0,expand:!1,fitRatio:x})}if(e){var d=We(C,"width")===void 0?1:0,o=We(C,"height")===void 0;this.add(e,{proportion:d,expand:o})}this.addChildrenMap("background",f),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",e),e&&e.on("close",function(){this.setValue(e.value)},this);var a=We(s,"valuechangeCallback",null);if(a!==null){var r=We(s,"valuechangeCallbackScope",void 0);this.on("valuechange",a,r)}this.setValue(We(s,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=yG(t),t==null){var f=this.childrenMap.inputText;f&&f.setText(Ep(this._value));return}}else t=EG(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var s=this.childrenMap.swatch;s&&TG(s,t);var f=this.childrenMap.inputText;f&&f.setText(Ep(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}}var PG={setCreateColorPickerBackgroundCallback(i){return this.colorPickerCreateBackgroundCallback=i,this},setColorPickerHPalettePosition(i){return this.colorPickerHPalettePosition=i,this},setColorPickerExpandDirection(i){return typeof i=="string"&&(i=MG[i]),this.colorPickerExpandDirection=i,this},setColorPickerEaseInDuration(i){return i===void 0&&(i=0),this.colorPickerEaseInDuration=i,this},setColorPickerEaseOutDuration(i){return i===void 0&&(i=0),this.colorPickerEaseOutDuration=i,this},setColorPickerTransitInCallback(i){return this.colorPickerTransitInCallback=i,this},setColorPickerTransitOutCallback(i){return this.colorPickerTransitOutCallback=i,this},setColorPickerBounds(i){return this.colorPickerBounds=i,this},setColorPickerWidth(i){return this.colorPickerWidth=i,this},setColorPickerHeight(i){return this.colorPickerHeight=i,this},setColorPickerSize(i,t){return this.setColorPickerWidth(i).setColorPickerHeight(t),this},setColorPickerSpace(i){return i===void 0&&(i={}),this.colorPickerSpace=i,this},setColorComponentsHeight(i){return this.colorComponentsHeight=i,this},setColorComponentsFormatLabelConfig(i){return this.colorComponentsFormatLabelConfig=i,this},setColorComponentsInputTextConfig(i){return this.colorComponentsInputTextConfig=i,this},setColorComponentsSpace(i){return i===void 0&&(i={}),this.colorComponentsSpace=i,this}};const MG={down:0,up:1},fx=Phaser.Display.Color,ih=Phaser.Math.Percent;var wG=function(i,t,s){s===void 0&&(s=!1);var f=i.width,T=i.height,E=new fx;if(s)for(var n=0;n<T;n++){var C=ih(n,0,T);E.setFromHSV(C,1,1),t.fillStyle=E.rgba,t.fillRect(0,n,f,1)}else for(var e=0;e<f;e++){var C=ih(e,0,f);E.setFromHSV(C,1,1),t.fillStyle=E.rgba,t.fillRect(e,0,1,T)}},RG=function(i,t,s){for(var f=i.width,T=i.height,E=t.getImageData(0,0,f,T),n=E.data,C=new fx,e=0;e<T;e++)for(var u=0;u<f;u++){var x=ih(u,0,f),d=1-ih(e,0,T);C.setFromHSV(s,x,d);var o=(e*f+u)*4;n[o]=C.red,n[o+1]=C.green,n[o+2]=C.blue,n[o+3]=255}t.putImageData(E,0,0)};const AG=Phaser.Display.Color,Pp=Phaser.Math.Percent,LG=Phaser.Display.Color.ColorToRGBA,OG=Phaser.Display.Color.HSVToRGB;class FG extends Vs{constructor(t,s,f,T,E,n){s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=2),E===void 0&&(E=2),super(t,s,f,T,E),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new AG,this.setOrientation(n),this.setSize(T,E)}setOrientation(t){return this.orientation=Dn(t),this}updateTexture(){return wG(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,s){return t===void 0?this.hue:(this.orientation===0?this.hue=Pp(t,0,this.width):this.hue=Pp(s,0,this.height),this.hue)}getColor(t,s){if(t===void 0)return this.color;var f=this.getHue(t,s);return this.colorObject.setFromRGB(OG(f,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(wl===void 0&&(wl={}),s=wl),this.colorObject.setFromRGB(LG(t)),this.orientation===0?(s.x=this.width*this.colorObject.h,s.y=this.height/2):(s.x=this.width/2,s.y=this.height*this.colorObject.h),s}}var wl=void 0,bG=Phaser.Math.RotateAround,vx=function(i,t,s,f){f===void 0?f={}:f===!0&&(Rl===void 0&&(Rl={}),f=Rl),t-=i.width*i.originX,s-=i.height*i.originY;var T={x:t*i.scaleX,y:s*i.scaleY};return bG(T,0,0,-i.rotation),f.x=i.x+t,f.y=i.y+s,f},Rl;class DG extends He{constructor(t,s){s===void 0&&(s={}),super(t,s);var f=s.width!=null?1:0,T=new FG(t).setOrientation(f);t.add.existing(T),this.type="rexColorPicker.HPalette",T.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var E=new ls(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(E),this.add(T,{key:"paletteCanvas",expand:!0}).add(E,{key:"marker",expand:!1})}resize(t,s){if(this.width===t&&this.height===s)return this;super.resize(t,s);var f=Math.min(t,s);return this.childrenMap.marker.setSize(f,f),this}onPaletteCanvasPointerDown(t,s,f,T){if(!!t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(s,f);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,f=this.childrenMap.marker,T=s.colorToLocalPosition(t,!0);return vx(s,T.x,T.y,f),this.resetChildPositionState(f),this}getHue(t,s){var f=this.childrenMap.paletteCanvas;return f.getHue(t,s)}}const BG=Phaser.Display.Color,Mp=Phaser.Math.Percent,wp=Phaser.Display.Color.ColorToRGBA,IG=Phaser.Display.Color.HSVToRGB;class GG extends Vs{constructor(t,s,f,T,E,n){s===void 0&&(s=0),f===void 0&&(f=0),T===void 0&&(T=2),E===void 0&&(E=2),super(t,s,f,T,E),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new BG,this.setHue(n),this.setSize(T,E)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return RG(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,s){if(t===void 0)return this.colorObject.color;var f=Mp(t,0,this.width),T=1-Mp(s,0,this.height);return this.colorObject.setFromRGB(IG(this.hue,f,T)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(wp(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(Al===void 0&&(Al={}),s=Al),this.colorObject.setFromRGB(wp(t)),s.x=this.width*this.colorObject.s,s.y=this.height*(1-this.colorObject.v),s}}var Al=void 0;class NG extends He{constructor(t,s){super(t,s);var f=new GG(t);t.add.existing(f),this.type="rexColorPicker.SVPalette",f.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var T=new ls(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(T),this.add(f,{key:"paletteCanvas",expand:!0}).add(T,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,s,f,T){if(!!t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(s,f);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var s=this.childrenMap.paletteCanvas;return s.setHue(t),this}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,f=this.childrenMap.marker,T=s.colorToLocalPosition(t,!0);return vx(s,T.x,T.y,f),this.resetChildPositionState(f),this}}const ti=Phaser.Utils.Objects.GetValue;class Vd extends St{constructor(t,s){super(t,s),this.type="rexColorPicker",this.freezePalettes=!1;var f=ti(s,"hPalette.position",0);typeof f=="string"&&(f=VG[f]);var T=f===0||f===2?1:0;this.setOrientation(T);var E=ti(s,"background",void 0),n,C;if(this.orientation===0){var n=ti(s,"hPalette.width",void 0);n===void 0&&(n=ti(s,"hPalette.size",10))}else C=ti(s,"hPalette.height",void 0),C===void 0&&(C=ti(s,"hPalette.size",10));var e=new DG(t,{width:n,height:C});t.add.existing(e);var u=ti(s,"svPalette.width",void 0),x=ti(s,"svPalette.height",void 0),d=new NG(t,{width:u,height:x});t.add.existing(d),E&&this.addBackground(E);var o={proportion:0,expand:!0},a,r;this.orientation===0?(a=u===void 0?1:0,r=x===void 0):(a=x===void 0?1:0,r=u===void 0);var l={proportion:a,expand:r};f===0||f===3?this.add(d,l).add(e,o):this.add(e,o).add(d,l),e.on("input",function(){d.setHue(e.getHue()),this.setValue(d.color,!0)},this),d.on("input",function(){this.setValue(d.color,!0)},this),this.addChildrenMap("background",E),this.addChildrenMap("hPalette",e),this.addChildrenMap("svPalette",d);var v=ti(s,"valuechangeCallback",null);if(v!==null){var h=ti(s,"valuechangeCallbackScope",void 0);this.on("valuechange",v,h)}this.setValue(ti(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,s,this)}}setValue(t,s){return this.freezePalettes=!!s,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,s,f){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),this}}var VG={bottom:0,left:1,top:2,right:3};const gi=Phaser.Utils.Objects.GetValue,zG=Phaser.Display.Color,XG=Phaser.Display.Color.ColorToRGBA,WG=Phaser.Display.Color.HSVToRGB,Os=Phaser.Math.Clamp;class zd extends St{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorComponents",this.colorObject=new zG;var f=gi(s,"background",void 0),T=gi(s,"formatLabel",void 0);De(T)||(T=ke(t,T).resetDisplayContent());var E=[];if(s.inputText0&&s.inputText1&&s.inputText2)E.push(s.inputText0),E.push(s.inputText1),E.push(s.inputText2);else for(var n=gi(s,"inputText"),C=0;C<3;C++){var e=Xn(t,n).setMaxLength(3).setNumberInput();E.push(e)}f&&this.addBackground(f);var x=gi(s,"proportion.formatLabel",0),u=!!T.isRexContainerLite,d=gi(s,"expand.formatLabel",u);this.add(T,{proportion:x,expand:d});for(var x=gi(n,"width")===void 0?1:0,d=gi(n,"height")===void 0,C=0,o=E.length;C<o;C++)this.add(E[C],{proportion:x,expand:d});this.addChildrenMap("background",f),this.addChildrenMap("formatLabel",T),this.addChildrenMap("components",E),this.onClick(T,this.toggleColorFormat,this);for(var C=0,o=E.length;C<o;C++)E[C].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var a=gi(s,"valuechangeCallback",null);if(a!==null){var r=gi(s,"valuechangeCallbackScope",void 0);this.on("valuechange",a,r)}T.setText("RGB"),this.setValue(gi(s,"value",16777215))}get value(){return this._value}set value(t){t=Os(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(XG(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,s,f,T;return this.colorFormat==="RGB"?(s=this.colorObject.red,f=this.colorObject.green,T=this.colorObject.blue):(s=Math.floor(this.colorObject.h*360),f=Math.floor(this.colorObject.s*100),T=Math.floor(this.colorObject.v*100)),t[0].setValue(s),t[1].setValue(f),t[2].setValue(T),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var s=Os(t[0].value,0,255),f=Os(t[1].value,0,255),T=Os(t[2].value,0,255);this.colorObject.setTo(s,f,T)}else{var E=Os(t[0].value,0,359)/360,n=Os(t[1].value,0,100)/100,C=Os(t[2].value,0,100)/100;this.colorObject.setFromRGB(WG(E,n,C))}return this}}const Ll=Phaser.Utils.Objects.GetValue;class UG extends St{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexColorInput.ColorPickerPanel";var f=Ll(s,"background",void 0),T=new Vd(t,{hPalette:s.hPalette||{},svPalette:s.svPalette||{},space:{item:Ll(s,"space.hPalette",8)}});t.add.existing(T);var E;s.colorComponents&&(E=new zd(t,s.colorComponents),t.add.existing(E)),f&&(this.addBackground(f),new Sh(f,{stopAllLevels:!1})),this.add(T,{proportion:1,expand:!0}),E&&this.add(E,{proportion:0,expand:!0}),this.addChildrenMap("background",f),this.addChildrenMap("colorPicker",T),this.addChildrenMap("colorComponents",E),T.on("valuechange",function(n){this.setValue(n)},this),E&&E.on("valuechange",function(n){this.setValue(n)},this),this.setValue(Ll(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var s=this.childrenMap.colorPicker;s.setValue(t);var f=this.childrenMap.colorComponents;f&&f.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var kG=function(t){var t=this.scene,s,f=this.colorPickerCreateBackgroundCallback;f&&(s=f.call(this,t),t.add.existing(s));var T=this.colorPickerWidth;T===void 0&&(T=this.width);var E=this.colorPickerHeight;E===void 0&&(E=T);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var C=new UG(t,{width:T,height:E,background:s,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(C),C},YG=function(){if(!this.colorPicker){var i=kG.call(this).layout(),t=new Xm(i,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){i.on("valuechange",function(s){this.setValue(s)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=i,this.dropDownBehavior=t,this.pin(i),this}},cx={openColorPicker:YG};Object.assign(cx,PG);const ae=Phaser.Utils.Objects.GetValue;class _h extends Nd{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexColorInput",s.hasOwnProperty("colorPicker")||(s.colorPicker={background:{color:0}});var f=s.colorPicker,T=f!==!1&&f!==null;if(T){this.setColorPickerSize(ae(f,"width",160),ae(f,"height",170));var E,n=ae(f,"background");n?E=function(a){return Ue(a,n)}:E=ae(f,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(E),this.setColorPickerHPalettePosition(ae(f,"hPalettePosition",0)),this.setColorPickerExpandDirection(ae(f,"expandDirection")),this.setColorPickerEaseInDuration(ae(f,"easeIn",200)),this.setColorPickerEaseOutDuration(ae(f,"easeOut",200)),this.setColorPickerTransitInCallback(ae(f,"transitIn")),this.setColorPickerTransitOutCallback(ae(f,"transitOut")),this.setColorPickerBounds(ae(f,"bounds"));var C=ae(f,"space");C===void 0&&(C={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(C)}var e=s.colorComponents,u=e!==!1&&e!==null;if(T&&u){this.setColorComponentsHeight(ae(e,"height",30)),this.setColorComponentsFormatLabelConfig(ae(e,"formatLabel"));var x=ae(e,"inputText");x||(x=ae(s,"inputText")),this.setColorComponentsInputTextConfig(x);var d=ae(e,"space");d===void 0&&(d={item:8}),this.setColorComponentsSpace(d)}var o=this.childrenMap.swatch;o&&T&&this.onClick(o,this.openColorPicker,this)}}Object.assign(_h.prototype,cx);st.register("colorInput",function(i){var t=new _h(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorInput",_h);st.register("colorInputLite",function(i){var t=new Nd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorInputBase",Nd);st.register("colorPicker",function(i){var t=new Vd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorPicker",Vd);st.register("colorComponents",function(i){var t=new zd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorComponents",zd);var px=function(i){for(var t=i.scene.input,s=t.manager,f=s.pointersTotal,T=s.pointers,E,n=0;n<f;n++)if(E=T[n],!(!E.primaryDown||t.getDragState(E)!==0||!yu(i,E)))return t.setDragState(E,1),t._drag[E.id]=[i],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(E,3),t.processDragStartList(E)):t.setDragState(E,2),!0;return!1};const za=Phaser.Utils.Objects.GetValue,Rp=Phaser.Math.Distance.Between,Ap=Phaser.Math.RotateAroundDistance;class Xd extends Yt{constructor(t,s){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(za(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(za(t,"enable",!0)),this.setAxisMode(za(t,"axis",0)),this.setAxisRotation(za(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=HG[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return px(this.parent),this}dragend(){if(!!this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,s,f){this.isDragging||(this.pointer=t)}onDrag(t,s,f){if(this.pointer===t){var T=this.parent;if(this.axisMode===0)T.x=s,T.y=f;else if(this.axisRotation===0)this.axisMode===1?T.x=s:this.axisMode===2&&(T.y=f);else{var E,n={x:s,y:f};E=Rp(n.x,n.y,T.x,T.y),n=Ap(n,T.x,T.y,-this.axisRotation,E),this.axisMode===1?n.y=T.y:this.axisMode===2&&(n.x=T.x),E=Rp(n.x,n.y,T.x,T.y),n=Ap(n,T.x,T.y,this.axisRotation,E),T.x=n.x,T.y=n.y}}}onDragEnd(t,s,f,T){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const HG={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var $G=function(){var i=this.sizerChildren[0],t=this.sizerChildren[1],s=this.sizerChildren[2],f=this.getSizerConfig(i).padding,T=this.getSizerConfig(t).padding,E=this.getSizerConfig(s).padding;if(this.orientation===0){var n=this.innerLeft+f.left,C=this.innerRight-E.right,e=Rt(t),u=t.x+e*(0-t.originX),x=t.x+e*(1-t.originX),d=u-T.left-this.space.item-f.right,o=x+T.right+this.space.item+E.left,a=d-n,r=C-o,l=a+r;this.minFirstChildSize>0&&a<this.minFirstChildSize&&(a=this.minFirstChildSize,r=l-a),this.minSecondChildSize>0&&r<this.minSecondChildSize&&(r=this.minSecondChildSize,a=l-r),this.setSplitRatio(a/l)}else{var v=this.innerTop+f.top,h=this.innerBottom-E.bottom,c=At(t),p=t.y+c*(0-t.originY),g=t.y+c*(1-t.originY),m=p-T.top-this.space.item-f.bottom,y=g+T.bottom+this.space.item+E.top,S=m-v,M=h-y,P=S+M;this.minFirstChildSize>0&&S<this.minFirstChildSize&&(S=this.minFirstChildSize,M=P-S),this.minSecondChildSize>0&&M<this.minSecondChildSize&&(M=this.minSecondChildSize,S=P-M),this.setSplitRatio(S/P)}var w=this.minWidth,R=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(w,R)};const Kt=Phaser.Utils.Objects.GetValue,KG=Phaser.Math.Clamp;class gx extends St{constructor(t,s){s.hasOwnProperty("orientation")||(s.orientation=s.hasOwnProperty("leftPanel")?0:1),super(t,s),this.type="rexSplit";var f=Kt(s,"background",void 0),T,E,n,C;this.orientation===0?(T="leftPanel",E="rightPanel",n="minLeftPanelWidth",C="minRightPanelWidth"):(T="topPanel",E="bottomPanel",n="minTopPanelHeight",C="minBottomPanelHeight");var e=Kt(s,T,void 0),u=Kt(s,"splitter",void 0),x=Kt(s,E,void 0);f&&this.addBackground(f);var d=Kt(s,"space",void 0);this.add(e,{proportion:1,expand:!0,padding:{left:Kt(d,`${T}Left`,0),right:Kt(d,`${T}Right`,0),top:Kt(d,`${T}Top`,0),bottom:Kt(d,`${T}Bottom`,0)}}),this.add(u,{proportion:0,expand:!0,padding:{left:Kt(d,"splitterLeft",0),right:Kt(d,"splitterRight",0),top:Kt(d,"splitterTop",0),bottom:Kt(d,"splitterBottom",0)}}),this.add(x,{proportion:1,expand:!0,padding:{left:Kt(d,`${E}Left`,0),right:Kt(d,`${E}Right`,0),top:Kt(d,`${E}Top`,0),bottom:Kt(d,`${E}Bottom`,0)}}),this.addChildrenMap("background",f),this.addChildrenMap(T,e),this.addChildrenMap("splitter",u),this.addChildrenMap(E,x),this.minFirstChildSize=Kt(s,n,0),this.minSecondChildSize=Kt(s,C,0),this.setSplitRatio(Kt(s,"splitRatio",.5)),this.splitterDragBehavior=new Xd(u,{axis:this.orientation===0?1:2}),u.on("dragstart",function(){this.emit("splitter.dragstart",u,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",u,this.splitRatio)},this).on("drag",function(){$G.call(this),this.emit("splitter.drag",u,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",u,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",u,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=KG(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}st.register("splitPanels",function(i){var t=new gx(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.SplitPanels",gx);var ZG=function(){return function(i,t,s,f){t!=="panel"&&s.setChildVisible(i,!0)}},JG=function(){return function(i,t,s,f){t!=="panel"&&s.setChildVisible(i,!1)}};const QG={show:ZG,hide:JG};var jG=function(i,t){return t===void 0&&(t=1),function(s,f,T,E){f!=="panel"&&T.fadeChild(s,E?0:i,t)}},qG=function(i,t){return t===void 0&&(t=0),function(s,f,T,E){f!=="panel"&&T.fadeChild(s,E?0:i,t)}};const _G={show:jG,hide:qG};var Lp=function(i,t){return function(s,f,T,E){f!=="panel"&&T.moveChild(s,E?0:i,t)}};const t6={show:Lp,hide:Lp};var Op=function(i,t){return function(s,f,T,E){f==="panel"&&T.moveChild(s,E?0:i,t)}};const e6={show:Op,hide:Op},Ol={visible:QG,fade:_G,move:t6,"move-panel":e6};var i6=function(i){var t,s;[t,...s]=typeof i=="string"?[i]:i;var f,T;return Ol.hasOwnProperty(t)?(f=Ol[t].show.apply(null,s),T=Ol[t].hide.apply(null,s)):(f=he,T=he),{show:f,hide:T}};const s6={showChild(i,t){var s=this.sizerChildren[i];return s&&(this.emit("showchild",s,i,this,t),this.resetChildState(s)),this},hideChild(i,t){var s=this.sizerChildren[i];return s&&(this.emit("hidechild",s,i,this,t),this.resetChildState(s)),this},swapChild(i,t){return this.currentChildKey===i||(this.currentChildKey==="panel"||i==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=i,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(i,t))),this},showPanel(i){return this.swapChild("panel",i),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var i=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(i),this},toggleRightSide(){var i=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(i),this},toggleTopSide(){var i=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(i),this},toggleBottomSide(){var i=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(i),this}},r6=Be.prototype.setChildVisible,n6={setChildVisible(i,t){var s;if(typeof i=="string"){var s=i;i=this.sizerChildren[s]}else s=Ah(this.sizerChildren,i);return t===void 0&&(t=this.currentChildKey===s),r6.call(this,i,t),this}},a6={fadeChild(i,t,s){var f;return typeof i=="string"?(f=i,i=this.sizerChildren[f]):f=Ah(this.sizerChildren,i),t===void 0&&(t=500),s===void 0&&(s=this.currentChildKey===f?1:0),i.fadeIn(t,{start:i.alpha,end:s}),this},fadeChildPromise(i,t,s){return typeof i=="string"&&(i=this.sizerChildren[key]),this.fadeChild(i,t,s),i._fade?oe(i._fade):Promise.resolve()}},h6={moveChild(i,t,s,f){var T;typeof i=="string"?(T=i,i=this.sizerChildren[T]):T=Ah(this.sizerChildren,i),t===void 0&&(t=500);var E=this.currentChildKey===T;if(f===void 0)switch(T){case"leftSide":case"rightSide":f=Rt(i);break;case"topSide":case"bottomSide":f=At(i);break;default:if(E)switch(this.previousChildKey){case"leftSide":case"rightSide":f=Rt(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":f=At(this.sizerChildren[this.previousChildKey]);break;default:f=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":f=Rt(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":f=At(this.sizerChildren[this.currentChildKey]);break;default:f=0;break}break}var n,C,e,u;if(E)switch(T){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":C=!0;break;case"topSide":e=!0;break;case"bottomSide":u=!0;break}break;case"leftSide":C=!0;break;case"rightSide":n=!0;break;case"topSide":u=!0;break;case"bottomSide":e=!0;break}else switch(T){case"panel":switch(this.currentChildKey){case"leftSide":C=!0;break;case"rightSide":n=!0;break;case"topSide":u=!0;break;case"bottomSide":e=!0;break}break;case"leftSide":n=!0;break;case"rightSide":C=!0;break;case"topSide":e=!0;break;case"bottomSide":u=!0;break}return n?i.moveTo(t,`-=${f}`,void 0,s):C?i.moveTo(t,`+=${f}`,void 0,s):e?i.moveTo(t,void 0,`-=${f}`,s):u?i.moveTo(t,void 0,`+=${f}`,s):i.moveTo(0),this},moveChildPromise(i,t,s,f){return typeof i=="string"&&(i=this.sizerChildren[key]),this.moveChild(i,t,s,f),i._easeMove?oe(i._easeMove):Promise.resolve()}};var mx={};Object.assign(mx,n6,a6,h6);const Ce=Phaser.Utils.Objects.GetValue;class Wd extends He{constructor(t,s){super(t,s),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var f=Ce(s,"showChildCallback",void 0);if(f)if(Ii(f)){var T=Ce(s,"showChildCallbackScope",void 0);this.on("showchild",f,T);var E=Ce(s,"hideChildCallback",void 0),n=Ce(s,"hideChildCallbackScope",void 0);this.on("hidechild",E,n)}else{var C=i6(f);this.on("showchild",C.show),this.on("hidechild",C.hide)}var e=Ce(s,"background",void 0),u=Ce(s,"panel",void 0),x=Ce(s,"leftSide",void 0),d=Ce(s,"rightSide",void 0),o=Ce(s,"topSide",void 0),a=Ce(s,"bottomSide",void 0);if(e&&this.addBackground(e),u&&this.add(u,"panel","center",0,!0),x){var r=Ce(s,"expand.left",!0);this.add(x,"leftSide","left-top",0,{height:r})}if(d){var r=Ce(s,"expand.right",!0);this.add(d,"rightSide","right-top",0,{height:r})}if(o){var r=Ce(s,"expand.top",!0);this.add(o,"topSide","left-top",0,{width:r})}if(a){var r=Ce(s,"expand.bottom",!0);this.add(a,"bottomSide","left-bottom",0,{width:r})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(Wd.prototype,s6,mx);st.register("sides",function(i){var t=new Wd(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Sides",Wd);var o6=function(i){var t=!0;return i.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${i.name}', missing 'accept' callback.`)),i.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${i.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(i),this};const l6=Phaser.Utils.Array.GetFirst,u6=Phaser.Utils.Array.Remove;var d6=function(i){var t=l6(this.inputHandlers,"name",i);return t&&u6(this.inputHandlers,t),this};class xx extends Xi{constructor(t,s){s=md(t,s),super(t,s),this.type="rexTweaker.Title"}setTitle(t){return t=t?Oe(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class f6 extends xx{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTweaker.FolderTitle";var f=new En(t,s.expandedIcon);t.add.existing(f),this.addSpace().add(f,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",f)}setExpandedState(t){t===void 0&&(t=!0);var s=t?"down":"right",f=this.childrenMap.expandedIcon;return f.setDirection(s),this}}var yx=function(i,t){var s=new Yd(i,t);return i.add.existing(s),s},Ud=function(i,t,s){return Ue(i,s)};const v6={setBindingTarget(i){var t=this.childrenMap.child;return t.setBindingTarget(i),this}},c6={getMaxInputRowTitleWidth(){var i=this.childrenMap.child,t=i.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(i),this}};class Cx extends zn{constructor(t,s){super(t,s),this.type="rexTweaker.Folder"}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}}Object.assign(Cx.prototype,v6,c6);const fr=Phaser.Utils.Objects.GetValue;var p6=function(i,t,s){var f=fr(s,"title")||{},T=new f6(i,f);i.add.existing(T),T.on("folder.expand",function(){T.setExpandedState(!0)}).on("folder.collapse",function(){T.setExpandedState(!1)});var E={root:fr(s,"root"),styles:fr(s,"tweaker"),space:fr(s,"space")||{}},n=yx(i,E),C=fr(s,"background"),e=Ud(i,t,C),u=new Cx(i,{orientation:1,title:T,child:n,background:e,transition:{duration:fr(s,"transition.duration",200)}});return i.add.existing(u),u};const Fp=Phaser.Utils.Objects.GetValue;var g6=function(i){var t=this.scene,s=Fp(this.styles,"folder")||{};s.tweaker=this.styles,s.root=this.root;var f=p6(t,i,s);delete s.tweaker,delete s.root,this.add(f,{expand:!0}),f.setTitle(i);var T=Fp(i,"expanded",!0);T!==void 0&&f.setExpandedState(T);var E=f.getElement("child");return i.key&&this.root.addChildrenMap(i.key,E),E};const m6={setBindingTarget(i){for(var t=this.childrenMap.pages.children,s=0,f=t.length;s<f;s++)t[s].setBindingTarget(i);return this}},x6={getMaxInputRowTitleWidth(){for(var i=0,t=this.childrenMap.pages.children,s=0,f=t.length;s<f;s++)i=Math.max(i,t[s].getMaxInputRowTitleWidth());return i+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,s=0,f=t.length;s<f;s++)t[s].setInputRowTitleWidth(i);return this}};class Tx extends jh{constructor(t,s){super(t,s),this.type="rexTweaker.TabPages"}}Object.assign(Tx.prototype,m6,x6);const Xa=Phaser.Utils.Objects.GetValue;var y6=function(i,t,s){var f=new Tx(i,s);i.add.existing(f);for(var T=Xa(s,"tab"),E={root:Xa(s,"root"),styles:Xa(s,"tweaker")},n=Xa(t,"pages")||[],C=0,e=n.length;C<e;C++){var u=n[C];f.addPage({key:u.title,tab:ke(i,T).setActiveState(!1).resetDisplayContent({text:u.title}),page:yx(i,E)})}return f.on("tab.focus",function(x,d){x.setActiveState(!0)}).on("tab.blur",function(x,d){x.setActiveState(!1)}),f};const bp=Phaser.Utils.Objects.GetValue;var C6=function(i){var t=this.scene,s=bp(this.styles,"tab")||{};s.tweaker=this.styles,s.root=this.root;var f=y6(t,i,s);delete s.tweaker,delete s.root,this.add(f,{expand:!0});for(var T=bp(i,"pages")||[],E=[],n=0,C=0,e=T.length;C<e;C++){var u=f.getPage(C),x=T[C].show;x&&(n=C);var d=T[C].key;d&&this.root.addChildrenMap(d,u),E.push(u)}return f.swapPage(n,0),E};const Dp=Phaser.Utils.Objects.GetValue,T6={setupBinding(){var i=this.childrenMap.inputField;return i.on("valuechange",function(t){!this.autoUpdateEnable||this.setTargetValue(t)},this),this},setAutoUpdateEnable(i){return i===void 0&&(i=!0),this.autoUpdateEnable=i,this},setBindingTarget(i,t){return this.bindingTarget=i,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue(),this},setBindingTargetKey(i){return this.bindTargetKey=i,this},setValueCallbacks(i){return this.onGetValue=Dp(i,"onGetValue"),this.onSetValue=Dp(i,"onSetValue"),this},getTargetValue(){if(!!this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(i){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=i,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,i),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var i=this.childrenMap.inputField;return i.syncValue&&i.syncValue(this.getTargetValue()),this}},S6={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(!!this.bindingTarget){var i=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==i&&t.syncValue(i)}}},E6={getMinTitleWidth(){var i=this.childrenMap.title;if(!i||i.orientation!==0)return 0;var t=i.rexSizer.padding,s=this.getChildWidth(this.childrenMap.title)+t.left+t.right;return s+this.getInnerPadding("left")},setMinTitleWidth(i){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var s=t.rexSizer.padding;return i-=s.left+s.right,t.minWidth=i,this}},Fl=Phaser.Utils.Objects.GetValue;class kd extends St{constructor(t,s){super(t,s),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var f=s.inputTitle,T=s.inputField,E=s.background,u=Fl(s,"proportion.title",0),n=Fl(s,"space.title",0),C;this.orientation===0?C={right:n}:C={bottom:n},this.add(f,{proportion:u,expand:!0,padding:C});var e=T.defaultProportion;e===void 0&&(e=s.parentOrientation===1?1:0);var u=Fl(s,"proportion.inputField",e);this.add(T,{proportion:u,expand:!0}),E&&this.addBackground(E),this.addChildrenMap("title",f),this.addChildrenMap("inputField",T),this.addChildrenMap("background",E),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(kd.prototype,T6,S6,E6);var Sx=function(i,t,s){var f=new xx(i,s);return i.add.existing(f),f},P6=function(i){i===void 0&&(i=St);class t extends i{get bindingTarget(){return this.getParentSizer().bindingTarget}get bindingKey(){return this.getParentSizer().bindTargetKey}get value(){return this._value}validate(f){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(f,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(f){return this.textFormatCallback?f=this.textFormatCallback(f):f=f.toString(),f}set value(f){if(this._value!==f&&(this.validate(f)||(f=this._value),this.displayValueCallback&&this.displayValueCallback(this,f),this._value!==f)){var T=this._value;this._value=f,this.syncValueFlag||this.emit("valuechange",f,T,this.bindingTarget,this.bindingKey)}}getValue(){return this.value}setValue(f){return this.value=f,this}syncValue(f){return this.syncValueFlag=!0,this.value=f,this.syncValueFlag=!1,this}setup(f,T){return T===void 0&&(T=!1),(T||f.hasOwnProperty("format"))&&this.setTextFormatCallback(f.format),(T||f.hasOwnProperty("onValidate"))&&this.setValidateCallback(f.onValidate),this.setupCallback&&this.setupCallback(this,f,T),this}setSetupCallback(f){return this.setupCallback=f,this}setDisplayValueCallback(f){return this.displayValueCallback=f,this}setTextFormatCallback(f){return this.textFormatCallback=f,this}setValidateCallback(f){return this.validateCallback=f,this}}return t},M6=function(i,t,s){for(var f,T=this.inputHandlers,E=0,n=T.length;E<n;E++){var C=T[E];if(C.accept(t)){var e=P6(C.baseClass);f=new e(i),i.add.existing(f),f.setSetupCallback(C.setup).setDisplayValueCallback(C.displayValue),C.build(f,s);break}}return f&&f.setup(t,!0),f};const Bp=Phaser.Utils.Objects.GetValue;var w6=function(i,t,s){var f=M6.call(this,i,t,s);if(!f)return null;var T=Bp(s,"title")||{},E=Sx(i,t,T),n=Bp(s,"background")||{},C=Ue(i,n),e=new kd(i,{...s,...t,inputTitle:E,inputField:f,background:C});return i.add.existing(e),e.setTitle(t),e.setValueCallbacks(t),e},R6=function(i,t,s){arguments.length===1?(s=i,i=s.bindingTarget,t=s.bindingKey):(s===void 0&&(s={}),s.bindingTarget=i,s.bindingKey=t),s.title||(s.title=t),s.bindingTarget&&s.bindingKey?s.value=s.bindingTarget[s.bindingKey]:s.value=void 0;var f=this.styles.inputRow||{};f.parentOrientation=this.styles.orientation;var T=w6.call(this,this.scene,s,f);if(!T)return console.error(`[Tweaker] Can't add Input
    title: ${s.title}
    view: ${s.view}
`),this;var E=T.childrenMap.inputField,n;return this.orientation===1?n=0:(n=this.itemWidth>0?0:1,T.setMinWidth(this.itemWidth)),this.add(T,{proportion:n,expand:!0}),s.onValueChange&&E.on("valuechange",s.onValueChange),T.setAutoUpdateEnable(s.autoUpdate),T.setBindingTarget(i,t),s.monitor&&T.startMonitorTarget(),s.key&&this.root.addChildrenMap(s.key,T),this},A6=function(i,t){var s=new ls(i,t);return i.add.existing(s),s};const L6=Phaser.Utils.Objects.GetValue;var O6=function(i,t){var s=L6(t,"wrap",!1),f=s?os:ie,T=new f(i,t);return i.add.existing(T),T};const Wa=Phaser.Utils.Objects.GetValue;var F6=function(i,t,s){for(var f=Wa(s,"title")||{},T=Sx(i,t,f),E=t.buttons,n=Wa(s,"button")||{},C=[],e=0,u=E.length;e<u;e++){var x=ke(i,n);C.push(x);var d=E[e];x.resetDisplayContent(d.label),x.callback=d.callback}var o=O6(i,{buttons:C,expand:!0,wrap:Wa(t,"wrap",!1)});o.defaultProportion=1;var a=Wa(s,"background")||{},r=A6(i,a),l=new kd(i,{...s,inputTitle:T,inputField:o,background:r});return i.add.existing(l),l.setTitle(t),o.on("button.click",function(v){v.callback(l.bindingTarget)}),l};const b6=Phaser.Utils.Objects.GetValue;var D6=function(i){var t=this.scene;i===void 0&&(i={});var s=i.bindingTarget;delete i.bindingTarget;var f=b6(this.styles,"inputRow")||{},T=F6(t,i,f);return this.add(T,{expand:!0}),s&&T.setBindingTarget(s),i.key&&this.root.addChildrenMap(i.key,T),this},B6=function(i){return i===void 0&&(i={}),i.buttons=[{label:i.label,callback:i.callback}],delete i.label,delete i.callback,this.addButtons(i),this};const I6=Phaser.Utils.Objects.GetValue;var G6=function(i){var t=this.scene,s=I6(this.styles,"separator"),f=Ud(t,i,s);return this.add(f,{expand:!0}),this},N6=function(i){for(var t=this.sizerChildren,s=0,f=t.length;s<f;s++){var T=t[s];!T.setBindingTarget||T.setBindingTarget(i)}return this},V6=function(){for(var i=0,t=this.sizerChildren,s=0,f=t.length;s<f;s++){var T=t[s];T.rexSizer.hidden||(T.getMinTitleWidth?i=Math.max(i,T.getMinTitleWidth()):T.getMaxInputRowTitleWidth&&(i=Math.max(i,T.getMaxInputRowTitleWidth())))}return i+this.getInnerPadding("left")},z6=function(i){i-=this.getInnerPadding("left");for(var t=this.sizerChildren,s=0,f=t.length;s<f;s++){var T=t[s];T.rexSizer.hidden||(T.setMinTitleWidth?T.setMinTitleWidth(i):T.setInputRowTitleWidth&&T.setInputRowTitleWidth(i))}return this},X6={registerInputHandler:o6,removeInputHandler:d6,addFolder:g6,addTab:C6,addInput:R6,addButtons:D6,addButton:B6,addSeparator:G6,setBindingTarget:N6,getMaxInputRowTitleWidth:V6,setInputRowTitleWidth:z6};const Ua=Phaser.Utils.Objects.GetValue;class Yd extends St{constructor(t,s){if(s===void 0&&(s={}),s.orientation===void 0&&(s.orientation=1),super(t,s),this.type="rexTweakerShell",this.root=s.root||this,this.styles=Ua(s,"styles")||{},this.styles.orientation=this.orientation,this.itemWidth=Ua(this.styles,"itemWidth",0),this.root===this&&this.orientation===1){var f=Ua(s,"inputRow.alignTitle");if(f===void 0){var T=Ua(this.styles,"inputRow.proportion.title");f=!T}else f&&et(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitle=f}else this.alignInputRowTitle=!1,this.inputHandlers=this.root.inputHandlers;var E=Ud(t,void 0,s.background);E&&this.addBackground(E)}preLayout(){super.preLayout(),this.alignInputRowTitle&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}}Object.assign(Yd.prototype,X6);var W6=function(i,t){t===void 0&&(t=!0);var s=i.getElement("inputText");s.setReadOnly(t)};const U6={name:"TextInput",accept(i){return i.hasOwnProperty("view")?i.view==="string":typeof i.value=="string"},build(i,t){var s=i.scene;i.type="rexTweaker.TextInput";var f=t.inputText,T=Xn(s,f);i.add(T,{proportion:1,expand:!0,key:"inputText"}),T.on("close",function(){i.setValue(T.value)})},setup(i,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&W6(i,!!t.inputTextReadOnly)},displayValue(i,t){var s=i.getElement("inputText");s.setText(i.getFotmatText(t))}};var k6=function(i,t,s){s===void 0&&(s=!0),s?t=t?Oe(t):{}:t||(t={});var f=new qh(i,t);return i.add.existing(f),f},Y6=function(i,t){t===void 0&&(t=!0);var s=i.getElement("inputText");s.setReadOnly(t)};const H6={name:"TextAreaInput",accept(i){return i.hasOwnProperty("view")?i.view==="textarea":!1},build(i,t){var s=i.scene;this.type="rexTweaker.TextAreaInput";var f=t.inputTextArea;f===void 0&&(f={}),f.hasOwnProperty("text")||(f.text=t.inputText),f.hasOwnProperty("slider")||(f.slider=t.slider);var T=k6(s,f);i.add(T,{proportion:1,expand:!0,key:"inputText"}),T.on("close",function(){i.setValue(T.value)})},setup(i,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&Y6(i,!!t.inputTextReadOnly)},displayValue(i,t){var s=i.getElement("inputText");s.setText(i.getFotmatText(t))}};var $6=function(i,t){t===void 0&&(t=!0);var s=i.getElement("inputText");s.setReadOnly(t)};const K6={name:"NumberInput",accept(i){return i.hasOwnProperty("view")?i.view==="number":typeof i.value=="number"},build(i,t){var s=i.scene;i.type="rexTweaker.NumberInput";var f=t.inputNumber||t.inputText,T=Xn(s,f).setNumberInput();i.add(T,{proportion:1,expand:!0,key:"inputText"}),T.on("close",function(){i.setValue(T.value)})},setup(i,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&$6(i,!!t.inputTextReadOnly)},displayValue(i,t){var s=i.getElement("inputText");s.setText(i.getFotmatText(t))}};var Z6=function(i,t){var s=new Fr(i,t);return i.add.existing(s),s};const bl=Phaser.Utils.Objects.GetValue,J6=Phaser.Math.Linear,Q6=Phaser.Math.Snap.Floor;var j6=function(i,t,s,f){i.minValue=t,i.maxValue=s,i.step=f;var T=i.getElement("slider");T.setGap(f,t,s)},q6=function(i,t){t===void 0&&(t=!0);var s=i.getElement("inputText");s.setReadOnly(t)};const _6={name:"RangeInput",accept(i){return i.hasOwnProperty("view")?i.view==="range":typeof i.value=="number"&&i.hasOwnProperty("min")&&i.hasOwnProperty("max")},build(i,t){var s=i.scene;i.type="rexTweaker.RangeInput";var f=t.slider,T=i.orientation===0?"track.height":"track.width",E=bl(f,T),n=Z6(s,f),x=t.parentOrientation===1?2:0,d=bl(t,"proportion.range.slider",x),C=E===void 0;i.add(n,{proportion:d,expand:C,key:"slider"});var e=t.inputNumber||t.inputText,u=Xn(s,e).setNumberInput(),x=t.parentOrientation===1?1:0,d=bl(t,"proportion.range.inputText",x);i.add(u,{proportion:d,expand:!0,key:"inputText"}),u.on("close",function(){i.setValue(u.value)}),n.on("valuechange",function(){var o=J6(i.minValue,i.maxValue,n.value);i.step&&(o=Q6(o,i.step,i.minValue)),i.setValue(o)})},setup(i,t,s){(s||t.hasOwnProperty("max"))&&j6(i,t.min,t.max,t.step),(s||t.hasOwnProperty("inputTextReadOnly"))&&q6(i,!!t.inputTextReadOnly)},displayValue(i,t){var s=i.getElement("slider");s.setValue(t,i.minValue,i.maxValue);var f=i.getElement("inputText");f.setText("").setText(i.getFotmatText(t))}};var t7=function(i,t,s){s===void 0&&(s=!0),s?t=t?Oe(t):{}:t||(t={});var f=new _h(i,t);return i.add.existing(f),f};const e7={name:"ColorInput",accept(i){return i.hasOwnProperty("view")?i.view==="color":!1},build(i,t){var s=i.scene;i.type="rexTweaker.ColorInput";var f=t.colorInput;f===void 0&&(f={}),f.hasOwnProperty("inputText")||(f.inputText=t.inputText);var T=t7(s,f);i.add(T,{proportion:1,expand:!0,key:"colorInput"}),T.on("valuechange",function(E){i.setValue(E)})},displayValue(i,t){var s=i.getElement("colorInput");s.setValue(t)}};var i7=function(i,t){var s=new Pu(i,t);return i.add.existing(s),s};const s7={name:"CheckboxInput",accept(i){return i.hasOwnProperty("view")?i.view==="boolean":typeof i.value=="boolean"},build(i,t){var s=i.scene;i.type="rexTweaker.CheckboxInput";var f=t.checkbox,T=i7(s,f),E=f.size;E!==void 0&&T.setSize(E,E);var n=E!==void 0?0:1;i.add(T,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),T.on("valuechange",function(C){i.setValue(C)})},displayValue(i,t){var s=i.getElement("checkbox");s.setValue(t)}};var r7=function(i,t){var s=new Mu(i,t);return i.add.existing(s),s};const n7={name:"ToggleSwitchInput",accept(i){return i.hasOwnProperty("view")?i.view==="toggleSwitch":!1},build(i,t){var s=i.scene;i.type="rexTweaker.ToggleSwitchInput";var f=t.toggleSwitch,T=r7(s,f),E=f.size;E!==void 0&&T.setSize(E,E);var n=E!==void 0?0:1;i.addSpace().add(T,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),T.on("valuechange",function(C){i.setValue(C)})},displayValue(i,t){var s=i.getElement("toggleSwitch");s.setValue(t)}};var a7=function(i,t){t=Um(i,t);var s=new Vn(i,t);return i.add.existing(s),s},Ex=function(i,t){for(var s=0,f=i.length;s<f;s++){var T=i[s];if(T.value===t)return s}},h7=function(i,t){var s=Ex(i,t);if(s!=null)return i[s]},o7=function(i,t){var s=i.getElement("list");s.setOptions(t)};const l7={name:"ListInput",accept(i){return i.hasOwnProperty("view")?i.view==="list":i.hasOwnProperty("options")},build(i,t){var s=i.scene;i.type="rexTweaker.ListInput";var f=a7(s,t.list);i.add(f,{proportion:1,expand:!0,key:"list"}),f.on("button.click",function(T,E,n,C,e,u){i.setValue(n.value)})},setup(i,t,s){(s||t.hasOwnProperty("options"))&&o7(i,t.options)},displayValue(i,t){var s=i.getElement("list"),f=h7(s.options,t);s.resetDisplayContent(f).setMinSize(s.width,s.height).layout().setMinSize(0,0)}};var u7=function(i,t){var s=new ie(i,t);return i.add.existing(s),s},d7=function(i,t){for(var s=0,f=i.length;s<f;s++){var T=i[s];!T||T.setActiveState(s===t)}};const f7=Phaser.Utils.Objects.GetValue;var v7=function(i,t){var s=i.getElement("list");s.options=t;var f=i.scene,T=s.buttonConfig;s.clearButtons(!0);for(var E=0,n=t.length;E<n;E++){var C=t[E],e=ke(f,T).setActiveState(!1).resetDisplayContent({text:C.text});s.addButton(e)}};const c7={name:"ButtonsInput",accept(i){return i.hasOwnProperty("view")?i.view==="buttons":!1},build(i,t){var s=i.scene;i.type="rexTweaker.ButtonsInput";var f=t.button?Oe(t.button):{},T=f7(f,"expand",!0);T&&(f.align="center"),delete f.expand;var E=u7(s,{expand:T});E.buttonConfig=f,i.add(E,{proportion:1,expand:!0,key:"list"}),E.on("button.click",function(n,C,e,u){var x=E.options[C];!x||(i._selectedIndex=C,i.setValue(x.value),i._selectedIndex=void 0)})},setup(i,t,s){(s||t.hasOwnProperty("options"))&&v7(i,t.options)},displayValue(i,t){var s=i.getElement("list"),f=i._selectedIndex;f===void 0&&(f=Ex(s.options,t)),d7(s.getElement("buttons"),f)}};var p7=function(){this.registerInputHandler(U6).registerInputHandler(H6).registerInputHandler(K6).registerInputHandler(_6).registerInputHandler(e7).registerInputHandler(s7).registerInputHandler(n7).registerInputHandler(l7).registerInputHandler(c7)};class Px extends Yd{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("style")&&(s.styles=s.style),s.styles===void 0&&(s.styles={}),s.background=s.styles.background||{},s.space=s.styles.space||{},super(t,s),this.type="rexTweaker",this.inputHandlers=[],p7.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}st.register("tweaker",function(i){var t=new Px(this.scene,i);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Tweaker",Px);st.register("click",function(i,t){return new Ni(i,t)});et(window,"RexPlugins.UI.Click",Ni);st.register("clickOutside",function(i,t){return new sd(i,t)});et(window,"RexPlugins.UI.ClickOutside",sd);st.register("inTouching",function(i,t){return new Er(i,t)});et(window,"RexPlugins.UI.InTouching",Er);st.register("tap",function(i,t){return De(i)||(t=i,i=this.scene),new Mh(i,t)});et(window,"RexPlugins.UI.Tap",Mh);st.register("press",function(i,t){return De(i)||(t=i,i=this.scene),new wh(i,t)});et(window,"RexPlugins.UI.Press",wh);st.register("swipe",function(i,t){return De(i)||(t=i,i=this.scene),new Fn(i,t)});et(window,"RexPlugins.UI.Swipe",Fn);st.register("pan",function(i,t){return De(i)||(t=i,i=this.scene),new G0(i,t)});et(window,"RexPlugins.UI.Pan",G0);st.register("drag",function(i,t){return new Xd(i,t)});et(window,"RexPlugins.UI.Drag",Xd);st.register("pinch",function(i){return new N0(this.scene,i)});et(window,"RexPlugins.UI.Pinch",N0);st.register("rotate",function(i){return new nd(this.scene,i)});et(window,"RexPlugins.UI.Rotate",nd);const g7=Phaser.Utils.Objects.IsPlainObject,Ip=Phaser.Utils.Objects.GetValue;var Gp=function(i,t,s){var f;if(i===void 0)i=s.texture.key,t=s.frame.name;else if(g7(i)){var T=i;i=Ip(T,"key",s.texture.key),t=Ip(T,"frame",s.frame.name)}else typeof i=="string"||(f=i);return f===void 0&&(f=function(E){E.setTexture(i,t)}),f};const on=Phaser.Utils.Objects.GetValue,m7=Phaser.Utils.Objects.GetAdvancedValue,x7=Phaser.Math.Linear;class Mx extends Gs{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(m7(t,"duration",500)),this.setEase(on(t,"ease","Sine")),this.setOrientation(on(t,"orientation",0)),this.setFrontFace(on(t,"front",void 0)),this.setBackFace(on(t,"back",void 0)),this.setFace(on(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=y7[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=C7[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,s){return this.frontFaceCallback=Gp(t,s,this.parent),this}setBackFace(t,s){return this.backFaceCallback=Gp(t,s,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateGameObject(t,s){s.justRestart&&this.toggleFace();var f=s.t;s.isOddIteration&&(f=1-f),f=this.easeFn(f);var T=x7(this.scale0,0,f);this.orientation===0?t.scaleX=T:t.scaleY=T}}const y7={x:0,horizontal:0,y:1,vertical:1},C7={front:0,back:1};st.register("flip",function(i,t){return new Mx(i,t)});et(window,"RexPlugins.UI.Flip",Mx);st.register("shake",function(i,t){return new ju(i,t)});et(window,"RexPlugins.UI.Shake",ju);st.register("touchEventStop",function(i,t){return new Sh(i,t)});et(window,"RexPlugins.UI.TouchEventStop",Sh);st.register("perspective",function(i,t){return new sx(i,t)});et(window,"RexPlugins.UI.Perspective",sx);const wx=Phaser.Math.RotateAround;var Dl=function(i,t,s){var f=i.width/2,T=i.height/2;return de.x=t-f,de.y=s-T,wx(de,0,0,i.rotation),de.x*=i.scaleX,de.y*=i.scaleY,de.x+=i.x,de.y+=i.y,de},T7=function(i,t,s){var f=i.width/2,T=i.height/2;return de.x=t-i.x,de.y=s-i.y,de.x/=i.scaleX,de.y/=i.scaleY,wx(de,0,0,-i.rotation),de.x+=f,de.y+=T,de},de={x:0,y:0};class S7{constructor(t,s){this.parent=t,this.vertex=s,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,s){var f=this.parent,T=f.height,E=f.frame.cutWidth/T/2,n=f.frame.cutHeight/T/2,C=t/T-E,e=s/T-n,u=this.vertex;return u.x=C,u.y=-e,f.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,s){return this._localXOrigin=t,this._localYOrigin=s,this._localX=t,this._localY=s,this}setLocalXY(t,s,f){return this._localX===t&&this._localY===s?this:(this._localX=t,this._localY=s,f||this.updateVertexPosition(t,s),this)}setWorldXY(t,s){if(this._worldX===t&&this._worldY===s)return this;var f=T7(this.parent,t,s);return this.setLocalXY(f.x,f.y),this}setPosition(t,s){return this.setWorldXY(t,s),this}getWorldXY(){return Dl(this.parent,this._localX,this._localY)}get x(){var t=Dl(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=Dl(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const E7=Phaser.Geom.Mesh.Vertex,P7=Phaser.Geom.Mesh.Face;var M7=function(i){for(var t=i.isNinePointMode,s=t?9:4,f=i.vertices,T=i.faces,E=i.controlPoints,n=0;n<s;n++){var C=new E7;f.push(C),E.push(new S7(i,C))}var e;t?e=A7:i.fourPointsModeRTL?e=R7:e=w7;for(var n=0,u=e.length;n<u;n+=3){var x=f[e[n+0]],d=f[e[n+1]],o=f[e[n+2]];T.push(new P7(x,d,o))}t?(i.topLeft=E[0],i.topCenter=E[1],i.topRight=E[2],i.centerLeft=E[3],i.center=E[4],i.centerRight=E[5],i.bottomLeft=E[6],i.bottomCenter=E[7],i.bottomRight=E[8]):(i.topLeft=E[0],i.topRight=E[1],i.bottomLeft=E[2],i.bottomRight=E[3])};const w7=[0,2,3,0,3,1],R7=[1,3,2,1,2,0],A7=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var L7=function(i){var t,s=0,f=i.height,T=0,E=i.width;if(i.isNinePointMode){var n=(T+E)/2,C=(s+f)/2;t=[T,s,n,s,E,s,T,C,n,C,E,C,T,f,n,f,E,f]}else t=[T,s,E,s,T,f,E,f];return t};const O7=Phaser.Utils.Objects.IsPlainObject,vr=Phaser.Utils.Objects.GetValue;class F7 extends Jm{constructor(t,s,f,T,E,n){O7(s)&&(n=s,s=vr(n,"x",0),f=vr(n,"y",0),T=vr(n,"key",null),E=vr(n,"frame",null)),super(t,s,f,T,E),this.type="rexQuadImage",this.isNinePointMode=vr(n,"ninePointMode",!1),this.fourPointsModeRTL=vr(n,"rtl",!1),this.controlPoints=[],M7(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var s=0,f=this.controlPoints.length;s<f;s++)this.controlPoints[s].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=L7(this),s=this.width,f=this.height,T=this.frame.cutWidth/f/2,E=this.frame.cutHeight/f/2,n=this.frame.u0,C=this.frame.u1,e=this.frame.v0,u=this.frame.v1,x=C-n,d=u-e,o=this.controlPoints,a=0,r=t.length;a<r;a+=2){var l=t[a+0],v=t[a+1],h=a/2,c=l/f-T,p=v/f-E,g=n+x*(l/s),m=e+d*(v/f);this.vertices[h].set(c,-p,0).setUVs(g,m),o[h].resetLocalXY(l,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}}Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Np=function(i,t,s){t===void 0&&(t=0),s===void 0&&(s=0);for(var f=i.width,T=i.height,E=f*.5,n=T*.5,C=Math.tan(t)*n,e=Math.tan(s)*E,u=i.controlPoints,x=0,d=u.length;x<d;x++){var o=u[x],a=o.localXOrigin,r=o.localYOrigin;o.localX=a+(r>n?C:-C),o.localY=r+(a>E?e:-e)}};const b7=Phaser.Utils.Objects.IsPlainObject,ka=Phaser.Utils.Objects.GetValue,Vp=Phaser.Math.DegToRad,zp=Phaser.Math.RadToDeg;class D7 extends F7{constructor(t,s,f,T,E){if(b7(s)){var n=s;s=ka(n,"x",0),f=ka(n,"y",0),T=ka(n,"key",null),E=ka(n,"frame",null)}super(t,s,f,T,E),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,Np(this,this._skewX,this._skewY)}get skewXDeg(){return zp(this._skewX)}set skewXDeg(t){this.skewX=Vp(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,Np(this,this._skewX,this._skewY)}get skewYDeg(){return zp(this._skewY)}set skewYDeg(t){this.skewY=Vp(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,s){return s===void 0&&(s=t),this.skewX=t,this.skewY=s,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,s){return s===void 0&&(s=t),this.skewXDeg=t,this.skewYDeg=s,this}}const B7=Phaser.Utils.Objects.IsPlainObject,Ya=Phaser.Utils.Objects.GetValue;class I7 extends D7{constructor(t,s,f,T,E){if(B7(s)){var n=s;s=Ya(n,"x",0),f=Ya(n,"y",0),T=Ya(n,"width",32),E=Ya(n,"height",32)}var C=_m(t,T,E);super(t,s,f,C,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class Rx extends ix(I7){get skewState(){return this.isRunning}}st.register("skew",function(i,t){return new Rx(i,t)});et(window,"RexPlugins.UI.Skew",Rx);st.register("anchor",function(i,t){return new Zu(i,t)});et(window,"RexPlugins.UI.Anchor",Zu);st.register("textTyping",function(i,t){return new bd(i,t)});et(window,"RexPlugins.UI.TextTyping",bd);st.register("textPage",function(i,t){return new Jh(i,t)});et(window,"RexPlugins.UI.TextPage",Jh);var gr=void 0,G7=function(i){i!==gr&&(gr!==void 0&&gr.close(),gr=i)},N7=function(i){i===gr&&(gr=void 0)};const Li=Phaser.Utils.Objects.GetValue,V7=Phaser.Utils.Objects.Clone;var z7=function(i,t){t===void 0&&(t={}),t=V7(t);var s=i.scene,f=i.style,T=Li(t,"backgroundColor",f.backgroundColor);T===null&&(T="transparent"),t.text=Li(t,"text",i.text),t.fontFamily=Li(t,"fontFamily",f.fontFamily),t.fontSize=Li(t,"fontSize",f.fontSize),t.color=Li(t,"color",f.color),t.backgroundColor=T,t.direction=Li(t,"rtl",f.rtl)?"rtl":"ltr",t.align=Li(t,"align",X7(f)),t.direction==="rtl"&&gd(i)&&(t.align="right");var E=new bh(s,i.x,i.y,Li(t,"width",i.width),Li(t,"height",i.height),t);E.setScale(i.scaleX,i.scaleY).setOrigin(i.originX,i.originY).setScrollFactor(i.scrollFactorX,i.scrollFactorY);var n=i.parentContainer;return n?n.add(E):s.add.existing(E),E},X7=function(i){return i.hasOwnProperty("align")?i.align:i.hasOwnProperty("halign")?i.halign:"left"},W7=function(i,t,s){return i.time.delayedCall(0,t,[],s)};const cr=Phaser.Utils.Objects.GetValue,U7=Phaser.Utils.Objects.Merge;var k7=function(i,t){i===void 0&&(i={}),i=U7(i,this.openConfig),G7(this),Ii(i)&&(t=i,i=void 0);var s=cr(i,"inputType",void 0);s===void 0&&(s=cr(i,"type","text")),t===void 0&&(t=cr(i,"onClose",void 0));var f=cr(i,"onOpen",void 0),T=cr(i,"onTextChanged",void 0);return this.inputText=z7(this.parent,i).on("textchange",function(E){var n=E.text;T?T(this.parent,n):this.parent.text=n},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,cr(i,"enterClose",s!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=W7(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),f&&f(this.parent),this.emit("open",this.parent)},this),this},Y7=function(){return N7(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},H7={open:k7,close:Y7};const $7=Phaser.Utils.Objects.GetValue;class to extends Yt{constructor(t,s){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(s);var f=$7(s,"clickEnable",!0);f&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(to.prototype,H7);var K7=function(i,t,s){return i._edit||(i._edit=new to(i,{clickEnable:!1})),i._edit.open(t,s),i._edit};st.register("textEdit",function(i,t){return new to(i,t)});et(window,"RexPlugins.UI.TextEdit",to);const Bl=65535;var sh=function(i,t,s){if(t==null)return i;if(t===0)return Il(i,0,s),i;var f=i.text.length;if(f===0)return Il(i,t,s),i;var T=Math.floor(t*1.5/f);s!==void 0&&T>s&&(T=Math.floor(s));for(var E={},n=Wp(i,T,t,s,E),C=0;C<=Bl&&n!==0;C++){if(T+=n,T<0){T=0;break}n=Wp(i,T,t,s,E)}return C===Bl&&console.warn(`FontSizeFit: Test count exceeds ${Bl}`),i.setFontSize(T),Il(i,t,s),i},Xp=function(i,t,s){return s[t]===void 0&&(i.setFontSize(t),s[t]={width:i.width,height:i.height}),s[t]},Wp=function(i,t,s,f,T){var E=Xp(i,t,T),n=Xp(i,t+1,T),C;if(f!==void 0)if(E.height<=f&&n.height>f)C=0;else{if(E.height>f)return-1;C=Math.floor(f-E.height)}var e;if(E.width<=s&&n.width>s)return 0;if(E.width>s)return-1;var e=Math.floor(s-E.width);return C===void 0?e:Math.min(e,C)},Il=function(i,t,s){var f=i.style;!f||(f.fixedWidth=t,f.parent.width=t,s!==void 0&&(f.fixedHeight=s,f.parent.height=s),f.update(!1))};const Gl=Phaser.Utils.Objects.GetValue;var Z7=function(i,t){typeof t=="number"&&(t={minWidth:t});var s=Gl(t,"minWidth",0),f=Gl(t,"minHeight",0),T=Gl(t,"fitHeight",!1);return i._minWidth=s,i._minHeight=f,T?(i.runWidthWrap=function(E){return i.setFixedSize&&i.setFixedSize(0,0),i.setFontSize(1),i},i.resize=function(E,n){return sh(i,E,n),i}):(i.runWidthWrap=function(E){return i.setFixedSize&&i.setFixedSize(0,0),sh(i,E,void 0),i},i.resize=function(E,n){return i.width===E&&i.height===n||i.setFixedSize(E,n),i}),i};class Ax extends Phaser.Plugins.ScenePlugin{constructor(t,s){super(t,s),this.add=new st(t)}start(){var t=this.scene.events;t.on("destroy",this.destroy,this)}isInTouching(t,s,f,T){return t.visible?Eh(t,s,f,T):!1}get viewport(){return Rr(this.scene,this.scene.cameras.main,!0)}}var J7={getParentSizer:be,getTopmostSizer:x0,removeFromParent:Fs,hide:es,show:ts,isShown:qu,confirmAction:Om,edit:K7,wrapExpandText:xm,fontSizeExpandText:Z7,fontSizeResize:sh,setFontSizeToFitWidth:sh,waitEvent:ch,waitComplete:oe,delayPromise:Q0,setChildrenInteractive:ad,fadeIn:yh,fadeOutDestroy:Ch,easeMoveTo:w0,easeMoveFrom:R0,modal:ed,modalPromise:TO,modalClose:D0,requestDrag:px,openFileChooser:q0};Object.assign(Ax.prototype,J7);const Q7={type:Oi.AUTO,parent:"game",backgroundColor:"#33A5E7",scale:{width:800,height:600,mode:Oi.Scale.RESIZE,autoCenter:Oi.Scale.CENTER_BOTH},plugins:{global:[{key:"rexBuffData",plugin:Ix,start:!0},{key:"rexuiplugin",plugin:Ax,mapping:"rexUi"}]}};class j7{constructor(){this.growTimeValues=[],this.harvestValues=[],this.textures="dirtMound",this.cost=0,this.consumption=[],this.nourishment=[],this.regen=-1}}class Lx{constructor(){this.growTimeValues=[1,1,1,1e3,1e3,1e3,-1],this.harvestValues=[null,null,null,null,null,null,60],this.textures="berryVine",this.cost=10,this.consumption=[{water:"-1",earth:"-10"},{water:"-1",earth:"-10"},{water:"-1",earth:"-1"},{water:"-1",earth:"-1"},{water:"-1",earth:"-1",xp:"+1"},{water:"-1",earth:"-1"},{water:"-1",earth:"-1"}],this.nourishment=[0,0,100],this.regen=3}}class Ox{constructor(){this.growTimeValues=[10,10,10,10,10,10,-1],this.harvestValues=[null,null,null,null,null,null,6e3],this.textures="wheat",this.cost=1,this.consumption=[{water:"-1",earth:"-2"},{water:"-1",earth:"-2"},{water:"-1",earth:"-1"},{water:"-1",earth:"-1"},{water:"-1",earth:"-1",xp:"+1"},{water:"-1",earth:"-1"},{water:"-1",earth:"-1"}],this.nourishment=[0,0,100],this.regen=-1}}const yr={Wheat:new Ox,BerryBush:new Lx,Dirt:new j7};class q7 extends Phaser.GameObjects.Group{constructor(t,s={}){super(t,{classType:Phaser.GameObjects.Sprite,maxSize:-1})}spawn(t=0,s=0,f){var T=this.get(t,s,f);return T.setTexture(f,0),T.setVisible(!0),T.setActive(!0),T}despawn(t){this.killAndHide(t)}}new Ox,new Lx;class Hd{constructor(){this.name="base, IF THIS IS SEEN REPORT A BUG",this.currentTime=0,this.timeToComplete=100,this.repeatable=!1,this.isFinished=function(){return this.currentTime>=this.timeToComplete},this.getPercentage=function(){return Phaser.Math.Percent(this.currentTime,0,this.timeToComplete)},this.anotherOne=function(){return this.currentTime=0,this}}}class _7 extends Hd{constructor(){super(...arguments),this.name="harvest",this.currentTime=0,this.timeToComplete=10}}class tN extends Hd{constructor(){super(...arguments),this.name="Unlocking Plot",this.currentTime=0,this.timeToComplete=100,this.tickFunction=function(t){t.inc("stick",1)}}}const eN={BaseAction:new Hd,HarvestAction:new _7,UnlockAction:new tN};class iN extends Oi.GameObjects.Container{constructor(t,s,f,T,E,n){super(s,f,T),this.name=t,this.scene=s,this.image=s.add.image(f,T,"emptyPlot"),this.image.setDisplayOrigin(f,T),this.crop=yr.Dirt,this.cropImage=null,this.age=0,this.cropStage=0,this.locked=n,this.minerals=new Map,this.minerals.set("water",50),this.minerals.set("earth",100),this.minerals.set("fire",0),this.minerals.set("air",0),this.minerals.set("xp",0),this.waterText=s.add.text(f-10,T-10,`W:${this.minerals.get("water")}`,{fontFamily:"Arial",fontSize:"7px",color:"#fff"}),this.earthText=s.add.text(f-10,T-2,`E:${this.minerals.get("earth")}`,{fontFamily:"Arial",fontSize:"7px",color:"#fff"}),this.fireText=s.add.text(f-10,T+6,`F:${this.minerals.get("fire")}`,{fontFamily:"Arial",fontSize:"7px",color:"#fff"}),this.xpText=s.add.text(f-10,T+14,`X:${this.minerals.get("xp")}`,{fontFamily:"Arial",fontSize:"7px",color:"#fff"}),this.locked>0&&(this.lockedImage=s.add.image(f+30,T+30,"lock"),this.lockedImage.setDepth(1)),this.add([this.image]),this.image.setInteractive(),this.plantPool=new q7(this.scene),this.image.on("pointerdown",()=>{this.interact(s.getTool())},this),s.add.existing(this)}attemptUnlock(){var t;this.scene.subCurrency("butt",this.locked)&&((t=this.lockedImage)==null||t.destroy(),this.locked=0)}plantCrop(t){this.crop=t}tick(t){if(this.crop!=null){if(this.crop.growTimeValues[this.cropStage]<0)return;this.crop.growTimeValues[this.cropStage]<=this.age?this.growPlant(!1):this.age++}}interact(t){if(this.locked>0){this.attemptUnlock();return}this.crop==yr.Dirt&&(t==null?void 0:t.name)==="seeds"?this.plantSeed(t.subObj):(t==null?void 0:t.name)==="wateringCan"?this.addMineral("water",100):this.crop.harvestValues[this.cropStage]!=null&&this.startHarvest()}plantSeed(t){this.crop=t,this.age=0,this.cropStage=0,this.cropImage=null,this.cropImage=this.plantPool.spawn(this.image.x+32,this.image.y+5,t.textures),this.cropImage.setScale(2),this.cropImage.setVisible(!0)}startHarvest(){this.scene.currentAction=eN.HarvestAction.anotherOne(),this.scene.currentAction.target=this,this.scene.actionTimerBar.setX(this.image.x+30),this.scene.actionTimerBar.setY(this.image.y+30)}completeAction(){let t=this.crop.harvestValues[this.cropStage];t!=null&&(this.scene.addCurrency("butt",t),this.crop.regen>-1?(this.cropStage=this.crop.regen-1,this.growPlant(!0)):(this.cropImage!=null&&(this.cropImage.setFrame(0),this.plantPool.despawn(this.cropImage),this.cropImage.setVisible(!1)),this.crop=yr.Dirt))}growPlant(t){var E;let s=new Map,f=new Map,T=!1;for(const[n,C]of Object.entries(this.crop.consumption[this.cropStage]))this.minerals.get(n)==null&&this.minerals.set(n,parseInt("0")),C[0]==="-"?this.minerals.get(n)<parseInt(C.substring(1))?(console.log(`Defecit of ${n}, plant stalled.`),T=!0):s.set(n,parseInt(C.substring(1))):C[0]==="+"&&f.set(n,parseInt(C.substring(1)));T?console.log("Plant 'stalled'"):(s.forEach((n,C)=>{this.subMineral(C,n)}),f.forEach((n,C)=>{this.addMineral(C,n)}),this.updateText()),this.cropStage=this.cropStage+1,(E=this.cropImage)==null||E.setFrame(this.cropStage),this.age=0}updateText(){this.waterText.setText(`W:${this.minerals.get("water")}`),this.earthText.setText(`E:${this.minerals.get("earth")}`),this.fireText.setText(`F:${this.minerals.get("fire")}`),this.xpText.setText(`X:${this.minerals.get("xp")}`)}subMineral(t,s){this.minerals.set(t,this.minerals.get(t)-s)}addMineral(t,s){this.minerals.set(t,this.minerals.get(t)+s),this.updateText()}}class sN{constructor(){this.name="seeds",this.subObj=yr.Wheat}}class rN{constructor(){this.name="wateringCan"}}const ln={Seeds:new sN,WateringCan:new rN};class nN extends Oi.Scene{constructor(){super("Farm"),this.scoreText=null,this.plots=[],this.plantData=null,this.selectedTool=ln.Seeds,this.frameTime=0}preload(){this.load.image("logo","assets/phaser3-logo.png"),this.load.image("emptyPlot","assets/images/farming/dirtMound.png"),this.load.image("lock","assets/images/lock.png"),this.load.image("ball","assets/images/blue_ball.png"),this.load.image("wateringCan","assets/images/farming/tools/wateringCan.png"),this.load.image("seed","assets/images/farming/tools/seed.png"),this.load.spritesheet("wheat","assets/images/farming/plants/wheat.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("berryVine","assets/images/farming/plants/berryVine.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("loading","assets/images/loading_bars.png",{frameWidth:48,frameHeight:48}),this.load.scenePlugin("rexuiplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexuiplugin.min.js","rexUI","rexUI")}create(){var T,E;this.registry.events.on("changedata",this.updateData,this),this.registry.set("butt",0);var t={font:"24px Arial",fill:"#FFFFFF"};this.registry.set("butt",6e3),this.scoreText=this.add.text(100,10,"Food: "+this.registry.get("butt"),t),this.selectedToolText=this.add.text(200,500,"Selected Tool: "+this.selectedTool.name,t),this.currentActionText=this.add.text(200,540,"Current Action: "+this.currentAction,t),this.actionTimerBar=this.add.sprite(100,100,"loading",4),this.actionTimerBar.setDepth(3),this.actionTimerBar.setScale(.5),this.actionTimerBar.setVisible(!1),this.currentAction=null;let s=250,f=150;for(let n=0;n<5;n++)for(let C=0;C<5;C++){let e=n*5+C;this.plots.push(new iN("Plot"+n,this,s+n*62,f+C*62,e,e*100))}this.wateringCan=this.add.image(300,470,"wateringCan"),this.wateringCan.setScale(.05),this.wateringCan.setInteractive(),this.wateringCan.on("pointerdown",n=>{var C;this.selectedTool=ln.WateringCan,(C=this.selectedToolText)==null||C.setText(`Tool: ${this.selectedTool.name}`)}),this.seedTool=this.add.image(370,470,"seed"),this.seedTool.setScale(.5),this.seedTool.setInteractive(),this.seedTool.on("pointerdown",n=>{var C,e;this.selectedTool=ln.Seeds,this.selectedTool.subObj?(C=this.selectedToolText)==null||C.setText(`Selected Tool: ${this.selectedTool.name}: ${this.selectedTool.subObj.textures}`):(e=this.selectedToolText)==null||e.setText(`Selected Tool: ${this.selectedTool.name}`)}),this.input.on("pointerdown",n=>{}),this.keyOne=(T=this.input.keyboard)==null?void 0:T.addKey(Oi.Input.Keyboard.KeyCodes.ONE),this.keyTwo=(E=this.input.keyboard)==null?void 0:E.addKey(Oi.Input.Keyboard.KeyCodes.TWO)}getTool(){return this.selectedTool}update(t,s){var f,T,E,n;this.frameTime=+this.frameTime+ +s,(f=this.keyOne)!=null&&f.isDown&&(this.selectedTool=ln.Seeds,this.selectedTool.subObj=yr.BerryBush),(T=this.keyTwo)!=null&&T.isDown&&(this.selectedTool=ln.Seeds,this.selectedTool.subObj=yr.Wheat),+this.frameTime>60&&(this.frameTime=0,this.plots.forEach(C=>{C.locked||C.tick(t)}),this.currentAction!=null&&((E=this.currentActionText)==null||E.setText(`Current Action: ${this.currentAction.name}`),this.actionTimerBar.setVisible(!0),this.currentAction.currentTime++,this.currentAction.isFinished()?(this.currentAction.target.completeAction(),this.actionTimerBar.setVisible(!1),this.currentAction=null,(n=this.currentActionText)==null||n.setText("Current Action: None")):this.actionTimerBar.setFrame(Oi.Math.RoundTo(this.currentAction.getPercentage()*5,0)-1)))}addCurrency(t,s){this.registry.inc(t,s)}subCurrency(t,s){return this.registry.get(t)<s?!1:(this.registry.inc(t,s*-1),!0)}updateData(t,s,f){var T,E;s==="butt"?(T=this.scoreText)==null||T.setText("Food: "+f):s==="lives"&&((E=this.scoreText)==null||E.setText("Lives: "+f))}}new Oi.Game(Object.assign(Q7,{scene:[nN]}));
